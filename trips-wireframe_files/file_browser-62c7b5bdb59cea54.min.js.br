
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="4affa87d-d6f9-5dcd-a3fd-642ff8c32dc8")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7748],{620268:(e,t,a)=>{"use strict";a.d(t,{DD:()=>i,ME:()=>m,Nr:()=>n,Sl:()=>o,Ui:()=>r,h_:()=>s,pq:()=>l,qr:()=>d,t3:()=>c,uK:()=>_,vR:()=>u});let r="resource_cards--cardContainer--dagKQ",n="resource_cards--card--j2AeO",l="resource_cards--info--7v-s9",i="resource_cards--title--9uxRY text--fontPos16--oMC-G text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",s="resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",o="resource_cards--image--V7Y8-",c="resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",d="resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd",m="resource_cards--profile--YLut5",u="resource_cards--profileName--Uvden",_="resource_cards--attributes--9cUYC"},831949:(e,t,a)=>{"use strict";a.d(t,{$h:()=>m,D9:()=>o,Ev:()=>i,G:()=>_,OC:()=>d,Rc:()=>c,UH:()=>u,hV:()=>l,jQ:()=>n,tJ:()=>r,tx:()=>s});let r="metadata--metadataContainer--lqQo2 text--fontPos13--xW8hS text--_fontBase--QdLsd",n="metadata--licensing--0Rs3a",l="metadata--flagAsInappropriate--D5SPq",i="metadata--supportInfo--bQ8pM ellipsis--ellipsis--Tjyfa",s="metadata--shareLinkText--IDDPA",o="metadata--creatorPolicyModalContainer--ViWny",c="metadata--creatorPolicyButton---0Cls metadata--shareLinkText--IDDPA",d="metadata--creatorPolicyModalContents--IzL0k",m="metadata--creatorPolicyModalCreatorName--uXQp-",u="metadata--paymentInfoContainer--NiHuJ",_="metadata--infoIcon--LE6OB"},596049:(e,t,a)=>{"use strict";a.d(t,{RZ:()=>r,_q:()=>l,zC:()=>n});let r="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",l="comment_confirm_modals--blockContentText--6aU5U"},727475:(e,t,a)=>{"use strict";a.d(t,{_M:()=>o,bv:()=>l,cI:()=>r,nf:()=>n,q3:()=>i,zc:()=>s});let r="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",l="community_hub_banner--boldText--jhtS9",i="community_hub_banner--bannerIcon--GVQKO",s="community_hub_banner--iconContainer--Szb1y",o="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},791617:function(e){var t;t=function(){return function(e,t){var a=t.prototype,r=a.format;a.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return r.bind(this)(e);var n=this.$utils(),l=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return a.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return a.ordinal(t.week(),"W");case"w":case"ww":return n.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return n.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return n.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return r.bind(this)(l)}}},e.exports=t()},903442:(e,t,a)=>{"use strict";a.d(t,{H:()=>b});var r=a(411855),n=a(188507),l=a(840192),i=a(932271),s=a(396374),o=a(915717),c=a(963956),d=a(539703),m=a(297195),u=a(36615),_=a(470458),p=a(66202),g=a(562390),E=a(881772),f=a(149619),h=a(766099);if(443==a.j)var v=a(967063);function b(e){let t=(0,_.iZ)(),a=(0,u.sZ)(),b=(0,n.wA)(),[y,w]=r.useState(!0),T=e.resource,x=(0,g.uF)(T),C=(0,h.o)(x,a,"whiteboard");if(!y||!t||!(0,l.kc)().community_hub_admin_reviewer)return r.createElement(r.Fragment,null);function N(t){return"hub_file"===(0,c.Vm)(e.resource)}let k=N(e.resource)?r.createElement(i.Tx,{id:"community.duplicate.duplicate"}):r.createElement(i.Tx,{id:"community.detail_view.try_it_out"}),S={id:f.om.communityResourceInReviewBanner,bannerType:f.x1.INFO,icon:v.A,mainText:(0,i.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:r.createElement(i.Tx,{id:"community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"}),button:{buttonText:k,onClick:()=>{if(N(e.resource)){let t=s.M.onDuplicateHubFile(e=>{b((0,m.to)({type:o._,data:{payload:e}}))},{adminReviewerOverride:!0});b(t(e.resource))}else b(d.aI({resource:T,fullscreenEditorType:C,isPlaygroundFile:!!(x.playground_fig_file||"dev_handoff"===C)}))}},dismissible:!0,positionStatic:!0};return r.createElement(E.C,{content:S,editorType:p._Y.DESIGN,onDismiss:()=>w(!1)})}},592945:(e,t,a)=>{"use strict";a.d(t,{S:()=>S});var r=a(411855),n=a(188507),l=a(18084),i=a(683812),s=a(932271),o=a(276136),c=a(837364),d=a(297195),m=a(585356),u=a(562450),_=a(470458),p=a(66202),g=a(709198),E=a(198498),f=a(881772),h=a(434329),v=a(131923),b=a(149619),y=a(478398),w=a(971951),T=a(894513),x=a(10388),C=a(247866);function N({isLoading:e,text:t}){return r.createElement("span",{style:{position:"relative"}},e?r.createElement("div",{className:w.sl},r.createElement(v.kt,{shouldMatchTextColor:!0})):void 0,r.createElement("span",{style:{opacity:e?0:1}},t))}var k=a(219312);function S(e){let[t,a]=r.useState(!1),[v,w]=r.useState(!1),S=(0,n.wA)(),I=(0,n.d4)(e=>e.userFlags),A=(0,_.iZ)(),L=(0,u._6)(),[R,O]=r.useState(!1),F=v||e.isFirstTimeLoading,M="isFirstTimeLoading"in e;if(R&&!M||!A)return r.createElement(r.Fragment,null);let{stripe_account_status:D}=A;if(!D||D===g.P5.NONE)return r.createElement(r.Fragment,null);let P=D===g.P5.ACCEPTED||F?{userFlag:E.WE,bannerContent:function({isLoading:e,onClick:t,showCTA:a}){let n=r.createElement(h.CY,{className:y.$J,target:"_blank",href:"https://help.figma.com/hc/articles/12730712101783",trusted:!0},(0,s.t)("community.seller.how_does_it_work"));return{id:b.om.communityM10nApprovalBanner,bannerType:b.x1.INFO,mainText:(0,s.t)("community.seller.good_news"),icon:x.A,button:a?{buttonText:r.createElement(N,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:y.mj}:void 0,description:r.createElement(s.Tx,{id:"community.seller.youre_eligible_with_link",howDoesItWorkLink:n}),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{w(!0),S((0,d.to)({type:k.s,data:{setupStripeCallback:e=>{w(!1),e||S(i.s.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!M})}:D===g.P5.STARTED_ONBOARDING?{userFlag:E.BY,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nFinishSetupBanner,bannerType:b.x1.INFO,icon:T.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:y.mj}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{a(!0),S(c.j({callback:()=>a(!1),user:A,selectedView:L}))},showCTA:!M})}:D===g.P5.DISABLED?{userFlag:E.Q7,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nAdtlInfoNeededBanner,bannerType:b.x1.WARN,icon:C.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:y.mj}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{},showCTA:!M})}:void 0;if(!P)return r.createElement(r.Fragment,null);let{userFlag:B,bannerContent:U}=P,W=()=>{var e;null==(e=(0,o.ik)())||e(m.b({[B]:!0}))};return I[B]&&!M?r.createElement(r.Fragment,null):r.createElement(f.C,{containerClassName:M?y.hL:void 0,content:U,editorType:p._Y.DESIGN,onDismiss:()=>{W(),O(!0),(0,l.sx)("cmty_m10n_banner_dismissed",{userFlag:B})}})}},632958:(e,t,a)=>{"use strict";let r;a.d(t,{u:()=>K});var n=a(411855),l=a(188507),i=a(840192),s=a(592945),o=a(896449),c=a(932271),d=a(66202),m=a(769082),u=a(881772),_=a(149619),p=a(967063);function g(e){let{hasPublisherAdminAccess:t,resource:a}=e,r=(()=>{var e,r,l;if(t)return a.publishing_status===d.KB.DELISTED_CREATOR_STRIPE_DISABLED?n.createElement(c.Tx,{id:"community.resource.delisted_stripe_issues"}):(null==(e=null==a?void 0:a.monetized_resource_metadata)?void 0:e.is_subscription)?n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access__subscription"}):n.createElement(c.Tx,{id:"community.resource.delisted_prev_purchasers_can_still_access"});if(null==(r=null==a?void 0:a.community_resource_payment)?void 0:r.subscription_expires_at){let e=new Date(a.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_until",dateString:e})}return(null==(l=null==a?void 0:a.community_resource_payment)?void 0:l.status)===m.G3.SUCCEEDED?n.createElement(c.Tx,{id:"community.resource.delisted_you_ll_continue_to_have_access_to_it"}):n.createElement(c.Tx,{id:"community.resource.if_you_have_questions_reach_out_to_creator"})})(),l={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,c.t)("community.resource.delisted_title"),description:r,dismissible:!1,positionStatic:!0};return n.createElement(u.C,{content:l,editorType:d._Y.DESIGN,onDismiss:o.lQ})}var E=a(963956),f=a(470458);function h(e){if(!(0,f.iZ)())return n.createElement(n.Fragment,null);let t="hub_file"===(0,E.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,E.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,E.Vm)(e.resource)?(0,c.t)("community.seller.only_you_can_see_your_widget"):n.createElement(n.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,c.t)("community.seller.this_page_is_private"),description:t,dismissible:!1,positionStatic:!0};return n.createElement(u.C,{content:a,editorType:d._Y.DESIGN,onDismiss:o.lQ})}function v(e){if(!(0,f.iZ)())return n.createElement(n.Fragment,null);let t="hub_file"===(0,E.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,E.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,E.Vm)(e.resource)?(0,c.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):n.createElement(n.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,c.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:t,dismissible:!1,positionStatic:!0};return n.createElement(u.C,{content:a,editorType:d._Y.DESIGN,onDismiss:o.lQ})}var b=a(888221),y=a(359787),w=a(388461),T=a(773277),x=a(446024);let C=a(903442).H;function N(e){let t={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,c.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,c.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0};return n.createElement(u.C,{content:t,onDismiss:o.lQ})}var k=a(10345),S=a(718096),I=((r=I||{}).EDIT_THIS_PAGE="edit_this_page",r.OPEN_ORIGINAL_FILE="open_original_file",r.UNPUBLISH="unpublish",r.DELIST="delist",r.MANAGE_RESOURCE="manage_resource",r),A=a(421968),L=a(666925),R=a(709846),O=a(413599),F=a(354853),M=a(297195),D=a(298941),P=a(586654),B=a(411066),U=a(665805),W=a(338120),V=a(152422),G=a(66425),$=a(937152),j=a(482881),H=a(131413),q=a(109361);let z="MANAGE_RESOURCE_DROPDOWN_TYPE";function Y(e){var t;let{resource:a,fileKey:r}=e,i=(0,l.wA)(),s=n.useRef(null),m=(0,l.d4)((0,U.E)(z)),p=(0,l.d4)(e=>e.currentUserOrgId),g=(0,S.S)(),h=(0,E.U0)(a),v=(0,x.U)(e.resource)?V.e0.COMMUNITY_HUB_FILE:(0,x.xQ)(a)?V.e0.COMMUNITY_HUB_WIDGET:V.e0.COMMUNITY_HUB_PLUGIN,y=(0,f.iZ)();if(n.useEffect(()=>{(0,x.U)(e.resource)?i((0,A.ts)({hubFileId:e.resource.id})):i((0,L.af)({id:e.resource.id,resourceType:(0,x.I0)(e.resource)?x.bD.PLUGIN:x.bD.WIDGET}))},[i,e.resource,p]),!y)return null;let w=(0,x.m3)(a),T=[],C=(0,c.t)("community.resource.edit_this_page");if(T.push({displayText:C,callback:()=>{(0,x.U)(a)?((0,P.Cu)({name:I.EDIT_THIS_PAGE,hubFileId:a.id,isMonetized:w,text:C,trackingContext:V.e0.COMMUNITY_HUB_FILE,...g,has_carousel_media_nudge:h}),r&&i((0,R.t)({fileKey:r,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:W.k2.RESOURCE_PAGE,...g,canvasThumbnailPromise:(0,B.$2)(r,y)}))):((0,P.Cu)({pluginId:a.id,name:I.EDIT_THIS_PAGE,isMonetized:w,text:C,trackingContext:v,...g,has_carousel_media_nudge:h}),i((0,O.r)({publishedPluginId:a.id,entryPoint:W.k2.RESOURCE_PAGE})))}}),(0,x.U)(a)){let e=(0,c.t)("community.hub_files.open_original_file");if(T.push({displayText:e,callback:()=>{(0,P.Cu)({name:I.OPEN_ORIGINAL_FILE,hubFileId:a.id,isMonetized:w,text:e,trackingContext:V.e0.COMMUNITY_HUB_FILE,...g,has_carousel_media_nudge:h}),k.Ay.redirect(`/file/${r}`,"_blank")}}),!(0,b.Pg)(a)){T.push({displayText:"",disabled:!0,separator:!0});let e=(0,c.t)(w?"community.resource.delist":"community.resource.unpublish");T.push({displayText:e,callback:()=>{(0,P.Cu)({name:w?I.DELIST:I.UNPUBLISH,hubFileId:a.id,isMonetized:w,text:e,trackingContext:V.e0.COMMUNITY_HUB_FILE}),i((0,M.to)({type:H.I_,data:{confirmationTitle:w?(0,c.t)("community.hub_files.delist_file_from_community_hub"):(0,c.t)("community.hub_files.remove_file_from_community_hub"),content:w?(0,c.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,c.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:w?(0,c.t)("community.resource.delist"):(0,c.t)("community.resource.unpublish"),cancelText:(0,c.t)("general.cancel"),onConfirm:()=>{i((0,A.ax)({hubFileId:a.id,redirectLink:(0,G.bL)(a.publisher.profile_handle)}))},destructive:!0,dispatch:i}}))}})}}let N=n.createElement($.g,{ref:s,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{m||((0,P.Cu)({name:I.MANAGE_RESOURCE,resourceId:a.id,has_carousel_media_nudge:h,trackingContext:v,...g}),i((0,F.j7)({type:z})))},isShowingDropdown:!1},(0,c.t)("community.resource.manage_resource")),Y={id:_.om.CommunityResourceCreatorBanner,bannerType:_.x1.INFO,icon:q.A,iconSize:"large",mainText:(0,c.t)("community.resource.your_resource_is_live"),description:h?(0,x.U)(a)?(0,c.t)("community.resource.next_we_recommend_adding_more_images"):(0,x.xQ)(a)?(0,c.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,c.t)("community.plugins.widget")}):(0,c.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,c.t)("community.plugins.plugin")}):void 0,dismissible:!1,positionStatic:!0,button:{type:_.MA.CUSTOM,element:N}};return n.createElement(D.fu,{name:"RDP Creator Banner",properties:{name:"rdp_creator_banner",resourceId:a.id,resourceType:(0,E.Vm)(a),hasCarouselMediaNudge:h}},n.createElement(u.C,{content:Y,editorType:d._Y.DESIGN,onDismiss:o.lQ}),s.current&&m&&n.createElement(j.j,{dispatch:i,items:T,showPoint:!0,parentRect:null==(t=s.current)?void 0:t.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},minWidth:120}))}function K(e){var t;let{resource:a}=e,r=(0,l.d4)(e=>(0,w.MK)(e,a)),o=(0,l.d4)(e=>(0,x.U)(a)?(0,w.cN)(e,a,r):(0,w.Wd)(e,a)),c=(0,x.Uz)(a)?null==(t=a.fig_file_metadata)?void 0:t.key:null,d=T.M4.File.useValue(c),m=!!c&&!!d,u=(0,l.d4)(e=>(0,x.I0)(a)||(0,x.xQ)(a)?(0,y.A)(e,a):null);return(0,i.kc)().community_hub_admin&&(0,b.lT)(a)?n.createElement(N,{resource:a}):(0,i.kc)().community_hub_admin_reviewer&&(0,x.m3)(a)?n.createElement(C,{resource:a}):a.publishing_status?o&&(0,b.AC)(a)?n.createElement(h,{resource:a}):(0,b.Pg)(a)?n.createElement(g,{hasPublisherAdminAccess:o,resource:a}):o&&m?n.createElement(Y,{resource:a,fileKey:c}):o||(0,y.E3)(u)?n.createElement(Y,{resource:a}):n.createElement(s.S,null):n.createElement(v,{resource:a})}},727991:(e,t,a)=>{"use strict";a.d(t,{i:()=>P});var r=a(411855),n=a(188507),l=a(94626),i=a(152869),s=a(219143),o=a(636864),c=a(297195),d=a(586654),m=a(66202),u=a(993700),_=a(329734),p=a(953357),g=a(739401),E=a(342649),f=a(932271),h=a(629019),v=a.n(h);let b="lazy_input--lazyInput--uH0Ln";class y extends r.PureComponent{constructor(e){super(e),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)},this.onChange=e=>{this.procrastinate(),this.setState({value:e.target.value}),this.props.onChange(e)},this.state={value:this.props.value}}componentDidMount(){var e;this.props.autoFocus&&(null==(e=this.props.innerRef)?void 0:e.current)&&this.props.innerRef.current.focus()}UNSAFE_componentWillReceiveProps(e){this.updateIfNotLazy(e.value)}componentWillUnmount(){this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(e){this.procrastinating?this.setState({requestedValue:e}):this.state.value!==e&&this.setState({value:e,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let e={...this.props};return delete e.delay,delete e.innerRef,e.value=this.state.value,e.onChange&&(e.onChange=this.onChange),null==e.value&&(e.value=void 0),e.className?e.className=`${e.className} ${b}`:e.className=b,e}render(){return r.createElement("input",{...this.getProps(),ref:this.props.innerRef,dir:"auto"})}}y.displayName="LazyInput",y.defaultProps={type:"text",delay:1e3};let w=r.forwardRef((e,t)=>r.createElement(y,{...e,innerRef:t}));var T=a(3453);class x extends r.Component{constructor(){super(...arguments),this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e),27===e.keyCode&&e.target.blur()},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)}}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.dataTestId,this.props.onClick&&(e.onClick=this.onClick),r.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}x.displayName="ButtonBase";class C extends r.Component{render(){let{fullWidth:e,...t}=this.props;return r.createElement(x,{defaultClass:v()(T.xZ,e&&T.Ij),...t})}}C.displayName="ButtonPrimary";class N extends r.Component{render(){let e=this.props;return r.createElement(x,{defaultClass:T.HM,type:"button",...e})}}N.displayName="ButtonSecondary",r.forwardRef(function({className:e,...t},a){return r.createElement(w,{className:v()(T._Z,e),...t,ref:a})});class k extends r.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{9===e.keyCode&&this.setState({showFocus:!0})},this.documentMouseDown=()=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${T.kv} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${T.hP}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let e=this.props.classOverride||this.classNameForInput(),t={...this.props,className:e};return delete t.classOverride,r.createElement("input",{type:"checkbox",onFocus:this.onFocus,...t})}}k.displayName="Checkbox";var S=a(961958),I=a(131413);let A=(0,S.Ju)(function(e){return r.createElement(I.aF,{title:r.createElement("div",{className:"feature_not_available_modal--title--kPAVe text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"community.collections.this_feature_isnt_available"})),className:"feature_not_available_modal--modalContainer--Etu7A",dispatch:e.dispatch},r.createElement(E.s_,{dispatch:e.dispatch}),r.createElement("div",{className:"feature_not_available_modal--modalBody--Dhwo0 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"community.collections.this_feature_isnt_available_body"})," ",r.createElement("a",{className:"feature_not_available_modal--learnMore--L4kDU modal--blueLink--9GcJu blue_link--blueLink--9rlnd",target:"_blank",href:"https://help.figma.com/hc/en-us/articles/17725942479127-Access-or-opt-out-of-AI-features"},r.createElement(f.Tx,{id:"community.collections.learn_more"}))),r.createElement("div",{className:"feature_not_available_modal--buttonContainer--9-Zwv"},r.createElement(C,{onClick:()=>{e.dispatch(c.Ce())}},r.createElement(f.Tx,{id:"general.got_it"}))))}," FeatureNotAvailableModal"),L=(0,S.Ju)(function(e){return r.createElement(I.aF,{dispatch:e.dispatch,className:"head_to_desktop_modal--modalContainer--BRiSA"},r.createElement(E.s_,{dispatch:e.dispatch}),r.createElement("img",{width:"100%",alt:(0,f.t)("community.collections.head_to_desktop"),src:"https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c"}),r.createElement("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd"},r.createElement(f.Tx,{id:"rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"})),r.createElement("p",null,r.createElement(f.Tx,{id:"community.collections.head_to_desktop"})),r.createElement("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(c.Ce())}},r.createElement(f.Tx,{id:"general.got_it"}))))}," HeadToDesktopModal");var R=a(995733),O=a(85880),F=a(152462),M=a(620268);function D({title:e,description:t,imageUrl:a,onClick:n}){let i=(0,l.o4)();return r.createElement("div",{className:v()(M.Ui,"figjam_ai_card--cardContainer--kCDdk"),"data-testid":"collection-figjam-ai-card"},r.createElement("div",{className:v()(M.Nr,"figjam_ai_card--card--KTu46")},i?r.createElement("div",{className:"figjam_ai_card--mobileOverlay--EhOsZ"},r.createElement("button",{className:v()("figjam_ai_card--invisibleButton--LuV4E"),onClick:n})):r.createElement("div",{className:"figjam_ai_card--overlayContainer--dDIiY"},r.createElement("div",{className:"figjam_ai_card--overlay--g6q4O"}),r.createElement("button",{className:v()("figjam_ai_card--ctaButton--wveh5",F.jx,F.tt,F.hh),onClick:n},r.createElement(f.Tx,{id:"community.collections.generate"}))),r.createElement(O.tL,{title:e,description:t}),r.createElement(R.c,{srcSet:"",src:a,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:e,className:v()(M.Sl,"figjam_ai_card--image--L-R2C"),imageProps:{onLoad:e=>e.currentTarget.style.opacity="1"}})))}function P({title:e,description:t,imageUrl:a,prompt:E,promptCategory:f}){let h=(0,n.wA)(),v=(0,_.Bq)(),b=(0,l.o4)(),y=(0,g.yT)(),w=(e,t)=>{h(o.zE({state:v,from:u.f6.COMMUNITY_COLLECTIONS_PAGE,editorType:m._Y.WHITEBOARD,team:void 0,openNewFileIn:u.ai.NEW_TAB,figjamAiNewFileData:{prompt:e,subtitle:e,useCaseCategory:t,entrypoint:p.fV.COMMUNITY}}))};return r.createElement(D,{onClick:()=>{(0,d.Cu)({name:"community_collections_figjam_ai",prompt:E,title:e,description:t,promptCategory:f,isMobile:`${b}`}),b?h((0,c.to)({type:L,data:{dispatch:h}})):y?h((0,c.to)({type:A,data:{dispatch:h}})):Object.values(p.es).includes(f)?w(E,f):(0,i.$D)(s.e.COMMUNITY,Error(`Invalid use case category (${f}) for figjam ai card: ${e}`))},title:e,description:t,imageUrl:a})}},85880:(e,t,a)=>{"use strict";a.d(t,{rS:()=>g,tL:()=>v});var r=a(411855);if(443==a.j)var n=a(896449);var l=a(995733),i=a(932271),s=a(327854),o=a(7228),c=a(97429),d=a(840093),m=a(963956),u=a(298941),_=a(446024),p=a(620268);function g({resource:e,title:t,description:a}){switch((0,m.Vm)(e)){case _.vt.HUB_FILE:return r.createElement(E,{hubFile:e,title:t,description:a,key:e.id});case _.vt.WIDGET:return r.createElement(f,{widget:e,title:t,description:a,key:e.id});case _.vt.PLUGIN:return r.createElement(h,{plugin:e,title:t,description:a,key:e.id});default:return null}}function E({hubFile:e,title:t,description:a}){let l=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:i},target:"_blank"},r.createElement(v,{title:t??l.name,description:a??l.description}),r.createElement(s.Xy,{className:p.Sl,image:e.thumbnail_url,hubFileId:e.id,onLoad:n.lQ,alt:l.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),r.createElement(b,{resource:e}))}function f({widget:e,title:t,description:a}){let n=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:i},target:"_blank"},r.createElement(v,{title:t??n.name,description:a??n.description}),r.createElement(l.c,{srcSet:"",src:n.redirect_snapshot_url||n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:p.Sl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),r.createElement(b,{resource:e}))}function h({plugin:e,title:t,description:a}){let n=(0,m.qD)(e),i=(0,m._t)({resource:e});return r.createElement("div",{className:p.Ui,"data-testid":"collection-resource-card"},r.createElement(u.L0,{className:p.Nr,href:i,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:i},target:"_blank"},r.createElement(l.c,{srcSet:"",src:n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:p.t3,imageProps:{onLoad:e=>e.target.style.opacity="1"}}),r.createElement(v,{title:t??n.name,description:a??n.description})),r.createElement(b,{resource:e}))}function v({title:e,description:t}){return r.createElement("div",{className:p.pq},r.createElement("div",{className:p.DD},e),r.createElement("div",{className:p.h_},r.createElement(d._,{description:t})))}function b({resource:e}){var t,a;return r.createElement("div",{className:p.qr},r.createElement("div",{className:p.ME},r.createElement(c.Lf,{publishers:(null==(t=e.community_publishers)?void 0:t.accepted)||[]}),r.createElement("div",{className:p.vR},r.createElement(i.Tx,{id:"community.cards.by"}),r.createElement(c.Iq,{publishers:(null==(a=e.community_publishers)?void 0:a.accepted)||[],removeByLabel:!0,openInNewTab:!0}))),r.createElement("div",{className:p.uK},r.createElement(o.cz,{resource:e,currentUserLiked:!1}),r.createElement(o.i8,{resource:e})))}},206728:(e,t,a)=>{"use strict";let r;a.d(t,{X:()=>eF});var n=a(411855),l=a(188507),i=a(795095),s=a(388461),o=a(217238),c=a(470458),d=a(18084),m=a(716649),u=a(131923);function _(e){let t=n.useRef(null);return n.useEffect(()=>{let a=()=>{var a;window.innerHeight<((null==(a=t.current)?void 0:a.getBoundingClientRect().bottom)||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]),n.createElement("div",{ref:t},e.children,e.showLoader&&n.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},n.createElement(u.kt,null)))}function p(e){let{onScrollToBottom:t,children:a,showLoader:r}=e;return n.createElement(_,{onScrollToBottom:t,children:a,showLoader:r})}p.displayName="WithInfiniteScroll";var g=a(651820),E=a(95706),f=a(932271),h=a(718096),v=a(963956),b=a(479424),y=a(844415),w=a(110701),T=a(587965),x=a(411066),C=a(446024),N=a(193963),k=a(354853),S=a(154628),I=a(34260),A=a(715917),L=a(482881);let R="comments_view--loader--tz-FD",O="comments-sort-dropdown",F="SHOW_RESOLVED",M=function({labelClassName:e,includeShowResolved:t,isLoggedIn:a}){var r;let i=(0,l.wA)(),s=(0,I.U)(),o=(0,l.d4)(e=>e.communityHub.comments.activeFeedType),c=(0,l.d4)(e=>e.communityHub.comments.showResolved),m=n.useRef(null),[u,_]=n.useState(null),p=(null==s?void 0:s.type)===O,g={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},E=e=>{switch(e){case g.ALL:return(0,f.t)("community.comments.all");case g.ME:return(0,f.t)("community.comments.your_comments");case g.COMMENTS:return(0,f.t)("community.comments.comments_only");case g.RATINGS_REVIEWS:return(0,f.t)("community.comments.reviews_only");default:return""}},h=null==(r=null==s?void 0:s.data)?void 0:r.targetRect;n.useEffect(()=>{h&&_(h)},[h]);let v=Object.keys(g).filter(e=>a||e!==C.Qv.ME).filter(e=>e!==C.Qv.RATINGS_REVIEWS&&e!==C.Qv.COMMENTS).map(e=>({displayText:E(g[e]),name:e,isChecked:e===o}));return t&&(v.push({displayText:"",separator:!0,name:void 0}),v.push({displayText:(0,f.t)("community.comments.show_resolved"),isChecked:c,name:F})),n.createElement("div",null,n.createElement("div",{onClick:e=>{e.stopPropagation();let t=m.current;p?i(k.oB()):t&&(_(t.getBoundingClientRect()),i(k.j7({type:O})))},className:e||"comments_view--commentsSortLabel--mpkGD"},E(g[o]),n.createElement(A.c,{className:"comments_view--commentsSortChevron--989-q",dispatch:i,dropdownKey:O,showingDropdown:p,divRef:m,toggleOnClick:!0})),p&&u&&n.createElement(L.j,{dispatch:i,items:v,parentRect:u,onSelectItem:e=>{(0,d.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===F?i(S.mH(!c)):i(w.Zj(e.name)))},minWidth:164,showPoint:!0}))};var D=a(629019),P=a.n(D),B=a(4681),U=a(579116),W=a(786629);function V(){return n.createElement(W.Ex,{text:(0,f.t)("community.comments.creator"),color:W.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var G=a(665430);let $="comment_tile--commentContainerFadeOut--AMWrR",j="comment_tile--nextSiblingCommentReset--4shUj",H="comment_tile--iconButton--MZmz1";function q(e){return document.querySelector(`[data-comment-id="${e}"]`)}let z={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let a=q(e);if(!a)return;let r=a.getBoundingClientRect();a.classList.add($);let n=a.nextSibling;return n&&(n.style.marginTop=`-${r.height-1}px`),await new Promise(e=>setTimeout(e,z.ANIMATION_LENGTH)),t.resetNextComment&&z.resetNextComment(null==n?void 0:n.dataset.commentId),null==n?void 0:n.dataset.commentId},resetNextComment:e=>{let t=e&&q(e);t&&(t.classList.add(j),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(j),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove($);let a=t.nextSibling;a&&(a.style.marginTop="0px")},ANIMATION_LENGTH:400};var Y=a(655195),K=a(17540),J=a(66501),Z=a(428488),Q=a(205676),X=a(297195),ee=a(813921),et=a(991780),ea=a(253813),er=a(498646),en=a(434329),el=a(969062),ei=a(961958),es=a(131413),eo=a(596049);let ec=(0,ei.Ju)(function(e){let t=(0,l.wA)(),a=e.reportType===o.nI.REPORT_AND_HIDE,r=a?(0,f.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,f.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),i=n.createElement("p",{className:eo.zC},a?(0,f.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,f.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,f.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",n.createElement(f.Tx,{id:"community.comments.please_read_our_link_before_reporting",link:n.createElement(en.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0},n.createElement(f.Tx,{id:"community.community_guidelines"}))}));return n.createElement(es.Rw,{confirmationTitle:r,confirmText:(0,f.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),dispatch:t,destructive:!0},n.createElement("div",{className:eo.RZ,"data-testid":"comment-confirm-report-modal-content"},n.createElement(el.H8,{user:e.comment.author,size:el.Pf.LARGE}),i))},"CommentConfirmReportModal");var ed=((r=ed||{}).COPY_LINK="Copy link",r.EDIT="Edit",r.DELETE="Delete",r.DELETE_THREAD="Delete thread",r.FOLLOW_PROFILE="Follow",r.UNFOLLOW_PROFILE="Unfollow",r.BLOCK_PROFILE_COMMENTING="Restrict user's comments",r.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",r.REPORT_COMMENT="Report",r.REPLY="Reply",r);function em(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,f.t)("community.comments.copy_link");case"Edit":return(0,f.t)("community.comments.edit");case"Delete":return(0,f.t)("community.comments.delete");case"Delete thread":return(0,f.t)("community.comments.delete_thread");case"Follow":return(0,f.t)("community.follow.follow");case"Unfollow":return(0,f.t)("community.follow.unfollow");case"Restrict user's comments":return(0,f.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,f.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,f.t)("community.comments.report_comment");case"Reply":return(0,f.t)("community.comments.reply")}}(e)}}let eu=(0,l.Ng)(e=>({resourcePagePath:(0,ee.Np)(e,e.selectedView)}))(function(e){let t=(0,l.wA)(),a=(0,c.iZ)(),r=()=>{var t;null==(t=e.onEdit)||t.call(e)},i=()=>{e.onDelete&&t((0,X.to)({type:ea.h,data:{onConfirm:()=>e.onDelete()}}))},s=()=>{t(Q.lW({stringToCopy:(0,et.tE)(e.resourcePagePath,e.comment.id)}))},m=(r,n)=>{t(w._8({blockedProfileId:n,profileId:r,onSuccess:()=>{t(S.BV({authorId:n,removeCommentsCallback:async e=>{e.map(e=>z.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,z.ANIMATION_LENGTH))}})),t(Z.F.enqueue({message:(0,f.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,d.sx)("comment_profile_restricted",{restricted_by_profile_id:null==a?void 0:a.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},u=(a,r)=>{t(w.dL({blockedProfileId:r,profileId:a,onSuccess:()=>{t(Z.F.enqueue({message:(0,f.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,f.t)("community.comments.undo"),action:()=>{m(a,r)}}})),(0,d.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:a,unrestricted_profile_id:r,comment_id:e.comment.id,entry_point:"comment"})}}))},_=()=>{var a;let{profileIdToAdminResourceAs:r}=e,n=null==(a=e.comment)?void 0:a.author.id;r&&n&&t((0,X.to)({type:er.H,data:{onBlock:()=>m(r,n),confirmationTitle:(0,f.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,f.t)("community.comments.remove_and_restrict")}}))},p=e=>{t(w.e6(e))},g=e=>{t(w.X2(e))},E=async a=>{let r=await z.fadeOut(a);t(S.eG({commentId:a,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?z.fadeIn(a):r&&z.resetNextComment(r)}}))},h=e=>{t((0,X.to)({type:ec,data:{comment:e,reportType:o.nI.REPORT_AND_HIDE,onReport:E}}))},v=e=>{t((0,X.to)({type:ec,data:{comment:e,reportType:o.nI.REPORT,onReport:E}}))};return n.createElement(L.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,a)=>{var n;"Edit"===t.name?r():"Delete"===t.name||"Delete thread"===t.name?i():"Copy link"===t.name?s():"Follow"===t.name&&e.comment.author.id?p(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?g(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?_():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?u(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?h(e.comment):v(e.comment):"Reply"===t.name&&(null==(n=e.onReply)||n.call(e))},minWidth:96,dataTestId:"comment-menu"})});function e_(e){let t=[em(ed.EDIT),em(e.isThreadParent?ed.DELETE_THREAD:ed.DELETE)];return e.hideCopyLink||t.push(em(ed.COPY_LINK)),n.createElement(eu,{comment:e.comment,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete})}function ep(e){let t=[];return e.canReplyToComment&&t.push(em(ed.REPLY)),e.hideCopyLink||t.push(em(ed.COPY_LINK)),t.push(em(e.author.is_restricted_by_current_user?ed.UNBLOCK_PROFILE_COMMENTING:ed.BLOCK_PROFILE_COMMENTING)),t.push(em(ed.REPORT_COMMENT)),n.createElement(eu,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,comment:e.comment,parentRect:e.parentRect,items:t,onDelete:e.onDelete,onReply:e.onReply,userIsAdmin:!0})}function eg(e){let t=[];return e.userExists&&t.push(em(ed.REPORT_COMMENT)),e.hideCopyLink||t.unshift(em(ed.COPY_LINK)),n.createElement(eu,{comment:e.comment,parentRect:e.parentRect,items:t})}function eE(e){var t;let a=(0,c.iZ)(),r=(0,l.d4)(e=>e.authedActiveCommunityProfile),s=(0,l.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,l.d4)(e=>e.communityHub.comments.authorsById[s.author.id]),m=(t=o.ej.COMMUNITY,!!a&&t===o.ej.COMMUNITY&&!(0,i.cs)(r)&&s.author.profile_handle===a.community_profile_handle),u=(null==r?void 0:r.id)===e.profileIdToAdminResourceAs;return m?n.createElement(e_,{comment:s,parentRect:e.parentRect,onEdit:()=>e.onEdit(s),onDelete:()=>e.onDelete(s),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent}):e.profileIdToAdminResourceAs&&u?n.createElement(ep,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,author:d,comment:s,parentRect:e.parentRect,onDelete:e.onDelete,hideCopyLink:e.hideCopyLink,canReplyToComment:!!e.onReply,onReply:()=>{var t;return null==(t=e.onReply)?void 0:t.call(e,s)}}):n.createElement(eg,{comment:s,parentRect:e.parentRect,userExists:!!a,hideCopyLink:e.hideCopyLink})}var ef=a(5513);let eh=(0,ef.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(338),a.e(1398),a.e(1876),a.e(6316),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(8410)]).then(a.bind(a,20078))).CreateCommentComposer})}),ev=(0,ef.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(338),a.e(1398),a.e(1876),a.e(6316),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(8410)]).then(a.bind(a,407387))).EditCommentComposer})}),eb=(0,ef.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(338),a.e(1398),a.e(1876),a.e(6316),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(8410)]).then(a.bind(a,360475))).ReplyCommentComposer})});(0,ef.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(338),a.e(1398),a.e(1876),a.e(6316),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(6739),a.e(7481),a.e(8410)]).then(a.bind(a,20078))).CommentEditableTypeahead})});var ey=a(95779),ew=a(210105);function eT(e){let{comment:t,author:a,userIsAuthor:r,isAuthorAcceptedPublisher:i}=e,[s,c]=n.useState(!1),m=n.useRef(null),u=(0,l.d4)(e=>e.dropdownShown),_=(0,l.wA)(),[p,g]=n.useState(!1),[E,v]=n.useState(null),b=n.useCallback(()=>{(null==u?void 0:u.type)===o.Ng&&_(k.oB())},[u,_]);n.useEffect(()=>(window.addEventListener("scroll",b,!1),()=>{window.removeEventListener("scroll",b,!1)}),[b]);let y=(0,h.S)(),w={};if(y&&(w.searchSessionId=y.searchSessionId),!t||!a)return n.createElement(n.Fragment,null);let T=async()=>{let a=await z.fadeOut(t.id);_(S.Tu({commentId:t.id,commentType:e.commentType,onFinish:e=>{e?z.fadeIn(t.id):z.resetNextComment(a)}}))},x=e=>{e.preventDefault(),e.stopPropagation(),_(k.$T({view:"communityHub",subView:"handle",handle:a.profile_handle}))};if(p)return n.createElement(ev,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,d.sx)(N.E,{commentId:null==t?void 0:t.id,message:null==t?void 0:t.message,userId:a.primary_user_id,profileId:a.id,resourceType:e.resourceType,resourceId:e.resourceId,...w},{forwardToDatadog:!0}),g(!1)}});let C=e.selected&&!e.isCreatorReply,I=t.reply_count,A=!!(u&&u.type===o.Ng&&u.data.commentId===t.id),L=!!t.hidden_at&&!r,R=`/@${a.profile_handle}`;return n.createElement("div",{className:P()(C?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0},n.createElement("a",{className:"comment_tile--commentAvatarContainer--e8z35",onClick:x,href:R},n.createElement(K.Ro,{entity:a,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--qcys- community_hub_view--creatorInsetBorderNoHover--OWBJS"})),n.createElement("div",{className:e.hideSeparator||C?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2"},n.createElement("div",{className:"comment_tile--commentContent--QUN--"},n.createElement("div",{className:"comment_tile--commentMetaAndOptions--Avk6k"},n.createElement("div",null,n.createElement("a",{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",onClick:x,href:R},n.createElement("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.name),n.createElement("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},`@${a.profile_handle}`)),i&&n.createElement(V,null),n.createElement("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd"},"\xb7"),n.createElement(B.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})),n.createElement("div",{className:"comment_tile--commentOptions--hNQQM"},L&&n.createElement(U.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:ew.A}),n.createElement("div",{className:H},n.createElement(Y.K0,{svg:ey.A,ref:m,onClick:e=>{let a=m.current;u?b():a&&(v(a.getBoundingClientRect()),_(k.j7({type:o.Ng,data:{commentId:t.id}}))),e.stopPropagation()},className:A?"comment_tile--iconButtonSelected--CaL6y raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":H,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,f.t)("community.comments.comment_actions")})))),n.createElement("div",{className:L?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(J.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})),s&&n.createElement("div",{className:"comment_tile--replyComposerContainer--Cfzby"},n.createElement(eb,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>c(!1),onComplete:()=>c(!1)})))),A&&E&&n.createElement(eE,{parentRect:E,comment:t,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{g(!0)},onDelete:T,hideCopyLink:!!t.parent_id,isThreadParent:I>0,onReply:0===t.reply_count?()=>{c(!0)}:void 0}))}let ex=(0,l.Ng)((e,t)=>{var a,r;let{comments:n}=e.communityHub,l=n.commentsById[t.id],i=t.replyId?n.commentsById[t.replyId]:void 0;if(!l)return{user:e.user||null};let s=n.authorsById[l.author.id],o=n&&n.selectedCommentId===l.id,c=i?n.authorsById[i.author.id]:void 0;return{user:e.user||null,comment:l,creatorReply:i,replyAuthor:c,author:s,userIsResponder:(null==c?void 0:c.id)===(null==(a=e.user)?void 0:a.community_profile_id),userIsAuthor:s.id===(null==(r=e.user)?void 0:r.community_profile_id),selected:o}})(function(e){return n.createElement(n.Fragment,null,n.createElement(eT,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&n.createElement(eT,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function eC(){return n.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}ex.displayName="CommentTile";let eN="comments_list--emptyStateWrapper--utBdd",ek="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd";function eS(e){var t;let a=(0,l.d4)(e=>e.communityHub.comments.commentsById),r=(0,l.d4)(e=>e.communityHub.comments.showResolved),c=(0,l.d4)(e=>(0,i.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:d,replies:m}=function(e,t){let a=[],r={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?r[n]=e:n||a.push(e)}}),{parentCommentIds:a,replies:r}}(e.comments,a),u=r?d:d.reduce((e,t)=>{var r;return(null==(r=a[t])?void 0:r.resolved_at)||e.push(t),e},[]),_=(0,v.Vm)(e.resource);if(0===u.length&&!e.hasSelectedComment&&e.resource.comments_setting!==o.Ni.ALL_DISABLED)return n.createElement(eI,{isTeamOrOrgProfileActive:c});let p=[];if((_===C.vt.PLUGIN||_===C.vt.WIDGET)&&(null==(t=e.resource)?void 0:t.versions)&&e.resource.current_plugin_version_id){let t=e.resource,r=t.versions[t.current_plugin_version_id].id;u.forEach(l=>{let i=a[l],o=null==i?void 0:i.resource_version_id,c=t.versions[o];if(o&&c){if(o!==r){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=o===r&&c?void 0:`Version ${c.version} \xb7 ${e}`,a=p.pop();a&&p.push(n.cloneElement(a,{hideSeparator:!0})),p.push(n.createElement("div",{key:`divider-${o}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),r=o}p.push(n.createElement(ex,{key:l,id:l,replyId:m[l],isAuthorAcceptedPublisher:(0,s.PR)(i,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else p=u.map(t=>{let r=a[t];return n.createElement(ex,{key:t,id:t,replyId:m[t],isAuthorAcceptedPublisher:(0,s.PR)(r,e.resource),commentType:e.commentType,resourceType:_,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return n.createElement(n.Fragment,null,p)}function eI({isTeamOrOrgProfileActive:e}){return e?n.createElement("div",{className:eN},n.createElement(eC,null),n.createElement("div",{className:ek},n.createElement(f.Tx,{id:"community.comments.to_comment_switch_to_your_personal_profile"}))):n.createElement("div",{className:eN},n.createElement(eC,null),n.createElement("div",{className:ek},n.createElement(f.Tx,{id:"community.comments.your_kudos_and_feedback_are_welcome"})),n.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(f.Tx,{id:"community.comments.share_your_thoughts_using_the_comment_box_above"}),n.createElement("br",null)))}var eA=a(939934);function eL(e){let t=(0,l.wA)(),a=e.className?e.className:e.isShowing?"new_comments_toast--newCommentsToast--LpAPa text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L":"new_comments_toast--newCommentsToastHidden--QFXlr new_comments_toast--newCommentsToast--LpAPa text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L";return n.createElement("div",{className:a},n.createElement("div",{className:"new_comments_toast--text--yQ1Nw"},n.createElement(f.Tx,{id:"community.comments.new_comments"})),n.createElement("div",{className:"new_comments_toast--cta---bSfb",onClick:a=>{a.stopPropagation(),t(eA.UU()),t(w._F()),e.onRefresh()}},n.createElement(f.Tx,{id:"community.comments.refresh"})))}let eR=!1;function eO(e){var t;let a;let r=(0,l.wA)(),s=(0,c.iZ)(),[o,u]=(0,n.useState)(!1),[_,k]=(0,n.useState)(!1),S=(0,b.o5)({isLoggedOut:!1}),[I,A]=(0,n.useState)(!0),L=n.useRef(null),O=(0,l.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,x.t0)(e.selectedView.fullscreenState)),F=(0,l.d4)(e=>e.communityHub.comments.activeFeedType),D=(0,l.d4)(e=>e.communityHub.comments.newCommentsQueue),P=(0,l.d4)(e=>e.communityHub.comments.feeds),{feed:B,pagination:U}=n.useMemo(()=>P[F]||{feed:[]},[P,F]),W=(0,l.d4)(e=>e.communityHub.comments.selectedCommentId),V=(0,l.d4)(e=>e.selectedView.commentThreadId),G=(0,l.d4)(e=>{var t;return!!(null==(t=e.user)?void 0:t.community_profile_id)}),$=W||V,j=F===C.Qv.ALL?e.numCommentsForResource:null==(t=P[F])?void 0:t.totalNumberOfComments,{resource:H}=e,q=(0,v.Vm)(H),z=D.length>0,Y=()=>{if(eR)return;eR=!0,u(!0);let e={resourceId:H.id,resourceType:q,selectedCommentId:$,pagination:U,activeFeedType:F,numCommentsForResource:j,pageSizeOverride:S()?T.zn:T.VK};r(w.p4({...e,onSuccess:e=>{r(w.vr(e)),eR=!1,u(!1)},onError:()=>{eR=!1,u(!1)}}))},K=void 0===U&&(0,i.e5)(H);n.useEffect(()=>{K&&Y()},[F,K]);let J=!!U,Z=null==U?void 0:U.selected_comment;n.useEffect(()=>{I&&Z&&(L.current&&window.scroll({left:0,top:L.current.offsetTop-36,behavior:"smooth"}),A(!1))},[I,Z]),n.useEffect(()=>{r(w.cO())},[H.id]);let Q=()=>J&&(0,m.u9)({pagination:U})&&Y(),X=B.filter(e=>{var t;return e!==(null==(t=null==U?void 0:U.selected_comment)?void 0:t.id)});(null==U?void 0:U.selected_comment)&&X.unshift(null==U?void 0:U.selected_comment.id);let ee=(0,h.S)(),et={};return(ee&&(et.searchSessionId=ee.searchSessionId),(0,i.e5)(H))?n.createElement(n.Fragment,null,n.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:L},!e.commentingIsRestricted&&n.createElement(eh,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:q,resourceId:H.id,onSuccessCallback:e=>{(0,d.sx)(N.d,{commentId:null==e?void 0:e.id,message:null==e?void 0:e.message,userId:null==s?void 0:s.id,profileId:null==s?void 0:s.community_profile_id,resourceType:q,resourceId:H.id,...et})}}),n.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(a=j||0,(0,f.t)("community.comments.pluralize_comments",{numComments:a}))),!O&&!e.commentingIsRestricted&&n.createElement(M,{includeShowResolved:!1,isLoggedIn:G})),n.createElement(E.a,{onIntersectionChange:e=>{_||(k(!0),(0,d.sx)("Community Comments Section Impressed",{resourceType:q,resourceId:H.id}))}}),n.createElement(y.hJ,null,n.createElement(g.x,{isLoading:void 0===U,className:R},()=>n.createElement(p,{onScrollToBottom:Q,showLoader:o&&(0,m.u9)({pagination:U})},n.createElement(eS,{comments:X,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!(null==U?void 0:U.selected_comment)})))),n.createElement(y.XY,null,n.createElement(g.x,{isLoading:void 0===U,className:R},()=>n.createElement(n.Fragment,null,n.createElement(eS,{comments:X,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,m.u9)({pagination:U})&&n.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:Q},n.createElement(f.Tx,{id:"community.comments.load_more_comments"})))))),n.createElement("div",{className:"comments_view--notifications--ZuAh9"},n.createElement(eL,{onRefresh:()=>{var e;let t=null==(e=L.current)?void 0:e.offsetTop;t&&window.scrollY>t&&window.scroll({top:t,left:0,behavior:"smooth"})},isShowing:z}))):null}function eF({resource:e}){var t;let a=(0,c.iZ)(),r=(0,l.d4)(t=>(0,s.MK)(t,e))>=s.Cw.ADMIN&&((null==(t=(0,i.cV)(e))?void 0:t.id)||(null==a?void 0:a.community_profile_id))||null,d=(0,l.d4)(e=>e.authedActiveCommunityProfile);return n.createElement(eO,{commentType:o.ej.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:r,commentingIsRestricted:!(0,i.LI)(a,e)||(0,i.cs)(d)})}},991119:(e,t,a)=>{"use strict";a.d(t,{s:()=>g});var r=a(411855),n=a(188507),l=a(932271),i=a(915717),s=a(963956),o=a(297195),c=a(586654),d=a(795095),m=a(470458),u=a(446024),_=a(665430),p=a(725356);function g({resource:e,viewContext:t}){let a=(0,n.wA)(),g=(0,m.iZ)(),E=Object.values((0,n.d4)(e=>(0,d.Tm)(e))).filter(t=>(0,u.I0)(e)&&t.plugins_whitelist_enforced||(0,u.xQ)(e)&&t.widgets_whitelist_enforced),f=(e,t)=>{a((0,o.to)({type:p.WR,data:{extensionId:e.id,orgId:t,extensionType:(0,u.I0)(e)?"plugin":"widget",isAllowed:!1,source:"community"}}))};return r.createElement("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,c.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,s.Vm)(e),allowlistOrgs:E.length},"approve-button-clicked"),1===E.length){f(e,E[0].id);return}if(!g)return;let r=E.map(e=>({orgId:e.id,workspaceName:e.name,user:g,userId:(null==g?void 0:g.id)||""}));a((0,o.to)({type:i._,data:{payload:{extension:e,workspaces:r,onSelectWorkspace:t=>{f(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":_.Ib.TEXT},r.createElement(l.Tx,{id:"community.plugins.approve_ellipsis"}))}},229113:(e,t,a)=>{"use strict";let r;a.d(t,{F:()=>c,x:()=>d});var n=a(411855),l=a(434329),i=a(932271),s=a(831949),o=((r=o||{}).FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",r.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",r.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",r.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",r.APPLE_RESOURCE_LICENSE="https://developer.apple.com/apple-design-resources-license/",r);function c({isMonetizedResource:e,isHubFile:t,isAppleResource:a,isFigmaResource:r}){return r?null:n.createElement("div",{className:s.jQ},n.createElement(i.Tx,{id:"community.detail_view.licensed_under_license_type",licenseType:n.createElement(d,{isMonetizedResource:e,isHubFile:t,isAppleResource:a})}))}function d({isMonetizedResource:e,isHubFile:t,isAppleResource:a}){let r={"https://creativecommons.org/licenses/by/4.0/":"CC BY 4.0","https://www.figma.com/community-resource-license/":(0,i.t)("community.detail_view.plugin_license"),"https://www.figma.com/community-free-resource-license/":(0,i.t)("community.detail_view.free_plugin_license"),"https://www.figma.com/community-paid-resource-license/":(0,i.t)("community.detail_view.paid_resource_license"),"https://developer.apple.com/apple-design-resources-license/":(0,i.t)("community.detail_view.apple_resource_license")},s="https://www.figma.com/community-resource-license/";return s=a?"https://developer.apple.com/apple-design-resources-license/":e?"https://www.figma.com/community-paid-resource-license/":t?"https://creativecommons.org/licenses/by/4.0/":"https://www.figma.com/community-free-resource-license/",n.createElement(l.CY,{href:s,trusted:!0},r[s])}},346103:(e,t,a)=>{"use strict";a.d(t,{G:()=>p});var r=a(411855),n=a(188507),l=a(269203),i=a(447620),s=a(294234),o=a(388461),c=a(470458),d=a(411066),m=a(562390),u=a(446024),_=a(737042);function p({resource:e}){var t;let a=(0,n.wA)(),p=(0,n.d4)(e=>e.authedActiveCommunityProfile),g=(0,n.d4)(t=>(0,o.MK)(t,e)),E=o.Gl.includes(g)&&((null==(t=e.community_publishers)?void 0:t.accepted)||[]).length>1&&(null==p?void 0:p.primary_user_id),f=r.useCallback(()=>{(0,u.U)(e)?a((0,s.bb)({hub_file_id:e.id})):(0,u.xQ)(e)?a((0,s.bb)({widget_id:e.id})):a((0,s.bb)({plugin_id:e.id}))},[a,e]),h=(0,u.m3)(e),v=(0,l.I)(e),b=(0,c.iZ)(),y=(0,u.U)(e)?(0,d.a6)(e):(0,m.uF)(e);return r.createElement(r.Fragment,null,E&&r.createElement(_.d,{onClick:f,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),h&&(0,i.QQ)(v)&&r.createElement(_.NY,{resource:e,payment:v}),h&&b&&(0,i.QQ)(v)&&(0,i.C)(v)&&r.createElement(_.EV,{user:b,name:y.name,monetizedResource:e.monetized_resource_metadata}))}},467727:(e,t,a)=>{"use strict";a.d(t,{z:()=>n});var r=a(411855);function n(e){return r.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&r.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),r.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},840093:(e,t,a)=>{"use strict";a.d(t,{_:()=>d,u:()=>m});var r=a(411855),n=a(296210),l=a.n(n),i=a(362968),s=a(932271),o=a(587965);let c="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function d({description:e}){let t=r.useRef(null);return r.useEffect(()=>{var a;if(!t.current)return;let r=document.createElement("div");r.innerHTML=l().sanitize(e);let n=o.Ep.map(e=>`:not(${e})`).join("");for(let e of r.querySelectorAll(n))null==(a=e.parentNode)||a.removeChild(e);t.current.innerHTML=r.innerHTML},[t,e]),r.createElement("div",{ref:t})}function m({description:e,hideDivider:t=!1}){let a=r.useRef(null),[n,l]=r.useState(!1),[m,u]=r.useState(!1),_=(0,i.R)(o.YW)?o.dz:o.Un;return r.useEffect(()=>{a.current&&a.current.getBoundingClientRect().height>_&&(l(!0),u(!0))},[_]),r.createElement(r.Fragment,null,r.createElement("div",{style:n?{maxHeight:`${_}px`}:{},className:n?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:a},r.createElement(d,{description:e}),!n&&m&&r.createElement("div",{className:c,onClick:()=>{l(!0)},role:"button",tabIndex:0},r.createElement(s.Tx,{id:"community.detail_view.show_less"}))),n&&r.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:c,onClick:()=>{l(!1)},role:"button",tabIndex:0},r.createElement(s.Tx,{id:"community.detail_view.read_more"}))),!t&&r.createElement("div",{className:"truncated_description_view--divider--RK37w"}))}},837364:(e,t,a)=>{"use strict";a.d(t,{j:()=>m});var r=a(18084),n=a(460333),l=a(10345),i=a(847767),s=a(845628),o=a(443149),c=a(709198),d=a(834296);let m=(0,s.nF)(async(e,t,{loadingKey:a})=>{var s;let m=t.user.stripe_account_status===c.P5.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,r.sx)(m,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let r=i.Ay.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.eD,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,o.N)(r,e,a);let c=await r;if(!(null==(s=null==c?void 0:c.data)?void 0:s.meta)){t.callback(!1);return}let m=c.data.meta;n.eD?e.dispatch((0,d.RK)({rawInput:m})):l.Ay.unsafeRedirect(m),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},359787:(e,t,a)=>{"use strict";let r;a.d(t,{A:()=>s,E3:()=>c,jT:()=>o});var n=a(66202),l=a(163271),i=((r=i||{})[r.NONE=0]="NONE",r[r.PENDING=1]="PENDING",r[r.ACCEPTED=2]="ACCEPTED",r[r.ADMIN=3]="ADMIN",r);function s(e,t){let{user:a}=e,{plugin_publishers:r}=t;if(!r||!a)return 0;let{accepted:i,pending:s}=r;if(i.some(e=>e.id===a.id))return 2;if(s&&s.some(e=>e.id===a.id))return 1;let o=(0,l.xw)(e);return o&&o.permission===n._D.ADMIN&&o.org_id===t.org_id?3:0}function o(e){return 1===e}function c(e){return 2===e||3===e}},878711:(e,t,a)=>{"use strict";function r(e,t){var a;return!!(null==(a=t.repos[e])?void 0:a.trashed_at)}a.d(t,{i:()=>r})},193963:(e,t,a)=>{"use strict";a.d(t,{E:()=>n,d:()=>r});let r="community_comment_creation",n="community_comment_edit"},498646:(e,t,a)=>{"use strict";a.d(t,{H:()=>d});var r=a(411855),n=a(188507),l=a(434329),i=a(932271),s=a(961958),o=a(131413),c=a(596049);let d=(0,s.Ju)(function(e){let t=(0,n.wA)();return r.createElement(o.Rw,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,dispatch:t,destructive:!0},r.createElement("div",null,r.createElement("p",{className:c._q},r.createElement(i.Tx,{id:"community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future"})),r.createElement("p",{className:c._q},r.createElement(i.Tx,{id:"community.comments.link_about_managing_restricted_commenters",link:r.createElement(l.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},r.createElement(i.Tx,{id:"community.comments.learn_more"}))}))))},"CommentConfirmBlockModal")},280334:(e,t,a)=>{"use strict";a.d(t,{H:()=>_});var r=a(411855),n=a(188507);a(840192);var l=a(434329),i=a(579116),s=a(932271),o=a(297195),c=a(77554),d=a(727475),m=a(514931);class u extends r.Component{constructor(){super(...arguments),this.getBannerText=()=>{var e,t,a,r,n;let l={strongText:"",ctaPreText:""},i=(0,s.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),o=(0,s.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return l={strongText:(0,s.t)("community.banner.this_is_the_figma_community"),ctaPreText:i},this.props.profile?((null==(e=this.props.user)?void 0:e.community_profile_handle)?this.props.profile.id===(null==(t=this.props.user)?void 0:t.community_profile_id)?l.strongText=(0,s.t)("community.banner.this_is_your_figma_community_profile"):(l.strongText="",l.ctaPreText=""):l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_profile"),l.ctaPreText=o):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_file"),l.ctaPreText=o):"plugin"===this.props.selectedView.subView?(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_plugin"),l.ctaPreText=o):"widget"===this.props.selectedView.subView&&(l.strongText=(0,s.t)("community.banner.this_is_a_figma_community_widget"),l.ctaPreText=o)),this.props.user?(this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&(null==(a=this.props.selectedView)?void 0:a.subView)==="plugin"&&(l.showPluginDocsCta=!0):l.showProfileCta=!0,(null==(r=this.props.selectedView)?void 0:r.view)==="communityHub"&&(null==(n=this.props.selectedView)?void 0:n.subView)==="landing"||(l.ctaPreText="")):l.showAccountCta=!0,l},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(o.to({type:c.S3,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:a,showProfileCta:n,showAccountCta:o}=this.getBannerText();return e||t||a||n||o?r.createElement("div",{className:this.props.className||""},r.createElement("div",{className:d.cI},r.createElement("div",{className:d.zc},r.createElement(i.B,{svg:m.A,className:d.q3})),r.createElement("span",null,r.createElement("span",{className:d.bv},e," "),r.createElement("span",null,t," "),n&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_follow_creators_and_like_resources",link:r.createElement(l.N_,{onClick:this.onProfileCreateClick,className:d.nf,trusted:!0},(0,s.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),o&&r.createElement(l.N_,{href:"https://www.figma.com/signup",target:"_blank",className:d.nf,trusted:!0},(0,s.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),a&&r.createElement(r.Fragment,null,r.createElement(s.Tx,{id:"community.banner.to_create_your_own_plugin",link:r.createElement(l.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.nf,trusted:!0},(0,s.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.Ng)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},219312:(e,t,a)=>{"use strict";a.d(t,{s:()=>w});var r=a(411855),n=a(188507),l=a(49617),i=a(342649),s=a(434329),o=a(131923),c=a(683812),d=a(932271),m=a(837364),u=a(559408),_=a(562450),p=a(470458),g=a(749843),E=a(797507),f=a(468499),h=a(961958),v=a(456804),b=a(228797),y=a(131413);let w=(0,h.Ju)(function(e){let t=(0,n.wA)(),a=(0,p.iZ)(),h=(0,_._6)(),w=(0,E.H)(),[T,x]=r.useState(""),[C,N]=r.useState(""),[k,S]=r.useState((0,f.EB)()),[I,A]=r.useState(""),[L,R]=r.useState(!0),[O,F]=r.useState(!1);return(0,u.G)(),r.createElement(y.aF,{className:"collect_tax_info_modal--container--F6VXQ",dispatch:t},r.createElement(i.s_,{dispatch:t}),r.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.title"})),r.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.body"})),r.createElement("div",null,r.createElement(s.Lf,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),r.createElement(s.Lf,{value:C,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{N(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),r.createElement(v.X,{updateAddress:S,address:k,countryCodesOverride:g.qE,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),r.createElement(b.A,{onChange:A,country:k.country,setIsVatIdValid:R,vatId:I,isCommunityCheckout:!0})),r.createElement(l.$$,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!a)return;if(!T){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!C){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:r,city:n,country:l,region:i,postal_code:s}=k;if(!r||!n||!l||!s||"US"===l&&!i){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(I&&!L){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}F(!0),t(m.j({user:a,callback:t=>{e.setupStripeCallback(t),F(!1),t&&w()},selectedView:h,firstName:T,lastName:C,address:k,vatId:I}))}},r.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},O&&r.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},r.createElement(o.kt,{shouldMatchTextColor:!0})),r.createElement(d.Tx,{id:"community.seller.collect_tax_info_modal.continue_to_stripe"}))))},"CommunityCollectTaxInfoModal")},737042:(e,t,a)=>{"use strict";let r;a.d(t,{EV:()=>T,NY:()=>x,d:()=>N,dx:()=>w,vR:()=>b});var n=a(411855),l=a(188507),i=a(685512),s=a(434329);a(883641);var o=a(932271);a(467727);var c=a(543587),d=a(297195);a(388461);var m=a(76375),u=a(470458);a(66202);var _=a(446024),p=a(110027);a(280334),a(144031);var g=a(66425),E=a(163271),f=a(833215),h=a(860168),v=a(183846);function b(e){return n.createElement("div",{className:v.Xk},n.createElement("p",null,e.label),n.createElement(s.nR,{onClick:e.onClickDecline,className:v.LL},n.createElement(o.Tx,{id:"community.detail_view.decline"})),n.createElement(s.$$,{onClick:e.onClickAccept,className:v.LL},n.createElement(o.Tx,{id:"community.detail_view.accept"})))}(0,i.hG)(h.dOH);class y extends n.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.U)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.cU)(this.props.resource.id)})}:(0,_.xQ)(this.props.resource)?{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.ox)(this.props.resource.id)})}:{resourceSubject:(0,o.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,o.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.ab)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),a=t;return a=`${a}${this.props.user?`
${(0,o.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,o.t)("community.reporting.add_your_description_here")}`,n.createElement(s.N_,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(a)}`,className:v.iZ,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"}))}}function w(){let e=(0,u.iZ)();return e?n.createElement(s.Ph,{className:v._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,c.jt)(e)},trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.report_resource"})):null}function T(e){let{user:t,name:a,monetizedResource:r}=e,i=(0,l.wA)();return n.createElement(s.Ph,{className:v._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{i((0,d.to)({type:f.bX,data:{user:t,name:a,monetizedResource:r}}))},trusted:!0},n.createElement(o.Tx,{id:"community.buyer.request_refund"}))}function x(e){let t=(0,m.R$)(e.resource),a="Detail View - View Order Details",r=(0,o.t)("community.buyer.view_order_details");return(0,p.Uv)(e.resource.monetized_resource_metadata)&&(a="Detail View - Manage Subscription",r=(0,o.t)("community.buyer.manage_subscription")),n.createElement(s.Ph,{className:v._1,onClick:()=>t(),trackingEventName:a,trusted:!0},r)}(0,l.Ng)(e=>({hasOrgs:(0,E.Yj)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(y);var C=((r=C||{})[r.PROMO=0]="PROMO",r[r.PAID=1]="PAID",r);function N(e){return n.createElement(s.N_,{className:e.className,onClick:e.onClick,trusted:!0},n.createElement(o.Tx,{id:"community.detail_view.remove_myself_as_creator"}))}},901684:(e,t,a)=>{"use strict";let r;a.d(t,{X:()=>O,b:()=>F});var n=a(411855),l=a(188507),i=a(18084),s=a(679339),o=a(579116),c=a(333496),d=a(932271),m=a(158373),u=a(342649),_=a(434329),p=a(530364),g=a(802418),E=a(66202),f=a(961958),h=a(787666),v=a(131413),b=a(126815);let y={listStyleType:"disc",marginLeft:"1.5em"};function w({securityFormResponse:e,isWidget:t}){return e.status===E.bQ.PENDING?n.createElement(p.z,{variant:"brand",orientation:"horizontal",iconSrc:b.A,dataTestId:"pending-response-banner"},n.createElement("div",{className:c.cx.preWrap.overflowBreakWord.$},(0,d.t)("community.detail_view.data_security_modal_pending",{date:e.updatedAt}))):e.status===E.bQ.APPROVED?n.createElement("div",{className:c.cx.gap4.flex.$},t?n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_badge_info_widget"}):n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_badge_info_plugin"})):e.status===E.bQ.REJECTED?n.createElement(p.z,{variant:"warning",orientation:"horizontal",iconSrc:b.A,dataTestId:"rejected-response-banner"},n.createElement("div",{className:c.cx.preWrap.overflowBreakWord.$},(0,d.t)("community.detail_view.data_security_modal_rejected",{date:e.updatedAt}))):null}let T=(0,f.Ju)(function({securityFormResponse:e,isWidget:t}){let a=(0,l.wA)(),r=n.createElement(_.Us,{href:"https://help.figma.com/hc/articles/16354660649495",target:"_blank",trusted:!0},n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_assessment_link"})),i=t?n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_explanation_widget",assessmentProgramLink:r}):n.createElement(d.Tx,{id:"community.detail_view.data_security_modal_explanation_plugin",assessmentProgramLink:r});return n.createElement(v.aF,{size:600,title:(0,d.t)("community.detail_view.data_security"),dispatch:a},n.createElement(u.s_,{dispatch:a}),n.createElement("div",{"data-testid":"program-explanation"},i),n.createElement("div",{className:c.cx.mt16.$},n.createElement(w,{securityFormResponse:e,isWidget:t})),n.createElement("div",{className:c.cx.pt24.$},n.createElement(x,{securityFormResponse:e})))},"DATA_SECURITY_MODAL");function x({securityFormResponse:e}){return n.createElement("div",{className:c.cx.colorBgSecondary.$},n.createElement("div",{className:c.cx.py4.px20.$},e.responses.map((e,t)=>{let a=function(e){if("text"===e.inputType)return[];for(let t of e.options)if(t.isSelected&&t.subQuestions)return t.subQuestions??[];return[]}(e);return n.createElement("div",{className:c.cx.mb24.$,key:`q-${t}`},n.createElement("div",{className:"data_security_modal--gridContainer--4yiTg"},e.prompt&&n.createElement(n.Fragment,null,n.createElement("div",{className:c.cx.fontSemiBold.$},(0,h.g)(C(e.prompt))," "),n.createElement("div",{className:c.cx.$},n.createElement(I,{question:e}))),(null==a?void 0:a.length)>0&&a.map((e,t)=>n.createElement(n.Fragment,{key:t},e.prompt?n.createElement("ul",{style:g.sx.add({listStyle:"disc",verticalAlign:"baseline"}).$},n.createElement("li",{className:c.cx.fontSemiBold.ml16.$},(0,h.g)(function(e){let t=e.indexOf("For example,");return -1!==t?e.substring(0,t):e}(C(e.prompt??""))))):n.createElement("div",{key:t}),n.createElement(I,{question:e})))))})))}function C(e){let t=/^\d+\./;return t.test(e)?e.replace(t,""):e}function N(e){let{value:t}=e;return n.createElement("div",{className:c.cx.flex.flexColumn.gap8.$},n.createElement("ul",{className:c.cx.italic.$},`"${t}"`))}function k(e){let{options:t}=e;return n.createElement("div",{className:c.cx.flex.flexColumn.gap16.$},n.createElement(n.Fragment,null,t.map((e,t)=>e.isSelected?n.createElement("div",{className:c.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",null,e.label)):null)))}function S(e){let{options:t}=e,a=t.filter(e=>e.isSelected);return 0===a.length?null:n.createElement("div",{className:c.cx.flex.flexColumn.gap16.$},n.createElement("ul",null,a.map((e,t)=>n.createElement("li",{key:`option-${t}`,style:a.length>1?y:void 0},n.createElement("div",{className:c.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",null,e.label))))))}function I(e){let{question:t}=e;switch(t.inputType){case"single_select":return n.createElement(k,{options:t.options});case"multi_select":return n.createElement(S,{options:t.options});case"text":return n.createElement(N,{value:t.value??""});default:(0,s.xb)(t)}}var A=a(297195),L=a(665430),R=a(132208),O=((r=O||{}).COMMUNITY_DETAIL="community_detail",r.ADMIN_REVIEW="admin_review",r.ADMIN_MANAGE="admin_manage",r);function F({securityFormResponse:e,entryPoint:t,isWidget:a}){let r=(0,l.wA)();if(!e)return null;let u=function(e,t){let{status:a,updatedAt:r}=e;return a===E.bQ.REJECTED?"admin_manage"===t?n.createElement("div",{className:c.cx.flex.gap4.$},n.createElement(d.Tx,{id:"community.badge.extension_security_updated_on",date:r}),n.createElement(o.B,{svg:R.A,"data-tooltip-type":L.Ib.SPECIAL,"data-tooltip":L.MW.EXTENSION_SECURITY_FORM_REJECTED,className:"extension_security_response--infoIcon--miNLG"})):null:a===E.bQ.APPROVED?n.createElement(d.Tx,{id:"community.badge.extension_security_approved"}):a===E.bQ.PENDING?"admin_manage"===t?n.createElement(d.Tx,{id:"community.badge.extension_security_updated_on",date:r}):n.createElement(d.Tx,{id:"community.badge.extension_security_pending"}):void(0,s.xb)(a)}(e,t);if(!u)return null;let _=e.status===E.bQ.REJECTED?n.createElement(m.D,null):n.createElement(m._,null);return n.createElement("div",{className:c.cx.flex.$,"data-testid":"extension-security-response-status"},n.createElement("div",{className:c.cx.flex.itemsStart.pt4.$},_),n.createElement("button",{className:"community_detail"===t?"extension_security_response--communitySecurityText--8N545 extension_security_response--extensionSecurityText--kCA-d":"extension_security_response--adminSecurityText--xRb4T extension_security_response--extensionSecurityText--kCA-d","data-testid":"extension-trust-security-response-button",onClick:()=>{r((0,A.to)({type:T,data:{securityFormResponse:e,isWidget:a}})),(0,i.sx)("Admin Plugin Review Modal",{entryPoint:t,isWidget:a,status:e.status,extensionId:e.pluginId,action:"Security form response status"})}},u))}},725356:(e,t,a)=>{"use strict";let r,n;a.d(t,{WR:()=>e$});var l=a(411855),i=a(188507),s=a(18084),o=a(114017),c=a(434329),d=a(817660),m=a(333496),u=a(932271),_=a(428488),p=a(577378),g=a(322463),E=a(377512),f=a(297195),h=a(247047),v=a(800725),b=a(497398),y=a(851310),w=a(66425),T=a(961958),x=a(924670),C=a(902457),N=a(530364),k=a(517799),S=a(969062),I=a(873136),A=a(813545),L=a(464392),R=a(131413);let O=(0,T.Ju)(function({extensionName:e,onConfirm:t,orgName:a,extensionType:r}){let n=(0,i.wA)();return l.createElement(R.Rw,{confirmationTitle:l.createElement(E.E,{fontWeight:"semi-bold",i18nId:"resources_tab.extension_revoke_modal.title",i18nParams:{extensionName:e}}),confirmText:(0,u.t)("resources_tab.extension_revoke_modal.confirmation_button"),onConfirm:t,dispatch:n,popStack:!0},l.createElement(E.E,{i18nId:"widget"===r?"resources_tab.extension_revoke_modal.body.widget":"resources_tab.extension_revoke_modal.body.plugin",i18nParams:{orgName:l.createElement(E.E,{fontWeight:"semi-bold"},a)}}))},"EXTENSION_ALLOWLIST_REVOKE_CONFIRMATION_MODAL");var F=a(126815);let M=new I.Ef([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0});function D(e){let{requesters:t}=e;if(!t||0===t.length)return null;let a=null;return a=1===t.length?l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.one",i18nParams:{requesterName:t[0].name}}):2===t.length?l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.two",i18nParams:{requesterName1:t[0].name,requesterName2:t[1].name}}):l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.approved_plugins.modal.requested_by.many",i18nParams:{requesterName:t[0].name,numOthers:t.length-1}}),l.createElement("div",{className:m.cx.flex.gap4.$},l.createElement(L.w,{avatarSize:S.Pf.SMALL16,users:t,totalNum:t.length,numAvatarsToDisplay:3}),a)}function P({extension:e,org:t,onNavigateBack:a,mode:r,requests:n}){let s=(0,i.wA)(),{id:o}=e,c=e.isWidget?"widget":"plugin",p=l.useMemo(()=>{let e=new Map;return n.forEach(t=>{if(!t.orgUser||!t.workspaceId)return;let a=t.workspaceId,{workspaceUsers:r,user:n}=t.orgUser;if(!r)return;let l={name:n.name??"",imgUrl:n.imgUrl,id:n.id,handle:n.handle},i=e.get(a);i?i.push(l):e.set(a,[l])}),e},[n]),[h,v]=l.useState(t.isPluginAllowlisted),w=(0,C.Z)(h),T=l.useMemo(()=>n.some(e=>null===e.workspaceId),[n]),x=(0,l.useCallback)(()=>(t.workspaces??[]).reduce((e,t)=>(e[t.id]=!!h||t.isPluginAllowlisted,e),{}),[t.workspaces,h]),[S,I]=l.useState(x()),[L,R]=l.useState(null);l.useEffect(()=>{void 0!==w&&w!==h&&(h?(L||R(S),I(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,h])))):L?(I(L),R(null)):I(e=>Object.fromEntries(Object.entries(e).map(([e])=>[e,!1]))))},[x,S,h,L,w]);let[P,B]=l.useState(""),U=l.useMemo(()=>{let e=t.workspaces??[];return""===P?e:(M.set(e),M.search(P))},[P,t.workspaces]),W=async()=>{let e=[],a=[];for(let[t,r]of Object.entries(S)){let n=U.find(e=>e.id===t);n&&(r&&!n.isPluginAllowlisted&&e.push(t),!r&&n.isPluginAllowlisted&&a.push(t))}let r=[];!h&&e.length>0&&r.push(b.X.enableExtensionForWorkspaces({orgId:t.id,extensionId:o,extensionType:c,workspaceIds:e})),a.length>0&&r.push(b.X.disableExtensionForWorkspaces({orgId:t.id,extensionId:o,extensionType:c,workspaceIds:a})),h!==t.isPluginAllowlisted&&r.push(h?b.X.enableExtensionForOrg({orgId:t.id,extensionId:o,extensionType:c}):b.X.disableExtensionForOrg({orgId:t.id,extensionId:o,extensionType:c}));try{await Promise.all(r),s(f.Lo())}catch{s(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))}},V=l.useMemo(()=>h!==t.isPluginAllowlisted||Object.entries(S).some(([e,a])=>{var r;let n=null==(r=t.workspaces)?void 0:r.find(t=>t.id===e);return(null==n?void 0:n.isPluginAllowlisted)!==a}),[h,t.isPluginAllowlisted,t.workspaces,S]),G=l.useMemo(()=>h||Object.values(S).some(e=>e),[h,S]),$=l.useMemo(()=>h?[]:Object.entries(S).filter(([,e])=>e).map(([e])=>e),[S,h]);return l.createElement("div",{className:m.cx.flex.flexColumn.hFull.$},l.createElement("div",{className:m.cx.px8.py4.flex.itemsCenter.bb1.bSolid.colorBorder.$},l.createElement("div",{className:m.cx.wFull.flex.itemsCenter.$},l.createElement("div",{className:m.cx.wFull.flex.itemsCenter.gap4.$},l.createElement(g.$,{icon:"chevron-left-32",onClick:a,variant:"text"}),l.createElement(E.E,{i18nId:"plugin"===c?"resources_tab.approved_plugins.modal.approve_plugin":"resources_tab.approved_plugins.modal.approve_widget"})),l.createElement(k.kq,{onChange:B,focusOnMount:!1,query:P,clearSearch:()=>B(""),hideXIcon:!0,placeholder:(0,u.t)("resources_tab.approved_plugins.modal.search_workspaces"),smallFont:!0}))),l.createElement("div",{className:m.cx.flex.itemsCenter.px16.h48.bb1.colorBorder.bSolid.gap8.$},l.createElement("div",{className:m.cx.p8.$},l.createElement(A.l,{on:h,onChange:()=>{v(e=>!e)},dataTestId:"org-allowlist-toggle"})),l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.allow_for_all_files_and_drafts_in_org_workspaces",i18nParams:{orgName:t.name}})),!h&&T&&l.createElement("div",{className:m.cx.px16.pt16.$},l.createElement(N.z,{dataTestId:"plugin-request-from-drafts-warning",variant:"warning",orientation:"vertical",iconSrc:F.A},"plugin"===c?(0,u.t)("resources_tab.approved_plugins.modal.individual_workspaces_approval_warning"):(0,u.t)("resources_tab.approved_widgets.modal.individual_workspaces_approval_warning"))),l.createElement(d.P,{className:m.cx.flexGrow1.$},l.createElement("div",{className:m.cx.py8.if(h,m.cx.opacity0_5.eventsNone).$},U.map(e=>l.createElement("div",{key:e.id,className:m.cx.px16.h48.flex.itemsCenter.gap8.$},l.createElement("div",{className:m.cx.p8.$},l.createElement(A.l,{dataTestId:`workspace-allowlist-toggle-${e.id}`,on:S[e.id],onChange:()=>I(t=>({...t,[e.id]:!t[e.id]}))})),l.createElement("div",{className:m.cx.flex.flexColumn.gap4.$},l.createElement(E.E,null,e.name),l.createElement(D,{requesters:p.get(e.id)})))))),l.createElement("div",{className:m.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.justifyEnd.$},"review"===r&&l.createElement(l.Fragment,null,l.createElement(g.$,{onClick:a},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.cancel"})),l.createElement(g.$,{variant:"primary",onClick:()=>{let e=()=>{s(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{W().then(()=>{let e={orgId:t.id,extensionId:o,extensionType:c};if(0===$.length){y.J.approveRequestForOrg(e);return}y.J.updateRequestForWorkspaces({...e,approvedWorkspaceIds:$})}).catch(e)}catch(t){e()}},disabled:!G,dataTestId:"approve-button"},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve"}))),"manage"===r&&l.createElement(l.Fragment,null,l.createElement(g.$,{onClick:a},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.back"})),l.createElement(g.$,{variant:"primary",onClick:()=>{var a;if(!h&&0===$.length){s((0,f.to)({type:O,data:{extensionName:(null==(a=e.currentPluginVersion)?void 0:a.name)??"",orgName:t.name,extensionType:c,onConfirm:()=>{W()}},showModalsBeneath:!0}));return}W()},dataTestId:"save-changes-button",disabled:!V},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.save_changes"})))))}var B=a(579116),U=a(896449),W=a(988966),V=a(598721),G=a(881434),$=a(36615),j=a(100546),H=a(17540),q=a(894373);let z="extension_usage_data--dropdown--Hx6wX";var Y=a(112512),K=((r=K||{}).LastWeek="Last Week",r.LastMonth="Last Month",r.LastYear="Last Year",r);let J={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[],workspaces_extensions_used_on:""}}},Z={usage_windows:{"Last Week":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Month":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""},"Last Year":{n_extension_actions:0,n_extension_users:0,top_org_users:[{user_id:"placeholder1",user_name:"Organization user",org_rank:1,n_extension_actions:0},{user_id:"placeholder2",user_name:"Organization user",org_rank:2,n_extension_actions:0},{user_id:"placeholder3",user_name:"Organization user",org_rank:3,n_extension_actions:0}],workspaces_extensions_used_on:""}}},Q=new Map([["Last Week",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_7_days",key:"Last Week"})],["Last Month",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_30_days",key:"Last Month"})],["Last Year",l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.past_year",key:"Last Year"})]]);function X({users:e,showUpsell:t,extensionType:a}){let r=(0,i.wA)(),n=e.sort((e,t)=>e.org_rank-t.org_rank),o=l.createElement(c.CY,{onClick:()=>{r((0,f.to)({type:q.DV,data:{team:null,resource:"widget"===a?j.Bi.WIDGET_ANALYTICS:j.Bi.PLUGIN_ANALYTICS,currentPlan:G.F.Plan.ORG,upsellPlan:G.F.Plan.ENTERPRISE}})),(0,s.sx)("Admin Plugin Review Modal",{action:"Upgrade to Enterprise"})},trusted:!0,target:"_blank","data-testid":"upgrade-to-enterprise-link"},l.createElement(E.E,{fontSize:11,i18nId:"resources_tab.extension_usage_data.upgrade_enterprise_link"})),d="widget"===a?l.createElement(E.E,{fontSize:11},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_widgets",upgradeLink:o})):l.createElement(E.E,{fontSize:11},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.upgrade_enterprise_plugins",upgradeLink:o}));return l.createElement(l.Fragment,null,l.createElement("div",{className:m.cx.flex.flexColumn.$,style:t?{WebkitMaskImage:"linear-gradient(0deg, transparent, var(--color-bg))"}:{}},n.map(e=>{let a={id:e.user_id,name:e.user_name,img_url:e.img_url};return l.createElement("div",{className:m.cx.pt16.flex.justifyBetween.alignCenter.itemsCenter.$,key:e.user_id},l.createElement("div",{className:m.cx.flex.breakWord.alignLeft.itemsCenter.pr8.gap8.$},!t&&l.createElement(S.H8,{user:a,size:S.Pf.MEDIUM}),t&&l.createElement(H.Ro,{entity:{}}),l.createElement(E.E,{fontSize:11,fontWeight:"medium"},e.user_name)),t&&l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.placeholder_runs"}),!t&&l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.runs",i18nParams:{numberOfRuns:e.n_extension_actions}}))})),t&&l.createElement("div",{className:m.cx.mt16.px16.py16.bRadius4.colorBgSecondary.breakWord.$},d))}function ee({workspaces:e}){let t;let a=W.record(W.string(),W.number());try{t=a.parse(JSON.parse(e))}catch(e){t={}}let r=Object.keys(t);return l.createElement("div",{className:m.cx.flex.flexColumn.pl16.pr16.$},r.map(e=>l.createElement("div",{key:e,className:m.cx.pt16.breakWord.alignLeft.pr8.$},l.createElement(E.E,{fontSize:11},e))))}var et=((n=et||{})[n.Users=0]="Users",n[n.Workspaces=1]="Workspaces",n);function ea(e){let t=(0,$.sZ)(),a=!(null==t?void 0:t.bigma_enabled),r=e.usageData||(a?Z:J),{extensionType:n}=e,[i,s]=l.useState(0),[o,d]=l.useState(!1),_=[l.createElement(V.W.Option,{key:0,onClick:()=>s(0),recordingKey:"userViewOption"},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.users"})),l.createElement(V.W.Option,{key:1,onClick:()=>s(1),recordingKey:"workspaceViewOption"},l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.workspaces"}))],[p,g]=l.useState("Last Week"),[f,h]=l.useState(!1),v=r.usage_windows[p],b=[];for(let[e,t]of Q.entries())b.push(l.createElement(V.W.Option,{key:e,onClick:()=>g(e)},t));let y=0!==v.n_extension_actions||0!==v.n_extension_users||a,w=l.createElement(l.Fragment,null,l.createElement("div",{className:m.cx.wFull.bb1.bSolid.colorBorder.$}),0===i&&l.createElement(X,{users:v.top_org_users,showUpsell:a,extensionType:n}),1===i&&l.createElement(ee,{workspaces:v.workspaces_extensions_used_on}));return l.createElement("div",{className:m.cx.hFull.py8.px16.$,"data-testid":"extension-usage-data"},l.createElement("div",{className:m.cx.flex.justifyBetween.py8.$},l.createElement("div",{className:m.cx.block.$},l.createElement(c.u4,{defaultClass:"",onClick:()=>h(!f),dataTestId:"usage-window-dropdown"},Q.get(p),l.createElement(B.B,{svg:Y.A,className:m.cx.colorIconSecondary.inlineBlock.pl8.$})),f&&l.createElement(V.W.Dropdown,{className:z,onClick:()=>h(!1)},b)),l.createElement("div",{className:m.cx.block.$},l.createElement(c.u4,{defaultClass:"",onClick:a?U.lQ:()=>d(!o),dataTestId:"user-workspace-dropdown"},0===i?l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.users"}):l.createElement(u.Tx,{id:"resources_tab.extension_usage_data.workspaces"}),!a&&l.createElement(B.B,{svg:Y.A,className:m.cx.colorIconSecondary.inlineBlock.pl8.$})),o&&l.createElement(V.W.Dropdown,{className:z,onClick:()=>d(!1)},_))),l.createElement("div",{className:m.cx.flex.pt16.pb16.wFull.justifyBetween.$},l.createElement("div",{className:m.cx.w16.$}),l.createElement("div",{className:m.cx.flex.flexColumn.alignCenter.$},l.createElement("div",{"data-testid":"total-num-runs"},l.createElement(E.E,{fontSize:14,fontWeight:"semi-bold"},a?"--":v.n_extension_actions)),l.createElement("div",null,l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.total_runs"}))),l.createElement("div",{className:m.cx.flex.flexColumn.alignCenter.$},l.createElement("div",{"data-testid":"total-num-users"},l.createElement(E.E,{fontSize:14,fontWeight:"semi-bold"},a?"--":v.n_extension_users)),l.createElement("div",null,l.createElement(E.E,{fontSize:11,color:"secondary",i18nId:"resources_tab.extension_usage_data.users"}))),l.createElement("div",{className:m.cx.w16.$})),y&&w)}var er=a(4681),en=a(470458),el=a(665430);function ei({log:e,index:t,noteType:a}){var r,n,s;let o,c;let d=(0,i.wA)(),p=(0,l.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),(async e=>{try{await navigator.clipboard.writeText(e)}catch(e){throw d(_.F.enqueue({message:`Could not copy email: ${e.message}`,error:!0})),e}})(t).then(()=>{d(_.F.enqueue({message:`Copied ${t}`}))}).catch(()=>{})},[d]);try{o=JSON.parse(e.metadata)}catch{return null}let g="request"===a?o.requester_note:o.decline_note,f=o.workspace_name??"",h={id:e.actorId??"",name:(null==(r=e.actor)?void 0:r.name)??"",imgUrl:(null==(n=e.actor)?void 0:n.imgUrl)??""},v=(null==(s=e.actor)?void 0:s.email)??"",b=0===t?m.cx.flex.flexColumn.pb16.$:m.cx.flex.flexColumn.pb16.pt16.bt1.colorBorder.bSolid.$;switch(a){case"approve":c=f?(0,u.t)("extension_decline_modal.approved_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.approved_access_org");break;case"decline":c=(0,u.t)("extension_decline_modal.declined_request");break;case"revoke":c=f?(0,u.t)("extension_decline_modal.revoked_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.revoked_access_org");break;case"add":c=f?(0,u.t)("extension_decline_modal.add_access_workspace",{workspace:f}):(0,u.t)("extension_decline_modal.add_access_org");break;default:c=""}return l.createElement("div",{className:b},l.createElement("div",{className:m.cx.flex.flexRow.itemsCenter.gap8.$},l.createElement(S.H8,{user:h,size:S.Pf.MEDIUM}),l.createElement("div",{role:"button",tabIndex:0,className:m.cx.noWrap.overflowHidden.ellipsis.cursorPointer.$,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":v,"data-tooltip-show-immediately":!0,onMouseDown:e=>p(e,v)},l.createElement(E.E,{fontSize:11,fontWeight:"medium"},h.name)),l.createElement("div",{className:m.cx.noWrap.$},l.createElement(E.E,{fontSize:11,color:"secondary"},l.createElement(er.h1,{date:e.createdAt})))),l.createElement("div",{className:m.cx.ml32.mt4.overflowBreakWord.$},l.createElement(E.E,{fontSize:11,color:"secondary"},c)),g&&l.createElement("div",{className:m.cx.ml32.mt4.overflowBreakWord.$},l.createElement(E.E,{fontSize:11,color:"default"},g)))}function es(e){let{orgId:t,extensionId:a}=e,r=(0,o.Rs)(v.WIy,{userId:(0,en.TA)(),actedOnIdOrKey:a,orgId:t}),n=("loaded"===r.status&&r.data.org?r.data.org.activityLogByActedOnId:[]).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i=(e,t)=>{let a=e.eventName;return a.endsWith("_request_org")||a.endsWith("_request_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"request"}):a.endsWith("request_approve_org")||a.endsWith("request_approve_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"approve"}):a.endsWith("_add")||a.endsWith("_add_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"add"}):a.endsWith("_request_reject_org")||a.endsWith("_request_reject_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"decline"}):a.endsWith("_remove")||a.endsWith("_remove_workspace")?l.createElement(ei,{log:e,key:e.id,index:t,noteType:"revoke"}):void 0};return l.createElement(d.P,{className:m.cx.hFull.flex.flexColumn.p16.gap16.$},l.createElement("div",{"data-testid":"extension-request-sidebar"},n.map((e,t)=>i(e,t))))}var eo=a(339290);function ec(e){let t;let{numWorkspaces:a,isOrgAllowlisted:r}=e;return(r?t=l.createElement(E.E,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_all_workspaces"}):a>0&&(t=l.createElement(E.E,{fontSize:11,fontWeight:"regular",color:"success",i18nId:"resources_tab.approved_plugins.table.approved_for_workspace",i18nParams:{numWorkspaces:a}})),t)?l.createElement("div",{className:m.cx.colorBg.py12.px16.flex.flexRow.gap8.bb1.bSolid.colorBorder.$},l.createElement(B.B,{width:"16px",height:"16px",svg:eo.A,className:"extension_allowlist_modal_sidebar--greenCheck--xyE7X"}),t):null}function ed(e){let{isAllowed:t,usageData:a,numWorkspaces:r,extensionType:n,isOrgAllowlisted:i,orgId:o,extensionId:c}=e,[d,u]=(0,l.useState)("requests");return l.createElement("div",{className:m.cx.hFull.wFull.flex.flexColumn.bl1.bSolid.colorBorder.$},l.createElement("div",{className:m.cx.colorBg.py12.px16.flex.flexRow.gap16.bb1.bSolid.colorBorder.$},l.createElement("button",{onClick:()=>u("requests")},l.createElement(E.E,{fontSize:11,fontWeight:"medium",color:"requests"===d?"default":"secondary",i18nId:"resources_tab.extension_request_sidebar.requests"})),t&&l.createElement("button",{onClick:()=>{u("usage"),(0,s.sx)("Admin Plugin Review Modal",{action:"Extension usage tab"})},"data-testid":"extension-usage-tab"},l.createElement(E.E,{fontSize:11,fontWeight:"medium",color:"usage"===d?"default":"secondary",i18nId:"resources_tab.extension_usage_data.usage"}))),l.createElement(ec,{numWorkspaces:r,isOrgAllowlisted:i}),"requests"===d?l.createElement(es,{orgId:o,extensionId:c}):l.createElement(ea,{usageData:a,extensionType:n}))}var em=a(219370),eu=a(935360),e_=a(229113),ep=a(97429),eg=a(580237),eE=a(146894),ef=a(901684);function eh({mode:e,extension:t,securityFormResponse:a}){let{currentPluginVersion:r}=t;if(!r)return null;let n=(0,eu.$M)(t.installCount),i=r.name??"",s=r.description??"";return l.createElement("div",{className:m.cx.flex.flexColumn.gap16.p16.$,"data-testid":"extension-allowlist-overview-section"},l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{fontSize:13,fontWeight:"semi-bold",truncate:"end"},i),l.createElement("div",{className:m.cx.flex.gap4.$},l.createElement(eb,{plugin:t}),"review"===e&&l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.user_count",i18nParams:{count:n}}))),l.createElement("img",{alt:"extension cover",src:r.coverImageUrl,className:m.cx.wFull.bRadius4.$}),l.createElement(ev,{description:s}),l.createElement("div",{className:m.cx.flex.flexColumn.gap16.$},l.createElement(ew,{extension:t,securityFormResponse:a,entryPoint:"review"===e?ef.X.ADMIN_REVIEW:ef.X.ADMIN_MANAGE}),l.createElement(eT,{extension:t})))}function ev({description:e}){let t=l.useRef(null),[a,r]=l.useState(!1),[n,i]=l.useState(!1);return l.useLayoutEffect(()=>{t.current&&r(t.current.isTruncated)},[e]),l.createElement("div",{className:m.cx.flex.flexColumn.$},n?l.createElement(E.E,{ref:t},(0,em.$J)(e).trim()):l.createElement(E.E,{truncate:"line-clamp",lineClamp:3,ref:t,showTooltipWhenTruncated:!1},(0,em.$J)(e).trim()),a&&l.createElement(c.CY,{trusted:!0,onClick:()=>i(e=>!e)},n?(0,u.t)("resources_tab.approved_plugins.modal.show_less"):(0,u.t)("resources_tab.approved_plugins.modal.show_more")))}function eb({plugin:e}){let t=l.useMemo(()=>(e.communityPublishers??[]).map(e=>e.profile).filter(e=>null!=e).map(e=>{let t=function(e){switch(e.entityType){case"user":return e.user;case"team":return e.team;case"org":return e.org;default:return null}}(e);return{id:e.id,badges:[],profile_handle:e.profileHandle,img_urls:{},name:(null==t?void 0:t.name)??"",img_url:(null==t?void 0:t.imgUrl)??""}}),[e.communityPublishers]);return l.createElement("div",{className:m.cx.flex.gap8.$},l.createElement(ep.Lf,{publishers:t,size:16}),l.createElement(ey,{profiles:t}))}function ey({profiles:e}){let[t,a,...r]=e;return t?a?0===r.length?l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_two_creators",i18nParams:{creator1:t.name,creator2:a.name}}):l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_multiple_creators",i18nParams:{creator1:t.name}}):l.createElement(E.E,{color:"secondary",i18nId:"resources_tab.approved_plugins.modal.attribution_single_creator",i18nParams:{creator:t.name}}):null}function ew({extension:e,securityFormResponse:t,entryPoint:a}){let{currentPluginVersion:r}=e,n=l.useMemo(()=>{let e=null==r?void 0:r.manifest;if(e)return(0,eg.qT)(e)},[null==r?void 0:r.manifest]);return l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.security",color:"secondary"}),l.createElement(ef.b,{securityFormResponse:t,entryPoint:a,isWidget:!!e.isWidget}),l.createElement(eE.u,{networkAccess:null==n?void 0:n.networkAccess,isWidget:!!e.isWidget,isAlwaysExpanded:!0,isLearnMoreLinkVisible:!0}))}function eT({extension:e}){return l.createElement("div",{className:m.cx.flex.flexColumn.gap8.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.licenses",color:"secondary"}),l.createElement(e_.x,{isMonetizedResource:null!=e.monetizedResourceMetadataId,isHubFile:!1}))}var ex=a(840192),eC=a(983835),eN=a(539703),ek=a(137470),eS=a(562390),eI=a(450813),eA=a(354853),eL=a(34260),eR=a(66202),eO=a(565721),eF=a(159331),eM=a(44469);let eD="EXTENSION_ALLOWLIST_TRY_EDITOR_DROPDOWN";function eP(e){var t;let{extension:a,orgId:r,mode:n,source:i}=e,s=l.useMemo(()=>{var e;let t=null==(e=a.currentPluginVersion)?void 0:e.manifest;if(t)return(0,eg.qT)(t)},[null==(t=a.currentPluginVersion)?void 0:t.manifest]);if(!s)return null;let o=(0,eS.iz)(s.editorType);return o===eI.HK.UNIVERSAL?l.createElement(eB,{extension:a,orgId:r,mode:n,source:i}):l.createElement(eU,{extension:a,orgId:r,mode:n,editorType:o,source:i})}function eB(e){let{extension:t,orgId:a,mode:r,source:n}=e,{dropdownIsShown:o,toggleSwitchEditorDropdown:c,ExtensionAllowlistTryEditorDropdown:d}=function(e,t,a,r){let n=(0,i.wA)(),o=(0,eL.U)(),c=(null==o?void 0:o.type)===eD,d=(0,eg.Lq)(e);return{dropdownIsShown:c,toggleSwitchEditorDropdown:(e,t)=>{var a;let r=null==(a=e.current)?void 0:a.getBoundingClientRect();r&&((void 0!==t?t:!c)?n(eA.j7({type:eD,data:{targetRect:r}})):n(eA.oB()))},ExtensionAllowlistTryEditorDropdown:function(){return l.createElement(eF.Cf,{className:eM.qN,targetRect:null==o?void 0:o.data.targetRect,minWidth:242,type:eF.it.MATCH_BACKGROUND,propagateCloseClick:!0},l.createElement(eO.UK,{editorType:eI.FW.FIGJAM,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(eA.oB()),(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===r?n(eN.aI({resource:d,fullscreenEditorType:eR._Y.WHITEBOARD})):(0,ex.kc)().ps_benchmark?"review"===a?n(eN.JA({extension:e,fullscreenEditorType:eR._Y.WHITEBOARD})):n(eN.lx({extension:e,fullscreenEditorType:eR._Y.WHITEBOARD})):n(eN.hx({extension:e,fullscreenEditorType:eR._Y.WHITEBOARD})),(0,s.sx)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:eR._Y.WHITEBOARD,action:"Try it out"})}}),l.createElement(eO.UK,{editorType:eI.FW.FIGMA,onClick:l=>{l.preventDefault(),l.stopPropagation(),n(eA.oB()),(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===r?n(eN.aI({resource:d,fullscreenEditorType:eR._Y.DESIGN})):(0,ex.kc)().ps_benchmark?"review"===a?n(eN.JA({extension:e,fullscreenEditorType:eR._Y.DESIGN})):n(eN.lx({extension:e,fullscreenEditorType:eR._Y.DESIGN})):n(eN.hx({extension:e,fullscreenEditorType:eR._Y.DESIGN})),(0,s.sx)("Admin Plugin Review Modal",{orgId:t,extensionId:e.id,extensionType:e.isWidget?"widget":"plugin",mode:a,editorType:eR._Y.DESIGN,action:"Try it out"})}}))}}}(t,a,r,n),_=l.useRef(null),p=(0,en.iZ)(),f=(0,$.sZ)(),h=(0,ek.GU)(p);return l.createElement("div",{ref:_},l.createElement(g.$,{onClick:()=>{c(_,!0)},dataTestId:"universal-editor-button",disabled:h,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":h?(0,u.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:f.name}):void 0},l.createElement("div",{className:m.cx.flex.itemsCenter.gap4.$},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}),l.createElement(eC.I,{icon:"chevron-down-16"}))),o&&l.createElement(d,null))}function eU(e){let{extension:t,orgId:a,mode:r,editorType:n,source:o}=e,c=(0,i.wA)(),d=(0,eg.Lq)(t),m=()=>{(0,ex.kc)().cmty_deprecate_browse_as_admin&&"community"===o?c(eN.aI({resource:d,fullscreenEditorType:(0,eS.Wg)(n)})):(0,ex.kc)().ps_benchmark?"review"===r?c(eN.JA({extension:t,fullscreenEditorType:(0,eS.Wg)(n)})):c(eN.lx({extension:t,fullscreenEditorType:(0,eS.Wg)(n)})):c(eN.hx({extension:t,fullscreenEditorType:(0,eS.Wg)(n)}))},_=(0,en.iZ)(),p=(0,$.sZ)(),f=(0,ek.GU)(_);return l.createElement(g.$,{onClick:()=>{m(),(0,s.sx)("Admin Plugin Review Modal",{orgId:a,extensionId:t.id,extensionType:t.isWidget?"widget":"plugin",mode:r,editorType:n,action:"Try it out"})},dataTestId:"single-editor-button",disabled:f,"data-tooltip-type":el.Ib.TEXT,"data-tooltip":f?(0,u.t)("resources_tab.approved_plugins.modal.try_it_out_ecc_tooltip",{orgName:p.name}):void 0},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.try_it_out"}))}function eW(e){let{extensionType:t,extensionId:a,org:r,approvedWorkspaceIds:n,openDeclineModal:i}=e;return l.createElement(g.$,{onClick:()=>{i({orgId:r.id,extensionId:a,extensionType:t,approvedWorkspaceIds:n})}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.decline"}))}function eV(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:s}=e,o=(0,i.wA)();return s.length>0?l.createElement(g.$,{variant:"primary",onClick:n},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve\u2026"})):l.createElement(g.$,{variant:"primary",onClick:()=>{let e=()=>{o(_.F.enqueue({error:!0,message:(0,u.t)("resources_tab.approved_plugins.modal.failed_to_update_plugin_approval")}))};try{b.X.enableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}).then(()=>{y.J.approveRequestForOrg({orgId:r.id,extensionId:a,extensionType:t}),o(_.F.enqueue({message:"plugin"===t?(0,u.t)("resources_tab.approved_plugins.modal.plugin_approved_for",{orgName:r.name}):(0,u.t)("resources_tab.approved_plugins.modal.widget_approved_for",{orgName:r.name})}))}).catch(e)}catch(t){e()}o(f.Lo())}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.approve"}))}function eG(e){let{extensionType:t,extensionId:a,org:r,goToEditTab:n,workspaces:s}=e,o=(0,i.wA)();return s.length>0?l.createElement(g.$,{variant:"primary",onClick:n},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.edit_approvals"})):l.createElement(g.$,{variant:"destructive-secondary",onClick:()=>{b.X.disableExtensionForOrg({orgId:r.id,extensionId:a,extensionType:t}).then(()=>{o(_.F.enqueue({message:"plugin"===t?(0,u.t)("resources_tab.approved_plugins.modal.plugin_approval_removed_for",{orgName:r.name}):(0,u.t)("resources_tab.approved_plugins.modal.widget_approval_removed_for",{orgName:r.name})}))}),o(f.Lo())}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.remove"}))}let e$=(0,T.Ju)(function({orgId:e,extensionId:t,extensionType:a,usageData:r,mode:n,initialTab:_,isAllowed:g,openDeclineModal:b,source:y}){var T;let C=(0,i.wA)(),N=(0,h.A)(t,!0),k=(0,o.Rs)(v.czu,{pluginId:t,orgId:e}),[S,I]=l.useState(_??"overview"),A="widget"===a?(0,w.ox)(t):(0,w.ab)(t);if(!("loaded"===k.status&&k.data.plugin&&k.data.org&&N.loaded))return null;let L=(null==(T=k.data.plugin.pluginRequests)?void 0:T.filter(e=>"pending"===e.status))??[],R=k.data.org.workspaces??[],O=R.filter(e=>e.isPluginAllowlisted),F=k.data.org.isPluginAllowlisted;return n=n??(F?"manage":"review"),g=void 0===g?F:g,l.createElement(x.XV,{title:function(e,t,a){switch(e){case"review":switch(t){case"overview":case"edit":return"plugin"===a?(0,u.t)("resources_tab.approved_plugins.modal.review_plugin"):(0,u.t)("resources_tab.approved_plugins.modal.review_widget")}case"manage":return"plugin"===a?(0,u.t)("resources_tab.approved_plugins.modal.manage_plugin"):(0,u.t)("resources_tab.approved_plugins.modal.manage_widget")}}(n,S,a),maxWidth:640,onClose:()=>C(f.Lo())},l.createElement("div",{className:m.cx.relative.$,style:{height:560},"data-testid":"plugin-allowlist-modal"},"overview"===S&&l.createElement("div",{className:m.cx.flex.flexColumn.hFull.$},l.createElement("div",{className:m.cx.flex.flexGrow1.overflowHidden.$},l.createElement(d.P,{className:m.cx.flexGrow1.flexRow.flexWrap.$,innerClassName:m.cx.hFull.$},l.createElement(eh,{extension:k.data.plugin,mode:n,securityFormResponse:N.data})),l.createElement(p.Y,{direction:"horizontal",width:240},l.createElement(ed,{isAllowed:g,usageData:r,numWorkspaces:O.length,isOrgAllowlisted:F,extensionType:a,orgId:e,extensionId:t}))),l.createElement("div",{className:m.cx.flex.itemsCenter.p16.bt1.colorBorder.bSolid.gap8.$},l.createElement(c.CY,{className:m.cx.mrAuto.$,href:A,target:"_blank",trusted:!0,"data-testid":"open-in-community-link",onClick:()=>{(0,s.sx)("Admin Plugin Review Modal",{orgId:e,extensionId:t,extensionType:a,mode:n,action:"Open in community"})}},l.createElement(E.E,{i18nId:"resources_tab.approved_plugins.modal.open_in_community"})),"review"===n&&l.createElement(l.Fragment,null,l.createElement(eP,{extension:k.data.plugin,orgId:e,mode:n,source:y}),b&&l.createElement(eW,{extensionId:t,extensionType:a,org:k.data.org,approvedWorkspaceIds:O.map(e=>e.id),openDeclineModal:b}),l.createElement(eV,{extensionId:t,extensionType:a,org:k.data.org,workspaces:R,goToEditTab:()=>I("edit")})),"manage"===n&&l.createElement(l.Fragment,null,l.createElement(eP,{extension:k.data.plugin,orgId:e,mode:n,source:y}),l.createElement(eG,{extensionId:t,extensionType:a,org:k.data.org,workspaces:R,goToEditTab:()=>I("edit")})))),"edit"===S&&l.createElement(P,{mode:n,org:k.data.org,onNavigateBack:()=>I("overview"),requests:L,extension:k.data.plugin})))},"EXTENSION_ALLOWLIST_MODAL")},590886:(e,t,a)=>{"use strict";a.d(t,{dW:()=>C,nH:()=>N});var r=a(411855),n=a(188507),l=a(840192),i=a(114017),s=a(434329),o=a(131923),c=a(932271),d=a(861168),m=a(297195),u=a(298941),_=a(333930),p=a(66202),g=a(800725),E=a(451480),f=a(867158),h=a(479163),v=a(961958),b=a(924670),y=a(442623),w=a(479137),T=a(903922),x=a(225530);let C=(0,v.Ju)(function(e){let t=(0,n.wA)(),a=(0,i.Rs)(g.GyZ,{teamId:e.team.id}),l=r.useMemo(()=>(0,E.X)(a),[a]),s=l&&l.workspace?{id:l.workspace.id,name:l.workspace.name,imgUrl:l.workspace.imgUrl}:void 0,_=()=>{t(m.Ce()),t(d.cL())};return r.createElement(u.fu,{name:"Team Access Modal",properties:{resourceType:p.vt.TEAM,resourceId:e.team.id}},r.createElement(b.XV,{title:r.createElement(r.Fragment,null,e.goBack?r.createElement(T.w,{title:(0,c.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):r.createElement("div",{className:x.DA},r.createElement("p",null,r.createElement(c.Tx,{id:"team_view.team_permissions_modal.access_settings"})))),maxWidth:E.k4,fixedTop:!0,onClose:_},l?l.org&&r.createElement(N,{team:e.team,org:l.org,teamSharingSettings:l.teamSharingSettings,hideModal:_,workspace:s}):r.createElement(o.qc,{className:x.Lq})))},"TeamAccessModal");function N(e){var t,a;let i=(0,f.D)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null)&&(0,l.kc)().sc_workspace_audience,o=(0,n.wA)(),d=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.PQ.ORG_EDIT||t===p.PQ.ORG_VIEW?w._9.ORG:t===p.PQ.WORKSPACE_EDIT||t===p.PQ.WORKSPACE_VIEW?w._9.WORKSPACE:w._9.INVITE_ONLY},[e.teamSharingSettings]),m=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return h.Fb.HIDDEN;return h.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),u=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===p.PQ.ORG_EDIT||t===p.PQ.WORKSPACE_EDIT?w.J4.EDIT:(t===p.PQ.ORG_VIEW||p.PQ.WORKSPACE_VIEW,w.J4.VIEW)},[e.teamSharingSettings]),[g,E]=r.useState(d()),[v,b]=r.useState(m()),[T,C]=r.useState(u());r.useEffect(()=>{E(d()),b(m()),C(u())},[e.teamSharingSettings,d,m,u]);let N=g===w._9.INVITE_ONLY?v&&r.createElement("div",{className:x.$2},r.createElement(w.Kd,{selectedDiscoverability:v,setSelectedDiscoverability:b})):r.createElement(r.Fragment,null,r.createElement(w.Iz,{selectedPermissionsLevel:T,setSelectedPermissionsLevel:C}),r.createElement("div",{className:x.VA},T===w.J4.VIEW?(0,c.t)("team_creation.can_view_and_comment"):(0,c.t)("team_creation.can_create_and_edit_files")));return r.createElement(r.Fragment,null,r.createElement("div",{className:x.l2},r.createElement("div",{className:x.bV},(0,c.t)("team_creation.who_has_access")),r.createElement(w.YU,{resourceType:p.vt.TEAM,value:g,onChange:E,org:e.org,audienceAccessLevel:T,workspace:i?e.workspace:void 0}),r.createElement("div",{className:x.bV},g===w._9.INVITE_ONLY?(0,c.t)("team_creation.visibility"):(0,c.t)("team_creation.what_they_can_do")),N),r.createElement("div",{className:x.E_},r.createElement(s.tM,{onClick:e.goBack||e.hideModal},r.createElement(c.Tx,{id:"project_creation.cancel"})),r.createElement(s.vd,{onClick:()=>{var t,a;if(!(0,f.D)((null==(t=e.team)?void 0:t.id)||null,(null==(a=e.org)?void 0:a.id)||null))return;let r=g===w._9.INVITE_ONLY&&v===h.Fb.ORG_BROWSABLE,n=g===w._9.INVITE_ONLY&&v===h.Fb.HIDDEN,l=(0,y.MF)(g,T);if(o((0,_.zK)({team:e.team,sharingAudienceControl:l,orgBrowsable:r,hidden:n})),e.goBack){e.goBack();return}e.hideModal()}},r.createElement(c.Tx,{id:"team_view.team_permissions_modal.save"}))))}},308084:(e,t,a)=>{"use strict";a.r(t),a.d(t,{FileMoveDropdown:()=>e6,FileMoveHiddenDiv:()=>e9,FileMoveModal:()=>e1,FileMoveModalComponent:()=>e0,FileMoveSearch:()=>e2,FolderSection:()=>e5,TeamSection:()=>e4,TeamsDisplay:()=>e8,getCurrentFolderId:()=>eX,getTargetAttribute:()=>eZ,isSubscribedLG:()=>eQ});var r=a(411855),n=a(109388),l=a(188507),i=a(889012),s=a.n(i),o=a(18084),c=a(679339),d=a(685512),m=a(840192),u=a(267014),_=a(114017),p=a(598721),g=a(434329),E=a(5816),f=a(131923),h=a(817660),v=a(579116),b=a(333496),y=a(932271),w=a(354853),T=a(943540),x=a(584423),C=a(297195),N=a(463601),k=a(66202),S=a(553978),I=a(16237),A=a(407492),L=a(867158);function R(e,t,a,r){var n;let l={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},i={},s={},o={},c={byFolderId:{},byTeamId:{}},d=(0,S.Um)(e.currentUser),u=[],p=e=>{s[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{o[e.orgId]={[e.userId]:{...e,type:I.Wd.ORG_USER,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||k.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||k.El.RESTRICTED}},e.draftsProject&&(p(e.draftsProject),e.draftsProject.ownerRole&&(c.byFolderId[e.draftsProject.id]={[l.id]:(0,S.aU)(e.draftsProject.ownerRole,d,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:a}=e.team;i[t]={...e.team,canEdit:e.level>=A.e.EDITOR,canAdmin:e.level>=A.e.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,S.aU)(e,d,null,null)},a&&a.forEach(e=>p(e))});let g=r&&r.org&&"loaded"===r.org.status?(0,_.oA)(r.org):null;if((0,L.D)(null,a)&&g&&"588096576863690753"!==a){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&p(e)}g.teams&&g.teams.forEach(e=>{let{id:t,allProjects:a}=e;if(!i[t]){let a=!!(0,_.oA)(e.canEdit),r=!!(0,_.oA)(e.canAdmin),n=(0,_.oA)(e.licenseGroup);i[t]={...e,canEdit:a??!1,canAdmin:r??!1,licenseGroup:n||null},u.push(t)}let r=(0,_.oA)(a);r&&r.forEach(e=>{(0,_.oA)(e.canEdit)&&p(e)})})}(0,m.kc)().ps_benchmark&&(null==(n=e.currentUser.teamRoles)||n.forEach(e=>{if(!e.team)return;let{id:t}=e.team;i[t]||(i[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,S.aU)(e,d,null,null)})}));let E=r&&r.currentUser&&"loaded"===r.currentUser.status?(0,_.oA)(r.currentUser):null;return E&&E.teamRoles&&E.teamRoles.forEach(e=>{if(!e.team||!(0,L.D)(e.team.id,a)||!e.team.allProjects||"588096576863690753"===a)return;let{id:t,allProjects:r}=e.team;i[t]||(i[t]={...e.team,canEdit:e.level>=A.e.EDITOR,canAdmin:e.level>=A.e.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},c.byTeamId[t]={[l.id]:(0,S.aU)(e,d,null,null)});let n=r&&"loaded"===r.status?(0,_.oA)(r):null;n&&n.forEach(e=>{(0,_.oA)(e.canEdit)&&p(e)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(p(e.project),c.byFolderId[e.project.id]={[l.id]:(0,S.aU)(e,d,null,null)})}),e.currentUser.draftsProject&&(p(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(c.byFolderId[e.currentUser.draftsProject.id]={[l.id]:(0,S.aU)(e.currentUser.draftsProject.ownerRole,d,null,null)})),{user:l,teams:i,folders:s,roles:c,orgUsers:o,orgId:a,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:u}}var O=a(473615),F=a(249666),M=a(800725),D=a(813921),P=a(524576),B=a(398727),U=a(204512),W=a(993700),V=a(929395),G=a(665430),$=a(152422),j=a(935991);let H=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,j.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var q=a(539427),z=a(150477),Y=a(924670),K=a(152869),J=a(847767),Z=a(637735);function Q(e){return r.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},r.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},r.createElement(Z.oS,{type:Z.y1.DESIGN})),r.createElement(g.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,y.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var X=a(555491),ee=a(986245),et=a(298941),ea=a(220186),er=a(845628),en=a(178491),el=a(137470),ei=a(45323),es=a(873136),eo=a(111359),ec=a(125126);let ed="32px",em=(0,d.hG)(ed),eu=e=>(null==e?void 0:e.id)||T.iK,e_=new es.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),ep=(e,t,a,r,n,l)=>{if(e.orgId!==n&&(null==t?void 0:t.orgId)!==n)return!1;if(!(0,m.kc)().ps_benchmark){if((0,O.VA)(e))return e.id===l;if((0,O.B_)(e))return!1}return!(!e.canEdit||t&&(0,en.S$)(e,t,a)&&!(0,O.VA)(e))&&(!r||!!(0,en.XX)(t))},eg=(e,t,a)=>!(!(0,m.kc)().ps_benchmark&&(0,en.dX)(e,t))&&(!a||!!(0,en.XX)(e)),eE=(e,t=!1)=>{let a=[],r=(0,O.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let l=e.folders[n],i=l.teamId?e.teams[l.teamId]:null;ep(l,i,e.user,t,e.orgId,null==r?void 0:r.id)&&((0,O.VA)(l)&&(l={...l,path:(0,ec.Tb)()}),a.push(l))}),e_.set(a.map(t=>{let a=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},r={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return a?{folder:r,team:a}:{folder:r}}))},ef=({folders:e,roles:t,user:a,orgUsers:r,teams:n,orgId:l,implicitTeamRolesTeamIds:i},s,o,c)=>{let d=Object.create(null),u=0,_=0,p=(0,O.gj)(a&&a.id,e,t.byFolderId,a&&l?r[l][a.id]:null);for(let e in d[T.HK]=[],d[T.iK]=[],t.byTeamId)eg(n[e],a,s)&&(_++,d[e]=[]);"588096576863690753"!==l&&(0,L.D)(null,l)&&i&&i.forEach(e=>{eg(n[e],a,s)&&(_++,d[e]=[])}),Object.keys(e).forEach(t=>{let r={...e[t]},i=ep(r,r.teamId?n[r.teamId]:null,a,s,l,null==p?void 0:p.id);if((0,m.kc)().file_move_show_all_resources){if(i&&(!o||r.subscription||(0,O.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?T.HK:eu(e)].push(r),u++}}else if(i&&(r.subscription||(0,O.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?T.HK:eu(e)].push(r),u++}});let g=u+_;return c(T.CU({indexCount:g})),c(T.xH()),d},eh=(e,t,a,r,n)=>{let l=Object.create(null),i=Object.create(null),s=[],o=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(i[e]=o,c+=8,e!==T.iK&&e!==T.HK){let t={type:B.b.NEW_FOLDER_TEAM,id:e,positionTop:c};s.push(t),c+=em,o+=1}let a=t[e];o+=a.length,a.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(a);r&&n&&e===n&&d.forEach((e,t)=>{e.id===r&&(a.splice(t,1),a.unshift(e))}),a.forEach(e=>{let t={type:B.b.FOLDER_ROW,id:e.id,positionTop:c};c+=em,s.push(t)}),l[e]=a,c+=9}),[l,i,s]},ev=(e,t,a)=>{let r=Object.create(null),n=Object.create(null),l=0,i=0,s=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,o=(0,O.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,s);for(let a of e){let e=a.item.folder,s=o&&e.id===o.id?0:a.score,c=e.teamId?t.teams[e.teamId]:null,d=o&&e.id===o.id?T.HK:eu(c);!(d in r)&&(r[d]=[],d!==T.iK&&d!==T.HK&&i++),r[d].push(e),null==n[d]?n[d]=s:n[d]=Math.min(n[d],s),l++}let c=l+i;return a(T.CU({indexCount:c})),[n,r]},eb=e=>(t,a)=>{if(t===T.iK)return 1;let r=e[t],n=e[a];return r?n&&r.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},ey=e=>(t,a)=>e[t]-e[a],ew=async(e,t,a,r,n=!1,l=!1,i,s,o,d)=>{var m,u,_;let p;let g=e.getState(),E=null,f=null;t.type===B.A.FILE?(E=t.file.parent_org_id||null,f=t.file.team_id):t.type===B.A.REPO&&(E=t.repo.parent_org_id||null,f=t.repo.team_id);let h=[];if(a){let e=ev(await e_.search(a),r,i);_=e[0],(h=Object.keys(u=e[1])).length&&h.sort(ey(_))}else u=ef(r,n,!!d,e.dispatch),r.user?(h.push(T.HK),h=h.concat((0,P.n$)(Object.values(r.teams),(null==(m=r.fileBrowserPreferences)?void 0:m.orderedTeamIds)||[])),u[T.iK].length>0&&h.push(T.iK)):(h=Object.keys(u)).sort(eb(r.teams));switch(t.type){case B.A.FILE:p=t.file.editor_type;break;case B.A.REPO:p=t.repo.default_file_key?g.fileByKey[t.repo.default_file_key].editor_type:null;break;case B.A.FILE_IMPORT:p=t.files.every(e=>".jam"===(0,eo.dv)(e.name).toLowerCase())?k._Y.WHITEBOARD:k._Y.DESIGN;break;default:(0,c.xb)(t)}let v=h.filter(e=>{var t,a,n,l;if(e===T.iK)return null===u||u[e].length>0;let i=r.teams;if(e!==T.HK){let a=(null==(t=i[e])?void 0:t.orgId)||null;if(E||a){if(a!==E)return!1}else if(f&&e===T.iK)return!1}return!((null==(a=i[e])?void 0:a.deletedAt)||(0,el.XG)(null==(n=i[e])?void 0:n.currentTeamUser,p))&&!!(null==(l=u[e])?void 0:l.some(e=>(0,ei.canCreateFileInFolder)({name:e.path,team_id:e.teamId,id:e.id,path:e.path},g,p,!0)))}),[b,y,w]=eh(v,u,l,s,o);e.dispatch(T.OT({rows:w})),e.dispatch(T.t3({indexOffsets:y})),e.dispatch(T.Pb({foldersByTeamId:b})),e.dispatch(T.Mi({teamIds:v})),a||e.dispatch(T.w3({userTeamCount:v.length})),g.fileMove.isSearchResult!==l&&e.dispatch(T.EN({isSearchResult:l}));let x=T.HK in y&&w[0].type===B.b.FOLDER_ROW;a&&x?e.dispatch(T.Dp({indexAt:0})):a&&!x&&e.dispatch(T.Dp({indexAt:1}))},eT=(e,t,a,r=!1,n,l,i)=>{ew(e,t,"",a,r,!1,e.dispatch,l,i,n)},ex=(0,ea.s)((e,t,a,r,n=!1)=>{ew(e,t,a,r,n,!!a,e.dispatch)},200),eC=(0,er.nF)((e,t)=>{eE(t.userResources,t.modalData.isPublishing),eT(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eN=(0,er.nF)((e,t)=>{ex(e,t.modalData,t.query,t.userResources),e.dispatch(T.hq(t))});var ek=a(460333),eS=a(288569),eI=a(683812),eA=a(864029),eL=a(535114),eR=a(333930),eO=a(17540),eF=a(666060);let eM="file_move--main--DysMn",eD="file_move--iconContainer--miUkC",eP="file_move--folderRowWrapper--1PhcQ",eB="file_move--folderRow---mHLm",eU="file_move--horizontalDivider--N1Kwn";var eW=a(444173);function eV(e){let t=(0,eF.S)(),a=(0,l.d4)(e=>e.user),[n,i]=(0,r.useState)(""),s=e.dispatch,[c,d]=(0,r.useState)(!0),m=(0,eS.I7)("starter_team_loophole_experiment_m0"),u=(0,eS.I7)("starter_team_loophole_experiment_m1");return r.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,o.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),n?(s((0,eR.KQ)({teamName:n,orgAccess:k.bU.PUBLIC,dontRedirect:!0})),d(!0),i("")):s(eI.s.error((0,y.t)("flash.team_name_cannot_be_empty")))}},r.createElement("div",{className:"file_move--teamCreateRow--GXsGP file_move--folderRow---mHLm"},c?r.createElement("button",{type:"button",className:"file_move--rowButton--buC6a",onClick:()=>{null!=a&&!e.orgId&&(0,eL.e5)({userId:a.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(s(C.Ce()),s(eA.Dw({openInNewTab:!ek.eD}))):(d(!1),s(T.xH()))}},r.createElement(v.B,{className:"file_move--newProjectIconFileMove--NpF12 sidebar--icon--E3PNi",svg:eW.A}),r.createElement("span",{className:t?"file_move--newFolderNameCustomSections--tOXkk sidebar--sectionNameCustomSections--GV0zR sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"file_move--newFolderName---8VW2 sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},r.createElement(y.Tx,{id:"file_browser.inline_team_creation.button_text"}))):r.createElement(r.Fragment,null,r.createElement("div",{className:eD},r.createElement(eO.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),r.createElement("div",{className:"file_move--newTeamTitleText--JRkjD file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa"},r.createElement(g.ks,{value:n||"",onChange:e=>{i(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--w4IBu",maxLength:e.teamNameMaxWidth,placeholder:(0,y.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eG=a(450147),e$=a(702595),ej=a(853705),eH=a(130715),eq=a(720955),ez=a(797804),eY=a(258485);let eK=(0,d.hG)(ed),eJ="FileMoveModalContent";function eZ(e){return"folder"===e.view||(0,D.K)(e)?"_self":"_blank"}function eQ(e){return!!e.subscription||(0,O.VA)(e)}function eX(e){switch(e.type){case B.A.FILE:let t=e.file;return(null==t?void 0:t.folder_id)||null;case B.A.REPO:let a=e.repo;return(null==a?void 0:a.folder_id)||null;case B.A.FILE_IMPORT:return null;default:(0,c.xb)(e)}}function e0(e){let t=null;e.type===B.A.FILE?t=e.file.parent_org_id||null:e.type===B.A.REPO&&(t=e.repo.parent_org_id||null);let a=(0,l.d4)(e=>e.orgById),n=t?a[t]:null,i=(0,l.d4)(e=>e.fileMove),s=(0,l.d4)(e=>e.creatingNewFolder),o=(0,l.d4)(e=>e.dropdownShown),c=(0,l.d4)(e=>e.selectedView),d=eX(e),m=(0,_.Rs)(M.Y9I,{projectId:d},{enabled:!!d}),u="loaded"===m.status&&m.data&&m.data.project&&"loaded"===m.data.project.status?(0,_.oA)(m.data.project):null,p=(0,L.D)((null==u?void 0:u.teamId)||null,t)&&"588096576863690753"!==t,g=(0,_.Rs)(M.YVc,{orgId:t},{enabled:p}),E=(0,_.Rs)(M.G0Y,{orgId:t});"errors"===E.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(E.errors));let f="loaded"===E.status&&("loaded"===m.status||e.type===B.A.FILE_IMPORT)&&"loaded"===g.status?{fetched:g,transformed:R(E.data,m.data,t,g.data)}:null,h="loaded"===E.status&&("loaded"===m.status||e.type===B.A.FILE_IMPORT)?{fetched:E,transformed:R(E.data,e.type!==B.A.FILE_IMPORT?m.data:null,t)}:null,v=p?f:h,b=null===v?{loaded:!1}:{loaded:!0,userResources:v.transformed},y=null==d||null===v?null:v.transformed.folders[d],w=y?y.teamId:null,T=(0,l.wA)();r.useEffect(()=>{b.loaded&&T(eC({modalData:e,userResources:b.userResources,currentFolderId:d,currentFolderTeamId:w}))},[v&&v.fetched]);let x=[];if(b.loaded&&!t)for(let e in b.userResources.teams){let t=b.userResources.teams[e];"ok"!==t.subscription&&x.push(t.id)}let C=function(e){let[t,a]=r.useState((0,_.Xm)()),n=e.join(",");return r.useEffect(()=>{if(0===n.length){a((0,_.gB)({}));return}a((0,_.Xm)());let e=!1;return(async()=>{let t=await H.getTeamRestrictionsLists({teamIds:n});e||a((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(x);if("loaded"===C.status&&b.loaded)for(let e in b.userResources.teams){let t=b.userResources.teams[e];C.data[e]&&(t.restrictionsList=C.data[e])}return r.createElement(e1,{modalId:e._modalId,fileMove:i,fileMoveData:e,creatingNewFolder:s,dropdownShown:o,selectedView:c,dispatch:T,userResources:b,currentOrg:n})}class e1 extends r.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerElm=n.findDOMNode(e)},this.isMovePageToNewFile=(0,m.kc)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(T.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(T.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(eJ);if((0,z.NB)(t))return;let{userResources:a}=this.props.userResources;switch(e.keyCode){case u.Uz.ESCAPE:this.onClose();break;case u.Uz.UP_ARROW:this.props.dispatch(T.zv());break;case u.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(T.TL({upperBound:this.props.fileMove.indexCount}));break;case u.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===B.b.NEW_FOLDER_TEAM){let t=e.id,r=a.teams[t];this.props.dispatch((0,N.SX)({where:this.props.modalId.type,team:{...(0,W.Ws)(r),canEdit:!0,canEditTeamContents:!0,canAdmin:r.canAdmin}}))}else if(e.type===B.b.FOLDER_ROW){let t=a.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(C.Lo()):this.props.dispatch(C.Ce())},this.openOrgView=e=>{this.props.dispatch(w.$T({view:"org",orgId:e,orgViewTab:V.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(C.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==B.A.FILE_IMPORT){var a,n,l;this.onClose();let t=this.props.fileMoveData.type===B.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;a=this.props.fileMoveData.page_id,n=e.id,l=this.state.newFileName,(0,K.ED)("startMovePagesJob","Send request to start move pages job."),J.Ay.post(`/api/files/${t}/move_pages`,{folder_id:n,page_ids:a,file_name:l}).catch(e=>{(0,K.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,K.ED)("startMovePagesJob","Move pages job successfully started.")});return}let i=this.props.fileMoveData;if(i.type===B.A.FILE&&i.file.is_team_template&&(0,O.VA)(e)){this.props.dispatch(C.to({type:X.X0,data:{title:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.title",count:1}),content:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.description"}),confirmText:r.createElement(y.Tx,{id:"templates.confirmation.move_to_drafts.button_v2"}),destructive:!1,onConfirm:t,dispatch:this.props.dispatch}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case B.A.FILE:this.moveFile(e,t.file);break;case B.A.REPO:this.moveRepo(e,t.repo);break;case B.A.FILE_IMPORT:for(let a of t.files)this.props.dispatch((0,F.z)({name:a.name,blob:new Blob([a.contents]),folderId:e.id}));break;default:(0,c.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(C.ES(this.props.modalId))},this.moveFile=(e,t)=>{var a;if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(x.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:null==(a=this.props.fileMoveData.afterFileMove)?void 0:a.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(x.z({files:[],repos:[t],folder:e,team:a,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,y.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===B.A.FILE_IMPORT)return 1===e.files.length?(0,y.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,y.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===B.A.FILE?e.file.name:e.repo.name;return(0,y.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===B.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(w.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(T.qb({fileMove:this.props.fileMove})),this.props.dispatch(T.YG({isSearchFocused:!0})));let a=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==a){if(!this.scrollContainerElm||-1===a)return;let e=this.props.fileMove.folderRows[a].positionTop,t=this.scrollContainer.getScrollTop(),r=this.scrollContainerElm.clientHeight;e<t?0===a?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+eK>t+r&&(null!=this.props.fileMove.indexCount&&a===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-r+eK))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(T.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let a=e.folders[t.data.folderId];return a?r.createElement(e6,{folder:a,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){var e;let t,a,n;let l=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return r.createElement(Y.XV,{title:i,fixedTop:!0,minWidth:l,maxWidth:l,onClose:this.onClose,truncateTitleText:!0},r.createElement("div",{className:eM},r.createElement(f.a_,{className:"file_move--spinner--tzpFM"})));let{userResources:s}=this.props.userResources,o=eX(this.props.fileMoveData),d=null==o?null:s.folders[o],m=this.getFocusedFolder();t=this.isMovePageToNewFile?null!=m&&0!==this.state.newFileName.length:this.props.fileMoveData.type===B.A.FILE_IMPORT?null!=m:null!=m&&null!=d&&m.id!==d.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&this.props.fileMove.userTeamCount<=1,p=this.props.fileMoveData;switch(p.type){case B.A.FILE:a={fileKey:p.fileKey,fileTeamId:p.file&&(null==(e=p.file)?void 0:e.team_id)},n=p.file.editor_type??k._Y.DESIGN;break;case B.A.REPO:a={repoId:p.repoId},n=k._Y.DESIGN;break;case B.A.FILE_IMPORT:a={},n=null;break;default:(0,c.xb)(p)}return r.createElement(et.fu,{name:$.e0.FILE_MOVE_MODAL,properties:a},r.createElement(Y.XV,{title:i,fixedTop:!0,minWidth:l,maxWidth:l,onClose:this.onClose,truncateTitleText:!0},_?r.createElement("div",{className:"file_move--mainZeroState--RcEV6 file_move--main--DysMn",id:eJ},r.createElement("div",{className:"file_move--zeroStateModal--46bL1"},r.createElement("div",{style:{paddingTop:"100px"}},r.createElement(y.Tx,{id:"file_browser.file_move.zero_state"})),this.props.currentOrg&&r.createElement("div",{className:b.cx.pt20.$},r.createElement(g.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,y.t)("file_browser.file_move.view_workspaces"):(0,y.t)("file_browser.file_move.view_teams"))))):r.createElement("div",{className:eM,id:eJ},this.isMovePageToNewFile?r.createElement(Q,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):r.createElement("div",{className:"file_move--searchWrapperNew--PLTKN"},r.createElement(e2,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:s})),r.createElement("div",{className:eU}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&r.createElement(r.Fragment,null,this.props.fileMoveData.displayBanner,r.createElement("div",{className:eU})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?r.createElement("div",{className:"file_move--emptyModal---FNas"},r.createElement(y.Tx,{id:"search.file_move.no_results_found",folderSearchQuery:this.props.fileMove.folderSearchQuery})):r.createElement(h.P,{width:l,className:"file_move--teamSectionBody--nGVDN",ref:this.scrollContainerRef,onScroll:this.onScroll},r.createElement(e8,{currentFolderId:o,fileMove:this.props.fileMove,fileEditorType:n,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:s.teams,folders:s.folders,teamNameMaxWidth:l-88,componentMountedAt:this.componentMountedAt,orgId:s.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:s.roles.byTeamId,dispatch:this.props.dispatch})),r.createElement("div",{className:"file_move--footer--S68Th"},r.createElement(g.nR,{onClick:this.onClose},r.createElement(y.Tx,{id:"modal.cancel"})),r.createElement(g.vd,{disabled:!t,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,y.t)("file_browser.file_move.move")))),this.renderDropdown(),r.createElement(e9,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e1.displayName="FileMoveModal";class e2 extends r.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(T.xH()),this.props.dispatch(T.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(T.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eN({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(T.TL({upperBound:this.props.folderCount}));break;case u.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(T.zv());break;case u.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eN({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(C.Ce()),this.props.dispatch(T.xH());break;case u.Uz.TAB:t&&t.blur(),this.props.dispatch(T.xH());break;case u.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=r.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return r.createElement("div",{className:"file_move--searchContainer--Vqc3R"},r.createElement("div",{className:eD},r.createElement(v.B,{svg:eH.A})),r.createElement(E.L,{ref:this.searchInputRef,placeholder:(0,y.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--Fhcoi":"file_move--searchInputEmptyNew--Tviug file_move--searchInputNew--Fhcoi",value:this.props.searchQuery,onChange:this.onChange}))}}function e4(e){var t,a,n,l,i,s;let{team:o,teamId:c}=e,[d,{onMouseOver:m,onMouseOut:u}]=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>t(!0),[t]),n=(0,r.useCallback)(()=>t(!1),[t]);return(0,r.useMemo)(()=>[e,{onMouseOver:a,onMouseOut:n}],[e,a,n])})(),p=(0,_.Rs)(M.bel,{teamId:(null==o?void 0:o.id)??""},{enabled:!!(null==o?void 0:o.id)}),g=(null==(n=null==(a=null==(t=p.data)?void 0:t.team)?void 0:a.teamFileCounts)?void 0:n.designFileCount)??0,E=(null==(s=null==(i=null==(l=p.data)?void 0:l.team)?void 0:i.teamFileCounts)?void 0:s.whiteboardFileCount)??0,f=null==e.fileEditorType?null:"whiteboard"===e.fileEditorType?{type:P.sK.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:E}:{type:P.sK.ADD_DESIGN_FILE,nCurrentDesignFiles:g},h=e.fileNotInTeam&&o&&f&&!(0,P.rR)((0,W.Ws)(o),f);return r.createElement(r.Fragment,null,e.showTitle&&r.createElement("div",{className:"file_move--teamTitleNew--A0OC- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:m,onMouseLeave:u},(c===T.iK||c===T.HK)&&r.createElement("div",{className:eD},r.createElement(v.B,{svg:ez.A})),r.createElement("div",{className:"file_move--teamTitleRow--Q0EfX"},r.createElement("div",{className:"file_move--teamName--cY-n-"},r.createElement("div",{className:"file_move--teamTitleText--ASbUy ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},c===T.iK||c===T.HK?(0,y.t)("file_browser.shared_projects"):o.name),h&&r.createElement("div",{className:"file_move--warningIcon--oGIGB"},r.createElement(v.B,{svg:e$.A,"data-tooltip-type":G.Ib.TEXT,"data-tooltip":(0,y.t)("file_browser.file_move.paywall_team_tooltip")}))),d&&o&&!h&&r.createElement("div",{className:"file_move--newProjButton--t5gdY"},r.createElement(q.I,{team:o,isBackgroundTransparent:!0,trackingContextName:$.e0.FILE_MOVE_MODAL})))))}function e3(e){let t=(0,r.useRef)(null),[a,n]=(0,r.useState)(!1),i=(0,l.wA)();return(0,r.useEffect)(()=>{!a&&e.isTeamNew&&t.current&&e.hasFolderSection&&(i(T.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,a,t,i]),r.createElement("div",{className:e.className,ref:t},e.children)}function e8(e){let{fileMove:t,teams:a,selectedView:n}=e,i=(0,l.wA)(),s=Object.values(a).map(e=>(function(e){var t;let a=null!=e.orgId,r=e.subscription===k.Qh.INCOMPLETE||e.subscription===k.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!a&&!r,org_team:a,student_team:!!e.studentTeamAt,deleted_at:(null==(t=e.deletedAt)?void 0:t.toString())||null}})(e));return r.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{var l,s;let o=n!==T.HK,c=n!==T.iK&&n!==T.HK,d=((null==(l=t.foldersByTeamId)?void 0:l[n])||[]).length>0;if(!(o||c||d))return null;let u=a[n];if(!u&&!(n===T.iK||n===T.HK)||(0,m.kc)().ps_benchmark&&n===T.HK&&!e.orgId)return null;let _=u?new Date(a[n].createdAt):void 0,p=_&&_>e.componentMountedAt,g=t.indexOffsets[n]+1,E=!!e.currentFolderId&&n!==(null==(s=e.folders[e.currentFolderId])?void 0:s.teamId);return r.createElement(e3,{className:"file_move--teamSection--dIDTQ",isTeamNew:p,firstFolderFocusedIndex:g,hasFolderSection:d,key:`Team Section ${n}`},r.createElement(e4,{team:u,teamId:n,showTitle:o,isACustomTeam:c,fileNotInTeam:E,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),d&&(t.foldersByTeamId[n]||[]).map((a,l)=>{let s=l+e.indexOffsets[n];return c&&(s+=1),r.createElement(e5,{key:`${a.teamId} ${a.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:s,focusedFolderIndex:t.focusedIndex,folder:a,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:$.e0.FILE_MOVE_MODAL,dispatch:i,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&r.createElement(eV,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:$.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:s,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}e2.displayName="FileMoveSearch";class e5 extends r.PureComponent{constructor(){super(...arguments),this.submitFolderRename=(e,t)=>{(0,o.sx)("Rename Folder",{trackingContext:this.props.trackingContextName}),this.props.dispatch((0,N.xv)({folderId:e.id,folderName:t})),this.props.dispatch(T.Mn())},this.cancelFolderRename=()=>{this.props.dispatch(T.Mn())},this.focusFolder=(e,t)=>{this.props.dispatch(T.Dp({indexAt:this.props.index}))},this.onContextMenu=(e,t)=>{this.props.onFileMoveContextMenu(t,e)},this.renderFolderRename=e=>r.createElement("div",{className:eB},r.createElement(ee.p,{key:`input ${e.id}`,className:"file_move--renameInput--S5hVy",placeholderValue:(0,O.CI)(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename})),this.isBeingRenamed=()=>this.props.folderBeingRenamed===this.props.folder.id,this.onDoubleClick=e=>{this.isBeingRenamed()||this.props.onDoubleClick()},this.renderFolderRow=(e,t)=>{let a=eQ(e)&&this.props.isSearchingFolders,n=this.props.focusedFolderIndex&&this.props.focusedFolderIndex>-1?t:this.props.currentFolderId===e.id,l=(0,m.kc)().ps_benchmark&&(0,O.jd)(e)?eY.A:ej.A;return r.createElement("div",{className:eB},r.createElement("div",{className:eD},r.createElement(v.B,{svg:n?eG.A:l})),r.createElement("span",{className:"file_move--folderName--Mxx5M ellipsis--ellipsis--Tjyfa"},(0,O.CI)(e)),r.createElement("div",{className:eD},a&&r.createElement(v.B,{svg:eq.A})))}}render(){let e=this.props.focusedFolderIndex===this.props.index,t=this.props.folderBeingRenamed?eP:e?"file_move--folderRowWrapperFocusedNew--gWdRJ file_move--folderRowWrapper--1PhcQ":eP,{folder:a}=this.props;return r.createElement("div",{className:t,onMouseDown:e=>this.focusFolder(a,e),key:`${a.teamId} ${a.id}`,onContextMenu:e=>this.onContextMenu(a,e),onDoubleClick:this.onDoubleClick},this.isBeingRenamed()?this.renderFolderRename(a):this.renderFolderRow(a,e))}}e5.displayName="FolderSection";class e6 extends r.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(T.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,a=eZ(this.props.selectedView);return r.createElement(p.W.Dropdown,{className:"file_move--fileMoveContextMenu--tOCh9",style:this.props.dropdownShown.data.position},r.createElement(p.W.Option,{disabled:!t,onClick:this.renameFolder},r.createElement(y.Tx,{id:"file_browser.file_move.context_menu_rename"})),r.createElement(p.W.Separator,null),r.createElement(p.W.Option,{href:(0,U.EE)(e.id,e.orgId),target:a},r.createElement(y.Tx,{id:"file_browser.file_move.context_menu_show_in_files"})))}}e6.displayName="FileMoveDropdown";class e9 extends r.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return r.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}e9.displayName="FileMoveHiddenDiv"},327677:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(840192),o=a(342649),c=a(434329),d=a(932271),m=a(297195),u=a(585356),_=a(298941),p=a(425339),g=a(131413),E=a(237481),f=a(954797);function h(e){let t=(0,n.wA)(),a=(0,s.kc)().ps_benchmark,l=()=>{t(u.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(m.Lo())};return r.createElement(_.fu,{name:"MoveDraftToProjectInterstitialModal"},r.createElement(g.aF,{title:a?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:E.wN,className:E.KP,size:320,dispatch:t,popStack:!0,disableClickOutsideToHide:!0},r.createElement(o.Jn,{className:i()(f.J_,f.BQ),onClick:l}),r.createElement("span",null,a?r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.plan_spaces"}):r.createElement(d.Tx,{id:"file_browser.draft_to_project.body.seat_rename"}),r.createElement("br",null)),r.createElement("div",{className:i()(E.v0,E.hF)},r.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},r.createElement(c.tM,null,r.createElement(d.Tx,{id:"general.learn_more"}))),r.createElement(c.vd,{className:E.pL,onClick:()=>{l(),(0,p.h)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData)}},r.createElement(d.Tx,{id:"file_browser.draft_to_project.move"})))))}},987536:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DowngradeSurveyModal:()=>R,DowngradeSurveyModalAdmin:()=>M,DowngradeSurveyModalLeaveTeam:()=>D,LEAVE_TEAM_DOWNGRADE_SURVEY:()=>F,TEAM_ADMIN_DOWNGRADE_SURVEY:()=>O});var r=a(411855),n=a(932271),l=a(297195),i=a(639781),s=a(555483),o=a(188507),c=a(434329),d=a(562450),m=a(924670);function u({id:e,label:t,children:a,onChange:n}){let[l,i]=r.useState(!1);return r.createElement("fieldset",{name:e},r.createElement("div",{className:"survey_option--inputContainer---A16E"},r.createElement(c.tB,{id:e,checked:l,onChange:e=>{i(!l),n&&n(e)}}),r.createElement("label",{className:"survey_option--label--1rbRy",htmlFor:e},t)),l&&a&&r.createElement("div",{className:"survey_option--subContainer--VJlvq"},a))}var _=a(919684),p=a(629019),g=a.n(p),E=a(598721),f=a(851695),h=a(800688);function v(e){let[t,a]=r.useState(""),n=e=>{a(e.target.value)};return e.textarea?r.createElement(h.v,{value:t,onChange:n,...e}):r.createElement(c.ks,{id:e.id,className:"survey_text_input--input--CmYRO",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let b="downgrade_survey_modal_component_v2--surveyQuestions--C-XlU",y="downgrade_survey_modal_component_v2--researchContact--tGi4i",w="downgrade_survey_modal_component_v2--hiddenInput--1sbeu",T="downgrade_survey_modal_component_v2--radio--dGTP0",x=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function C({id:e,shorthand:t}){return r.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--4ecNP"},r.createElement("p",null,r.createElement(n.Tx,{id:`downgrade_survey.survey_option.too_expensive.${e}`})),r.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--iem7f"},t))}let N=[{id:"too_expensive",value:"Too expensive",children:r.createElement(function(){let e="other_currency",[t,a]=r.useState(""),l=e=>{a(e.currentTarget.id)},i=[...x.map(({id:e,shorthand:t})=>r.createElement(E.W.Option,{id:e,key:e,onClick:l},r.createElement(C,{id:e,shorthand:t}))),r.createElement(E.W.Separator,{key:"separator"}),r.createElement(E.W.Option,{id:e,onClick:l,key:e},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.too_expensive.other_currency"}))];return r.createElement("fieldset",null,r.createElement(u,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},r.createElement("fieldset",{className:g()({"downgrade_survey_modal_component_v2--currencySelector__other--Wbc2Z":t===e})},r.createElement(E.W.DropdownSelector,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:i}),r.createElement("input",{id:"currency",className:w,readOnly:!0,value:t}),t===e&&r.createElement(v,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),a=t.find(e=>"currency_conversion"===e.id),r=t.find(e=>"currency"===e.id),n=null==r?void 0:r.value,l=t.find(e=>"currency_input"===e.id),i=(null==l?void 0:l.value)||n||void 0;return{currencyConversion:null==a?void 0:a.checked,currency:i}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:r.createElement(function(){return r.createElement("fieldset",null,r.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--StffC"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.no_longer_using_figma_products.other_products"})),r.createElement(v,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:(null==t?void 0:t.value)||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:r.createElement(function(){let[e,t]=r.useState("");return r.createElement(r.Fragment,null,r.createElement(f.z,{value:e,onChange:e=>t(e)},r.createElement(f.Z,{className:T,value:"Starter plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.starter_plan"})),r.createElement(f.Z,{className:T,value:"Organization plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.organization_plan"})),r.createElement(f.Z,{className:T,value:"Enterprise plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.enterprise_plan"})),r.createElement(f.Z,{className:T,value:"Education plan"},r.createElement(n.Tx,{id:"downgrade_survey.survey_option.switching_plans.education_plan"}))),r.createElement("input",{id:"new_plan",className:w,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:(null==t?void 0:t.value)||void 0}}}],k={id:"other",value:"Other",children:r.createElement(function(){return r.createElement(v,{className:"downgrade_survey_modal_component_v2--otherTextArea--uny4d",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},S=(0,_.k4)(N).concat(k);var I=a(321112),A=a(538411);function L({cancelText:e,onSubmit:t}){let[a,i]=r.useState([]),s=e=>{let{id:t}=e.currentTarget;a.includes(t)?i(a.filter(e=>e!==t)):i([...a,t])},_=(0,o.wA)(),p=(0,d._6)().teamId,g=()=>{_(l.Ce())};return r.createElement(m.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:g,dataTestId:"downgrade-survey-modal"},r.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--sBUWF",onSubmit:e=>{e.preventDefault();let r=Array.from(e.currentTarget.getElementsByClassName(b)[0].getElementsByTagName("fieldset")),n=a.map(e=>{let t=r.find(t=>t.name===e),{value:a,getSubOptions:n}=S.find(t=>t.id===e);return{reason:a,...n&&n(t)}});t({teamId:p,canContact:e.currentTarget.getElementsByClassName(y)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},r.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--ZifL4"},r.createElement("fieldset",{className:b},r.createElement("legend",null,r.createElement(n.Tx,{id:"downgrade_survey.what_made_you_cancel_your_plan"})),!a.length&&r.createElement("p",{className:A.Q},r.createElement(n.Tx,{id:"downgrade_survey.select_one"})),S.map(({id:e,children:t})=>r.createElement(u,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:s},t))),r.createElement("fieldset",{className:y},r.createElement("legend",null,r.createElement(n.Tx,{id:"downgrade_survey.research_contact"})),r.createElement(u,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),r.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--W6Pw1"},r.createElement(c.tM,{className:I.Lu,type:"button",onClick:g},e),r.createElement(c.vd,{type:"submit",disabled:!a.length,className:I.pL,autoFocus:!1},r.createElement(n.Tx,{id:"downgrade_survey.continue"})))))}class R extends r.PureComponent{constructor(){super(...arguments),this.onSubmit=e=>{var t,a;let r=null==(t=this.props.modalShown)?void 0:t.data.teamId,n=null==(a=this.props.modalShown)?void 0:a.data.billingEndDate;if("admin"===this.props.context)this.props.dispatch(l.to({type:s.Hu,data:{teamId:r,billingEndDate:n,exitSurveyData:e}}));else if("leave-team"===this.props.context){let e=this.props.teams[r];this.props.dispatch(i.yH({team:e,userInitiated:!0})),this.props.dispatch(l.Ce())}}}render(){let e="admin"===this.props.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return r.createElement(L,{onSubmit:this.onSubmit,cancelText:e})}}R.displayName="DowngradeSurveyModal";let O="team-admin-downgrade-survey",F="leave-team-downgrade-survey";function M(e){return r.createElement(R,{...e,context:"admin"})}function D(e){return r.createElement(R,{...e,context:"leave-team"})}},71652:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmDowngradeModal:()=>g});var r=a(411855),n=a(188507),l=a(629019),i=a.n(l),s=a(18084),o=a(434329),c=a(932271),d=a(297195),m=a(887348),u=a(924670),_=a(237481);let p=r.memo(function(e){let t=(0,n.wA)(),{teamId:a,billingEndDate:l,exitSurveyData:p}=e.modalShown.data,g=e.teams[a],E=()=>{t(d.Ce())},f=l?r.createElement(c.Tx,{id:"confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",teamName:g.name,billingEndDate:l}):r.createElement(c.Tx,{id:"confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",teamName:g.name});return r.createElement(u.XV,{onClose:E,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},r.createElement("div",{className:_.Dy},r.createElement("p",null,f),r.createElement("div",{className:i()(_.v0,_.hF)},r.createElement(o.tM,{onClick:E},r.createElement(c.Tx,{id:"confirm_downgrade.go_back"})),r.createElement(o.qM,{className:_.pL,onClick:()=>{p&&(0,s.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:a}))}},r.createElement(c.Tx,{id:"confirm_downgrade.finish_cancellation"})))))});function g(e){return r.createElement(p,{...e})}},783976:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamPermissionsModal:()=>eg,TeamPermissionsModalInner:()=>ef});var r=a(411855),n=a(188507),l=a(18084),i=a(679339),s=a(875566),o=a(267014),c=a(114017),d=a(131923),m=a(932271),u=a(428488),_=a(861168),p=a(279959),g=a(297195),E=a(109044),f=a(298941),h=a(66202),v=a(800725),b=a(884259),y=a(178491),w=a(137470),T=a(451480),x=a(45323),C=a(764151),N=a(342771),k=a(867158),S=a(407492),I=a(591312),A=a(886763),L=a(924670),R=a(300085),O=a(531855),F=a(220186),M=a(342649),D=a(598721),P=a(434329),B=a(579116),U=a(354853),W=a(636795),V=a(609583),G=a(382298),$=a(665430),j=a(961958),H=a(159331),q=a(655195),z=a(131413);let Y="team_join_link_permissions--loadedViewWrapperWithPaddingTop--VRkqb team_join_link_permissions--loadedViewWrapper--LjAIr";var K=a(965358),J=a(289298);let Z=(0,F.s)((e,t,a)=>e(W.do({teamId:t,level:a}))),Q=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,x.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,x.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,a)=>({isInLoadingState:function(e,t,a){let r=!(0,V.VP)(t,(0,G.OL)(e))&&!(0,V.aF)(t,(0,G.OL)(e))&&!a;return(0,V.VP)(t,(0,G.OL)(e))||(0,V.VP)(t,W.ui.loadingKeyForPayload({teamId:e}))||(0,V.VP)(t,(0,G._M)(e))||r}(a.teamId,e.loadingState,e.teamJoinLinks),...e,...a,...t}))(function(e){var t,a,n,l;let{dispatch:i,teamId:s,initialInviteLevel:o,canAdmin:c,canEdit:d}=e,[u,_]=(0,r.useState)(o);if((0,r.useEffect)(()=>(Z(i,s,o),()=>{i(W.F1(null))}),[i,s,o]),!e.isInLoadingState&&!e.teamJoinLinks||!c&&(null==(t=e.teamJoinLinks)?void 0:t.disabled))return null;let p=d&&!!(null==(a=e.teamJoinLinks)?void 0:a.url);return r.createElement(r.Fragment,null,r.createElement("div",{style:p?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},r.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},r.createElement(m.Tx,{id:"team_join_links.invite_link"})),p&&r.createElement(X,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{i(g.$O({type:ea,data:{resetLink:()=>{i(W.Nw({teamId:s,level:u,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>i(W.ui({teamId:s})),loading:e.isInLoadingState,canAdmin:c})),e.isInLoadingState||(null==(n=e.teamJoinLinks)?void 0:n.url)?r.createElement(ee,{dropdownShown:e.dropdownShown,setLevel:e=>{u!==e&&(_(e),i(W.do({teamId:s,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>_(u)})))},currentLevel:u,url:e.isInLoadingState?void 0:null==(l=e.teamJoinLinks)?void 0:l.url,addPaddingTop:!p,inviteLevels:d?[S.e.VIEWER,S.e.EDITOR]:[S.e.VIEWER],teamId:e.teamId}):r.createElement(et,{turnOnInviteLinks:()=>i(W.Nw({teamId:s,level:u}))}))});function X(e){let t=(0,n.wA)(),a="team-link-settings-dropdown",l=r.createRef(),i=()=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===a};return r.createElement("div",null,r.createElement("div",{ref:l},r.createElement(q.YW,{svg:K.A,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":(0,m.t)("team_join_links.team_invite_link_settings"),onClick:()=>{var e;let r=null==(e=l.current)?void 0:e.getBoundingClientRect();i()?t(U.oB()):r&&t(U.j7({type:a,data:{targetRect:r}}))},onMouseDown:e=>e.stopPropagation(),selected:i(),disabled:e.loading})),i()&&r.createElement(H.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},r.createElement(D.W.Option,{onClick:e.resetInviteLinks},r.createElement(m.Tx,{id:"team_join_links.reset_invite_links"})),e.canAdmin&&r.createElement(D.W.Option,{onClick:e.disableInviteLinks},r.createElement(m.Tx,{id:"team_join_links.turn_off_invite_links"}))))}function ee(e){let t=(0,n.wA)(),a="join-link-permission-level-dropdown",l=e.currentLevel===S.e.VIEWER?"28px":"-20px";return r.createElement("div",{className:e.addPaddingTop?Y:"team_join_link_permissions--loadedViewWrapper--LjAIr"},r.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},r.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&r.createElement(d.kt,null),e.url&&r.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),r.createElement("div",{onClick:r=>{r.stopPropagation(),e.url&&(e.dropdownShown?t(U.oB()):t(U.j7({type:a})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},r.createElement("span",null,(0,w.C1)(e.currentLevel)),r.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},r.createElement(B.B,{svg:J.A})),e.dropdownShown&&e.dropdownShown.type===a&&r.createElement(D.W.Dropdown,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:l}},e.inviteLevels.map((t,a)=>r.createElement(D.W.CheckableOption,{key:a,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,w.C1)(t)))))),r.createElement(P.$$,{className:"team_join_link_permissions--copyLinkButton--X-8QT",onClick:()=>{e.url&&t(W.LN({teamId:e.teamId,url:e.url,source:W.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},r.createElement(m.Tx,{id:"team_join_links.copy_link"})))}function et(e){return r.createElement("div",{className:Y},r.createElement(m.Tx,{id:"team_join_links.share_a_secret_link_people_can_use_to_join_your_team"})," ",r.createElement(P.Us,{onClick:e.turnOnInviteLinks,trusted:!0},r.createElement(m.Tx,{id:"team_join_links.turn_on_invite_links"})))}let ea="RESET_LINKS_CONFIRMATION_MODAL";(0,j.Ju)(function(e){let t=(0,n.wA)();return r.createElement(z.aF,{className:"team_join_link_permissions--confirmationModal--iwmpk",size:288,dispatch:t},r.createElement("div",{className:"team_join_link_permissions--titleAndCloseButton--5XqxG"},r.createElement(M.s_,{dispatch:t}),r.createElement("div",{className:"team_join_link_permissions--confirmationModalTitle--Htxwx"},r.createElement("span",null,r.createElement(m.Tx,{id:"team_join_links.reset_invite_links"})))),r.createElement("p",{className:"team_join_link_permissions--confirmationModalBody--qUqac"},r.createElement(m.Tx,{id:"team_join_links.modal_description"})),r.createElement("div",{className:"team_join_link_permissions--confirmationModalButtonContainer--rsNVu"},r.createElement(P.tM,{onClick:()=>t(g.Lo())},r.createElement(m.Tx,{id:"team_join_links.cancel"})),r.createElement(P.qM,{onClick:()=>{e.resetLink(),t(g.Lo())}},r.createElement(m.Tx,{id:"team_join_links.reset_links"}))))},ea);var er=a(456671),en=a(485754),el=a(903922),ei=a(590886),es=a(680995),eo=a(17540),ec=a(479137),ed=a(515471),em=a(585101);function eu(e){let{team:t,org:a}=e,l=(0,n.d4)(e=>(0,x.getPermissionsState)(e)),i=(0,x.canAdminTeam)(t.id,l),s=r.createElement(B.B,{className:ed.wk,svg:em.A});e.sharingAudienceControl===h.PQ.ORG_EDIT||e.sharingAudienceControl===h.PQ.ORG_VIEW?s=r.createElement("div",{className:ed.H},r.createElement(eo.Ro,{size:24,className:ed.$h,entity:a||t})):(e.sharingAudienceControl===h.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===h.PQ.WORKSPACE_VIEW)&&(s=r.createElement("div",{className:ed.H},e.workspace&&r.createElement(eo.z6,{entity:e.workspace,size:24})));let o=e.sharingAudienceControl===h.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable;return r.createElement("div",{className:o?ed.zJ:ed.xf},s,r.createElement("div",{className:ed.$S},r.createElement("div",null,(0,ec.wO)(h.vt.TEAM,e.org,e.workspace,e.sharingAudienceControl),o&&r.createElement("div",{className:ed.JZ},(0,m.t)("team_creation.anyone_can_find_this_team"))),e.org&&r.createElement("div",null,r.createElement("button",{className:ed.H0,onClick:()=>e.changeModalView(1),disabled:!i,"data-tooltip-type":$.Ib.TEXT,"data-tooltip":i?void 0:(0,m.t)("team_view.team_permissions_modal.only_team_editors_can_change_access_settings"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300,"data-tooltip-show-above":!0,"data-onboarding-key":es.F},r.createElement(m.Tx,{id:"team_view.team_permissions_modal.change"})),i&&r.createElement(es.j,null))))}var e_=a(503249),ep=a(225530);function eg(e){let t=e.teams[e.modalShown.data.teamId];return r.createElement(ef,{team:t,notifyOnSuccess:!!e.modalShown.data.notifyOnSuccess,initialInviteLevel:e.modalShown.data.initialInviteLevel,prepopulateEmail:e.modalShown.data.prepopulateEmail,initialView:e.modalShown.data.initialView,...e})}let eE={domains:[],isFetching:!1,fetchedAt:null};function ef(e){let{user:t,team:a,initialInviteLevel:F,prepopulateEmail:M,autocomplete:D,contacts:P,dispatch:B}=e,U=t.id,W=(0,c.Rs)(v.GyZ,{teamId:a.id}),V=(0,r.useMemo)(()=>(0,T.X)(W),[W]),G=V&&V.org,$=V&&V.teamSharingSettings,j=V&&V.orgUser,H=G?G.id:null,q=V&&V.workspace,z=(0,k.D)((null==a?void 0:a.id)||null,H),Y=G&&G.org_domains?G.org_domains:eE,K=(0,n.d4)(e=>e.contacts.googleContacts),J=(0,E.d$)({userId:U,currentOrgId:H,tracked:!1}),[Z,X]=(0,r.useState)([]),[ee,et]=(0,r.useState)([]),ea=r.useMemo(()=>{let t=e.roles.byTeamId[a.id]||{};return Object.keys(t).map(e=>t[e]).sort((e,t)=>new Date(e.created_at)<new Date(t.created_at)?-1:1)},[e.roles.byTeamId,a.id]);(0,r.useEffect)(()=>{B(p.um())},[B]),(0,r.useEffect)(()=>{let e=(0,N.Uj)(D,P.usersByEmail,t,ea,K,J);X(e.filter(e=>!e.isAdditionalContact)),et(e.filter(e=>e.isAdditionalContact))},[D,P.usersByEmail,t,ea,K,J]);let es=e=>F||(!(0,y.w5)(a)&&e?S.e.EDITOR:S.e.VIEWER),[eo,ec]=(0,r.useState)(()=>es((0,x.canEditTeam)(a.id,e))),ed=(0,r.useCallback)(e=>(0,T.yI)(e,P.usersByEmail[e]||e,G,Y,t.email),[P.usersByEmail,Y,t.email,G]);(0,r.useEffect)(()=>{if(M){let e=ed(M);B(_.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[M,ed,B]);let em=e=>{ec(e)},eg=e=>(0,T.t9)(e,G,Y),ef=r=>{let n;let l=(0,I.Z)(r);K&&(n=new Set(K.map(e=>e.email))),B((0,C.rq)({emails:l,resourceType:h.vt.TEAM,resourceIdOrKey:a.id,level:eo,emailsToExclude:(0,N.bp)(P.usersByEmail,t,ea),onSuccess:({invites:t,over_editor_limit:a},r)=>{if(eo>=S.e.EDITOR&&a){let a=(0,x.getResourceTeamId)(t[0],e),r=a&&{...e.teams[a],canEdit:(0,x.canEditTeam)(a,e),canAdmin:(0,x.canAdminTeam)(a,e)};B(g.to({type:R.oE,data:{team:r,invitesSent:t.length}}));return}r||z||ev(),e.notifyOnSuccess&&t.length>0&&!z&&B(u.F.enqueue({message:(0,m.t)("team_view.team_permissions_modal.invite_sent",{numInvites:t.length})}))},source:"team_share_modal",googleContactsEmails:n,orgName:G?G.name:void 0}))},eh=e=>{if(G&&G.domain_capture&&Y&&Y.domains.length>0){let t=(0,I.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,b.H_)(Y.domains,e));if((null==G?void 0:G.invite_whitelist_guest_invite_setting)==null&&t.length>0){B(g.to({type:en.F,data:{emails:t,onConfirm:()=>{ef(e)},popStack:!0,orgName:G.name}}));return}}ef(e)},ev=()=>{B(g.Ce()),B(_.cL())},eb=e=>{e.keyCode!==o.Uz.ESCAPE&&e.stopPropagation()},ey=(0,x.canEditTeam)(a.id,e),ew=(0,x.canViewTeam)(a.id,e),eT=(0,x.canAdminTeam)(a.id,e),ex=!a.org_id,[eC,eN]=r.useState(e.initialView||0);return r.createElement(f.fu,{name:"Share Modal",properties:{resourceType:h.vt.TEAM,resourceId:a.id}},r.createElement(L.XV,{title:r.createElement(r.Fragment,null,0===eC?r.createElement("div",{className:ep.DA},r.createElement("p",null,z?r.createElement(m.Tx,{id:"team_view.team_permissions_modal.share_this_team"}):r.createElement(m.Tx,{id:"team_view.team_permissions_modal.invite_team_members"}))):r.createElement(el.w,{title:(0,m.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eN(0)})),maxWidth:ex?484:T.k4,fixedTop:!0,onClose:ev},0===eC?(()=>{if(!V)return r.createElement("div",{className:ep.Lq},r.createElement(d.qc,null));let n=[];return eT&&n.push(S.e.ADMIN),ey&&n.push(S.e.EDITOR),ew&&n.push(S.e.VIEWER),(0,i.KF)(n.length>0,"there should be at least one role (the user's own)"),r.createElement(r.Fragment,null,r.createElement("div",{key:"container",className:ep.SS,onKeyDown:eb},ex&&r.createElement(r.Fragment,null,r.createElement(Q,{teamId:a.id,dropdownShown:e.dropdownShown,initialInviteLevel:es(ey)}),r.createElement("div",{className:ep.Vq},r.createElement(m.Tx,{id:"team_view.team_permissions_modal.invite_by_email"}))),(0,er.r)(t)?r.createElement(er.X,{resourceType:"team"}):r.createElement("div",{className:ep.Zk},r.createElement(A.e,{autocomplete:D,buttonText:z?(0,m.t)("team_view.team_permissions_modal.invite"):(0,m.t)("team_view.team_permissions_modal.send_invite"),dispatch:B,dropdownKey:"permissions-invite-dropdown",dropdownShown:e.dropdownShown,inviteLevel:eo,getSelectText:w.C1,onInviteLevelChange:em,options:n,onSubmit:eh,searchResultToken:eg,fetchAsyncSearchResults:e=>(0,N.Wj)(e,P.usersByEmail,t,ea,H,a.id,null,(null==j?void 0:j.permission)===h._D.GUEST),searchResults:()=>Z,additionalSearchResults:ee,validateToken:ed,TokenComponent:O.gy,SearchResultComponent:O.o6,joinLinkShown:ex,shouldAutoFocus:!ex,inGoogleContactsExp:J,onTokenAddedSideEffect:e=>{let t="string"!=typeof e&&!!(null==K?void 0:K.find(t=>t.email===e.email));(0,l.sx)("Contact Suggestion Selected",{isGoogleContact:t})},onInputFocusSideEffect:()=>{(0,E.d$)({userId:U,currentOrgId:H,tracked:!0})},onHideModal:ev,placeholderText:z?(0,m.t)("team_creation.add_a_name_or_email"):void 0})),z&&G&&r.createElement("div",{className:ep.st},r.createElement("div",{className:ep.d3},r.createElement(eu,{team:a,workspace:q,org:G,changeModalView:eN,sharingAudienceControl:null==$?void 0:$.sharingAudienceControl,isTeamOrgBrowsable:null==$?void 0:$.orgBrowsable}),ea.map((n,l)=>r.createElement(e_.O,{key:`role-row-${l}`,role:n,user:t,currentUserOrgId:H,isOwnerOfResource:(0,x.isResourceOwner)(t.id,a.id,h.vt.TEAM,e.roles),isOrgUser:!!n.org_user,currentOrg:G,resourceName:a.name,resource:{team:a,type:h.vt.TEAM},canEditRole:(0,x.canEditRole)(n,e),canMakeAdmin:!!(null==V?void 0:V.canAdmin),readOnlyOverrideWarningMessage:null,orgDomains:Y}))))))})():G?$&&r.createElement(ei.nH,{team:a,workspace:q||void 0,org:G,teamSharingSettings:$,hideModal:ev,goBack:()=>eN(0)}):r.createElement(r.Fragment,null)))}},316648:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TeamRenameModal:()=>c});var r=a(411855),n=a(188507),l=a(932271),i=a(333930),s=a(479163),o=a(321669);function c({team:e}){let t=(0,n.wA)();return r.createElement(o.c,{initialName:e.name,maxLength:s.qg,placeholder:(0,l.t)("resource_rename_modal.team.placeholder"),submitText:(0,l.t)("resource_rename_modal.team.submit"),onRename:a=>t((0,i.IA)({team:e,name:a}))})}},304030:(e,t,a)=>{"use strict";a.d(t,{cx:()=>l});var r=a(5513),n=a(196700);a(547202);let l=n.A.createLazyComponent(()=>Promise.resolve().then(a.bind(a,547202)).then(e=>e.default),{loading:()=>null,error:r.H4.NONE,componentName:"FileBrowserOverlays"})},475383:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EduUpgradeModal:()=>p});var r=a(411855),n=a(188507),l=a(434329),i=a(932271),s=a(266321),o=a(864029),c=a(297195),d=a(887348),m=a(298941),u=a(178491),_=a(924670);function p(){let e=(0,n.d4)(e=>e),t=(0,n.wA)(),a=r.useCallback(()=>{t(c.Ce())},[t]),p=r.useCallback(e=>{a(),t(d.Vm({teamId:e.id}))},[t,a]),g=r.useCallback(()=>{a(),t(o.Dw({isEduTeam:!0}))},[t,a]),E=r.useMemo(()=>(0,u.Kg)(e),[e]);return r.useLayoutEffect(()=>{0===E.length&&g()},[t,E.length,g]),r.createElement(m.fu,{name:"Edu Team Upgrade Modal"},r.createElement(_.XV,{title:(0,i.t)("edu.upgrade_teams.headline"),onClose:a},r.createElement("div",{className:"edu_upgrade_modal--container--i6yXs"},r.createElement("p",{className:"edu_upgrade_modal--bodyText----Png"},r.createElement(i.Tx,{id:"edu.upgrade_teams.body",link:r.createElement(l.Ph,{className:"edu_upgrade_modal--link--iViOy",href:"/pricing",target:"_blank",trusted:!0},r.createElement(i.Tx,{id:"edu.upgrade_teams.body_link_text"}))}),E.length>1&&r.createElement(r.Fragment,null," ",r.createElement(i.Tx,{id:"edu.upgrade_teams.body_multiple_teams"}))),r.createElement(s.I,{eligibleTeams:E,selectTeam:p,showEditorCount:!1,customUpgradeText:(0,i.t)("general.next")}),r.createElement(l.Ph,{className:"edu_upgrade_modal--createTeamLink--BG8ak edu_upgrade_modal--link--iViOy",onClick:g,trusted:!0},r.createElement(i.Tx,{id:"edu.or_create_a_new_team"})))))}},422747:(e,t,a)=>{"use strict";let r,n,l,i,s,o,c,d,m,u,_,p,g,E,f,h,v,b,y,w,T,x,C,N,k,S,I,A,L,R,O,F,M,D,P,B,U,W,V,G,$,j,H,q,z,Y,K,J,Z,Q,X;a.r(t),a.d(t,{FileBrowserView:()=>$p,FileDragOutline:()=>$g});var ee,et,ea,er,en,el,ei,es,eo={};a.r(eo),a.d(eo,{Left:()=>cs,Right:()=>co});var ec={};a.r(ec),a.d(ec,{Left:()=>cc,Right:()=>cd});var ed={};a.r(ed),a.d(ed,{Left:()=>cm,Right:()=>cu});var em={};a.r(em),a.d(em,{Left:()=>c_,Right:()=>cp});var eu={};a.r(eu),a.d(eu,{Left:()=>cg,Right:()=>cE});var e_={};a.r(e_),a.d(e_,{bannerChildDefault:()=>Th,bannerChildWarning:()=>Tv});var ep=a(411855),eg=a(188507),eE=a(460333),ef=a(10345),eh=a(840192),ev=a(896449),eb=a(94626),ey=a(288569),ew=a(263537),eT=a(333496),ex=a(276136),eC=a(679339),eN=a(753178),ek=a(629019),eS=a.n(ek),eI=a(434329),eA=a(265713),eL=a(579116),eR=a(963956),eO=a(461144),eF=a(74843),eM=a(160931),eD=a(108545),eP=a(293014),eB=a(444077);let eU=ep.memo(function(e){let t,a;"implicit"===e.consentRegion?(t=eF.Ml,a=eF.e2):"explicit"===e.consentRegion&&(t=(0,eO.aJ)(),a=(0,eO.Sz)());let r=(0,eR.A4)(),n=(0,eh.kc)().cmty_move_up_cookie_button;return ep.createElement("div",{role:"region","aria-label":t,className:eS()(eD.MZ,{[eD.aR]:r&&n})},ep.createElement(eI.Yo,{className:eD.o2,rel:"noopener",target:"_blank",href:a},ep.createElement(eL.B,{svg:eP.A})),ep.createElement("span",{className:eD.R2,"aria-hidden":"true"},t))}),eW=ep.memo(function(){return(0,eh.kc)().cookie_banners_community?"implicit"===(0,eh.Ay)().consent_region?ep.createElement(eF.C$,{variant:eM.a.COMMUNITY,dismissIcon:eB.A,SecondaryButton:e=>ep.createElement(eA.Wd,{fullWidth:!1,className:eD.Rn,use:"hollow",...e}),persistentMessage:ep.createElement(eU,{consentRegion:"implicit"})}):"explicit"===(0,eh.Ay)().consent_region?ep.createElement(eO.ZQ,{variant:eM.a.COMMUNITY,dismissIcon:eB.A,SecondaryButton:e=>ep.createElement(eA.Wd,{fullWidth:!1,className:eD.Rn,use:"hollow",...e}),PrimaryButton:e=>ep.createElement(eA.Wd,{fullWidth:!1,className:eD.Rn,use:"standard",...e}),persistentMessage:ep.createElement(eU,{consentRegion:"explicit"})}):null:null});var eV=a(651820),eG=a(988966),e$=a(932271),ej=a(577378),eH=a(298941);let eq="footer--divider--srDs2";var ez=a(463971);let eY=eG.object({label:eG.string(),url:eG.string()});function eK(){let e=[{title:(0,e$.t)("community.footer.popular_searches"),items:[{label:(0,e$.t)("community.footer.resume"),url:"/community/category/portfolios-resumes"},{label:(0,e$.t)("community.footer.mobile_apps"),url:"/community/category/mobile-apps"},{label:(0,e$.t)("community.footer.presentations"),url:"/community/category/presentations"},{label:(0,e$.t)("community.footer.ui_kits"),url:"/community/category/ui-kits"},{label:(0,e$.t)("community.footer.standup_template"),url:"/community/category/team-meetings"}]},{title:(0,e$.t)("community.footer.most_used"),items:[{label:"Material Design Icons",url:"/community/file/878585965681562011"},{label:"Apple Design Resources",url:"/community/file/1248375255495415511"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},(0,eh.kc)().cmty_collections_v2?{title:(0,e$.t)("community.footer.top_collections"),items:[{label:(0,e$.t)("community.collections.instagram_templates"),url:"/community/collections/instagram-mockup-designs"},{label:(0,e$.t)("community.collections.landing_page"),url:"/community/collections/landing-page-design-examples"},{label:(0,e$.t)("community.collections.email_design_inspiration"),url:"/community/templates/email-design-inspiration"},{label:(0,e$.t)("community.collections.laptop_mockups"),url:"/community/templates/laptop-mockups"},{label:(0,e$.t)("community.collections.arrow_designs"),url:"/community/collections/arrow-designs"}]}:{title:(0,e$.t)("community.footer.trending_resources"),items:[{label:"JamBot",url:"/community/widget/1274481464484630971"},{label:"Autoflow",url:"/community/plugin/733902567457592893/autoflow"},{label:"Mesh gradient",url:"/community/plugin/958202093377483021/mesh-gradient"},{label:"html.to.design",url:"/community/plugin/1159123024924461424/html-to-design"},{label:"Status Stamp",url:"/community/widget/1294022067228783307"}]},{title:(0,e$.t)("community.footer.top_categories"),items:[{label:(0,e$.t)("categories.design_templates"),url:"/community/category/design-templates"},{label:(0,e$.t)("categories.libraries"),url:"/community/category/libraries"},{label:(0,e$.t)("categories.icons"),url:"/community/category/icons"},{label:(0,e$.t)("categories.development"),url:"/community/category/development"},{label:(0,e$.t)("categories.brainstorming"),url:"/community/category/brainstorming"}]}];function t({href:e,children:t}){return ep.createElement(eH.L0,{href:e,trackingEventName:"cmty_footer",trackingProperties:{name:"footer_link_clicked",link:e}},t)}return ep.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},ep.createElement("div",{className:"footer--sectionsContainer--BR5as"},e.map(e=>ep.createElement(ej.Y,{key:e.title,direction:"vertical",padding:{right:16}},ep.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>ep.createElement(t,{key:e.url,href:e.url},e.label))))),ep.createElement(ej.Y,{direction:"vertical",spacing:16},ep.createElement(t,{href:"/"},ep.createElement(eL.B,{svg:ez.A,className:"footer--wordmark--CrA9E"})),ep.createElement("div",null,ep.createElement("span",null,ep.createElement(e$.Tx,{id:"community.footer.copyright"})),ep.createElement("span",{className:eq},"\u2022"),ep.createElement(t,{href:"/sitemaps/figma-community-index.xml"},ep.createElement(e$.Tx,{id:"community.footer.site_map"})),ep.createElement("span",{className:eq},"\u2022"),ep.createElement(t,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},ep.createElement(e$.Tx,{id:"community.footer.community_guidelines"})),ep.createElement("span",{className:eq},"\u2022"),ep.createElement(t,{href:"/community-terms"},ep.createElement(e$.Tx,{id:"community.footer.terms_of_service"})))))}eG.object({title:eG.string(),items:eG.array(eY)});var eJ=a(275241),eZ=a(479424),eQ=a(110701),eX=a(294234),e0=a(297195),e1=a(609583),e2=a(503182),e4=a(152422),e3=a(86810),e8=a(131923),e5=a(683812),e6=a(795095),e9=a(388461),e7=a(17540),te=a(781779),tt=a(163056);let ta=[{img:"https://static.figma.com/uploads/49e43aec887df7422ff9643d11465bcdeded548e",color:te.WGG},{img:"https://static.figma.com/uploads/c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27",color:te.WGG},{img:"https://static.figma.com/uploads/3f772c66c1cddf1d0b6c5f8f41395bcafd135566",color:te.WGG},{img:"https://static.figma.com/uploads/960d3a00ab8d8c4db2f27b7814c911ae974c770b",color:te.BYv},{img:"https://static.figma.com/uploads/cda2753116908ec0abf57b611934479cebbcdbeb",color:te.BYv},{img:"https://static.figma.com/uploads/37f4db88a8104a239f3d761763f8d7e0826d7765",color:te.BYv}];function tr({profileId:e}){let t=(0,eg.d4)(e=>e.loadingState),a=(0,eg.d4)(e=>e.communityHub.currentProfile),[r,n]=ep.useState((0,e3.g)()),l=ep.useRef(null),i=(0,eg.wA)(),s=(0,eg.d4)(e=>(0,e6.jG)(a,e)),o=(0,e6.si)(a),c=(0,eh.kc)().cmty_deprecate_browse_as_admin?o:s,d=eQ.Ai.loadingKeyForPayload({profileId:e}),m=(0,e1.VP)(t,d),u=t=>{null!=t&&i(eQ.Ai({profileId:e,file:t,onSuccessCallback:_}))},_=()=>{n((0,e3.g)())},p=async()=>{var e;try{let t=null==(e=l.current)?void 0:e.files;if(!t||0===t.length||!t[0])throw Error("File not found");let a=t[0];(0,e6.YU)(a);let r=await (0,e9.l8)(URL.createObjectURL(a));if(r.width>e6.M0||r.height>e6.Zs)throw Error((0,e$.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:e6.M0,PROFILE_COVER_IMAGE_MAX_HEIGHT:e6.Zs}));if(r.width<e6.gZ||r.height<e6.xj)throw Error((0,e$.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:e6.gZ,PROFILE_COVER_IMAGE_MIN_HEIGHT:e6.xj}));u(a)}catch(e){i(e5.s.error(e.message))}l.current&&(l.current.value="")};return ep.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:null==a?void 0:a.cover_image_path,style:{backgroundColor:te.Bj4,...(null==a?void 0:a.redirect_cover_image_url)?{backgroundImage:`url(${a.redirect_cover_image_url}?${r})`}:function(e){if(null==e||!e.id)return;let t=ta[parseInt(e.id.length>=4?e.id.slice(e.id.length-4):"0")%ta.length];return{backgroundImage:`url(${t.img})`,backgroundColor:t.color}}(a)}},ep.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},ep.createElement(e7.Ro,{entity:{...a,img_url:(null==a?void 0:a.img_urls["500_500"])||(null==a?void 0:a.img_url)||void 0},size:96,className:"profile_header--avatarBackground--5XTWL"})),c&&ep.createElement(ep.Fragment,null,ep.createElement("input",{type:"file",accept:"image/*",ref:l,onChange:p,style:{display:"none"}}),ep.createElement(eL.B,{svg:tt.A,className:"profile_header--uploadIcon--FFtoL",onClick:()=>{var e;null==(e=l.current)||e.click()}}),m&&ep.createElement(e8.qc,null)))}tr.displayName="ProfileHeader";var tn=a(18084),tl=a(919684),ti=a(685512),ts=a(716649),to=a(935360),tc=a(107897),td=a(952762),tm=a(800688);let tu=/(https?:\/\/)?(www\.)?figma.com\/@/;function t_(e){return ep.createElement(tc.A,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(tu,"@")}},e)}class tp extends td.uA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return ep.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return ep.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return ep.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&ep.createElement(tm.v,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}tp.displayName="FormattedExpandingTextarea";var tg=a(985303),tE=a(88490),tf=a(85840),th=a(718096),tv=a(446024),tb=a(158441);function ty({children:e}){return ep.createElement(ep.Fragment,null,e)}var tw=a(7228),tT=a(637961);let tx=e=>{let t={};return e.filter(e=>{let a="model"in e?e.model.id:e.id;return!t[a]&&(t[a]=!0,!0)})};function tC(e="normal"){return"rows"===e?tT.bu:"profile"===e?tT._1:"compact"===e?tT.en:tT.z3}function tN({resources:e,adtlClassName:t,showAsTable:a=!1,showMoreCallback:r,onIntersectionChange:n,viewContext:l="feedResourceGrid",TileWrapper:i=ty}){let s=(0,eg.d4)(e=>e.authedActiveCommunityProfile),o=(0,th.S)(),c=ep.useMemo(()=>tx(e),[e]);return ep.createElement(eH.fu,{name:l},ep.createElement("div",{className:t||tT.z3},c.map((e,t)=>"is_widget"in e?e.is_widget?ep.createElement(i,{key:`widget-${e.id}`,resourceId:e.id,resourceType:tv.vt.WIDGET,resourceName:(0,eR.qD)(e).name},ep.createElement(tw.bN,{key:`widget-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o,subView:l})):a?ep.createElement(i,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:tv.vt.PLUGIN,resourceName:(0,eR.qD)(e).name},ep.createElement(tw.mb,{key:`pluginRow-${e.id}`,index:t,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o,isOrgTeamBrowsing:!!((null==s?void 0:s.team_id)||(null==s?void 0:s.org_id))})):ep.createElement(i,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:tv.vt.PLUGIN,resourceName:(0,eR.qD)(e).name},ep.createElement(tw.cS,{index:t,key:`plugin-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o,subView:l})):"resources"in e?ep.createElement(i,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},ep.createElement(tw.Yw,{index:t,key:`profileRow-${e.model.id}`,resource:e,animationIndex:t%30,authedActiveCommunityProfile:s,trackingInfo:o})):"profile_handle"in e?ep.createElement(i,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},ep.createElement(tw.UG,{key:`profile-${e.id}`,resource:e})):ep.createElement(i,{key:`file-${e.id}`,resourceId:e.id,resourceType:tv.vt.HUB_FILE,resourceName:(0,eR.qD)(e).name},ep.createElement(tw.Cv,{index:t,key:`file-${e.id}`,resource:e,animationIndex:t%30,onIntersectionChange:t=>null==n?void 0:n(e,t),trackingInfo:o,subView:l})))),e.length>0&&r&&ep.createElement(tb.a,{callback:e=>{e[0].isIntersecting&&r()}}))}var tk=a(520287),tS=a(543587),tI=a(421968),tA=a(666925),tL=a(354853),tR=a(470458),tO=a(411066),tF=a(562390),tM=a(665430),tD=a(95706);let tP="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class tB extends ep.PureComponent{render(){return ep.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let tU=(0,eg.Ng)(e=>({user:e.user||null}))(tB);class tW extends ep.PureComponent{constructor(){super(...arguments),this.headerContentRef=ep.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(tP):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(tP))}}render(){return ep.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},ep.createElement(tD.a,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),ep.createElement(tU,null,ep.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var tV=a(176884),tG=a(280334),t$=a(471123);function tj(){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,e$.t)("community.seller.profiles.check_out_your_stats")),ep.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,e$.t)("community.seller.profiles.added_some_metrics")))}let tH="metrics_tab_onboarding_key";var tq=a(394297),tz=a(410167),tY=a(683423),tK=a(487008),tJ=a(261465),tZ=a(356651),tQ=a(129233),tX=a(399035),t0=a(45709),t1=a(703038),t2=a(775002),t4=a(719010);let t3=(0,tZ.r1)(tX.e9);function t8({onboardingKey:e}){let t=(0,tY.md)(t3),a=(0,tJ.e)({overlay:t4.O9D,priority:tQ.N.SECONDARY_MODAL},[t]);return(0,tz.h)(()=>{a.show({canShow:e=>!e})}),(0,tK.E)(a.uniqueId,"profile-metrics-tab-clicked",()=>{a.isShowing&&a.complete()}),ep.createElement(t0.M,{isShowing:a.isShowing,userFlagOnShow:tX.e9},ep.createElement(eH.fu,{name:"Community monetization creator dashboard onboarding"},ep.createElement(t2.NJ,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:t1.EL.FALLBACK,dismissModal:a.complete},ep.createElement(tj,null))))}var t5=a(114017),t6=a(428488),t9=a(592945),t7=a(447620),ae=a(847767),at=a(845628),aa=a(443149),ar=a(834296);let an=(0,at.nF)(async(e,t,{loadingKey:a})=>{var r;try{let n=ae.Ay.post("/api/community/seller/stripe_dashboard");(0,aa.N)(n,e,a);let l=await n;if(!(null==(r=null==l?void 0:l.data)?void 0:r.meta)){null==t||t.callback(!1);return}let i=l.data.meta;e.dispatch((0,ar.RK)({rawInput:i})),setTimeout(()=>{null==t||t.callback(!0)},1e3)}catch(e){null==t||t.callback(!1)}});var al=a(586654),ai=a(800725),as=a(709198),ao=a(219312),ac=a(817660),ad=a(308106),am=a(961958),au=a(131413),a_=a(139387);let ap=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,tR.iZ)(),[a,r]=ep.useState([]),[n,l]=ep.useState(!0),[i,s]=ep.useState(!0),[o,c]=ep.useState(!1),[d,m]=ep.useState(!1),u=ep.useRef(null);(0,tz.h)(()=>{ad.C.getCmtyCreatorPayoutStatements({userId:null==t?void 0:t.id}).then(({data:e})=>{l(!1),r(e.meta)}).catch(()=>{e(t6.F.enqueue({type:"get-payout-statements-error",message:(0,e$.t)("community.seller.payout_statement_error"),error:!0}))})});let _=e=>new Date(e.year,e.month-1).toLocaleDateString(void 0,{year:"numeric",month:"long"}),p="creator_payout_statements_modal--scrollContainer--8j6P4";return d&&(i||(p+=" creator_payout_statements_modal--topBorder--OHBCp"),o||(p+=" creator_payout_statements_modal--bottomBorder--tNtIc")),ep.createElement(au.Rw,{dispatch:e,title:(0,e$.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,e$.t)(0===a.length?"general.got_it":"general.done"),onConfirm:ev.lQ,hideConfirmationTitle:!0,hideCancel:!0},n?ep.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},ep.createElement(e8.kt,null)):ep.createElement("div",null,0===a.length&&ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.seller.no_payout_statements_yet"})),a.length>0&&ep.createElement(ep.Fragment,null,ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.seller.click_to_download_statements"})),ep.createElement(ac.P,{className:p,ref:u,onCanScrollChange:e=>{m(e)},onScroll:(e,t)=>{s(0===e),c(e+t.trackHeight>=t.scrollHeight)}},a.map(e=>ep.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},ep.createElement(eL.B,{svg:a_.A}),_(e)))))))},"CreatorPayoutStatementsModal");var ag=a(319974),aE=a(860168);let af="profile_resources_grid--tabContainer--UsmoU",ah="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",av="profile_resources_grid--tabBadge--l97Nx",ab="profile_resources_grid--labelBadgeContainer--gc9j0",ay="profile_resources_grid--selected--6CtGL",aw="profile_resources_grid--newBadge--LOtSf",aT="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",ax="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",aC="profile_resources_grid--followsData--WkXSx",aN="profile_resources_grid--followsDataClickable--PHNwr",ak="profile_resources_grid--followsDataCount--MoS2I",aS="profile_resources_grid--loadingContainer--hsPEQ",aI="profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ",aA="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",aL="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",aR="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",aO="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",aF="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",aM="profile_resources_grid--emptyStateContainer--EJug9",aD="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",aP="profile_resources_grid--emptyStateText--oEJHa",aB="profile_resources_grid--emptyStateMetricLabel--XqzzA",aU="profile_resources_grid--bannerContainer--eb6mO",aW="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",aV="profile_resources_grid--metricContainer--SuhZ3",aG="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",a$="profile_resources_grid--lockIcon--4VJCL",aj="profile_metrics_stats--divider--U2a8K";var aH=a(419902);let aq=(0,ti.jz)(aE.dxy);function az({tooltipText:e}){return ep.createElement(tV.z,{query:`(min-width: ${aq}px)`},ep.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},ep.createElement(eL.B,{svg:aH.A,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function aY({valueClassName:e,value:t,labelClassName:a,label:r,children:n}){return ep.createElement("div",{className:aV},ep.createElement("div",{className:e},t),ep.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},ep.createElement("span",{className:a},r),n))}function aK(){return ep.createElement("div",{className:aV},ep.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),ep.createElement("div",{className:aB}))}function aJ({children:e}){return ep.createElement("div",{className:aL},ep.createElement(aK,null),ep.createElement("div",{className:aj}),ep.createElement(aK,null),ep.createElement("div",{className:aj}),ep.createElement(aK,null),e)}function aZ({totalViewCount:e,metricValueStyle:t,metricLabelStyle:a,totalPurchases:r,totalEarned:n,children:l}){return ep.createElement("div",{className:aL},ep.createElement(aY,{valueClassName:t,value:e,labelClassName:a,label:(0,e$.t)("community.seller.total_views")}),ep.createElement("div",{className:aj}),ep.createElement(aY,{valueClassName:t,value:r,labelClassName:a,label:(0,e$.t)("community.seller.total_purchases")},ep.createElement(az,{tooltipText:(0,e$.t)("community.seller.total_purchases_includes")})),ep.createElement("div",{className:aj}),ep.createElement(aY,{valueClassName:t,value:n,labelClassName:a,label:(0,e$.t)("community.seller.total_earned")},ep.createElement(az,{tooltipText:(0,e$.t)("community.seller.all_sales_before_figmas_fees")})),l)}var aQ=a(574169);let aX="resource_stat_row--rowContainer--rapbF",a0="resource_stat_row--resourceMetadataContainer--bdvI3",a1="resource_stat_row--allStatContainer--vXmae",a2="resource_stat_row--statContainer--gp6KZ",a4="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",a3="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",a8="resource_stat_row--verticalDivider--Whn5d",a5="resource_stat_row--textMetadataContainer--oQv9J",a6=(0,ti.jz)(aE.ZI8);function a9({resource:e}){return"hub_file"===(0,eR.Vm)(e)?ep.createElement(tw.Cv,{resource:e,isMetaHidden:!0}):"plugin"===(0,eR.Vm)(e)?ep.createElement(tw.cS,{resource:e,isMetaHidden:!0}):ep.createElement(tw.bN,{resource:e,isMetaHidden:!0})}function a7({resource:e}){let{name:t,created_at:a}=(0,eR.qD)(e),r=new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,t7.bV)(e.monetized_resource_metadata):"",l=`/community/${(0,eR.ss)(e)}/${e.id}`;return ep.createElement("div",{className:a0},ep.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},ep.createElement(a9,{resource:e})),ep.createElement(tV.z,{query:`(min-width: ${a6}px)`},ep.createElement("div",{className:a5},ep.createElement("div",null,ep.createElement(ex.A6,{to:l,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),ep.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,e$.t)("community.seller.last_updated_on",{date:r}))),ep.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function re({value:e,label:t}){return ep.createElement("div",{className:a2},ep.createElement("span",{className:a4},e),ep.createElement("span",{className:a3},t))}function rt(){return ep.createElement("div",{className:a2},ep.createElement("span",{className:a4},ep.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),ep.createElement("span",{className:a3},ep.createElement("div",{className:aB})))}function ra(){return ep.createElement("div",{className:a0},ep.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},ep.createElement(e8.kt,null)),ep.createElement(tV.z,{query:`(min-width: ${a6}px)`},ep.createElement("div",{className:a5},ep.createElement("div",null,ep.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),ep.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),ep.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function rr({resource:e}){return ep.createElement("div",{className:aX},ep.createElement(ra,null),ep.createElement("div",{className:a1},ep.createElement(rt,null),ep.createElement("div",{className:a8}),ep.createElement(rt,null),ep.createElement("div",{className:a8}),ep.createElement(rt,null),ep.createElement("div",{className:a8}),ep.createElement(rt,null)))}function rn({resource:e}){var t;let a=(0,eg.wA)(),{id:r,is_subscription:n}=e.monetized_resource_metadata,l=(0,t5.Rs)(ai.aom,{monetizedResourceMetadataId:r}),i=new aQ.vr("usd");if("loading"===l.status)return ep.createElement(rr,{resource:e});if("loaded"!==l.status||(null==(t=l.errors)?void 0:t.length))return a(t6.F.enqueue({message:(0,e$.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),ep.createElement(rr,{resource:e});{let t=l.data.communityM10nResourceStat,a={monetized_resource_metadata_id:null==t?void 0:t.monetizedResourceMetadataId,all_time_total_earned:parseInt((null==t?void 0:t.allTimeTotalEarned)||"0"),monthly_total_earned:parseInt((null==t?void 0:t.monthlyTotalEarned)||"0"),num_purchases:parseInt((null==t?void 0:t.numPurchases)||"0")};return ep.createElement("div",{className:aX},ep.createElement(a7,{resource:e}),ep.createElement("div",{className:a1},ep.createElement(re,{label:(0,e$.t)("community.seller.views_label",{num:e.view_count}),value:e.view_count.toLocaleString()}),ep.createElement("div",{className:a8}),n?ep.createElement(re,{label:(0,e$.t)("community.seller.subscribers_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}):ep.createElement(re,{label:(0,e$.t)("community.seller.purchases_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}),ep.createElement("div",{className:a8}),ep.createElement(re,{label:(0,e$.t)("community.seller.total_earned"),value:i.formatMoney(a.all_time_total_earned)}),ep.createElement("div",{className:a8}),ep.createElement(re,{label:(0,e$.t)("community.seller.earned_this_month"),value:i.formatMoney(a.monthly_total_earned)})))}}function rl({paidResources:e}){return(0,eh.kc)().cmty_m10n_turn_creator_dash_off?ep.createElement(ep.Fragment,null):ep.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},ep.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"community.seller.resources_for_sale",numResources:e.length})),e.map((e,t,a)=>ep.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},ep.createElement(rn,{resource:(0,tv.Ch)(e)}),t<a.length-1&&ep.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function ri(){return ep.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ep.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ep.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ep.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}function rs({paidResources:e,primaryUserId:t}){let a=(0,eg.wA)(),r=(0,tR.iZ)(),[n,l]=ep.useState(!1),[i,s]=ep.useState(!1),o=(0,t5.Rs)(ai.wW7,{userId:t}),c=()=>{s(!0),a((0,e0.to)({type:ao.s,data:{setupStripeCallback:e=>{l(!1),s(!1),e||a(e5.s.error((0,e$.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},d=()=>{l(!0),(0,al.Cu)({user_id:r.id},"stripe_dasbhboard_link_clicked"),a(an({callback:e=>{l(!1),e||a(e5.s.error((0,e$.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function m(){let[e,t]=ep.useState(!1),l="stripe_button";return(null==r?void 0:r.stripe_account_status)&&(null==r?void 0:r.stripe_account_status)!==as.P5.NONE?(null==r?void 0:r.stripe_account_status)===as.P5.ENABLED||(null==r?void 0:r.stripe_account_status)===as.P5.DISABLED?ep.createElement("div",{className:aW},ep.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:d},ep.createElement("div",{className:aR},n&&ep.createElement("div",{className:aO},ep.createElement(e8.kt,{shouldMatchTextColor:!0})),ep.createElement(e$.Tx,{id:"community.seller.view_stripe_dashboard"}))),ep.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{a((0,e0.to)({type:ap,data:{}}))}},ep.createElement(e$.Tx,{id:"community.seller.view_payout_statements"}))):ep.createElement("div",{className:aW},ep.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:c},ep.createElement("div",{className:aR},n&&ep.createElement("div",{className:aO},ep.createElement(e8.kt,{shouldMatchTextColor:!0})),ep.createElement("div",null,u))),ep.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},_)):ep.createElement("div",{className:aW,"data-onboarding-key":l,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)},ep.createElement("button",{className:"profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>t(!e)},ep.createElement(e$.Tx,{id:"community.seller.view_stripe_dashboard"})),e&&ep.createElement(t2.NJ,{targetKey:l,className:"profile_resources_grid--stripeSetupButtonDisabledTooltip--Yv-vM pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:t1.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, $figmaFGBlack)"},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.seller.switch_to_primary_account"}))))}let u=ep.createElement(e$.Tx,{id:"community.seller.set_up_stripe"}),_=ep.createElement(e$.Tx,{id:"community.seller.agree_to_figma_terms_of_service",link:ag.Hl});n?u=ep.createElement(e$.Tx,{id:"community.seller.stripe_loading_text"}):(null==r?void 0:r.stripe_account_status)===as.P5.STARTED_ONBOARDING&&(u=ep.createElement(e$.Tx,{id:"community.seller.finish_stripe_setup_button"}));let p="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",E=ep.createElement(e$.Tx,{id:"community.seller.resource_metrics_coming_soon"}),f=ep.createElement(e$.Tx,{id:"community.seller.working_on_bringing_you_more_in_depth_metrics"});(null==r?void 0:r.stripe_account_status)!==as.P5.ENABLED&&(p="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",g="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let h=e.length>0,v=e.reduce((e,t)=>e+t.view_count,0);return E=ep.createElement(e$.Tx,{id:"community.seller.youre_all_set_up_to_sell_on_community"}),f=ep.createElement(e$.Tx,{id:"community.seller.to_publish_your_first_resource"}),(null==r?void 0:r.stripe_account_status)!==as.P5.ENABLED&&(E=ep.createElement(e$.Tx,{id:"community.seller.resources_youre_selling_will_appear_here"}),f=ep.createElement(e$.Tx,{id:"community.seller.well_show_you_stripe_metrics"})),ep.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},ep.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},ep.createElement(t9.S,{isFirstTimeLoading:i})),(()=>{var e,t;let r=ep.createElement(aJ,null,ep.createElement(m,null));if((0,eh.kc)().cmty_m10n_turn_creator_dash_off||"loading"===o.status)return r;if("loaded"!==o.status||(null==(e=o.errors)?void 0:e.length))return a(t6.F.enqueue({message:(0,e$.t)("community.actions.unable_to_load_creator_stats"),error:!0})),r;{let e=null==(t=o.data.userMonetizationMetadata)?void 0:t.stripeCmtyCreatorStatsMeta,a={num_purchases:(null==e?void 0:e.numPurchases)||(null==e?void 0:e.num_purchases)||0,all_time_total_earned:(null==e?void 0:e.allTimeTotalEarned)||(null==e?void 0:e.all_time_total_earned)||0};return ep.createElement(aZ,{totalViewCount:v,metricValueStyle:p,metricLabelStyle:g,totalPurchases:a[as.VU.NUM_PURCHASES],totalEarned:(0,t7.up)(a[as.VU.ALL_TIME_TOTAL_EARNED])},ep.createElement(m,null))}})(),ep.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),h?ep.createElement(rl,{paidResources:e}):ep.createElement("div",{className:aM},ep.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},ep.createElement(ri,null)),ep.createElement("div",{className:aD},E),ep.createElement("div",{className:aP},f)))}var ro=a(639786),rc=a(585356),rd=a(881772),rm=a(149619),ru=a(217288);let r_=(0,tZ.r1)(tX.cX);function rp({profile:e}){let[t,a]=ep.useState(!1),r=(0,tY.md)(r_),n=(0,eg.wA)();if(t||r.data)return ep.createElement(ep.Fragment,null);let l=ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.profile.creator_banner.you_can_now_add_image_and_video_previews"}),ep.createElement(eH.L0,{href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",trackingProperties:{profileId:e.id},target:"_blank"},ep.createElement(e$.Tx,{id:"community.learn_more"}))),i={id:rm.om.CommunityResourceCreatorBanner,bannerType:rm.x1.INFO,icon:ru.A,iconSize:"large",mainText:(0,e$.t)("community.profile.creator_banner.lets_spruce_things_up"),description:l,dismissible:!0,positionStatic:!0};return ep.createElement(eH.fu,{name:"Profile Creator Upsell Banner",properties:{name:"profile_creator_upsell_banner",profileId:e.id}},ep.createElement(rd.C,{content:i,editorType:ro._YF.DESIGN,onDismiss:()=>{n(rc.b({[tX.cX]:!0})),a(!0),(0,tn.sx)("cmty_profile_creator_upsell_banner_dismissed",{profileId:e.id})}}))}var rg=a(217238),rE=a(34260),rf=a(655195),rh=a(205676),rv=a(338120),rb=a(498646),ry=a(66425),rw=a(482881),rT=((r=rT||{}).COPY_LINK="Copy profile link",r.RESTRICT_USER="Restrict user",r.UNRESTRICT_USER="Unrestrict user",r);let rx=e=>{switch(e){case"Copy profile link":return(0,e$.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,e$.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,e$.t)("community.profiles.unrestrict_user");default:return""}};function rC(){let e=(0,eg.wA)(),t=(0,tR.iZ)(),a=(0,eg.d4)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.profile}),r=(0,eg.d4)(e=>{var t,a;return null==(a=null==(t=e.dropdownShown)?void 0:t.data)?void 0:a.targetRect});if(!a)return ep.createElement(ep.Fragment,null);let n=a.is_restricted_by_current_user,l=()=>{e(rh.lW({stringToCopy:`${window.location.origin}${(0,ry.bL)(a.profile_handle)}`}))},i=a=>{e(eQ._8({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(t6.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,tn.sx)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},s=()=>{e((0,e0.to)({type:rb.H,data:{onBlock:()=>i(a.id),confirmationTitle:`Restrict ${a.name}?`,confirmButtonText:"Restrict"}}))},o=a=>{e(eQ._8({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(t6.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{c(a)}}})),(0,tn.sx)("comment_profile_restricted",{restricted_by_profile_id:null==t?void 0:t.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},c=a=>{e(eQ.dL({blockedProfileId:a,profileId:(null==t?void 0:t.community_profile_id)||"",onSuccess:()=>{e(t6.F.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{o(a)}}})),(0,tn.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:null==t?void 0:t.community_profile_id,unrestricted_profile_id:a,entry_point:"profile_page"})}}))},d=[{displayText:rx("Copy profile link")}];return((null==t?void 0:t.community_profile_id)&&a.entity_type===rv.o1.USER&&(n?d.push({displayText:rx("Unrestrict user")}):d.push({displayText:rx("Restrict user")})),r)?ep.createElement(rw.j,{dispatch:e,items:d,showPoint:!0,parentRect:r,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?l():"Restrict user"===e.displayText?s():"Unrestrict user"===e.displayText&&c(a.id)},minWidth:96}):null}rC.displayName="ProfileMoreActionsDropdown";var rN=a(728859);function rk(e){let t=(0,rE.U)(),a=ep.useRef(null),r=!!(t&&t.type===rg.N9),n=(0,eg.wA)(),l=ep.useCallback(()=>{n(tL.oB())},[n]);return ep.useEffect(()=>(window.addEventListener("scroll",l,!1),()=>{window.removeEventListener("scroll",l,!1)}),[l]),ep.createElement("div",null,ep.createElement(rf.K0,{svg:rN.A,ref:a,onClick:r=>{r.stopPropagation();let i=a.current;t?l():i&&n(tL.j7({type:rg.N9,data:{profile:e.profile,targetRect:i.getBoundingClientRect()}}))},className:r?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("community.profiles.profile_actions")}),r&&ep.createElement(rC,null))}rk.displayName="ProfileMoreActionsButton";var rS=a(28781),rI=a(935991);let rA=new class{constructor(){this.CommunityResourceSavesSchemaValidator=(0,rI.ch)(),this.getCommunityResourceSaves=e=>this.CommunityResourceSavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",rI.td.toAPIParameters(e))),this.CommunityUserResourceInstallsSchemaValidator=(0,rI.ch)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",rI.td.toAPIParameters(e))),this.ProfileHasLikesSchemaValidator=(0,rI.vh)(),this.profileHasLikes=()=>this.ProfileHasLikesSchemaValidator.validate(async({xr:e})=>await e.get("/api/profile/has_likes"))}},rL=rS.f.byProperty("saved_at",rS.f.BY_DATETIME);function rR(){let[e,t]=ep.useState([]),[a,r]=ep.useState([]),[n,l]=ep.useState([]),[i,s]=ep.useState([]),[o,c]=ep.useState(void 0),[d,m]=ep.useState(void 0),[u,_]=ep.useState(!1),[p,g]=ep.useState(!1),E=i=>{Promise.all([f(i),h(i)]).then(([o,c])=>{let d=(null==o?void 0:o.meta.hub_files)||[],m=(null==c?void 0:c.meta.plugins)||[],u=(null==c?void 0:c.meta.widgets)||[],_=e,p=a,g=n;(null==i?void 0:i.reset)&&(_=[],p=[],g=[]);let{mergedResults:E,unmergedResultsList:[f,h,v]}=(0,ts.n0)([[..._,...d],[...p,...m],[...g,...u]],rL);(null==i?void 0:i.reset)?s(E):s(e=>[...e,...E]),t(f),r(h),l(v)})},f=e=>{let t=o;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!u)return _(!0),rA.getCommunityResourceSaves({cursor:t,pageSize:30}).then(e=>(c(e.data.pagination.nextPage),e.data)).finally(()=>{_(!1)})},h=e=>{let t=d;if((null==e?void 0:e.reset)&&(t=void 0),null!==t&&!p)return g(!0),rA.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(m(e.data.pagination.nextPage),e.data)).finally(()=>{g(!1)})};(0,tz.h)(()=>{E()});let v=u||p;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:aS},ep.createElement("div",{className:aA},v||0!==i.length?ep.createElement(tN,{adtlClassName:tC("profile"),resources:i,viewContext:"ProfileSavesView",showMoreCallback:E}):ep.createElement("div",{className:"profile_resources_grid--emptySavesTabContainer--4oQx-"},ep.createElement(rF,null)),ep.createElement("div",{className:aI},v&&ep.createElement(e8.kt,null)))))}function rO(){return ep.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function rF(){let e=(0,eg.wA)();return ep.createElement("div",{className:eT.cx.flex.itemsCenter.flexColumn.gap16.$},ep.createElement(rO,null),ep.createElement("div",{className:eT.cx.flex.flexColumn.gap8.alignCenter.$},ep.createElement("h2",{className:eT.cx.font14.fontMedium.$},ep.createElement(e$.Tx,{id:"community.saves.no_saves_title"})),ep.createElement("p",{className:eT.cx.font11.$},ep.createElement(e$.Tx,{id:"community.saves.no_saves_subtitle"}))),ep.createElement(eI.nR,{target:"_blank",onClick:()=>{(0,eh.kc)().cmty_profile_in_react_router?eR.Cz.push("/community"):e(tL.$T({view:"communityHub",subView:"landing",tab:null}))}},ep.createElement(e$.Tx,{id:"community.explore_resources"})))}var rM=a(146033),rD=a(727475),rP=a(26096),rB=a(327115);class rU extends ep.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=ep.createElement(eI.N_,{href:`https://${e}`,className:rD.nf,trusted:!0},e);return this.props.profile.primary_user_id?ep.createElement(e$.Tx,{id:"community.profiles.your_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===rv.o1.TEAM?ep.createElement(e$.Tx,{id:"community.profiles.your_teams_profile_is_visible_to_the_public_at",link:t}):this.props.profile.entity_type===rv.o1.ORG?ep.createElement(e$.Tx,{id:"community.profiles.your_organizations_profile_is_visible_to_the_public_at",link:t}):void 0}}render(){return this.props.profile?ep.createElement("div",{className:this.props.className||""},ep.createElement("div",{className:rD.cI},ep.createElement(rM.t,{svg:rP.A,fallbackSvg:rB.A,useOriginalSrcFills_DEPRECATED:!0,className:rD.q3}),ep.createElement("span",{className:rD._M},this.getProfileLinkText()))):null}}rU.displayName="PublicProfileBanner";var rW=a(826481),rV=a(157285),rG=a(754961),r$=a(573812);let rj=(0,ti.jz)(aE.d8i),rH=(0,ti.jz)(aE.wOr);function rq(e){let{canEdit:t,canSellOnCommunity:a}=e,r=(0,tR.iZ)(),n=ep.useCallback(()=>{if(r)return(0,tS.tx)(r)},[r]);return r&&t?ep.createElement(ep.Fragment,null,a?ep.createElement("div",{role:"link",tabIndex:0,onClick:n,className:aG},ep.createElement(e$.Tx,{id:"community.profiles.contact_creator_support"})):ep.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},ep.createElement(eI.CY,{href:"https://www.figma.com/community-creators",className:aG,target:"_blank",trusted:!0},ep.createElement(e$.Tx,{id:"community.profiles.interested_in_selling_your_resources"})))):ep.createElement(ep.Fragment,null)}function rz(e){let{updateProfile:t,canEdit:a,isViewingCurrentUserProfile:r,showFollowsModal:n}=e,l=(0,tk.tn)(e.profile.id),i=(0,e6.si)(l),s=(0,eh.kc)().cmty_deprecate_browse_as_admin?i:a;return l?ep.createElement(rY,{profile:l,canEdit:s,updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:n}):ep.createElement(ep.Fragment,null)}function rY(e){let{profile:t,canEdit:a,updateProfile:r,isViewingCurrentUserProfile:n}=e,l=e.profile.name,i=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},o=(a||t.description)&&ep.createElement(tp,{value:t.description||"",placeholder:(0,e$.t)("community.profiles.add_a_description"),className:a?aT:ax,submit:s("description"),formatter:t_,readOnly:!a,maxLength:160}),c=(a||t.location)&&ep.createElement(tp,{value:t.location||"",placeholder:(0,e$.t)("community.profiles.add_a_location"),className:a?aT:ax,submit:s("location"),readOnly:!a,maxLength:30}),d=(a||t.website)&&ep.createElement(tp,{value:t.website||"",placeholder:(0,e$.t)("community.profiles.add_website_url"),className:a?aT:ax,submit:s("website"),formatter:t_,readOnly:!a,maxLength:100}),m=(a||t.twitter)&&ep.createElement(tp,{value:t.twitter||"",placeholder:(0,e$.t)("community.profiles.add_x_handle"),className:a?aT:ax,submit:s("twitter"),formatter:e=>eR.HD.test(e)?t_(`https://twitter.com/${e}`):t_(e),readOnly:!a,maxLength:100}),u=(a||t.instagram)&&ep.createElement(tp,{value:t.instagram||"",placeholder:(0,e$.t)("community.profiles.add_instagram_handle"),className:a?aT:ax,submit:s("instagram"),formatter:e=>eR.Co.test(e)?t_(`https://www.instagram.com/${e}`):t_(e),readOnly:!a,maxLength:100}),_=ep.createElement(t$.W,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),p=(0,to.$M)(t.follower_count),g=(0,to.$M)(t.following_count),E=ep.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},ep.createElement("div",{className:eS()(aC,{[aN]:!0}),onClick:()=>e.showFollowsModal(e2.g3.FOLLOWERS)},ep.createElement(e$.Tx,{id:"community.profiles.follower_count",followerCount:p,formattedFollowerCount:ep.createElement("span",{className:ak},p)})),t.primary_user_id&&ep.createElement("div",{className:eS()(aC,{[aN]:!0}),onClick:()=>e.showFollowsModal(e2.g3.FOLLOWING)},ep.createElement(e$.Tx,{id:"community.profiles.following_count",followingCount:ep.createElement("span",{className:ak},g)}))),f=ep.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},ep.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",i),t.current_user_is_followed&&ep.createElement(rW.v_,null)),h=ep.createElement(rk,{profile:t}),v=n?null:ep.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},_,h),b=ep.createElement(rq,{canEdit:a,canSellOnCommunity:(0,eR.kf)(t)});return ep.createElement("div",null,ep.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},ep.createElement(tg.G,{truncate:"end",text:l,className:"profile_resources_grid--profileNameText--WdY6t"}),ep.createElement(tf.l,{profile:t,tooltip:!0})),i&&f,v,o,E,c,d,m,u,b)}(e=>{let t={resources:null,loading:!1};class a extends ep.Component{constructor(e){super(e),this.publicAuthoredPlugins=e=>Object.keys((0,tF.xK)(e,this.props.profileId)).map(t=>e[t]),this.publicAuthoredHubFiles=()=>Object.keys((0,tO.uj)(this.props.hubFiles,this.props.profileId)).map(e=>this.props.hubFiles[e]),this.authoredResources=()=>{let e=(0,tF.$2)((0,tF.i8)(Object.values(this.props.publishedPlugins)),this.props.currentOrgId),t=(0,tF.$2)((0,tF.i8)(Object.values(this.props.publishedWidgets)),this.props.currentOrgId),a=[...this.publicAuthoredPlugins(e),...this.publicAuthoredPlugins(t),...this.publicAuthoredHubFiles()];return(0,tl.GK)(a,e=>{let t=e.current_hub_file_version_id?e.current_hub_file_version_id:e.current_plugin_version_id||"";return e.versions[t].created_at})},this.isLoading=()=>{let e=this.props.profileId,t=tA.pZ.loadingKeyForPayload({profileId:e}),a=tA.kA.loadingKeyForPayload({profileId:e}),r=tI.HO.loadingKeyForPayload(e),n=this.props.tab===e2.g3.LIKES&&null===this.state.likedResourcesState.resources&&this.state.likedResourcesState.loading;return!((0,e1.D2)(this.props.loadingState,t||"")&&(0,e1.D2)(this.props.loadingState,a||"")&&(0,e1.D2)(this.props.loadingState,r||""))||n},this.redirectToLanding=()=>{(0,eh.kc)().cmty_profile_in_react_router?eR.Cz.push("/community"):this.props.dispatch(tL.$T({view:"communityHub",subView:"landing",tab:null}))},this.filterPaidResources=e=>!!e.monetized_resource_metadata,this.state={likedResourcesState:t,didFetchFail:!1,isLoadingStripe:!1}}componentDidUpdate(e){e.tab===this.props.tab||this.props.tab!==e2.g3.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources(),this.props.tab===e2.g3.SAVES&&this.props.authedActiveCommunityProfileId!==this.props.profile.id&&this.props.dispatch(tL.$T({...this.props.currentSelectedView,profileTab:e2.g3.RESOURCES}))}componentDidMount(){this.props.tab!==e2.g3.LIKES||null!==this.state.likedResourcesState.resources||this.state.likedResourcesState.loading||this.fetchNextLikedResources()}async fetchNextLikedResources(){if((0,ts.u9)(this.state.likedResourcesState)){this.setState({likedResourcesState:{...this.state.likedResourcesState,loading:!0},didFetchFail:!1});try{let e=await (0,ts.En)(`/api/profile/${this.props.profile.id}/likes`,ts.vs,this.state.likedResourcesState,ts.AS),t=[],a=[],r=[];e.resources.forEach(e=>{e.type===tv.vt.HUB_FILE?t.push(e):e.type===tv.vt.PLUGIN?a.push(e):e.type===tv.vt.WIDGET&&r.push(e)}),this.props.dispatch(tI.D3(t)),this.props.dispatch(tA.Vx(a)),this.props.dispatch(tA.uV(r)),this.setState({likedResourcesState:{resources:[...this.state.likedResourcesState.resources||[],...e.resources],loading:!1,pagination:e.pagination},didFetchFail:!1})}catch{this.setState({didFetchFail:!0}),this.props.dispatch(e5.s.error((0,e$.t)("community.error.an_error_has_occurred_please_refresh_the_page_and_try_again")))}}}renderEmptyState(){let e,t,a,r;return this.props.tab===e2.g3.LIKES?(e=(0,e$.t)("community.profiles.nothing_liked_yet"),t=(0,e$.t)("community.profiles.see_whats_being_created_in_figma"),a=ep.createElement(eI.nR,{target:"_blank",onClick:this.redirectToLanding},ep.createElement(e$.Tx,{id:"community.landing_page.explore"})),r=rV.A):(e=(0,e$.t)("community.profiles.nothing_published_yet"),t=(0,e$.t)("community.profiles.see_whats_being_created_in_figma"),a=ep.createElement(eI.nR,{target:"_blank",onClick:this.redirectToLanding},ep.createElement(e$.Tx,{id:"community.profiles.explore"})),r=rG.A),ep.createElement("div",{className:aM},ep.createElement(eL.B,{svg:r,useOriginalSrcFills_DEPRECATED:!0}),ep.createElement("div",{className:aD},e),ep.createElement("div",{className:aP},t),a)}render(){let e=[e2.g3.RESOURCES,e2.g3.FOLLOWERS,e2.g3.FOLLOWING,e2.g3.METRICS].includes(this.props.tab)?this.authoredResources():this.state.likedResourcesState.resources||[],t=((0,eh.kc)().cmty_rdp_creator_nudge_email||(0,eh.kc)().cmty_rdp_creator_modal)&&this.props.authedActiveCommunityProfileId===this.props.profile.id;return this.props.tab===e2.g3.METRICS?ep.createElement(eV.x,{isLoading:this.isLoading(),className:aS},()=>ep.createElement(rs,{paidResources:e.filter(this.filterPaidResources),primaryUserId:this.props.profile.primary_user_id})):this.props.tab===e2.g3.SAVES?ep.createElement(rR,null):ep.createElement(eV.x,{isLoading:this.isLoading(),className:aS},()=>e.length>0?ep.createElement("div",{className:aA},t&&ep.createElement("div",{className:"profile_resources_grid--profileResourcesGridBanner--6L4qI"},ep.createElement(rp,{profile:this.props.profile})),ep.createElement(tN,{adtlClassName:tC("profile"),resources:e,viewContext:e4.e0.COMMUNITY_HUB_PROFILE,showMoreCallback:()=>{this.props.tab===e2.g3.LIKES&&this.fetchNextLikedResources()}}),this.props.tab===e2.g3.LIKES&&(0,ts.u9)(this.state.likedResourcesState)&&!this.state.didFetchFail&&ep.createElement("div",{className:aI},ep.createElement(e8.kt,null))):this.renderEmptyState())}}a.displayName="PublicProfileResourcesGrid",e.ConnectedPublicProfileResourcesGrid=(0,eg.Ng)(e=>{var t;let a=e.communityHub.currentProfile;return{profile:a,currentUser:e.user||null,isWithinProfileScope:(0,e6.E1)(a,e),publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,hubFiles:e.hubFiles,currentOrgId:e.currentUserOrgId||null,loadingState:e.loadingState,authedActiveCommunityProfileId:(null==(t=e.authedActiveCommunityProfile)?void 0:t.id)||null,currentSelectedView:e.selectedView}})(a)})(ee||(ee={}));let rK=ee.ConnectedPublicProfileResourcesGrid;(e=>{class t extends ep.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(eQ.aP({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{var e;(0,tn.sx)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(tL.$T({...this.props.currentSelectedView,profileTab:e2.g3.RESOURCES}))},this.onMetricsTabClick=()=>{var e;(0,tn.sx)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),(0,tE.YQ)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(tL.$T({...this.props.currentSelectedView,profileTab:e2.g3.METRICS}))},this.onSavesTabClick=()=>{var e;(0,tE.YQ)({id:"cmty-profile-saves"}),(0,tn.sx)("Profile Resources Tab Clicked",{tabName:e2.g3.SAVES,profileId:this.props.profileId,viewingUserId:null==(e=this.props.currentUser)?void 0:e.id}),this.props.dispatch(tL.$T({...this.props.currentSelectedView,profileTab:e2.g3.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(tL.$T({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=ep.createElement(rK,{...this.props,tab:this.props.profileTab}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?ep.createElement(ep.Fragment,null,ep.createElement("button",{className:eS()(ah,av,{[ay]:this.props.profileTab===e2.g3.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},ep.createElement(e$.Tx,{id:"community.profiles.saved"}),ep.createElement(eL.B,{svg:r$.A,className:a$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("community.only_visible_to_you")}))):ep.createElement(ep.Fragment,null),a=ep.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(rz,{profile:this.props.profile,canEdit:this.props.canEdit,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==e9.Cw.ADMIN_IN_DIFFERENT_WORKSPACE&&ep.createElement(tV.z,{query:`(min-width: ${rH}px)`},ep.createElement(rU,{profile:this.props.profile,className:aU})),!this.props.isWithinProfileScope&&ep.createElement(tG.H,{profile:this.props.profile,className:aU})),r=this.props.isWithinProfileScope&&(0,eR.af)(this.props.currentUser),n=ep.createElement(tW,{user:this.props.currentUser},ep.createElement("div",{className:af},ep.createElement("div",{className:eS()(ah,av,{[ay]:this.props.profileTab===e2.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},ep.createElement(e$.Tx,{id:"community.profiles.resources"})),t,r&&ep.createElement(eH.fu,{name:e4.e0.COMMUNITY_PROFILE_METRICS_TAB},ep.createElement("div",{className:ab},ep.createElement("div",{className:eS()(ah,av,aw,{[ay]:this.props.profileTab===e2.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},ep.createElement(e$.Tx,{id:"community.seller.profiles.metrics"}),ep.createElement(eL.B,{svg:r$.A,className:a$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("community.only_visible_to_you")})))))),l=ep.createElement("div",{className:af},ep.createElement("div",{className:eS()(ah,av,{[ay]:this.props.profileTab===e2.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},ep.createElement(e$.Tx,{id:"community.profiles.resources"})),t,r&&ep.createElement(eH.fu,{name:e4.e0.COMMUNITY_PROFILE_METRICS_TAB},ep.createElement(tq.p,null,ep.createElement(t8,{onboardingKey:tH})),ep.createElement("div",{className:ab},ep.createElement("div",{className:eS()(ah,av,aw,{[ay]:this.props.profileTab===e2.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},ep.createElement("span",{"data-onboarding-key":tH},ep.createElement(e$.Tx,{id:"community.seller.profiles.metrics"})),ep.createElement(eL.B,{svg:r$.A,className:a$})))));return ep.createElement(ep.Fragment,null,ep.createElement(tV.z,{query:`(min-width: ${rj}px)`},l,ep.createElement("div",{className:aF},a,e)),ep.createElement(tV.z,{query:`(max-width: ${rj-1}px)`},ep.createElement("div",{className:aF},a,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,eg.Ng)(e=>{var t,a;let r=e.communityHub.currentProfile,n=e2.g3.RESOURCES,l=!1;if("selectedView"in e){let a=null==(t=e.selectedView)?void 0:t.profileTab;l=(0,e6.E1)(r,e),a&&(a!==e2.g3.METRICS||l)&&(n=a)}return{profile:r,currentUser:"user"in e?e.user:null,canEdit:(0,e6.jG)(r,e),isWithinProfileScope:l,currentSelectedView:"selectedView"in e?e.selectedView:null,profileTab:n,communityStatusOnProfile:(0,e9.kJ)(e,r),authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?(null==(a=e.authedActiveCommunityProfile)?void 0:a.id)??null:null}})(t)})(et||(et={}));let rJ=et.ConnectedPublicProfileResourcesGridAndData;var rZ=a(57513);class rQ extends ep.Component{constructor(e){super(e),this.state={}}componentDidMount(){null==this.props.currentProfile?this.fetchProfile():this.onProfileLoad()}componentDidUpdate(e){var t,a,r;null!=this.props.currentProfile||this.state.profileFetchLoadingKey||this.fetchProfile(),this.state.profileFetchLoadingKey&&(0,e1.GH)(this.props.loadingState,this.state.profileFetchLoadingKey)&&(this.onProfileLoad(),this.setState({profileFetchLoadingKey:void 0}));{let n=null==(t=e.currentSelectedView)?void 0:t.profileTab,l=null==(a=this.props.currentSelectedView)?void 0:a.profileTab,i=this.isFollowsListModalTab(n)?n:null,s=this.isFollowsListModalTab(l)?l:null;this.props.currentProfile&&i!==s&&s?this.props.dispatch((0,e0.to)({type:rZ.w,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(r=this.props.currentUser)?void 0:r.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}})):!s&&i&&this.props.dispatch(e0.Ce())}}fetchProfile(){if(!this.props.handle){this.props.on404Redirect();return}let e={handle:this.props.handle,on404Redirect:this.props.on404Redirect};this.props.dispatch(eQ.av(e)),this.setState({profileFetchLoadingKey:eQ.av.loadingKeyForPayload(e)})}isFollowsListModalTab(e){return[e2.g3.FOLLOWERS,e2.g3.FOLLOWING].includes(e)}onProfileLoad(){var e,t;if(this.props.currentProfile){if(!this.props.currentProfile.public_at)return this.props.on404Redirect();this.props.dispatch(eX.Sj(this.props.currentProfile.id)),this.isFollowsListModalTab(null==(e=this.props.currentSelectedView)?void 0:e.profileTab)&&this.props.dispatch((0,e0.to)({type:rZ.w,data:{currentSelectedView:this.props.currentSelectedView,profile:this.props.currentProfile,currentUserProfileId:(null==(t=this.props.currentUser)?void 0:t.community_profile_id)||null,authedActiveCommunityProfileId:this.props.authedActiveCommunityProfileId,dispatch:this.props.dispatch}}))}}render(){return ep.createElement(eV.x,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!this.props.currentProfile},()=>{let e=this.props.currentProfile;return ep.createElement(eH.fu,{name:e4.e0.COMMUNITY_HUB_PROFILE,properties:{handle:e.profile_handle,profileId:e.id}},ep.createElement("div",{className:this.props.currentUser?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},ep.createElement("div",null,ep.createElement(tr,{profileId:e.id}),ep.createElement(rJ,{profileId:e.id})),(0,eZ.o5)({isLoggedOut:!1})()&&!(0,eE.y3)()&&ep.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},ep.createElement(eK,null)),ep.createElement(eJ.Ay,null)))})}}rQ.displayName="CommunityHubProfile";let rX=(0,eg.Ng)((e,t)=>{var a,r,n,l;let i=(null==(a=e.communityHub)?void 0:a.currentProfile)??null,s=(null==(r=null==i?void 0:i.profile_handle)?void 0:r.toLowerCase())===(null==(n=t.handle)?void 0:n.toLowerCase())?i:null;return{currentUser:"user"in e?e.user:null,currentProfile:s,currentSelectedView:"selectedView"in e?e.selectedView:null,loadingState:e.loadingState??{},authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?(null==(l=e.authedActiveCommunityProfile)?void 0:l.id)??null:null}})(rQ);function r0(){let{handle:e}=(0,eN.g)();return ep.createElement(rX,{handle:e,on404Redirect:()=>{ef.Ay.redirect("/404")}})}var r1=a(603535),r2=a(27985),r4=a(460845);function r3(e,t=4,a=540){let[r,n]=ep.useState(t),l=ep.useCallback(()=>{if(window.innerWidth<=a){n(t);return}let r=e.current.children[1];if(0===r.children.length){n(0);return}let l=r.children[0].getBoundingClientRect().width;n(Math.floor(r.getBoundingClientRect().width/l))},[e,n,t,a]);return(0,tz.h)(()=>(l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l))),r}var r8=((n=r8||{}).BUNDLE_SECTION="bundle_section",n.HERO_SECTION="hero_section",n);let r5=eG.object({title:eG.string(),description:eG.string().optional(),imageUrl:eG.string().url(),prompt:eG.string(),category:eG.string()});eG.object({figjam_ai:eG.array(r5).nullable()});let r6=eG.object({hub_file_id:eG.string().optional(),plugin_id:eG.string().optional(),widget_id:eG.string().optional(),title:eG.string().optional(),description:eG.string().optional()}),r9=eG.object({resources:eG.array(r6).nullish(),resource:r6.nullish()}).nonstrict(),r7=eG.object({title:eG.string().nullable(),description:eG.string().nullable(),meta:r9,position:eG.number(),section_type:eG.nativeEnum(r8),created_at:eG.string().nullable(),updated_at:eG.string().nullable()}),ne=r7.extend({resources:eG.array(eG.custom())}),nt=r7.extend({resource:eG.custom().nullable()}),na=eG.object({question:eG.string(),answer:eG.string()}),nr=eG.object({faqs:na.nullish(),breadcrumb_text:eG.string().nullish()}).nonstrict();function nn(e,t){var a;let r=(0,eR.Vm)(e);return(null==(a=null==t?void 0:t.resources)?void 0:a.length)?(null==t?void 0:t.resources).find(t=>r===tv.vt.HUB_FILE?(null==t?void 0:t.hub_file_id)===e.id:r===tv.vt.PLUGIN?(null==t?void 0:t.plugin_id)===e.id:r===tv.vt.WIDGET?(null==t?void 0:t.widget_id)===e.id:void 0):(null==t?void 0:t.resource)?null==t?void 0:t.resource:void 0}function nl(e){for(let t of e.sections)if("bundle_section"===t.section_type&&t.meta.hasOwnProperty("figjam_ai"))return!0;return!1}eG.object({title:eG.string().nullable(),description:eG.string().nullable(),header_img_url:eG.string().url().nullable(),meta_title:eG.string().nullable(),meta_description:eG.string().nullable(),thumbnail_url:eG.string().url().nullable(),meta:nr,url_slug:eG.string(),sections:eG.array(eG.union([ne,nt])),profile:rv.bo,publishing_status:eG.string(),latest_published_at:eG.string().nullable(),created_at:eG.string().nullable(),updated_at:eG.string().nullable(),is_template_url:eG.boolean(),faqs:eG.array(na).nullable()});let ni="community_collections--bannerContainer--7yGIP",ns="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",no="community_collections--resourcePreviewRow--wcOSC",nc="community_collections--resourcePreview--QDaaf",nd="community_collections--breadcrumbTrailContainer--uibe8",nm="community_collections--breadcrumbTrail--JQcAW",nu="community_collections--breadcrumbArrow--bv6Ia",n_="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",np="community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",ng="community_collections--shelfPreview--Lvszp",nE="community_collections--leftSide--71Jj2",nf="community_collections--shelfPreviewHalf--rgTft community_collections--shelfPreview--Lvszp",nh="community_collections--communityShelfAllPageHeader--pbqhx",nv="community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd",nb="community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd",ny="community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd",nw="community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd",nT="community_collections--communityShelfAllPageRow--xw1Ut",nx="community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q",nC="community_collections--footerContainer--OI6W4";function nN({page:e}){let t=ep.useRef(null),a=r3(t),r=function(e){let{resources:t}=e.sections.reduce(({resources:e,resourceIds:t},a)=>{if("bundle_section"===a.section_type)for(let r of a.resources)t.has(r.id)||(t.add(r.id),e.push(r));else if("hero_section"===a.section_type){let r=a.resource;r&&!t.has(r.id)&&(e.push(r),t.add(r.id))}return{resources:e,resourceIds:t}},{resources:[],resourceIds:new Set});return t}(e);return ep.createElement("div",{className:nT,ref:t},ep.createElement("div",{className:nh},ep.createElement("div",{className:nv},ep.createElement("div",{className:ny}),ep.createElement("div",{className:nw},e.title)),ep.createElement(r4.N_,{to:e.is_template_url?`/community/templates/${e.url_slug}`:`/community/collections/${e.url_slug}`,className:nb},ep.createElement(e$.Tx,{id:"community.shelves.show_more"}))),ep.createElement(tN,{resources:r.slice(0,a),adtlClassName:nx}))}var nk=a(773277),nS=a(845223);let nI=new class{constructor(){this.CollectionPageSchemaValidator=(0,rI.vh)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:a})=>await a.get(`/api/collection_pages/${e}?is_template_url=${t}`))}},nA=new class{constructor(){this.CollectionPageSchemaValidator=(0,rI.vh)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.get(`/api/admin/collection_pages/${e}`))}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/admin/collection_pages/${e.urlSlug}`,rI.td.toAPIParameters(e.collectionPage||{})))}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.del(`/api/admin/collection_pages/${e.urlSlug}`))}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/admin/collection_pages",rI.td.toAPIParameters(e.collectionPage||{})))}},nL=nk.M4.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>(await nI.getCollectionPageByUrlSlug(e,t)).data.meta});nk.M4.Query({fetch:async({urlSlug:e})=>(await nA.getCollectionPageByUrlSlug(e)).data.meta}),nk.M4.Mutation(async({urlSlug:e,collectionPage:t})=>(await nA.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t})).data.meta),nk.M4.Mutation(async({urlSlug:e})=>(await nA.deleteCollectionPageByUrlSlug({urlSlug:e})).data.meta),nk.M4.Mutation(async e=>(await nA.createCollectionPage({collectionPage:e})).data.meta),nk.M4.PaginatedQuery({fetch:(0,nS.ER)(()=>"/api/admin/collection_pages",20)});let nR=nk.M4.PaginatedQuery({fetch:(0,nS.ER)(()=>"/api/collection_pages",20)});var nO=a(327854),nF=a(879623),nM=a(943966);function nD(e){var t,a;let r=null==(t=(0,nM.Gq)())?void 0:t.getPrimaryLocale(!1);if(r&&["ja","fr","de"].includes(r)){let t=null==(a=(0,nM.Gq)())?void 0:a.getDictionary(r),n=null==t?void 0:t.getDynamicString(e.i18n_meta.title),l=null==t?void 0:t.getDynamicString(e.i18n_meta.description);if(e.title&&!n||e.description&&!l)return!1}return!0}var nP=a(395677);let nB="load_more_pagination_button--loadMoreButtonWrapper--nNqNo";function nU({onClick:e,isLoading:t,isMoreToFetch:a}){return t?ep.createElement("div",{className:nB},ep.createElement(nF.y$,null)):a?ep.createElement("div",{className:nB},ep.createElement(eI.tM,{onClick:e},ep.createElement(e$.Tx,{id:"community.landing_page.load_more"}))):null}var nW=a(694953);let nV=ep.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),nG=ep.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),n$=ep.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),nj={Blue:te.wRm,"Multiplayer Yellow":te.KsR,Teal:te.Dmn,"Hot Pink":te.FXh,Redish:te.uAC,Green:te.zo1,Purple:te.A8q,"Dark Blue":te.WGG,"FigJam Primary":te.L2H},nH=Object.keys(nj)[0];function nq(){let{urlSlug:e}=(0,eN.g)();return ep.createElement(ep.Fragment,null,ep.createElement(nK,{urlSlug:e}))}function nz({isLoading:e,collectionPages:t,collectionShelves:a}){if((0,eh.kc)().cmty_collections_v2){if((!t.length||!a.length)&&e)return null;let r=t.filter(e=>!nl(e));return ep.createElement(ep.Fragment,null,r.map(e=>ep.createElement(nN,{key:e.url_slug,page:e})),a.map(e=>ep.createElement(n4,{key:e.id,shelf:e})))}return ep.createElement(ep.Fragment,null,a.map(e=>ep.createElement(n4,{key:e.id,shelf:e})))}function nY(){let[e,t]=(0,r2.IT)(nR(""),{enabled:(0,eh.kc)().cmty_collections_v2}),[a,r]=ep.useState([]),[n,l]=ep.useState(void 0),[i,s]=ep.useState(!1),o=()=>{null!==n&&(i||(s(!0),nP.A.getCommunityShelvesArchive({cursor:n,pageSize:8}).then(e=>{l(e.data.pagination.nextPage),r([...a,...e.data.meta].filter(nD)),s(!1)})))};(0,tz.h)(()=>o());let c=(0,eh.kc)().cmty_collections_v2&&"loading"===e.status||i,d=(0,eZ.o5)({isLoggedOut:!1});return ep.createElement(ep.Fragment,null,ep.createElement(t9.S,null),ep.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},ep.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},ep.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},ep.createElement(e$.Tx,{id:"community.categories.figma_community_collections"})),ep.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"}))),ep.createElement("div",{className:nd},ep.createElement("ul",{className:nm},ep.createElement("li",{className:n_},ep.createElement("a",{href:"/community"},ep.createElement(e$.Tx,{id:"community.view_bar.home"}))),ep.createElement("div",{className:nu},nV),ep.createElement("li",{className:np},ep.createElement(e$.Tx,{id:"community.shelves.all_collections"})))),ep.createElement(nz,{isLoading:c,collectionPages:e.data||[],collectionShelves:a}),d()?ep.createElement(nU,{onClick:e=>{e.preventDefault(),o(),(0,eh.kc)().cmty_collections_v2&&t.fetchNextPage()},isLoading:c,isMoreToFetch:null!==n}):ep.createElement(ep.Fragment,null,c&&ep.createElement(nF.y$,null),a.length>0&&"string"==typeof n&&ep.createElement(tb.a,{callback:e=>{e[0].isIntersecting&&(o(),(0,eh.kc)().cmty_collections_v2&&t.fetchNextPage())}})),d()&&!(0,eE.y3)()&&ep.createElement("div",{className:nC},ep.createElement(eK,null))))}function nK(e){var t;let{urlSlug:a,profileTile:r,onSetShelf:n}=e,[l,i]=ep.useState(null),s=(0,eZ.o5)({isLoggedOut:!1}),o=()=>{nP.A.getCommunityShelves({urlSlug:a}).then(({data:e})=>{n&&n(e.meta[0]),i(e.meta[0])}).catch(()=>{})};if(ep.useEffect(()=>{o()},[a]),!l)return ep.createElement(ep.Fragment,null);let c=ep.createElement("div",{className:ni},ep.createElement("div",{className:nd},ep.createElement("ul",{className:nm},ep.createElement("li",{className:n_},ep.createElement("a",{href:"/community"},ep.createElement(e$.Tx,{id:"community.view_bar.home"}))),ep.createElement("div",{className:nu},nV),ep.createElement("li",{className:n_},ep.createElement("a",{href:"/community/collections"},ep.createElement(e$.Tx,{id:"community.shelves.all_collections"}))),ep.createElement("div",{className:nu},nV),ep.createElement("li",{className:np,style:{color:nj[(null==(t=l.shelf_meta.banner)?void 0:t.color)||nH]}},ep.createElement("a",{href:window.location.href},(0,e$.Yd)(l.i18n_meta.title,l.title)))))),d=ep.createElement("div",{className:"community_collections--gridContainer--PkTIN"},ep.createElement("div",{className:tT.IB},ep.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(tN,{resources:l.shelf_content,profileTile:r}))));return ep.createElement(ep.Fragment,null,ep.createElement(t9.S,null),ep.createElement(nZ,{shelf:l}),c,d,s()&&!(0,eE.y3)()&&ep.createElement("div",{className:nC},ep.createElement(eK,null)))}function nJ(e){let{isMobileScreen:t}=e,[a,r]=ep.useState(!1);return a?ep.createElement("button",{className:ns},t?nG:ep.createElement(e$.Tx,{id:"community.view_bar.copied"})):ep.createElement("button",{className:ns,onClick:()=>{r(!0),(0,eR.lW)(window.location.href),setTimeout(()=>r(!1),1e3)}},t?n$:ep.createElement(e$.Tx,{id:"community.view_bar.copy_link"}))}function nZ(e){var t;let{shelf:a,bannerStyle:r}=e,[n,l]=ep.useState(window.innerWidth),[i,s]=ep.useState(null);nQ(i);let o=a?new Date(null==a?void 0:a.updated_at):new Date;ep.useEffect(()=>{let e=()=>{l(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=nj[(null==(t=null==a?void 0:a.shelf_meta.banner)?void 0:t.color)||Object.keys(nj)[0]];return ep.createElement("div",{className:r||ni,ref:e=>s(e)},ep.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${c}, ${c}80)`}},ep.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},ep.createElement("div",{className:"community_collections--info--7PVz2"},a&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,e$.Yd)(a.i18n_meta.subtitle,a.subtitle)),ep.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,e$.Yd)(a.i18n_meta.title,a.title)),ep.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,e$.Yd)(a.i18n_meta.description,a.description))),ep.createElement("div",{className:"community_collections--meta--Z25Vv"},ep.createElement("div",{className:"community_collections--metaLeft--9gNAe"},ep.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},ep.createElement(eL.B,{svg:nW.A,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),ep.createElement("div",{className:"community_collections--curated--fHhRS"},ep.createElement(e$.Tx,{id:"community.view_bar.curated_by"}),"\xa0"),ep.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,eh.tl)().figma_url}/@figma`},ep.createElement(e$.Tx,{id:"community.view_bar.figma"}))),ep.createElement("div",{className:"community_collections--metaRight--hhG9k"},ep.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),ep.createElement("div",{className:"community_collections--updateDate--vgkWS"},ep.createElement(e$.Tx,{id:"community.view_bar.updated_date",date:o.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),ep.createElement(nJ,{isMobileScreen:n<=540}))))),ep.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},(null==a?void 0:a.shelf_content)&&ep.createElement(n0,{resources:a.shelf_content}))))}function nQ(e){ep.useEffect(()=>{let t=null==e?void 0:e.querySelectorAll(`.${nc}`),a=setInterval(()=>{null==t||t.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(a)},[e])}function nX({resource:e}){let t=(0,eR.qD)(e),a="current_hub_file_version_id"in e,r=e.thumbnail_url;return ep.createElement("div",{className:nc},a?ep.createElement(nO.Xy,{hubFileId:e.id,image:r,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):ep.createElement("img",{alt:t.name,src:r}))}function n0(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return ep.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},ep.createElement("div",{className:no},!!t[0]&&ep.createElement(nX,{resource:t[0]}),!!t[1]&&ep.createElement(nX,{resource:t[1]})),ep.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&ep.createElement(nX,{resource:t[2]}),!!t[3]&&ep.createElement(nX,{resource:t[3]})),ep.createElement("div",{className:no},!!t[4]&&ep.createElement(nX,{resource:t[4]}),!!t[5]&&ep.createElement(nX,{resource:t[5]})))}function n1({shelf:e,size:t="full"}){var a;let r=e.shelf_content,[n,l]=ep.useState(null);nQ(n);let i=nj[null==(a=e.shelf_meta.banner)?void 0:a.color];return ep.createElement(ex.A6,{to:`/community/collections/${e.url_slug}`,onClick:()=>{(0,tn.sx)("hub_landing_collection_clicked",{name:e.title,shelf_id:e.id})},className:"full"===t?ng:nf,onRef:e=>l(e),style:{background:`linear-gradient(45deg, ${i}, ${i}80)`}},ep.createElement("div",{className:nE},ep.createElement("div",{className:"community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},(0,e$.Yd)(e.i18n_meta.title,e.title)),ep.createElement("div",{className:"community_collections--numberOfResources--qV7Zd"},1===r.length?(0,e$.t)("community.profiles.resources_lower_singular",{num:r.length}):(0,e$.t)("community.profiles.resources_lower_plural",{num:r.length}))),ep.createElement("div",{className:"community_collections--rightSide--H91sR"},ep.createElement(n0,{resources:r})))}function n2({title:e,subtitle:t,href:a,size:r="full"}){return ep.createElement("a",{href:a,onClick:()=>{(0,tn.sx)("hub_landing_collection_clicked",{name:"COMMUNITY_SHELF_OVERRIDE",shelf_id:"COMMUNITY_SHELF_OVERRIDE"})},className:"full"===r?ng:nf,style:{background:te.BYv}},ep.createElement("div",{className:nE},ep.createElement("div",{className:"community_collections--shelfOverrideTitle--3d053 community_collections--shelfTitle--ZhR7Y text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},e),ep.createElement("div",{className:"community_collections--shelfOverrideTitleSubtitle--ZEjZB"},t)),ep.createElement("div",{className:"community_collections--shelfOverrideRight--zDYXf"},ep.createElement(n3,null)))}function n4({shelf:e}){let t=ep.useRef(null),a=r3(t);return ep.createElement("div",{className:nT,ref:t},ep.createElement("div",{className:nh},ep.createElement("div",{className:nv},ep.createElement("div",{className:ny},(0,e$.Yd)(e.i18n_meta.subtitle,e.subtitle)),ep.createElement("div",{className:nw},(0,e$.Yd)(e.i18n_meta.title,e.title))),ep.createElement(ex.A6,{to:`/community/collections/${e.url_slug}`,className:nb},ep.createElement(e$.Tx,{id:"community.shelves.show_more"}))),ep.createElement(tN,{resources:e.shelf_content.slice(0,a),adtlClassName:nx}))}function n3(){return ep.createElement("svg",{width:"304",height:"184",viewBox:"0 0 304 184",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M147.616 128.41C157.428 147.488 185.646 138.125 210.641 107.496C235.636 76.8678 247.944 36.572 238.132 17.4934C228.32 -1.58531 200.103 7.77784 175.107 38.4065C172.992 40.9987 170.967 43.6602 169.04 46.3721C171.103 34.8412 170.541 24.6682 166.852 17.4947C157.039 -1.58397 128.822 7.77917 103.827 38.4078C101.712 40.9992 99.6884 43.6597 97.7611 46.3707C99.8246 34.8401 99.2625 24.6672 95.5731 17.4938C85.7609 -1.58481 57.5438 7.77833 32.5485 38.407C7.55318 69.0357 -4.7551 109.331 5.05717 128.41C14.8694 147.489 43.0865 138.126 68.0818 107.497C70.1965 104.906 72.2204 102.245 74.1478 99.5341C72.0843 111.065 72.6464 121.238 76.3357 128.411C86.148 147.49 114.365 138.126 139.36 107.498C141.476 104.906 143.5 102.244 145.428 99.5322C143.365 111.063 143.927 121.236 147.616 128.41Z",fill:"#F24E1E"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212.629 10.2588C201.47 13.9616 188.313 23.8064 175.882 39.0388C173.781 41.6134 171.77 44.2572 169.855 46.9516L168.055 46.196C170.102 34.7594 169.507 24.8436 165.963 17.9521C163.623 13.4037 160.226 10.6062 156.092 9.36412C151.93 8.11391 146.921 8.41087 141.348 10.2601C130.189 13.963 117.033 23.8078 104.602 39.0401C102.502 41.6139 100.491 44.2568 98.5762 46.9502L96.7768 46.1946C98.8235 34.7583 98.2283 24.8427 94.684 17.9512C92.3447 13.4028 88.9479 10.6054 84.8133 9.36328C80.6518 8.11307 75.6425 8.41003 70.0695 10.2593C58.9104 13.9621 45.754 23.8069 33.3233 39.0393C20.9045 54.257 11.642 71.8734 6.7064 88.032C1.75351 104.247 1.22332 118.769 5.94648 127.953C8.28574 132.501 11.6826 135.299 15.8171 136.541C19.9787 137.791 24.988 137.494 30.561 135.645C41.72 131.942 54.8764 122.097 67.3071 106.865C69.4075 104.291 71.418 101.648 73.3329 98.9547L75.1323 99.7103C73.0856 111.147 73.6808 121.062 77.2251 127.954C79.5644 132.502 82.9612 135.3 87.0957 136.542C91.2573 137.792 96.2666 137.495 101.84 135.646C112.999 131.943 126.155 122.098 138.586 106.866C140.687 104.291 142.698 101.647 144.613 98.9528L146.413 99.7084C144.366 111.145 144.961 121.061 148.506 127.952C150.845 132.501 154.242 135.298 158.376 136.54C162.538 137.791 167.547 137.494 173.12 135.644C184.279 131.941 197.436 122.097 209.866 106.864C222.285 91.6466 231.548 74.0302 236.483 57.8716C241.436 41.6564 241.966 27.1343 237.243 17.9507C234.904 13.4023 231.507 10.6049 227.372 9.36279C223.211 8.11258 218.202 8.40953 212.629 10.2588ZM227.948 7.44735C232.645 8.8584 236.455 12.045 239.022 17.036C244.111 26.9311 243.393 42.0962 238.396 58.4558C233.382 74.872 223.992 92.7178 211.416 108.129C198.851 123.525 185.401 133.676 173.75 137.543C167.918 139.478 162.471 139.859 157.801 138.456C153.104 137.045 149.294 133.858 146.727 128.867C143.347 122.294 142.535 113.409 143.816 103.431C142.622 105.019 141.395 106.587 140.135 108.13C127.571 123.526 114.121 133.678 102.469 137.544C96.6372 139.479 91.1902 139.86 86.5203 138.457C81.8233 137.046 78.0134 133.859 75.4465 128.868C72.0661 122.296 71.2547 113.411 72.5356 103.433C71.3421 105.02 70.1154 106.587 68.8567 108.129C56.2921 123.526 42.8423 133.677 31.1909 137.543C25.3586 139.478 19.9116 139.859 15.2417 138.456C10.5447 137.045 6.7348 133.859 4.16792 128.868C-0.921191 118.972 -0.20337 103.807 4.79364 87.4478C9.80793 71.0316 19.1972 53.1858 31.7738 37.7748C44.3383 22.3784 57.7882 12.2273 69.4396 8.36107C75.2718 6.42579 80.7188 6.04492 85.3888 7.44785C90.0857 8.8589 93.8956 12.0455 96.4625 17.0365C99.8429 23.6093 100.654 32.4943 99.3735 42.4718C100.567 40.8848 101.794 39.3181 103.052 37.7756C115.617 22.3793 129.067 12.2281 140.718 8.3619C146.55 6.42663 151.997 6.04575 156.667 7.44868C161.364 8.85974 165.174 12.0464 167.741 17.0373C171.122 23.6102 171.933 32.4953 170.652 42.473C171.846 40.8851 173.073 39.3176 174.333 37.7743C186.897 22.378 200.347 12.2268 211.999 8.36057C217.831 6.42529 223.278 6.04442 227.948 7.44735Z",fill:"black"}),ep.createElement("path",{d:"M96 66.7273C96 63.0119 99.0119 60 102.727 60H259.273C262.988 60 266 63.0119 266 66.7273V176.273C266 179.988 262.988 183 259.273 183H102.727C99.0119 183 96 179.988 96 176.273V66.7273Z",fill:"#C7B9FF"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95 66.7273C95 62.4596 98.4596 59 102.727 59H259.273C263.54 59 267 62.4596 267 66.7273V176.273C267 180.54 263.54 184 259.273 184H102.727C98.4596 184 95 180.54 95 176.273V66.7273ZM102.727 61C99.5642 61 97 63.5642 97 66.7273V176.273C97 179.436 99.5642 182 102.727 182H259.273C262.436 182 265 179.436 265 176.273V66.7273C265 63.5642 262.436 61 259.273 61H102.727Z",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M222.804 76.7872C231.159 84.8098 229.021 98.1384 220.865 107.133C211.503 117.458 185.865 140.208 142.374 151.933C141.619 154.697 141.945 155.947 142.133 156.29C142.182 156.38 142.362 156.709 143.248 157.083C144.236 157.501 145.97 157.905 148.801 157.932C154.509 157.985 163.294 156.503 176.108 152.578C188.825 148.683 205.132 142.501 225.746 133.457C228.959 132.046 232.708 133.509 234.118 136.722C235.528 139.936 234.066 143.684 230.852 145.094C209.975 154.254 193.18 160.64 179.83 164.729C166.576 168.789 156.328 170.71 148.683 170.639C141.239 170.57 134.337 168.525 130.982 162.385C129.702 160.045 129.195 157.535 129.188 155.018C119.267 156.995 108.542 158.378 97 158.948V146.214C110.138 145.527 122.115 143.728 132.961 141.191C137.996 130.75 147.523 118.738 156.927 108.416C167.503 96.8081 178.776 86.4229 185.313 81.646C200.07 70.8623 214.275 68.5973 222.804 76.7872ZM150.806 136.071C155.077 129.949 160.511 123.352 166.322 116.974C176.594 105.699 187.224 95.9894 192.811 91.9066C206.489 81.9114 212.672 84.6768 214.002 85.954C215.507 87.3984 216.976 92.5033 211.451 98.5965C204.25 106.538 184.467 124.531 150.806 136.071Z",fill:"#5551FF"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M219.096 80.6492C224.565 85.9004 223.946 95.7643 216.899 103.536C207.922 113.437 182.289 136.295 138.228 147.481C136.322 152.362 136.001 156.235 137.435 158.858C138.843 161.434 142.196 163.225 148.751 163.285C155.275 163.346 164.676 161.679 177.676 157.698C190.66 153.72 207.172 147.453 227.897 138.359C228.403 138.138 228.993 138.368 229.215 138.873C229.437 139.379 229.206 139.969 228.701 140.191C207.934 149.303 191.345 155.602 178.261 159.61C165.193 163.613 155.561 165.349 148.733 165.285C141.936 165.222 137.617 163.362 135.68 159.817C133.964 156.678 134.322 152.561 135.882 148.061C123.921 150.942 110.638 152.955 96 153.631V151.628C111.02 150.928 124.593 148.807 136.757 145.787C140.982 135.729 150.735 123.163 160.885 112.022C171.333 100.554 182.335 90.4534 188.472 85.9689C202.774 75.5174 213.599 75.3718 219.096 80.6492ZM139.219 145.159C143.588 135.68 152.703 123.972 162.364 113.369C172.764 101.953 183.665 91.9589 189.652 87.5836C203.784 77.2563 213.347 77.9023 217.711 82.0919C222.101 86.3078 222.051 94.8775 215.417 102.193C206.759 111.742 181.941 133.953 139.219 145.159Z",fill:"black"}),ep.createElement("path",{d:"M278.125 77.4464L290.034 89.3067C291.55 90.8162 291.55 93.277 290.034 94.7865L248.589 136.063L228.134 139.095L231.178 118.723L272.623 77.4464C274.151 75.9369 276.61 75.9369 278.125 77.4464Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M273.329 78.151C273.328 78.1514 273.328 78.1518 273.328 78.1521L232.119 119.193L229.322 137.913L248.115 135.128L289.326 94.0837C290.452 92.9625 290.452 91.1307 289.326 90.0095L277.418 78.1492C276.295 77.0307 274.469 77.0261 273.329 78.151ZM271.918 76.7406C273.835 74.8476 276.925 74.8434 278.833 76.7436L290.742 88.6039C292.647 90.5017 292.647 93.5915 290.742 95.4893L249.063 136.998L226.947 140.276L230.237 118.252L271.915 76.7436L271.918 76.7406Z",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M264.598 85.4659L282.009 102.806L280.594 104.212L263.183 86.8715L264.598 85.4659Z",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.318 9.00002L119.409 9.00002L119.409 7.00002L183.318 7.00002L183.318 9.00002Z",fill:"black"}),ep.createElement("path",{d:"M183.378 1.68184L189.742 8.0458L183.378 14.4098L177.014 8.0458L183.378 1.68184Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M183.378 0.492611L190.931 8.0458L183.378 15.599L175.825 8.0458L183.378 0.492611ZM183.378 2.87106L178.203 8.0458L183.378 13.2205L188.553 8.0458L183.378 2.87106Z",fill:"black"}),ep.createElement("path",{d:"M114.423 1.68184L120.787 8.0458L114.423 14.4098L108.059 8.0458L114.423 1.68184Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M114.423 0.492611L121.976 8.0458L114.423 15.599L106.87 8.0458L114.423 0.492611ZM114.423 2.87106L109.248 8.0458L114.423 13.2205L119.598 8.0458L114.423 2.87106Z",fill:"black"}),ep.createElement("path",{d:"M19.7957 138.699C19.1525 141.099 16.685 142.524 14.2844 141.881C11.8838 141.238 10.4592 138.77 11.1024 136.369C11.7456 133.969 14.2132 132.544 16.6138 133.187C19.0144 133.831 20.439 136.298 19.7957 138.699Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.355 134.153C14.4879 133.653 12.5687 134.761 12.0684 136.628C11.5681 138.495 12.6761 140.415 14.5433 140.915C16.4104 141.415 18.3296 140.307 18.8299 138.44C19.3302 136.573 18.2221 134.654 16.355 134.153ZM10.1366 136.111C10.9227 133.177 13.9386 131.435 16.8727 132.221C19.8067 133.008 21.5479 136.024 20.7617 138.958C19.9756 141.892 16.9597 143.633 14.0256 142.847C11.0916 142.06 9.35037 139.045 10.1366 136.111Z",fill:"black"}),ep.createElement("path",{d:"M92.1143 138.699C91.4711 141.099 89.0036 142.524 86.603 141.881C84.2024 141.238 82.7778 138.77 83.421 136.369C84.0642 133.969 86.5318 132.544 88.9324 133.187C91.333 133.831 92.7576 136.298 92.1143 138.699Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M88.6736 134.153C86.8065 133.653 84.8873 134.761 84.387 136.628C83.8867 138.495 84.9948 140.415 86.8619 140.915C88.729 141.415 90.6482 140.307 91.1485 138.44C91.6488 136.573 90.5407 134.654 88.6736 134.153ZM82.4552 136.111C83.2413 133.177 86.2572 131.435 89.1913 132.221C92.1253 133.008 93.8665 136.024 93.0803 138.958C92.2942 141.892 89.2783 143.633 86.3442 142.847C83.4102 142.06 81.669 139.045 82.4552 136.111Z",fill:"black"}),ep.createElement("path",{d:"M88.7506 8.67605C88.1073 11.0767 85.6398 12.5013 83.2392 11.858C80.8386 11.2148 79.414 8.74728 80.0572 6.34668C80.7005 3.94608 83.168 2.52146 85.5686 3.1647C87.9692 3.80794 89.3938 6.27546 88.7506 8.67605Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M85.3098 4.13063C83.4427 3.63033 81.5235 4.73837 81.0232 6.6055C80.5229 8.47263 81.631 10.3918 83.4981 10.8921C85.3652 11.3924 87.2844 10.2844 87.7847 8.41724C88.285 6.5501 87.177 4.63093 85.3098 4.13063ZM79.0914 6.08786C79.8776 3.1538 82.8934 1.4126 85.8275 2.19878C88.7615 2.98496 90.5028 6.00081 89.7166 8.93487C88.9304 11.8689 85.9145 13.6101 82.9805 12.824C80.0464 12.0378 78.3052 9.02193 79.0914 6.08786Z",fill:"black"}),ep.createElement("path",{d:"M155.858 8.67605C155.215 11.0767 152.747 12.5013 150.347 11.858C147.946 11.2148 146.521 8.74728 147.165 6.34668C147.808 3.94608 150.275 2.52146 152.676 3.1647C155.077 3.80794 156.501 6.27546 155.858 8.67605Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152.417 4.13063C150.55 3.63033 148.631 4.73837 148.131 6.6055C147.63 8.47263 148.738 10.3918 150.606 10.8921C152.473 11.3924 154.392 10.2844 154.892 8.41724C155.392 6.5501 154.284 4.63093 152.417 4.13063ZM146.199 6.08786C146.985 3.1538 150.001 1.4126 152.935 2.19878C155.869 2.98496 157.61 6.00081 156.824 8.93487C156.038 11.8689 153.022 13.6101 150.088 12.824C147.154 12.0378 145.413 9.02193 146.199 6.08786Z",fill:"black"}),ep.createElement("path",{d:"M230.024 8.67605C229.38 11.0767 226.913 12.5013 224.512 11.858C222.112 11.2148 220.687 8.74728 221.33 6.34668C221.973 3.94608 224.441 2.52146 226.842 3.1647C229.242 3.80794 230.667 6.27546 230.024 8.67605Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.583 4.13063C224.716 3.63033 222.796 4.73837 222.296 6.6055C221.796 8.47263 222.904 10.3918 224.771 10.8921C226.638 11.3924 228.557 10.2844 229.058 8.41724C229.558 6.5501 228.45 4.63093 226.583 4.13063ZM220.364 6.08786C221.151 3.1538 224.166 1.4126 227.1 2.19878C230.034 2.98496 231.776 6.00081 230.99 8.93487C230.203 11.8689 227.187 13.6101 224.253 12.824C221.319 12.0378 219.578 9.02193 220.364 6.08786Z",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.6687 155.218C42.2328 165.084 51.2898 172.375 62.0694 172.375C64.5186 172.375 66.8789 171.999 69.0943 171.301L79.9128 181.997L94.7794 167.299L84.037 156.679C84.7893 154.424 85.1963 152.015 85.1963 149.511C85.1963 138.472 77.2828 129.26 66.7582 127.117L28.4318 116.255L39.6687 155.218Z",fill:"white"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.974 114.807L38.7039 155.48C41.3847 165.771 50.8312 173.37 62.0694 173.37C64.4085 173.37 66.6715 173.04 68.8126 172.425L79.9128 183.4L96.1979 167.299L85.1746 156.401C85.8393 154.219 86.1963 151.905 86.1963 149.511C86.1963 137.999 77.9541 128.399 66.9962 126.15L26.974 114.807ZM29.8895 117.702L66.5205 128.084L66.5576 128.091C76.6302 130.142 84.1963 138.957 84.1963 149.511C84.1963 151.907 83.8069 154.211 83.0879 156.366L82.8929 156.95L93.3609 167.299L79.9128 180.595L69.3698 170.171L68.7925 170.353C66.6736 171.02 64.415 171.381 62.0694 171.381C51.7531 171.381 43.0887 164.403 40.6369 154.969L40.6336 154.956L29.8895 117.702Z",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.1635 117.875L62.0701 151.74L63.4834 150.325L29.5768 116.46L28.1635 117.875Z",fill:"black"}),ep.createElement("ellipse",{cx:"6",cy:"6.00051",rx:"6",ry:"6.00051",transform:"matrix(-3.177e-07 1 1 -1.11224e-07 54.6849 143.038)",fill:"black"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M292.423 36.1591C284.431 34.3605 278.14 28.0689 276.341 20.0767C274.542 28.0689 268.251 34.3605 260.259 36.1591C268.251 37.9577 274.542 44.2493 276.341 52.2415C278.14 44.2493 284.431 37.9577 292.423 36.1591Z",fill:"#699BF7"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M277.341 17.812L277.341 7.56818H277.341H275.341H275.341L275.341 17.812L275.341 17.8671C275.31 27.3937 267.328 35.1591 257.421 35.1591H249.432V35.1591H249.432V37.1591H257.421C267.333 37.1591 275.318 44.9318 275.341 54.4646C275.341 54.4785 275.341 54.4923 275.341 54.5062L275.341 64.75H275.341H277.341H277.341L277.341 54.5062C277.341 54.4923 277.341 54.4785 277.341 54.4646C277.364 44.9318 285.349 37.1591 295.261 37.1591L303.25 37.1591V35.1591H295.261C285.354 35.1591 277.372 27.3937 277.341 17.8671L277.341 17.812ZM288.926 36.1591C283 34.2289 278.306 29.6653 276.341 23.8847C274.376 29.6653 269.682 34.2289 263.756 36.1591C269.682 38.0893 274.376 42.6529 276.341 48.4336C278.306 42.6529 283 38.0893 288.926 36.1591Z",fill:"black"}))}let n8="breadcrumbs--breadcrumbs--7n1rP text--fontPos13--xW8hS text--_fontBase--QdLsd",n5="breadcrumbs--link--8OB6k",n6="breadcrumbs--black--BefO-",n9="breadcrumbs--separator--4AJjS";function n7({pathname:e,overrideText:t}){let a=decodeURIComponent(e).split("/").slice(1),r=a[a.length-1].replace(/-/g," ");return ep.createElement("div",{className:n8},ep.createElement(r4.N_,{className:n5,to:"/community/collections"},ep.createElement(e$.Tx,{id:"community.shelves.all_collections"})),ep.createElement("div",{className:n9},"/"),ep.createElement("span",{className:eS()(n5,n6)},t||(0,to.Zr)(r)))}var le=a(561938);function lt({title:e,hasDivider:t=!1,children:a}){let[r,n]=(0,ep.useState)(!1);return ep.createElement(ej.Y,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},ep.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},ep.createElement("div",{className:eS()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},ep.createElement(ej.Y,{direction:"vertical"},ep.createElement(ej.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},ep.createElement("div",{className:r?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),ep.createElement(le.In,{icon:r?"chevron-up-32":"chevron-down-32",fill:"secondary"})),ep.createElement("div",{className:r?void 0:"faq_accordion--hidden--G1Whc"},a)))))}function la({faqs:e}){return ep.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},ep.createElement(ej.Y,{horizontalAlignItems:"center"},ep.createElement("div",{className:"faqs_section--section--5Tey9"},ep.createElement(ej.Y,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},ep.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"community.collections.frequently_asked_questions"})),ep.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>ep.createElement(lt,{key:t,hasDivider:0!==t,title:e.question},ep.createElement("p",{className:"faqs_section--answer--CBO9A"},e.answer))))))))}var lr=a(97429);function ln({collection:e}){return ep.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(lr.Lf,{publishers:[e.profile]}),ep.createElement("div",{className:"header_attributes--profile--qrbMp"},ep.createElement(e$.Tx,{id:"community.collections.curated_by"}),ep.createElement("span",{className:"header_attributes--profileName--n9lfZ"},ep.createElement(lr.Iq,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&ep.createElement("div",{className:"header_attributes--date--Zt4VW"},ep.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),ep.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}var ll=a(504020),li=a(38580),ls=a(589513);let lo=(0,li.eU)(ls.$O.DescriptionView);var lc=a(744291),ld=a(43940);a(824540);var lm=a(769640);a(150680);var lu=a(880096),l_=a(848592),lp=a(342859);let lg="meta_container--leftSide--KSlX8",lE="meta_container--rightSide--FQNL-",lf="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",lh="meta_container--metaTabContainer--lvUtb",lv="meta_container--metaContainerDivider--ZXFZP",lb="meta_container--metaContainerDividerSpacer--OW9jB",ly="meta_container--mobileMetaContainer--gGQKv",lw="meta_container--mobileButtonRow--a-eRc",lT="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",lx="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",lC="meta_container--metaTabCommentCount--B1a21",lN="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21";function lk({resource:e,CTAButton:t,hasScrolled:r}){let n=(0,eR.qD)(e),l=(0,eg.d4)(e=>(0,e6.Tm)(e)),i=(0,eR.Qo)(e)?e4.e0.COMMUNITY_HUB_FILE:(0,tv.xQ)(e)?e4.e0.COMMUNITY_HUB_WIDGET:e4.e0.COMMUNITY_HUB_PLUGIN,s=null,o=Object.values(l).some(t=>(0,tv.I0)(e)&&t.plugins_whitelist_enforced||(0,tv.xQ)(e)&&t.widgets_whitelist_enforced);(0,eh.kc)().cmty_deprecate_browse_as_admin&&!(0,eR.Qo)(e)&&!("is_private"in n&&n.is_private)&&o&&(s=a(991119).s({resource:e,viewContext:i}));let c=ep.createElement(lu.yY,{"data-onboarding-key":"save-button",resource:e,viewContext:i}),d=s?null:ep.createElement(lc.Q,{resource:e,viewContext:i}),m=ep.createElement(lm.u,{resource:e});return r?ep.createElement("div",{className:lp.yq},ep.createElement("div",{className:lp.Jp},ep.createElement("div",{className:lp.Xd},ep.createElement("h1",{className:lp.eO},n.name),ep.createElement(lA,{resource:e})),ep.createElement("div",{className:lp.OQ},t,s,d,c))):ep.createElement(lS,{resource:e,CTAButton:t,approveButton:s,likeButton:d,saveButton:c,headerBadges:m,viewContext:i})}function lS({resource:e,CTAButton:t,title:a,description:r,approveButton:n,likeButton:l,saveButton:i,learnMore:s,headerBadges:o,openInNewTab:c=!1,viewContext:d}){let m=(0,eR.qD)(e),u=e.community_publishers.accepted,_=[...u.filter(e=>(0,ld.J3)(e.badges)),...u.filter(e=>!(0,ld.J3)(e.badges))];return ep.createElement("div",{className:lp.N1},ep.createElement("div",{className:lp.tF},ep.createElement(lr.Lf,{publishers:_,showFigmaPartnerBadge:!0}),ep.createElement(lr.Iq,{publishers:_,openInNewTab:c,useSmallWidth:!0,removeByLabel:!0})),ep.createElement("div",{className:lp.X7},ep.createElement("div",{className:lp.DD},ep.createElement("h1",null,a??m.name)),o),ep.createElement(l_.A,{resource:e,viewContext:d}),!!r&&ep.createElement("div",{className:lp.h_},r),ep.createElement("div",{className:lp.OQ},t,s,n,l,i))}function lI({resource:e,hasScrolled:t}){let a=(0,eR.qD)(e),r=e.community_publishers.accepted;return t?ep.createElement("div",{className:lp.QY},ep.createElement("div",{className:lp.VB},ep.createElement("div",{className:lp.zu},ep.createElement("h1",{className:lp.NG},ep.createElement("span",{className:lp.y_},a.name)),ep.createElement("div",{className:lp.YO,"data-testid":"mobile-header-attribution"},ep.createElement(lm.u,{resource:e}))),ep.createElement(lA,{resource:e}))):ep.createElement("div",{className:lp.Z0},ep.createElement("div",{className:lp.VB},ep.createElement("div",{className:lp.zu},ep.createElement("h1",{className:lp.NG},ep.createElement("span",{className:lp.y_},a.name)),ep.createElement("div",{className:lp.YO,"data-testid":"mobile-header-attribution"},ep.createElement(lm.u,{resource:e}),ep.createElement(l_.A,{resource:e}),ep.createElement("div",{className:lp.gi},ep.createElement(lr.Lf,{publishers:r}),ep.createElement(lr.Iq,{publishers:r})))),ep.createElement(lA,{resource:e})))}function lA({resource:e}){let[t,a]=(0,tY.fp)(lo);ep.useEffect(()=>{let e=()=>{let e=document.getElementById(ls.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eR._m)(t,window.innerHeight,window.scrollY)?a(ls.$O.CommentsView):a(ls.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[a]);let r=(e,t)=>{if(e.preventDefault(),t===ls.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=ls.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return ep.createElement("div",{className:lp.dD},ep.createElement("button",{onClick:e=>r(e,ls.$O.DescriptionView)},ep.createElement("div",{className:eS()(lp.qY,{[lp.kO]:t===ls.$O.DescriptionView})},(0,e$.t)("community.resource_page.about"))),(0,e6.e5)(e)&&ep.createElement("button",{onClick:e=>r(e,ls.$O.CommentsView)},ep.createElement("div",{className:eS()(lp.qY,{[lp.kO]:t===ls.$O.CommentsView})},ep.createElement(e$.Tx,{id:"community.resource_page.comments",numComments:ep.createElement("span",{className:eS()(lC,{[lN]:t===ls.$O.CommentsView})},e.comment_count)}))))}var lL=a(152869),lR=a(412601);function lO(e){let[t,a]=ep.useState(!0);return ep.useEffect(()=>{let t=(0,eR.z$)(e),r=e.thumbnail_url;if(t!==lR.Z4.THUMBNAIL){a(!0);return}let n=new Image;n.onload=()=>{let e=n.width/n.height;a(!(Math.abs(e-2)<Math.abs(e-16/9)))},n.src=r||""},[e]),t}var lF=a(844415),lM=a(587965),lD=a(311775),lP=a(373357),lB=a(66202);let lU="canvas_viewer--canvasViewer--aDA8H",lW=(e,{width:t,height:a,top:r,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=n+"px"},lV=(e,t)=>{if(e.viewer_mode===lB.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let a=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?a:`${a}&fuid=${t}`};function lG({viewer:e,resource:t,fixedSize:a}){let[r,n]=ep.useState(void 0),[l,i]=ep.useState(!1),[s,o]=ep.useState(!1),c=(0,tY.md)(lP.kS);ep.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),i(!0),(0,al.qD)({name:"hub-file-canvas-loaded"}))},a=()=>{document.activeElement===e.querySelector("iframe")&&(0,al.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",a,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",a,!1)}},[e,s]);let d=()=>{if(!e)return;let t=e.querySelector(`div.${lU}`);if(!t)return;let a=t.getBoundingClientRect();lW(t,a),n(a),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,al.qD)({name:"community-LO-embed-view-expanded"}),o(!0)},m=()=>{if(!e)return;let t=e.querySelector(`.${lU}`);t&&(lW(t,r),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),o(!1))};return e?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},ep.createElement("iframe",{key:t.id,title:(0,e$.t)("community.embed.preview_title_long"),style:{width:a?"100%":(0,eR.zS)(l),height:"100%"},src:lV(t,c),allowFullScreen:!0}),ep.createElement("svg",{onClick:()=>{s?m():d()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),ep.createElement("div",{role:"button",tabIndex:0,onClick:m,className:"canvas_viewer--iframeBackdrop--1sZT3"})):ep.createElement(ep.Fragment,null)}function l$({resource:e,enableEmbedOnSmallScreens:t}){let[a,r]=ep.useState(null),n=e.viewer_mode===lB.y4.WHITEBOARD,l=!!e.thumbnail_is_set,i=t?lM.YW:900;return ep.createElement("div",{className:eS()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e)},ep.createElement("div",{className:n?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":lU,key:e.id},ep.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},ep.createElement(rW.Ho,{image:e.thumbnail_url,isSet:l,isWhiteboard:n,backgroundColor:(0,lD.Cn)(e.client_meta),hubFileId:e.id,alt:(0,eR.qD)(e).name+" preview",thumbnailContext:nO.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),ep.createElement(lF.Ay,{mediaQuery:`(min-width: ${i}px)`,onHide:()=>{a&&a.setAttribute("data-loaded","false")}},ep.createElement(lG,{fixedSize:t,viewer:a,resource:e}))))}function lj({resource:e}){return ep.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},ep.createElement("div",{className:lU},ep.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,eR.qD)(e).name+" preview",key:e.id})))}function lH({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?ep.createElement(eH.fu,{name:"Canvas Embed"},ep.createElement(l$,{resource:e,enableEmbedOnSmallScreens:t})):ep.createElement(lj,{resource:e})}function lq({resource:e,hasScrolled:t}){let a=ep.createElement(ep.Fragment,null,ep.createElement(lr.qz,{resource:e}));return ep.createElement(lk,{CTAButton:a,resource:e,hasScrolled:t})}var lz=a(770403);let lY="two_column_resource_page--leftSideRedesign--W3m0M",lK="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",lJ="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v",lZ="two_column_resource_page--hubFileTileFullInnerImage--wTGoE two_column_resource_page--hubFileTileInnerImage--7d063",lQ="two_column_resource_page--mobileCarousel--i7oho";function lX(e){return["video"===e.type?e.thumbnail_url:e.url,"image"===e.type?e.resized_thumbnail_urls:void 0]}function l0({image:e,resizedThumbnailUrls:t,resourceId:a,alt:r,thumbnailContext:n,resourceHeroType:l,isMobileCarousel:i}){let s;return e&&t?s=ep.createElement(nO.Sl,{className:eS()(lZ,{[lQ]:i}),image:e,onLoad:ev.lQ,hubFileId:a,alt:r,thumbnailContext:n,resizedThumbnailUrls:t}):e?s=ep.createElement("img",{className:eS()(lZ,{[lQ]:i}),src:e,loading:"lazy",alt:r,draggable:!1,onError:()=>{(0,lL.x1)("community","Failed to load hero image on resource detail page",{resourceId:a,image:e},{reportAsSentryError:!0})}}):((0,lL.xi)("community","Missing hero image on resource detail page",{resourceId:a,resourceHeroType:l}),s=ep.createElement(lz.Ek,null)),ep.createElement("div",{className:"two_column_resource_page--carouselImage--zn-4P"},s)}function l1(e,t){return(0,tv.I0)(t)?`/api/plugins/${t.id}/videos/${e.video_file_uuid}/manifest`:(0,tv.xQ)(t)?`/api/widgets/${t.id}/videos/${e.video_file_uuid}/manifest`:null}var l2=a(79577),l4=a(72135),l3=a(104359),l8=a(960912),l5=a(587138);let l6="video_player--videoControlButton--CaxkP",l9="video_player--videoButtonFullscreenScale--oSh2-";var l7=a(68710),ie=a(10448),it=a(114843),ia=a(552601);let ir={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function il(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:a}=(0,l8._d)(e);return`${a}:${String(t).padStart(2,"0")}`}function ii(e,t){e&&(t?(e.play(),eb.Ay.safari&&(e.currentTime=.1)):io(e)?e.pause():(eb.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let is=ep.memo(({videoId:e,src:t,fallbackSrc:a,useHLS:r=!1,autoPlay:n=!1,muted:l=!1,showControlsOnVideoLoad:i=!1,onEnded:s})=>{let o=ep.useRef(null),c=ep.useRef(null),[d,m]=ep.useState(null),[u,_]=ep.useState(!1),p=ep.useRef(void 0),[g,E]=ep.useState(!1),[f,h]=ep.useState(!1);ep.useEffect(()=>{f&&(null==s||s())},[f,s]);let v=ep.useCallback(function(){_(!0),clearTimeout(p.current),p.current=setTimeout(()=>_(!1),3e3)},[]),b=ep.useCallback(async function(){if(!t||!c.current)return;window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=(await (0,l5.Fe)()).videoJs(c.current,{muted:l,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{await (0,l5.uz)(t,r,n)}catch{l4.k.warn("Reverting to fallback video source"),await (0,l5.uz)(a??null,!1,n)}i&&v(),m(e)})},[t,l,i,v,r,a,e,m]),y=ep.useCallback(function(){var e;if(g||document.fullscreenElement)l2.R7.exitFullscreenFunc();else if(eb.Ay.isIpad){let t=c.current;null==(e=null==t?void 0:t.webkitEnterFullscreen)||e.call(t)}else{let e=o.current;e&&l2.R7.requestFullscreenFunc.call(e)}},[g]);return ep.createElement("div",{className:eS()("video_player--videoContainer--f21k1",{"video_player--fullscreen--Tkght":g}),ref:ep.useCallback(e=>{o.current=e,null==e||e.addEventListener(l2.R7.fullscreenChangeEventName,function(){E(!g)})},[g]),onPointerMove:v},ep.createElement("video",{ref:ep.useCallback(t=>{c.current=t,t&&(t.style.height="100%",t.style.width="100%",t.style.objectFit=g?"contain":"cover",io(t)&&e===d||b())},[e,b,g,d]),crossOrigin:"anonymous",autoPlay:n&&!eb.Ay.safari,controls:eb.Ay.isIpad&&g,onClick:ep.useCallback(function(){g&&ii(c.current,f)},[f,g])}),ep.createElement(ic,{videoRef:c,isFullscreen:g,toggleFullscreen:y,isActive:u,hasEnded:f,setHasEnded:h}))});function io(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function ic({videoRef:e,isFullscreen:t,toggleFullscreen:a,isActive:r,hasEnded:n,setHasEnded:l}){var i,s,o;let[c,d]=ep.useState(0),m=ep.useRef(!1),[u,_]=ep.useState(null),[p,g]=ep.useState(!1),[E,f]=ep.useState(!1),h=ep.useRef(!1),v=ep.useRef(!1),b=u||(null==(i=e.current)?void 0:i.currentTime),y=null==(s=e.current)?void 0:s.duration,w=io(e.current),T=ep.useRef(void 0);ep.useEffect(()=>{f(r||!w||n||h.current)},[n,r,w]);let x=ep.useCallback(()=>{d(e=>e+1)},[]);ep.useEffect(()=>{if(!e.current)return;function t(){x()}function a(){h.current=!1}function r(){h.current=!1,l(!1)}function n(){l(!1),x()}function i(){h.current=!0}function s(){p||l(!0),x()}let o=e.current;return o.addEventListener("playing",n),o.addEventListener("canplay",t),o.addEventListener("ended",s),o.addEventListener("timeupdate",t),o.addEventListener("seeking",i),o.addEventListener("seeked",r),o.addEventListener("stalled",a),()=>{null==o||o.removeEventListener("playing",n),null==o||o.removeEventListener("canplay",t),null==o||o.removeEventListener("ended",s),null==o||o.removeEventListener("timeupdate",t),null==o||o.removeEventListener("seeking",i),null==o||o.removeEventListener("seeked",r),null==o||o.removeEventListener("stalled",a)}},[p,x,l,e]);let C=ep.useCallback(()=>{e.current&&(ii(e.current,n),x())},[n,x,e]),N=ep.useCallback(()=>{e.current&&(m.current=io(e.current)||n,e.current.pause())},[n,e]),k=ep.useCallback(()=>{e.current&&(m.current&&e.current.play(),T.current&&(e.current.currentTime=T.current),_(null),T.current=void 0)},[e]),S=ep.useCallback(t=>{if(e.current){if(h.current){T.current=t;return}e.current.currentTime=t}},[e]),I=ep.createElement(i_,{togglePlay:C,hasEnded:n,isPlaying:w,shouldShowVideoControls:E,isFullscreen:t});return e.current&&!(2>((null==(o=e.current)?void 0:o.readyState)||0))||v.current?(v.current=!0,eb.Ay.isIpad&&t)?null:ep.createElement(ep.Fragment,null,u?null:I,ep.createElement("div",{className:eS()("video_player--videoControls--icAIO",!E&&"video_player--videoControlsHidden--yuZ6F")},ep.createElement("div",{className:"video_player--videoTime--zy6tY"},il(b)," / ",il(y)),ep.createElement(iu,{currentTime:b||0,totalTime:y||0,onScrubStart:N,onScrub:_,onScrubEnd:k,onVideoPositionUpdated:S,hasEnded:n,isScrubbing:p,setIsScrubbing:g}),ep.createElement("div",{className:"video_player--videoRightControls--tokJe"},ep.createElement(rf.K0,{onClick:a,svg:t?ia.A:it.A,className:l6,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":t?(0,e$.t)("whiteboard.video.minimize_tooltip"):(0,e$.t)("whiteboard.video.fullscreen_tooltip")}),ep.createElement(id,{rerender:x,videoRef:e})))):ep.createElement("div",{className:"video_player--videoLoadingState--uj4y3"},ep.createElement(e8.kt,{size:"large"}))}function id({rerender:e,videoRef:t}){var a,r,n,l;let[i,s]=ep.useState(!1),o=ep.useCallback(()=>{t.current&&(t.current.muted=!t.current.muted,e())},[e,t]),c=ep.useCallback(a=>{let r=a.target.valueAsNumber;t.current&&(t.current.volume=r,t.current.muted=0===r,e())},[e,t]);return ep.createElement("div",{onPointerMove:ep.useCallback(()=>s(!0),[]),onPointerOut:ep.useCallback(()=>s(!1),[])},ep.createElement(rf.K0,{onClick:o,svg:(null==(a=t.current)?void 0:a.muted)?ie.A:l7.A,className:eS()(l6,"video_player--lastVideoControl--lnkoN",{"video_player--selectedVolumeControlButton--Ls-q9":!eb.Ay.isIpad&&i}),"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(null==(r=t.current)?void 0:r.muted)?(0,e$.t)("whiteboard.video.unmute_tooltip"):(0,e$.t)("whiteboard.video.mute_tooltip")}),!eb.Ay.isIpad&&i?ep.createElement(im,{volume:(null==(n=t.current)?void 0:n.volume)??1,muted:(null==(l=t.current)?void 0:l.muted)??!1,handleChange:c}):null)}function im({handleChange:e,volume:t,muted:a}){let r=a?0:t,n=100*r,l=ep.useRef(null);return ep.createElement("div",{className:"video_player--volumeContainer----Q0D"},ep.createElement("div",{className:"video_player--volumeBox--NBckg"},ep.createElement("input",{className:"video_player--volumeSliderInput--H6jHn",style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${n}%,var(--inactive-slider-color) ${n}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:r,onChange:e,ref:l})))}function iu({currentTime:e,totalTime:t,hasEnded:a,onVideoPositionUpdated:r,onScrubStart:n,onScrub:l,onScrubEnd:i,isScrubbing:s,setIsScrubbing:o}){let[c,d]=ep.useState(!1),m=ep.useRef(null),u=ep.useRef(null),_=ep.useCallback(t=>{if(!m.current)return;t.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect();u.current={minX:a.x,maxX:a.x+a.width,originX:t.clientX,newTime:e}},[e,n,o]),p=ep.useCallback(e=>{if(!m.current)return;e.stopPropagation(),o(!0),n();let a=m.current.getBoundingClientRect(),l=a.x,i=a.x+a.width,s=e.clientX,c=(0,l3.qE)(0,(s-l)/(i-l)*t,t);r(c),u.current={minX:l,maxX:i,originX:e.clientX,newTime:c}},[n,r,o,t]),g=ep.useCallback(function(e){if(!u.current)return;let a=e.clientX,{minX:n,maxX:i}=u.current,s=(0,l3.qE)(0,(a-n)/(i-n)*t,t);u.current.newTime=s,l(s),r(u.current.newTime)},[l,r,t]),E=ep.useCallback(function(){u.current&&(r(u.current.newTime),o(!1),i(),u.current=null)},[i,r,o]);ep.useEffect(()=>{if(s)return document.addEventListener("pointermove",g),document.addEventListener("pointerup",E),()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E)}},[s,g,E]);let f=Math.min(e/t*100,100);eb.Ay.safari&&a&&(f=100);let h=f>0?8:0;return ep.createElement("div",{className:"video_player--videoTimeScrubberContainer--bNh9B",onPointerMove:ep.useCallback(()=>d(!0),[]),onPointerOut:ep.useCallback(()=>d(!1),[])},ep.createElement("div",{role:"progressbar",tabIndex:0,className:"video_player--videoTimeScrubber--Brs7M",onPointerDown:p},ep.createElement("div",{className:"video_player--videoTimeScrubberBackground--pEEuZ",ref:m}),ep.createElement("div",{className:"video_player--videoTimeScrubberProgress--y988I",style:{width:`${f}%`}}),(c||s)&&ep.createElement("div",{className:"video_player--videoTimeScrubberNub--Poe0a",style:{left:`calc(${f}% - ${h}px)`},onPointerDown:_,role:"button",tabIndex:0})))}function i_({shouldShowVideoControls:e,togglePlay:t,hasEnded:a,isPlaying:r,isFullscreen:n}){let l=iE;return a?l=ig:r&&(l=iv),ep.createElement(ip,{shouldShowVideoControls:e,ButtonIcon:l,togglePlay:t,isFullscreen:n})}function ip({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:a,isFullscreen:r}){let[n,l]=ep.useState(!1),i=n?ir.BUTTON_BG_FILL_HOVER_OPACITY:ir.BUTTON_BG_FILL_OPACITY;return ep.createElement("button",{className:eS()("video_player--videoButton--M-5Z2",{"video_player--videoButtonHidden--9qDbX":!t}),onPointerMove:(0,ep.useCallback)(()=>l(!0),[]),onPointerOut:(0,ep.useCallback)(()=>l(!1),[]),onPointerDown:a},ep.createElement(e,{fillOpacityForBackground:i,isFullscreen:r}))}function ig({fillOpacityForBackground:e,isFullscreen:t}){return ep.createElement("svg",{className:eS()(t&&l9),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:ir.BUTTON_BG_FILL,fillOpacity:e}),ep.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:ir.BUTTON_SHAPE_FILL}),ep.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:ir.BUTTON_BG_FILL,strokeOpacity:ir.BUTTON_STROKE_OPACITY}))}function iE({fillOpacityForBackground:e,isFullscreen:t}){return ep.createElement("svg",{className:eS()(t&&l9),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{clipPath:"url(#clip0_403_4259)"},ep.createElement("rect",{width:"48",height:"48",rx:"24",fill:ir.BUTTON_BG_FILL,fillOpacity:e}),ep.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:ir.BUTTON_SHAPE_FILL})),ep.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:ir.BUTTON_BG_FILL,strokeOpacity:ir.BUTTON_STROKE_OPACITY}),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_403_4259"},ep.createElement("rect",{width:"48",height:"48",rx:"24",fill:ir.BUTTON_BG_FILL}))))}function ih(){return ep.createElement(iE,{fillOpacityForBackground:ir.BUTTON_BG_FILL_OPACITY,isFullscreen:!1})}function iv({fillOpacityForBackground:e,isFullscreen:t}){return ep.createElement("svg",{className:eS()(t&&l9),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{clipPath:"url(#clip0_1_16)"},ep.createElement("rect",{width:"48",height:"48",rx:"24",fill:ir.BUTTON_BG_FILL,fillOpacity:e}),ep.createElement("path",{d:"M15 15H21V33H15V15Z",fill:ir.BUTTON_SHAPE_FILL}),ep.createElement("path",{d:"M27 15H33V33H27V15Z",fill:ir.BUTTON_SHAPE_FILL})),ep.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:ir.BUTTON_BG_FILL,strokeOpacity:ir.BUTTON_STROKE_OPACITY}),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1_16"},ep.createElement("rect",{width:"48",height:"48",rx:"24",fill:ir.BUTTON_BG_FILL}))))}function ib({resource:e}){let[t,a]=ep.useState(!1),r=lO(e),n=(0,eR.z$)(e);return ep.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},ep.createElement(ej.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},ep.createElement("div",{className:lY},ep.createElement(iy,{resource:e,hasScrolled:t})),ep.createElement("div",{className:n!==lR.Z4.THUMBNAIL||r?lK:lJ},ep.createElement(iw,{resource:e,is16to9AspectRatio:r}),ep.createElement(tD.a,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>a(!e.isIntersecting)}))))}function iy({resource:e,hasScrolled:t}){return ep.createElement("div",{className:eT.cx.relative.$},ep.createElement(lq,{hasScrolled:t,resource:e}))}function iw({resource:e,is16to9AspectRatio:t}){let a=ep.useRef(null),[r,n]=ep.useState(0),[l,i]=ep.useState(!1),[s,o]=ep.useState(!0),[c,d]=ep.useState(!1),m=e=>{let t=a.current;t&&("left"===e?t.scrollBy({left:-200,behavior:"smooth"}):"right"===e&&t.scrollBy({left:200,behavior:"smooth"}))},u=(0,th.S)(),_=(0,eR.z$)(e),p=(0,eR.N6)(e);if(ep.useEffect(()=>{a.current?d(a.current.scrollWidth>a.current.clientWidth):p&&d(Object.keys(p).length>4)},[p]),_!==lR.Z4.CURATED_IMAGE||!p)return ep.createElement(iC,{resource:e,heroType:_,is16to9AspectRatio:t});let g=p[r],[E,f]=lX(g),h=Object.keys(p).length>1;return ep.createElement(ep.Fragment,null,"video"===g.type?ep.createElement("div",{className:"two_column_resource_page--heroVideo--6sXT1 two_column_resource_page--heroImage--kbi4f"},ep.createElement(is,{videoId:g.video_file_uuid,src:l1(g,e),fallbackSrc:g.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,tn.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,eR.Vm)(e),...u})}})):ep.createElement(ix,{thumbnail_url:E,resized_thumbnail_urls:f,resource:e,resourceHeroType:_,is16to9AspectRatio:t}),h&&ep.createElement("div",{className:"two_column_resource_page--carouselThumbnailsContainer--6Ag-2"},ep.createElement("div",{className:c?"two_column_resource_page--carouselThumbnails--872Mf":"two_column_resource_page--centeredCarouselThumbnails--E1vEX two_column_resource_page--carouselThumbnails--872Mf",ref:a,onScroll:()=>{let e=a.current;e&&(i(e.scrollLeft>0),o(e.scrollLeft+e.clientWidth+5<e.scrollWidth))}},Object.values(p).map((t,a)=>{let[l,i]=lX(t);return ep.createElement("div",{key:a},ep.createElement(iT,{thumbnailUrl:l,resizedThumbnailUrls:i,resource:e,index:a,selectedIndex:r,setSelectedIndex:a=>{n(a),(0,tn.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:a,media_type:t.type,resouce_type:(0,eR.Vm)(e),...u})},isVideo:"video"===t.type}))})),c&&l&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"two_column_resource_page--fadeOutMaskLeft--mylTw two_column_resource_page--fadeOutMask--uuYnH"}),ep.createElement("div",{className:"two_column_resource_page--carouselArrowLeft--YfIys two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("left")},ep.createElement(le.In,{icon:"chevron-left-32"}))),c&&s&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"two_column_resource_page--fadeOutMaskRight--LdL5a two_column_resource_page--fadeOutMask--uuYnH"}),ep.createElement("div",{className:"two_column_resource_page--carouselArrowRight--7VrMQ two_column_resource_page--arrow--qHA02",role:"button",tabIndex:0,onClick:()=>m("right")},ep.createElement(le.In,{icon:"chevron-right-32"})))))}function iT({thumbnailUrl:e,resizedThumbnailUrls:t,resource:a,index:r,selectedIndex:n,setSelectedIndex:l,isVideo:i}){return ep.createElement("div",{className:"two_column_resource_page--carouselThumbnail--1Rwo6"},ep.createElement("div",{className:r===n?"two_column_resource_page--selectedCarouselThumbnailImage--t2pSt two_column_resource_page--heroImage--kbi4f":"two_column_resource_page--carouselThumbnailImage--rWT16 two_column_resource_page--heroImage--kbi4f",key:r,role:"button",tabIndex:r,onClick:()=>{l(r)}},ep.createElement(l0,{image:e,resourceId:a.id,alt:(0,eR.qD)(a).name+" preview",thumbnailContext:nO.O7.DETAIL,resizedThumbnailUrls:t}),i&&ep.createElement("div",{className:"two_column_resource_page--carouselThumbnailOverlayForVideo--t0PGx"},ep.createElement(ih,null)),r!==n&&ep.createElement("div",{className:"two_column_resource_page--carouselThumbnailImageShadow--vBYNn two_column_resource_page--carouselImageShadow--99loM"})))}function ix({thumbnail_url:e,resized_thumbnail_urls:t,resource:a,resourceHeroType:r,is16to9AspectRatio:n}){let[l,i]=ep.useState(!1),s=ep.createElement(le.In,{icon:l?"full-screen-exit-32":"full-screen-enter-32",fill:"menu"}),o=e=>{e.stopPropagation(),i(!1)},c=e=>{"Escape"===e.key&&i(!1)};return ep.useEffect(()=>(document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}),[]),ep.createElement("div",{className:"two_column_resource_page--heroImageWrapper--3YT8v",onClick:()=>i(!0),role:"button",tabIndex:-1},ep.createElement("div",{className:"two_column_resource_page--heroImage--kbi4f",key:a.id},ep.createElement(l0,{image:e,resourceId:a.id,alt:(0,eR.qD)(a).name+" preview",thumbnailContext:nO.O7.DETAIL,resizedThumbnailUrls:t,resourceHeroType:r}),ep.createElement("div",{className:"two_column_resource_page--carouselImageShadow--99loM"})),ep.createElement("div",{className:"two_column_resource_page--heroImageFullScreenIcon--369AG"},s),l&&ep.createElement("div",{className:"two_column_resource_page--modalBackground--EEKOA",onClick:e=>o(e),role:"button",tabIndex:-1},ep.createElement("div",{className:n?"two_column_resource_page--rdpImageCloseupModal--OY9YT":"two_column_resource_page--rdpImageCloseupModal2to1AspectRatio--8km5A two_column_resource_page--rdpImageCloseupModal--OY9YT",onClick:e=>o(e),role:"button",tabIndex:-1},ep.createElement("img",{className:lZ,src:e,loading:"lazy",alt:(0,eR.qD)(a).name+" preview",draggable:!1,onError:()=>{(0,lL.x1)("community","Failed to load hero image closeup on resource detail page",{thumbnail_url:e,resourceId:a.id},{reportAsSentryError:!0})}}),ep.createElement("div",{className:"two_column_resource_page--heroImageExitFullScreenIcon--keS5L two_column_resource_page--heroImageFullScreenIcon--369AG"},s))))}function iC({resource:e,heroType:t,is16to9AspectRatio:a}){if(t===lR.Z4.THUMBNAIL){let r=(0,tv.U)(e)?e.resized_thumbnail_urls:void 0;return ep.createElement(ix,{thumbnail_url:e.thumbnail_url??void 0,resized_thumbnail_urls:r,resource:e,resourceHeroType:t,is16to9AspectRatio:a})}return ep.createElement("div",{className:"two_column_resource_page--canvasViewerWrapper--bjC9H"},ep.createElement(lH,{enableEmbedOnSmallScreens:!0,resource:e}))}function iN({title:e,description:t,children:a}){return ep.createElement("section",{className:"collection_section--section--RLij0"},ep.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&ep.createElement("div",{className:"collection_section--description--UH-JN text--fontPos16--oMC-G text--_fontBase--QdLsd"},t),ep.createElement("div",{className:"collection_section--content--rIF8z"},a))}var ik=a(85880);function iS({title:e,resource:t,meta:a,showCTA:r=!0}){let n=(0,ll.N)(`(max-width: ${lM.YW}px)`),l=lO(t),i=(0,eR.z$)(t),s=nn(t,a),o=r?ep.createElement(lr.qz,{resource:t}):null,c=(0,eR._t)({resource:t}),d=ep.createElement(eH.L0,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",href:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},ep.createElement(e$.Tx,{id:"community.collections.learn_more"}));return ep.createElement(iN,{title:e},n?ep.createElement("div",null,ep.createElement(ik.rS,{resource:t,title:null==s?void 0:s.title,description:null==s?void 0:s.description})):ep.createElement("div",{className:"hero_section--section--xyS5J"},ep.createElement(ej.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},ep.createElement("div",{className:lY},ep.createElement(lS,{resource:t,CTAButton:o,learnMore:d,title:null==s?void 0:s.title,description:null==s?void 0:s.description,openInNewTab:!0})),ep.createElement("div",{className:i!==lR.Z4.THUMBNAIL||l?lK:lJ},ep.createElement(iw,{resource:t,is16to9AspectRatio:l})))))}var iI=a(967063);function iA(){let e={id:rm.om.communityResourceInReviewBanner,bannerType:rm.x1.WARN,icon:iI.A,mainText:(0,e$.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,e$.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return ep.createElement(rd.C,{content:e,onDismiss:ev.lQ})}let iL=a(727991).i,iR="resource_bundle_section--resources--h-L7L";function iO({title:e,description:t,resources:a,meta:r}){return ep.createElement(iN,{title:e,description:t},ep.createElement("div",{className:iR},a.map(e=>{let t=nn(e,r);return ep.createElement(ik.rS,{resource:e,title:null==t?void 0:t.title,description:null==t?void 0:t.description,key:e.id})})))}function iF({title:e,description:t,meta:a,preview:r=!1}){return ep.createElement(iN,{title:e,description:t},ep.createElement("div",{className:iR},r?"Preview not supported":(a.figjam_ai??[]).map(e=>ep.createElement(iL,{title:e.title,description:(null==e?void 0:e.description)??"",imageUrl:e.imageUrl,prompt:e.prompt,promptCategory:e.category,key:`${e.title}-${e.prompt}`}))))}function iM(){let{urlSlug:e}=(0,eN.g)(),[{data:t,status:a}]=(0,r2.IT)(nL({urlSlug:e,isTemplateUrl:function(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}(ef.Ay.location.href)}),{enabled:(0,eh.kc)().cmty_collections_v2});return"loading"===a?null:(0,eh.kc)().cmty_collections_v2&&t?!(0,eh.kc)().cmty_collections_v2_figjam_ai&&nl(t)?(ef.Ay.redirect("/404"),null):(document.title=t.meta_title||"Collection | Figma",ep.createElement(ep.Fragment,null,ep.createElement(iD,{collection:t}),!(0,eE.y3)()&&ep.createElement("div",{className:"collection_page--footerContainer--Y-BuI collection_page--pageSections--mndLy"},ep.createElement(eK,null)))):ep.createElement(nq,null)}function iD({collection:e,preview:t=!1}){return ep.createElement(eH.fu,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!("published"===e.publishing_status&&e.latest_published_at)&&ep.createElement(iA,null),ep.createElement("div",{className:"collection_page--page--XgZLM"},ep.createElement("section",{className:"collection_page--headerSection--qYnly"},ep.createElement("div",{className:"collection_page--header--XaFVY"},ep.createElement("div",{className:"collection_page--headerInfo--VzudZ"},!t&&ep.createElement(n7,{pathname:ef.Ay.location.pathname,overrideText:e.meta.breadcrumb_text}),ep.createElement("h1",{className:"collection_page--title--gNu9m text--fontPos48Whyte--uSU-k text--_fontBaseWhyte--efAjI"},e.title),ep.createElement(ln,{collection:e}),ep.createElement("div",{className:"collection_page--description--xFS-k text--fontPos16--oMC-G text--_fontBase--QdLsd"},e.description)),ep.createElement("div",{className:"collection_page--headerImage--gReUX"},!!e.header_img_url&&ep.createElement("img",{src:e.header_img_url,alt:"collection header"})))),!!e.sections.length&&ep.createElement("section",{className:"collection_page--pageSections--mndLy"},e.sections.map((e,a)=>e.section_type===r8.BUNDLE_SECTION&&e.resources?ep.createElement(iO,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:a}):e.section_type===r8.HERO_SECTION&&e.resource?ep.createElement(iS,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:a}):e.section_type===r8.BUNDLE_SECTION&&e.meta.figjam_ai?ep.createElement(iF,{title:e.title||"",description:e.description||"",meta:e.meta,preview:t,key:a}):void 0)),!!e.faqs&&ep.createElement(la,{faqs:e.faqs})))}var iP=a(438043);let iB=a(632958).u;var iU=a(595816),iW=a(479448);let iV=(0,at.T8)("VIEW_PLUGIN",(e,{pluginId:t,isWidget:a})=>ae.Ay.post(`/api/${a?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var iG=a(470274),i$=a(908479);let ij=a(206728).X;var iH=a(737042);function iq({resourceId:e,resourceType:t,containerClassName:a}){let r=(0,eg.wA)(),n=(0,eg.d4)(a=>t===tv.vt.HUB_FILE?(0,tO.M3)(e,a.hubFiles):(0,tF.my)(e,a.publishedPlugins)),l=(0,eg.d4)(e=>e.authedActiveCommunityProfile),i=(0,eg.d4)(e=>(0,e9.MK)(e,n)),s=ep.useCallback(()=>{r((0,eX.z8)({hub_file_id:(0,tv.U)(n)?n.id:void 0,widget_id:(0,tv.xQ)(n)?n.id:void 0,plugin_id:(0,tv.I0)(n)?n.id:void 0})),r(t6.F.enqueue({message:(0,e$.t)("community.detail_view.accepted_creator_invite")}))},[r,n]),o=ep.useCallback(()=>{r((0,eX.bb)({hub_file_id:(0,tv.U)(n)?n.id:void 0,widget_id:(0,tv.xQ)(n)?n.id:void 0,plugin_id:(0,tv.I0)(n)?n.id:void 0})),r(t6.F.enqueue({message:(0,e$.t)("community.detail_view.declined_creator_invite")}))},[r,n]);return!l||(0,e6.cs)(l)||!e9.ot.includes(i)?null:ep.createElement("div",{className:a},ep.createElement(iH.vR,{onClickAccept:s,onClickDecline:o,label:(0,e$.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}var iz=a(359787);function iY({pluginId:e,containerClassName:t}){let a=(0,eg.wA)(),r=(0,eg.d4)(t=>(0,tF.my)(e,t.publishedPlugins)),n=(0,eg.d4)(e=>(0,iz.A)(e,r));return void 0!==n&&(0,iz.jT)(n)?ep.createElement("div",{className:t},ep.createElement(iH.vR,{onClickAccept:()=>{a((0,eX.dx)({widget_id:(0,tv.xQ)(r)?r.id:void 0,plugin_id:(0,tv.I0)(r)?r.id:void 0,src:eX.Nn.COMMUNITY_PAGE})),a(t6.F.enqueue({message:(0,e$.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{a((0,eX.MZ)({widget_id:(0,tv.xQ)(r)?r.id:void 0,plugin_id:(0,tv.I0)(r)?r.id:void 0,src:eX.Nn.COMMUNITY_PAGE})),a(t6.F.enqueue({message:(0,e$.t)("community.detail_view.declined_publisher_invite")}))},label:(0,e$.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})):null}var iK=a(600427),iJ=a(269203),iZ=a(360621),iQ=a(544748);function iX(e){return ep.useMemo(()=>[{category:{urlSlug:"libraries",text:(0,e$.t)("categories.libraries"),allText:(0,e$.t)("categories.all_libraries")},dropdownCategories:[{urlSlug:"ui-kits",text:(0,e$.t)("categories.ui_kits")},{urlSlug:"wireframes",text:(0,e$.t)("categories.wireframes")}]},{category:{urlSlug:"design-templates",text:(0,e$.t)("categories.design_templates"),allText:(0,e$.t)("categories.all_design_templates")},dropdownCategories:[{urlSlug:"desktop-apps-websites",text:(0,e$.t)("categories.desktop_apps_websites")},{urlSlug:"mobile-apps",text:(0,e$.t)("categories.mobile_apps")},{urlSlug:"presentations",text:(0,e$.t)("categories.presentations")},{urlSlug:"portfolios-resumes",text:(0,e$.t)("categories.portfolios_resumes")}]},"expanded"===e||"mobile"===e?{category:{urlSlug:"design-tools",text:(0,e$.t)("categories.design_tools"),allText:(0,e$.t)("categories.all_design_tools")},dropdownCategories:[{urlSlug:"accessibility",text:(0,e$.t)("categories.accessibility")},{urlSlug:"editing-effects",text:(0,e$.t)("categories.editing_effects")},{urlSlug:"file-organization",text:(0,e$.t)("categories.file_organization")},{urlSlug:"import-export",text:(0,e$.t)("categories.import_export")},{urlSlug:"prototyping-animation",text:(0,e$.t)("categories.prototyping_animation")}]}:null,"expanded"===e||"mobile"===e?{category:{urlSlug:"visual-assets",text:(0,e$.t)("categories.visual_assets"),allText:(0,e$.t)("categories.all_visual_assets")},dropdownCategories:[{urlSlug:"fonts-typography",text:(0,e$.t)("categories.fonts_typography")},{urlSlug:"illustrations",text:(0,e$.t)("categories.illustrations")},{urlSlug:"shapes-colors",text:(0,e$.t)("categories.shapes_colors")},{urlSlug:"stock-photography",text:(0,e$.t)("categories.stock_photography")}]}:null,{category:{urlSlug:"whiteboarding",text:(0,e$.t)("categories.whiteboarding"),allText:(0,e$.t)("categories.all_whiteboarding")},dropdownCategories:[{urlSlug:"brainstorming",text:(0,e$.t)("categories.brainstorming")},{urlSlug:"diagramming",text:(0,e$.t)("categories.diagramming")},{urlSlug:"fun-games",text:(0,e$.t)("categories.fun_games")},{urlSlug:"strategic-planning",text:(0,e$.t)("categories.strategic_planning")},{urlSlug:"team-meetings",text:(0,e$.t)("categories.team_meetings")}]},..."mobile"===e?[{category:{urlSlug:"icons",text:(0,e$.t)("categories.icons")},dropdownCategories:[]},{category:{urlSlug:"development",text:(0,e$.t)("categories.development")},dropdownCategories:[]},{category:{urlSlug:"education",text:(0,e$.t)("categories.education")},dropdownCategories:[]}]:[{category:{urlSlug:"more",text:(0,e$.t)("categories.more")},dropdownCategories:[{urlSlug:"education",text:(0,e$.t)("categories.education")},{urlSlug:"development",text:(0,e$.t)("categories.development")},{urlSlug:"icons",text:(0,e$.t)("categories.icons")},"expanded"===e?null:{urlSlug:"design-tools",text:(0,e$.t)("categories.design_tools")},"expanded"===e?null:{urlSlug:"visual-assets",text:(0,e$.t)("categories.visual_assets")}].filter(e=>null!=e)}]].filter(e=>null!=e),[e])}function i0(){let e=iX("expanded");return ep.useMemo(()=>{let t=new Set;return e.forEach(e=>{let{category:a,dropdownCategories:r}=e;t.add(a.urlSlug),r.forEach(e=>{t.add(e.urlSlug)})}),t},[e])}function i1(){let e=iX("expanded");return ep.useMemo(()=>{let t={};return e.forEach(({category:e,dropdownCategories:a})=>{t[e.urlSlug]=e.text,a.forEach(e=>{t[e.urlSlug]=e.text})}),t},[e])}let i2="tags_container--tagsHeader--6f339 text--fontPos14--OL9Hp text--_fontBase--QdLsd",i4="tags_container--tagsContainer--M7709",i3="tags_container--tag--40TSY text--fontPos13--xW8hS text--_fontBase--QdLsd";function i8({parentCategorySlug:e,childCategorySlug:t,rdpImpressionId:a}){let r=i1(),n=e?r[e]:null,l=t?r[t]:null;return l||n?ep.createElement("div",{className:eT.cx.mb32.$},ep.createElement("h3",{className:i2},ep.createElement(e$.Tx,{id:"community.detail_view.category"})),ep.createElement("div",{className:i4},!!n&&ep.createElement(eH.L0,{href:`/community/category/${e}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:e,category_text:n,rdpImpressionId:a}},ep.createElement("div",{className:i3},n)),!!l&&ep.createElement(eH.L0,{href:`/community/category/${t}`,trackingEventName:"cmty_category",trackingProperties:{name:"rdp_pill_clicked",category_slug:t,category_text:l,rdpImpressionId:a}},ep.createElement("div",{className:i3},l)))):ep.createElement(ep.Fragment,null)}function i5({resource:e}){return null}var i6=a(279201),i9=a(875566),i7=a(4681),se=a(888221),st=a(247047),sa=a(146894),sr=a(901684),sn=a(924670),sl=a(547145);function si(){return ep.createElement("div",{className:eT.cx.flex.gap8.itemsCenter.font13.$},ep.createElement(sl.cC,null),ep.createElement("div",null,(0,e$.t)("community.detail_view.made_for_codegen")))}var ss=a(229113);let so=a(346103).G;function sc(e){let t=(0,ld.C2)(e);return t?ep.createElement("div",{className:eT.cx.flex.itemsCenter.gap8.$},ep.createElement(ld.Gx,null,t),ep.createElement(e$.Tx,{id:"community.detail_view.made_by_a_figma_partner"})):null}function sd(e){return ep.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var sm=a(82187),su=a(450813);function s_(e){let{hubFileEditorType:t,pluginEditorType:a}=e;if(!t&&!a)return null;let r=(0,e$.t)("community.detail_view.made_for_figma_design");if(t||(null==a?void 0:a.length)===1){let e=t||(null==a?void 0:a[0]);r=(()=>{switch(e){case sm.LE.FIGJAM:case su.FW.FIGJAM:return(0,e$.t)("community.detail_view.made_for_fig_jam");case su.FW.INSPECT:case su.FW.DEV:return(0,e$.t)("community.detail_view.made_for_dev_mode");case sm.LE.FIGMA:case su.FW.FIGMA:default:return(0,e$.t)("community.detail_view.made_for_figma_design")}})()}return(null==a?void 0:a.includes(su.FW.FIGJAM))&&(null==a?void 0:a.includes(su.FW.FIGMA))&&(0,tF.Pe)(a)?r=(0,e$.t)("community.detail_view.universal"):(null==a?void 0:a.includes(su.FW.FIGJAM))&&(null==a?void 0:a.includes(su.FW.FIGMA))?r=(0,e$.t)("community.detail_view.made_for_figma_design_and_figjam"):(null==a?void 0:a.includes(su.FW.FIGJAM))&&(0,tF.Pe)(a)?r=(0,e$.t)("community.detail_view.made_for_fig_jam_and_dev_mode"):(null==a?void 0:a.includes(su.FW.FIGMA))&&(0,tF.Pe)(a)&&(r=(0,e$.t)("community.detail_view.made_for_figma_design_and_dev_mode")),ep.createElement("div",{className:eT.cx.flex.gap8.itemsCenter.font13.$},ep.createElement(sl.dn,{editorType:t??a,is16x16:!0}),ep.createElement("div",null,r))}var sp=a(467727),sg=a(831949),sE=a(126815);function sf({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:a}){if(t&&e){let t=(0,t7.X2)(e);return ep.createElement(e$.Tx,{id:"community.detail_view.in_app_purchases",priceString:t})}return a?ep.createElement("div",{className:sg.UH},ep.createElement(e$.Tx,{id:"community.detail_view.third_party_badge.off_platform"}),ep.createElement(eL.B,{svg:sE.A,className:sg.G,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function sh(e){let{updatedAt:t,paymentInfo:a,supportContact:r,creatorPolicyData:n,license:l}=e,[i,s]=ep.useState(!1),o=r;return r&&((0,i9.xf)(r)?o=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(o=`//${r}`)),ep.createElement(sp.z,null,ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.detail_view.last_updated_at_time_stamp",timeStamp:ep.createElement(i7.h1,{date:t})})),r&&ep.createElement("div",{className:sg.Ev},ep.createElement(e$.Tx,{id:"community.detail_view.support_contact",supportContact:ep.createElement("a",{href:o||void 0,className:sg.tx,target:"_blank",rel:"nooppener noreferrer"},r)})),a,l,(0,eh.kc)().cmty_hub_file_creator_policy&&(null==n?void 0:n.policyText)&&ep.createElement("span",null,ep.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:sg.Rc},ep.createElement(e$.Tx,{id:"community.detail_view.creator_policy"})),i&&ep.createElement(sn.XV,{title:(0,e$.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},allowScroll:!0,containerClassName:sg.D9},ep.createElement("div",{className:sg.OC},ep.createElement("div",{className:sg.$h},ep.createElement(e$.Tx,{id:"community.detail_view.creator_policy_publisher_name",publisherName:n.publisherName}))))))}function sv({resource:e}){var t;let a=(0,st.A)(e.id,!0),r=(0,tv.xQ)(e);return ep.createElement(ep.Fragment,null,!(0,tv.U)(e)&&a.loaded&&(null==(t=a.data)?void 0:t.status)===lB.bQ.APPROVED&&ep.createElement(sr.b,{securityFormResponse:a.data,entryPoint:sr.X.COMMUNITY_DETAIL,isWidget:r}))}function sb({resource:e}){let{madeForBadge:t,version:a,networkAccess:r}=(()=>{if((0,tv.U)(e))return{madeForBadge:ep.createElement(s_,{hubFileEditorType:(0,eR.JJ)(e.viewer_mode)}),version:(0,eR.qD)(e),networkAccess:void 0};let t=(0,eR.qD)(e),a=t.manifest;return{madeForBadge:ep.createElement(s_,{pluginEditorType:a.editorType}),version:t,networkAccess:a.networkAccess}})(),n=(0,tv.m3)(e)&&(0,tv.PM)(e),l=(0,tv.zF)(e),i=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),s=[...new Set(e.badges.concat(i))];return ep.createElement("div",{className:sg.tJ,"data-testid":"metadata-container"},ep.createElement(sd,null,t,!(0,tv.U)(e)&&(0,tF.pk)(a)&&ep.createElement(si,null),ep.createElement(sc,{badges:s}),ep.createElement(sv,{resource:e}),!(0,tv.U)(e)&&ep.createElement(sa.u,{networkAccess:r,isWidget:e.is_widget,isLearnMoreLinkVisible:!0})),ep.createElement(sh,{updatedAt:a.created_at,supportContact:e.support_contact,license:ep.createElement(ss.F,{isMonetizedResource:(0,tv.m3)(e),isHubFile:(0,tv.U)(e),isAppleResource:(0,se.mA)(e),isFigmaResource:(0,se.sB)(e)}),paymentInfo:ep.createElement(sf,{monetizedResourceMetadata:e.monetized_resource_metadata,isFreemium:n,isOffPlatform:l}),creatorPolicyData:{policyText:a.creator_policy??null,publisherName:e.publisher.name}}),(0,iZ.M)()?ep.createElement(so,{resource:e}):null,(0,iZ.M)()?ep.createElement(iH.dx,null):ep.createElement("a",{href:"mailto:content-reviews@figma.com",className:sg.hV},ep.createElement(e$.Tx,{id:"community.detail_view.report_resource"})))}var sy=a(734945);function sw({resource:e}){let t=(0,iJ.I)(e),a=(0,t7._K)(e,t)?ep.createElement(sy.I,{resource:e,enableWideButtonForStickyFooter:!0}):(0,eR.Qo)(e)?ep.createElement(iK.U,{hubFile:e,enableWideButtonForStickyFooter:!0}):null,r=(0,iZ.M)()?"mobile_logged_in":"mobile_logged_out",n=(0,tv.I0)(e)||(0,tv.xQ)(e)?ep.createElement(ep.Fragment,null,ep.createElement(lu.Gl,{resource:e,viewContext:r,enableWideButtonForStickyFooter:!0}),ep.createElement(sG,{resource:e})):ep.createElement(ep.Fragment,null,a,ep.createElement(sG,{resource:e}),ep.createElement(lu.yY,{resource:e,viewContext:r}));return ep.createElement("div",{className:"meta_container--mobileFooter--MDxf1"},ep.createElement("div",{className:lw},n))}var sT=a(93325),sx=a(216247);let sC="related_content--relatedContentTile--gwfdU",sN="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd";function sk({resource:e,rdpImpressionId:t}){let a=(0,eR.qD)(e),r=e.thumbnail_url,n=!!e.thumbnail_is_set,l=e.viewer_mode===lB.y4.WHITEBOARD,i=(0,eh.kc)().cmty_thumbnail_16x9_ar,s=(0,eR._t)({resource:e});return ep.createElement(ex.A6,{to:s,className:eS()(sC,{"related_content--relatedContentTile16to9--6fnkm":i}),onClick:()=>sA(e,t)},ep.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,sT.C)(e.client_meta)}},ep.createElement(rW.Ho,{hubFileId:e.id,image:r,isWhiteboard:l,isSet:n,alt:a.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),ep.createElement(sl.dn,{editorType:e.viewer_mode===lB.y4.WHITEBOARD?sm.LE.FIGJAM:sm.LE.FIGMA})),ep.createElement("div",{className:sN},a.name))}function sS({resource:e,rdpImpressionId:t}){let a=(0,eR.qD)(e),r=a.redirect_icon_url,n=(0,eR._t)({resource:e});return ep.createElement(ex.A6,{to:n,className:sC,onClick:()=>sA(e,t)},ep.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},ep.createElement(sl.dn,{editorType:a.manifest.editorType}),ep.createElement(sx.V,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:a}),ep.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${r})`}})),ep.createElement("div",{className:sN},a.name))}function sI({resource:e,rdpImpressionId:t}){let a=(0,eR.qD)(e),r=a.redirect_snapshot_url,n=(0,eR._t)({resource:e});return ep.createElement(ex.A6,{to:n,className:sC,onClick:()=>sA(e,t)},ep.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},ep.createElement("img",{src:r,alt:a.name,loading:"lazy"})),ep.createElement("div",{className:sN},a.name))}let sA=(e,t)=>{var a;(0,tn.sx)("Community Related Content Clicked",{community_resource:(0,eR.Vm)(e),community_resource_id:e.id,related_content_type:null==(a=e.related_content)?void 0:a.types.join(","),rdp_impression_id:t})};function sL({resource:e,content:t,types:a,creators:r,rdpImpressionId:n}){ep.useEffect(()=>{(0,tn.sx)("Community Related Content Viewed",{communityResource:(0,eR.Vm)(e),communityResourceId:e.id,relatedContentType:a,rdp_impression_id:n,itemsImpressed:t.map(e=>e.id).join(",")})},[t.map(e=>e.id).join(",")]);let l=1===a.length&&a[0]===lM.oS.ml_model_v0?(0,e$.t)("community.related_content.more_resources_to_explore"):1===a.length&&a[0]===lM.oS.by_creator?r.accepted.length>1?(0,e$.t)("community.related_content.more_by_these_creators"):(0,e$.t)("community.related_content.more_by_this_creator"):(0,e$.t)("community.related_content.more_like_this");return ep.createElement("div",{className:"related_content--relatedContent--TYPp2"},ep.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},l)),ep.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},t.map(e=>{let t=e.id;return(0,tv.U)(e)?ep.createElement(sk,{key:t,resource:e,rdpImpressionId:n}):(0,tv.I0)(e)?ep.createElement(sS,{key:t,resource:e,rdpImpressionId:n}):ep.createElement(sI,{key:t,resource:e,rdpImpressionId:n})})))}var sR=a(880014);function sO({tags:e,resourceType:t,optionalTitle:a,disableHeader:r}){return 0===e.length?ep.createElement(ep.Fragment,null):ep.createElement(ep.Fragment,null,!r&&ep.createElement("h3",{className:i2},a||ep.createElement(e$.Tx,{id:"community.detail_view.tags"})),ep.createElement("div",{className:i4},e.map(e=>{let a=`/community/tag/${e}`;return t!==iW.L.BrowseResourceTypes.MIXED&&(a+=`/${t}`),ep.createElement(ex.A6,{key:e,to:a,onClick:()=>{(0,tn.sx)("Tag clicked",{text:e,tab:t})}},ep.createElement("div",{className:i3},e))})))}var sF=a(840093);function sM({resource:e}){let[t,a]=ep.useState(!1);if(!(0,eR.zo)(e))return null;let{versions:r}=e,n=(0,tF.uF)(e);return ep.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement("div",{className:"version_history--header--jdIyg"},ep.createElement(sx.V,{className:"version_history--icon--pnnmo",plugin:n}),ep.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"community.plugins.version_history"}))),ep.createElement("div",null,Object.keys(r).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>r[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,a=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return ep.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},ep.createElement("span",{className:"version_history--versionName--PC5Ws"},ep.createElement(e$.Tx,{id:"community.plugins.version_version_on_date",createdAt:a,versionName:e.version})),ep.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(r).length>2&&ep.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>a(!0),role:"button",tabIndex:0},ep.createElement(e$.Tx,{id:"community.plugins.see_all"}))))}function sD({resource:e,rdpImpressionId:t}){return e.related_content&&0!==e.related_content.content.length?ep.createElement(ep.Fragment,null,ep.createElement(sL,{resource:e,content:e.related_content.content,types:e.related_content.types,creators:e.community_publishers,rdpImpressionId:t}),ep.createElement("hr",null)):null}function sP({resource:e,rdpImpressionId:t}){let a=(0,eR.qD)(e),{externalCommentScrollRef:r}=ep.useContext(i$.H);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:lg,ref:r},ep.createElement(sF.u,{description:a.description}),ep.createElement(sD,{resource:e,rdpImpressionId:t}),ep.createElement(sM,{resource:e}),ep.createElement(ij,{resource:e})),ep.createElement("div",{className:lE},ep.createElement(i5,{resource:e}),ep.createElement(sO,{tags:e.tags||[],resourceType:(0,eR.Dl)(e)+"s"}),ep.createElement(sR.p,{resource:e}),ep.createElement(sb,{resource:e})))}function sB(e,t){if(e.preventDefault(),t===ls.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=ls.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function sU(e,t){let a=(0,tv.U)(e)&&e.viewer_mode===lB.y4.WHITEBOARD&&(0,tv.m3)(e),r=(0,eR.z$)(e)!==lR.Z4.EMBED;return(0,tv.U)(e)&&!a&&r&&!0}function sW({resource:e,rdpImpressionId:t}){let[a,r]=(0,tY.fp)(lo),n=(0,eZ.Uu)(),l=(0,eR.qD)(e),i=sU(e,n),{externalCommentScrollRef:s}=ep.useContext(i$.H);return ep.useEffect(()=>{let e=()=>{let e=document.getElementById(ls.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eR._m)(t,window.innerHeight,window.scrollY)?r(ls.$O.CommentsView):r(ls.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),ep.createElement(ep.Fragment,null,ep.createElement(iq,{resourceId:e.id,resourceType:(0,eR.Vm)(e),containerClassName:lf}),!(0,tv.U)(e)&&ep.createElement(iY,{pluginId:e.id,containerClassName:lf}),ep.createElement("div",{className:lh},ep.createElement("button",{onClick:e=>sB(e,ls.$O.DescriptionView)},ep.createElement("div",{className:eS()(lT,{[lx]:a===ls.$O.DescriptionView})},(0,e$.t)("community.resource_page.about"))),(0,e6.e5)(e)&&ep.createElement("button",{onClick:e=>sB(e,ls.$O.CommentsView)},ep.createElement("div",{className:eS()(lT,{[lx]:a===ls.$O.CommentsView})},ep.createElement(e$.Tx,{id:"community.resource_page.comments",numComments:ep.createElement("span",{className:eS()(lC,{[lN]:a===ls.$O.CommentsView})},e.comment_count)})))),ep.createElement("div",{className:lv},ep.createElement("div",{className:lb})),ep.createElement("div",{className:lf},ep.createElement("div",{className:lg,ref:s,id:ls.$O.DescriptionView},l.description&&ep.createElement(sF.u,{description:l.description,hideDivider:!0}),i&&ep.createElement(ep.Fragment,null,ep.createElement("h3",{className:eT.cx.font14.fontSemiBold.mb16.$},(0,e$.t)("community.embed.preview_title")),ep.createElement(lH,{enableEmbedOnSmallScreens:!0,resource:e}),ep.createElement("hr",{className:eT.cx.my24.$})),ep.createElement(sD,{resource:e,rdpImpressionId:t}),ep.createElement(sM,{resource:e}),ep.createElement("div",{id:ls.$O.CommentsView},ep.createElement(ij,{resource:e}))),ep.createElement("div",{className:lE},ep.createElement(i5,{resource:e}),ep.createElement(i8,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t}),ep.createElement(sO,{tags:e.tags||[],resourceType:(0,eR.Dl)(e)+"s"}),ep.createElement(sR.p,{resource:e}),ep.createElement(sb,{resource:e}))))}function sV({resource:e,rdpImpressionId:t}){let[a,r]=(0,tY.fp)(lo),n=sU(e,(0,eZ.Uu)()),l=(0,eR.qD)(e);return ep.useEffect(()=>{let e=()=>{let e=document.getElementById(ls.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,eR._m)(t,window.innerHeight,window.scrollY)&&r(ls.$O.CommentsView)}else r(ls.$O.DescriptionView)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),ep.createElement(ep.Fragment,null,ep.createElement(iq,{resourceId:e.id,resourceType:(0,eR.Vm)(e),containerClassName:lf}),!(0,tv.U)(e)&&ep.createElement(iY,{pluginId:e.id,containerClassName:lf}),ep.createElement("div",{className:lh},ep.createElement("button",{onClick:e=>sB(e,ls.$O.DescriptionView)},ep.createElement("div",{className:eS()(lT,{[lx]:a===ls.$O.DescriptionView})},(0,e$.t)("community.resource_page.about"))),(0,e6.e5)(e)&&ep.createElement("button",{onClick:e=>sB(e,ls.$O.CommentsView)},ep.createElement("div",{className:eS()(lT,{[lx]:a===ls.$O.CommentsView})},ep.createElement(e$.Tx,{id:"community.resource_page.comments",numComments:ep.createElement("span",{className:eS()(lC,{[lN]:a===ls.$O.CommentsView})},e.comment_count)})))),ep.createElement("div",{className:lv},ep.createElement("div",{className:lb})),ep.createElement("div",{className:lf},ep.createElement("div",{className:ly,"data-mobile-view":!0,id:ls.$O.DescriptionView},l.description&&ep.createElement(sF.u,{description:l.description}),n&&ep.createElement(ep.Fragment,null,ep.createElement("h3",{className:eT.cx.font14.fontSemiBold.mb16.$},(0,e$.t)("community.embed.preview_title")),ep.createElement(lH,{enableEmbedOnSmallScreens:!0,resource:e}),ep.createElement("hr",{className:eT.cx.my24.$})),ep.createElement(i5,{resource:e}),ep.createElement("div",{className:eT.cx.mb32.$},ep.createElement(i8,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(sO,{tags:e.tags,resourceType:(0,eR.ss)(e,{plural:!0})}),ep.createElement("hr",null)),ep.createElement(sD,{resource:e,rdpImpressionId:t}),ep.createElement(sM,{resource:e}),ep.createElement("div",{id:ls.$O.CommentsView},ep.createElement(ij,{resource:e})),ep.createElement(sR.p,{resource:e}),ep.createElement(sb,{resource:e}))))}function sG({resource:e}){if(!(0,iZ.M)())return ep.createElement(i6.i,null);{let t=(0,tv.U)(e)?e4.e0.COMMUNITY_HUB_FILE:(0,tv.xQ)(e)?e4.e0.COMMUNITY_HUB_WIDGET:e4.e0.COMMUNITY_HUB_PLUGIN;return ep.createElement(lc.Q,{resource:e,viewContext:t})}}function s$({resource:e,rdpImpressionId:t,showActionButtons:a}){let r=(0,eR.qD)(e),n=(0,iJ.I)(e),l=(0,t7._K)(e,n)?ep.createElement(sy.I,{resource:e}):(0,eR.Qo)(e)?ep.createElement(iK.U,{hubFile:e}):null,{externalCommentScrollRef:i}=ep.useContext(i$.H),s=(0,iZ.M)()?"mobile_logged_in":"mobile_logged_out",o=(0,tv.I0)(e)||(0,tv.xQ)(e)?ep.createElement(ep.Fragment,null,ep.createElement(sG,{resource:e}),ep.createElement(lu.Gl,{resource:e,viewContext:s})):ep.createElement(ep.Fragment,null,ep.createElement(sG,{resource:e}),ep.createElement(lu.yY,{resource:e,viewContext:s}),l);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:ly,"data-mobile-view":!0,ref:i},!!r.description&&ep.createElement(sF.u,{description:r.description}),a&&ep.createElement(lF.Ay,{mediaQuery:`(max-width: ${lM.YW-1}px)`},ep.createElement("div",{className:lw},o)),(!!r.description||a)&&ep.createElement("hr",null),!(0,tv.U)(e)&&ep.createElement(iY,{pluginId:e.id}),ep.createElement(i5,{resource:e}),ep.createElement("div",{className:eT.cx.mb32.$},ep.createElement(i8,{parentCategorySlug:e.parent_category_slug,childCategorySlug:e.category_slug,rdpImpressionId:t})),e.tags&&e.tags.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(sO,{tags:e.tags,resourceType:(0,eR.ss)(e,{plural:!0})}),ep.createElement("hr",null)),ep.createElement(sD,{resource:e,rdpImpressionId:t}),ep.createElement(sM,{resource:e}),ep.createElement("div",{id:ls.$O.CommentsView},ep.createElement(ij,{resource:e})),ep.createElement(sR.p,{resource:e}),ep.createElement(sb,{resource:e})))}function sj({resource:e,rdpImpressionId:t,isMobileSize:a,isMobileRedesignEnabled:r}){let n=(0,eZ.qf)(e),l=n?ep.createElement(sW,{resource:e,rdpImpressionId:t}):ep.createElement(sP,{resource:e,rdpImpressionId:t}),i=n?ep.createElement(sV,{resource:e,rdpImpressionId:t}):ep.createElement(s$,{resource:e,rdpImpressionId:t});return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:!a&&n?"":"meta_container--metaContainer--kaSwh"},ep.createElement(lF.Ay,{mediaQuery:`(max-width: ${lM.YW-1}px)`},ep.createElement(s$,{resource:e,rdpImpressionId:t,showActionButtons:!r})),ep.createElement(lF.Ay,{mediaQuery:`(min-width: ${lM.YW}px) and (max-width: ${lM.w3-1}px)`},i),ep.createElement(lF.Ay,{mediaQuery:`(min-width: ${lM.w3}px)`},l)),r&&ep.createElement(lF.Ay,{mediaQuery:`(max-width: ${lM.YW-1}px)`},ep.createElement(sw,{resource:e})))}var sH=a(323434),sq=a(320732);let sz="mobile_media_carousel--carouselItem--k7rAE";function sY({resource:e}){let t=(0,th.S)(),[a,r]=ep.useState(0),[n,l]=ep.useState(0),i=(0,eR.z$)(e),s=(0,eR.N6)(e),o=s.length>1,c=s[a];if(!o||!c)return ep.createElement(sK,{resource:e,selectedMedium:c});let[d,m]=lX(c),u=e=>{r(e)},_=e=>{let t=a+e;t<0?r(s.length-1):t>=s.length?r(0):r(t)},p=(e,t)=>Math.abs(e)*t;return ep.createElement(eH.fu,{name:e4.e0.COMMUNITY_MOBILE_RDP_CAROUSEL,properties:{resource_type:(0,eR.Vm)(e),resource_id:e.id,...t}},ep.createElement("div",{className:"mobile_media_carousel--mobileMediaCarousel--AIpoz",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},role:"grid",tabIndex:0},ep.createElement(sH.N,{mode:"popLayout",initial:!1,custom:n},ep.createElement(sq.P.div,{key:a,custom:n,variants:{enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.05}},whileDrag:{cursor:"grabbing"},drag:"x",dragDirectionLock:!0,dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:(r,{offset:n,velocity:i})=>{let s=p(n.x,i.x);s<-2500?(_(1),l(1),(0,tn.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,eR.Vm)(e),selectedIndex:a,...t})):s>2500&&(_(-1),l(-1),(0,tn.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,eR.Vm)(e),selectedIndex:a,...t}))}},ep.createElement("div",{className:sz},"video"===c.type?ep.createElement(is,{videoId:c.video_file_uuid,src:l1(c,e),fallbackSrc:c.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,tn.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,eR.Vm)(e),...t})}}):ep.createElement(l0,{image:d,resourceId:e.id,alt:(0,eR.qD)(e).name+" preview",thumbnailContext:nO.O7.DETAIL,resizedThumbnailUrls:m,resourceHeroType:i,isMobileCarousel:!0})))),ep.createElement("div",{className:"mobile_media_carousel--carouselIndicator--etWE0"},s.map((e,t)=>ep.createElement("div",{key:t,className:eS()("mobile_media_carousel--carouselDot--kqCx2",{"mobile_media_carousel--activeCarouselDot--dBLJE":t===a}),onClick:()=>u(t),role:"button",tabIndex:0})))))}function sK({resource:e,selectedMedium:t}){let a;let r=(0,th.S)();if(t&&"video"===t.type)return ep.createElement("div",{className:sz},ep.createElement(is,{videoId:t.video_file_uuid,src:l1(t,e),fallbackSrc:t.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,tn.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,eR.Vm)(e),...r})}}));t?[a]=lX(t):a=e.thumbnail_url;let n=(0,tv.U)(e)?e.resized_thumbnail_urls:void 0;return ep.createElement("div",{className:sz},ep.createElement(l0,{image:a||"",resourceId:e.id,alt:(0,eR.qD)(e).name+" preview",thumbnailContext:nO.O7.DETAIL,resourceHeroType:(0,eR.z$)(e),resizedThumbnailUrls:n,isMobileCarousel:!0}))}let sJ=async(e,t)=>{let a=ls.S[e];return await fetch(`/api/${a}/${t}/versions`).then(e=>e.json())},sZ={file:{},plugin:{},widget:{}},sQ=async(e,t)=>{if(sZ[e][t])return sZ[e][t];let{meta:a}=await sJ(e,t),r=ls.S[e],n=[iW.L.BrowseResourceTypes.PLUGINS,iW.L.BrowseResourceTypes.WIDGETS].indexOf(r)>-1?a.plugin:a;return sZ[e][n.id]=n,n};function sX({resource:e,rdpImpressionId:t}){return ep.createElement(ep.Fragment,null,ep.createElement(iB,{resource:e}),ep.createElement(ib,{resource:e}),ep.createElement(sj,{resource:e,rdpImpressionId:t}))}function s0({resource:e,rdpImpressionId:t}){return ep.createElement(ep.Fragment,null,ep.createElement(lr.Xg,{resource:e}),ep.createElement(lH,{key:e.id,resource:e}),ep.createElement(sj,{resource:e,rdpImpressionId:t}))}function s1({resource:e,rdpImpressionId:t}){return(0,eZ.qf)(e)?ep.createElement(sX,{resource:e,rdpImpressionId:t}):ep.createElement(s0,{resource:e,rdpImpressionId:t})}function s2({resource:e,rdpImpressionId:t,isMobileRedesignEnabled:a,isMobileSize:r}){let[n,l]=ep.useState(!1),i=a?ep.createElement(sY,{resource:e}):ep.createElement(lH,{key:e.id,resource:e}),s=a?ep.createElement(lI,{resource:e,hasScrolled:n}):ep.createElement(lr.Xg,{resource:e});return ep.createElement(ep.Fragment,null,i,s,ep.createElement("div",{className:"resource_page--mobileScrollSentinelContainer--AkI9N"},ep.createElement(tD.a,{className:"resource_page--scrollSentinel--yWuQV",onIntersectionChange:e=>l(!e.isIntersecting)})),ep.createElement(sj,{resource:e,rdpImpressionId:t,isMobileSize:r,isMobileRedesignEnabled:a}))}function s4(){let[{apiResourceType:e,resourceId:t},a]=ep.useState({apiResourceType:(0,eR.eD)()[0],resourceId:(0,eR.eD)()[1]}),[r,n]=ep.useState(null),l=(0,eg.wA)(),i=(0,ll.N)(`(max-width: ${lM.YW-1}px)`),s=(0,eZ.UJ)(),o=!!i&&s(!1),c=(0,eZ.o5)({isLoggedOut:!1});ep.useEffect(()=>{let e=eR.Cz.listen(()=>{let[e,t]=(0,eR.eD)();ls.S.hasOwnProperty(e)&&(a(a=>a.apiResourceType===e&&a.resourceId===t?(document.body.removeAttribute("data-hide"),a):(document.body.setAttribute("data-hide","true"),{apiResourceType:e,resourceId:t})),setTimeout(()=>window.scrollTo(0,0),100))});return()=>{e(),document.body.removeAttribute("data-hide")}},[]),ep.useEffect(()=>{if(!e||!t||!sZ[e]){eR.Cz.replace(location.pathname+location.search);return}sQ(e,t).then(t=>{e===tv.bD.WIDGET?t=(0,iG.I$)(t):e===tv.bD.PLUGIN&&(t=(0,iG.I$)(t)),n(t),(0,tv.U)(t)?l((0,tI.Sb)({hubFiles:[t],src:"resourcePage"})):l((0,iU.Qi)({publishedPlugins:[t],src:"resourcePage"})),document.title=(0,eR.qD)(t).name+"\xa0| Figma",document.body.removeAttribute("data-hide")})},[e,t,l]);let d=ep.useRef(null),m=ep.useCallback(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[d]);if(ep.useEffect(()=>{r&&l((0,tv.U)(r)?(0,tI.vr)({hubFileId:r.id}):iV({pluginId:r.id,isWidget:(0,tv.xQ)(r)}))},[l,r]),!r)return ep.createElement(ep.Fragment,null);let u=function(e){let t=(0,tv.m3)(e);return(0,tv.U)(e)?{name:e4.e0.COMMUNITY_HUB_FILE,properties:{hubFileId:e.id,isMonetized:t}}:(0,tv.xQ)(e)?{name:e4.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:e4.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}(r),_=(0,e3.g)();return ep.createElement("div",{className:eS()("resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd",{"resource_page--resourcePageShifted--9dXBV":o})},ep.createElement(eH.fu,{name:u.name,properties:u.properties},ep.createElement(i$.H.Provider,{value:{onScrollToRatings:m,externalCommentScrollRef:d}},ep.createElement(lF.Ay,{mediaQuery:`(min-width: ${lM.EX}px)`},ep.createElement(s1,{resource:r,rdpImpressionId:_})),ep.createElement(lF.Ay,{mediaQuery:`(min-width: ${lM.YW}px) and (max-width: ${lM.EX-1}px)`},ep.createElement(s1,{resource:r,rdpImpressionId:_})),ep.createElement(lF.Ay,{mediaQuery:`(max-width: ${lM.YW-1}px)`},ep.createElement(s2,{resource:r,rdpImpressionId:_,isMobileRedesignEnabled:o,isMobileSize:i}))),c()&&!(0,eE.y3)()&&ep.createElement("div",{className:"resource_page--footerContainer--bAm54"},ep.createElement(eK,null))))}function s3(e){return ep.useEffect(()=>{r1.XZ.initialRenderDurationMs=Math.round(window.performance.now()-r1.XZ.domContentLoadedMs),r1.XZ.isFastma=eR.FG,r1.XZ.timeToLoadMs=Math.round(performance.now()),r1.XZ.report(),(0,al.qD)({name:"Community Hub"})},[]),ep.useEffect(()=>{e.loggedOut||eR.Cz.replace(location.pathname+(location.search||""))},[e.loggedOut]),ep.createElement(eg.Kq,{store:e.store},ep.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},ep.createElement(eN.Ix,{history:eR.Cz},ep.createElement(e.Navbar,null),ep.createElement(eN.dO,null,(0,eh.kc)().cmty_collections_v2&&ep.createElement(eN.qh,{path:"/community/templates/:urlSlug"},ep.createElement(iM,null)),ep.createElement(eN.qh,{path:"/community/collections/:urlSlug"},(0,eh.kc)().cmty_collections_v2?ep.createElement(iM,null):ep.createElement(nq,null)),ep.createElement(eN.qh,{path:"/community/collections/"},ep.createElement(nY,null)),ep.createElement(eN.qh,{path:"/community/file/*"},ep.createElement(s4,null)),ep.createElement(eN.qh,{path:"/community/plugin/*"},ep.createElement(s4,null)),ep.createElement(eN.qh,{path:"/community/widget/*"},ep.createElement(s4,null)),ep.createElement(eN.qh,{path:"/community*"},ep.createElement(e.FeedView,null)),(0,eh.kc)().cmty_profile_in_react_router&&ep.createElement(eN.qh,{path:"/@:handle"},ep.createElement(r0,null))),ep.createElement(eW,null),!1,ep.createElement(eJ.Ay,null))))}r1.XZ.domContentLoadedMs=Math.round(window.performance.now());var s8=a(966479),s5=a(220186),s6=a(219143),s9=a(762040),s7=a(983835),oe=a(76091),ot=a(927092),oa=a(117688),or=a(236705),on=a(83958);let ol={files:oa.A,plugins:or.A,widgets:on.A,profiles:ot.A,mixed:rG.A};function oi(e){if(e.isError)return null;let t=ep.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case iW.L.SearchResourceTypes.FILES:if(e.view.price===oe.C.FREE)return ep.createElement(e$.Tx,{id:"community.search.empty_state_hub_files_free",query:t});if(e.view.price===oe.C.PAID)return ep.createElement(e$.Tx,{id:"community.search.empty_state_hub_files_paid",query:t});return ep.createElement(e$.Tx,{id:"community.search.empty_state_hub_files",query:t});case iW.L.SearchResourceTypes.PLUGINS:if(e.view.price===oe.C.FREE)return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_plugins_free",query:t});if(e.view.price===oe.C.PAID)return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_plugins_paid",query:t});return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_plugins",query:t});case iW.L.SearchResourceTypes.WIDGETS:if(e.view.price===oe.C.FREE)return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_widgets_free",query:t});if(e.view.price===oe.C.PAID)return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_widgets_paid",query:t});return ep.createElement(e$.Tx,{id:"community.search.empty_state_public_widgets",query:t});case iW.L.SearchResourceTypes.PROFILES:return ep.createElement(e$.Tx,{id:"community.search.empty_state_creators",query:t});case iW.L.SearchResourceTypes.MIXED:default:if(e.view.price===oe.C.FREE)return ep.createElement(e$.Tx,{id:"community.search.no_resources_matching_free",query:t});if(e.view.price===oe.C.PAID)return ep.createElement(e$.Tx,{id:"community.search.no_resources_matching_paid",query:t});return ep.createElement(e$.Tx,{id:"community.search.no_resources_matching",query:t})}}function os(e){return ep.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--nKgFF tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(eL.B,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--lO7cp",svg:ol[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),ep.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--cDRSr"},ep.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText--Wonq4 ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(oi,{...e}))))}var oo=a(639088);function oc({category:e,tagsFromResources:t,resourceType:a}){let[r,n]=ep.useState([]),l=i0(),i=!!(e&&!l.has(e));ep.useEffect(()=>{e&&i&&oo.c.getBySlug({slug:e}).then(e=>{var t,a;return n((null==(a=null==(t=e.data)?void 0:t.meta)?void 0:a.tags)??[])}).catch(()=>n([]))},[e,i]);let s=i?r:t;return s.length>0?ep.createElement("div",null,ep.createElement("hr",null),ep.createElement(sO,{tags:s.slice(0,10),resourceType:a,optionalTitle:(0,e$.t)("community.right_bar.related_tags")})):ep.createElement(ep.Fragment,null)}var od=a(126049),om=a(902457),ou=a(267014);let o_=(0,li.eU)({}),op=(0,li.eU)({idx:-1}),og=(0,li.eU)({}),oE=(0,li.eU)({idx:-1});var of=a(153660);function oh(e){let t=e===of.PF.LANDING?og:o_,a=e===of.PF.LANDING?oE:op,[r,n]=(0,tY.fp)(t),[l,i]=(0,tY.fp)(a),s=ep.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let a=((null==r?void 0:r[t])??[]).map((e,a)=>({type:t,idx:a})).slice(0,4);return e.concat(a)},[]),[r]),o=ep.useMemo(()=>s.findIndex(e=>e.type===(null==l?void 0:l.type)&&e.idx===(null==l?void 0:l.idx)),[s,l]);return{renderedOrder:s,renderedSelectedIdx:o,resources:r,setResources:n,selectedIdx:l,setSelectedIdx:i}}function ov(){let e=(0,eZ.kc)({is_logged_out:!1}),t=(0,eZ.ye)({is_logged_out:!1});return(0,ll.N)(`(max-width: ${aE.dxy})`)?t()?"show-mobile":"show-none":e()?"show-desktop":"show-none"}var ob=a(713374),oy=a(853890),ow=a(335871),oT=a(405167),ox=a(732439),oC=a(427605),oN=a(96032);let ok="search_dropdown--meta--a-aV4",oS="search_dropdown--pluginOrWidgetTilePreview--Rfef1",oI="search_dropdown--section--VJbkB",oA="search_dropdown--sectionTitle--x7FyO",oL="search_dropdown--title--eiIIy",oR="search_dropdown--authorRow--Uk00Y",oO="search_dropdown--authorRowText--vsAii",oF="search_dropdown--authorRowAvatar--jFZyx",oM="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",oD="search_dropdown--hover--stEGe";function oP({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return e&&0!==e.length?ep.createElement("div",{className:oI},ep.createElement("div",{className:oA},ep.createElement(e$.Tx,{id:"community.view_bar.creators"})),ep.createElement(oB,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:a,selectedIdx:r})):null}function oB({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return ep.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,n)=>ep.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:eS()({[oD]:r===n})},ep.createElement(oU,{profile:e,onResourceClick:t}))))}function oU({profile:e,onResourceClick:t}){return ep.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},ep.createElement(ex.A6,{to:`/@${e.profile_handle}`,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},ep.createElement(oC.e,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),ep.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),ep.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function oW({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eg.d4)(e=>e.authedActiveCommunityProfile),l=(0,th.S)(!0);return e&&0!==e.length?ep.createElement("div",{className:oI},ep.createElement("div",{className:oA},ep.createElement(e$.Tx,{id:"community.view_bar.widgets"})),e.slice(0,4).map((e,i)=>{let s=(0,eR.qD)(e);return ep.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:eS()({[oD]:r===i})},ep.createElement(ex.A6,{to:(0,eR._t)({resource:e,trackingInfo:l}),className:oM,onClick:()=>{document.activeElement.blur(),t()}},ep.createElement(sx.V,{plugin:s,className:oS,alt:s.name,onError:e=>e.target.src=eR.ZD}),ep.createElement("div",{className:ok},ep.createElement("div",{className:oL},s.name),ep.createElement("div",{className:oR},e.community_publishers.accepted.map(e=>ep.createElement(oC.e,{key:e.id,entity:e,size:16,adtlClassName:oF})),ep.createElement("div",{className:oO},(0,nF.Lj)(e)))),(0,oN.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function oV({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eg.d4)(e=>e.authedActiveCommunityProfile),l=(0,th.S)(!0);return e&&0!==e.length?ep.createElement("div",{className:oI},ep.createElement("div",{className:oA},ep.createElement(e$.Tx,{id:"community.view_bar.plugins"})),e.slice(0,4).map((e,i)=>{let s=(0,eR.qD)(e);return ep.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:eS()({[oD]:r===i})},ep.createElement(ex.A6,{to:(0,eR._t)({resource:e,trackingInfo:l}),className:oM,onClick:()=>{document.activeElement.blur(),t()}},ep.createElement("img",{src:s.redirect_icon_url,className:oS,alt:s.name,onError:e=>e.target.src=eR.ZD}),ep.createElement("div",{className:ok},ep.createElement("div",{className:oL},s.name),ep.createElement("div",{className:oR},e.community_publishers.accepted.map(e=>ep.createElement(oC.e,{key:e.id,entity:e,size:16,adtlClassName:oF})),ep.createElement("div",{className:oO},(0,nF.Lj)(e)))),(0,oN.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function oG({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,eg.d4)(e=>e.authedActiveCommunityProfile),l=(0,th.S)(!0);if(!e||0===e.length)return null;let i=(0,eh.kc)().cmty_thumbnail_16x9_ar;return ep.createElement("div",{className:oI},ep.createElement("div",{className:oA},ep.createElement(e$.Tx,{id:"community.view_bar.files"})),e.slice(0,4).map((e,s)=>{let o=(0,eR.qD)(e);return ep.createElement("div",{onMouseEnter:()=>a(s),key:e.id,className:eS()({[oD]:r===s})},ep.createElement(ex.A6,{to:(0,eR._t)({resource:e,trackingInfo:l}),className:"search_dropdown--resourceRow--P-Lig",onClick:()=>{document.activeElement.blur(),t()}},ep.createElement("img",{src:e.thumbnail_url,className:i?"search_dropdown--fileTilePreview16x9---1A4y":"search_dropdown--fileTilePreview--uCbva",alt:o.name,onError:e=>e.target.src=eR.ZD}),ep.createElement("div",{className:ok},ep.createElement("div",{className:oL},o.name),ep.createElement("div",{className:oR},e.community_publishers.accepted.map(e=>ep.createElement(oC.e,{key:e.id,entity:e,size:16,adtlClassName:oF})),ep.createElement("div",{className:oO},(0,nF.Lj)(e)))),(0,oN.$3)({resource:e,authedActiveCommunityProfile:n})))}))}let o$=function(e,t){let a;return(...t)=>new Promise(r=>{clearTimeout(a),a=setTimeout(()=>{r(e.apply(e,t))},250)})}((e,t)=>t((0,ow.n)().filter({query:e,sort_by:oT.e.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:8,isPreview:!0,profileLimit:3})),0);function oj(e){var t,a,r,n;let{query:l,context:i,width:s,clearSearchInput:o}=e,{resources:c,setResources:d,selectedIdx:m,setSelectedIdx:u}=oh(i),_=(0,eg.wA)(),p=(0,th.S)(!0),g=null==p?void 0:p.searchSessionId,E=ep.useCallback(()=>{_(s9.N.sessionSeeMoreClick({})),(0,tn.sx)("search_show_all_clicked",{query:l,scope:"community",entry_point:"community",...p})},[_,l,p]);ep.useEffect(()=>{l&&o$(l,_).then(([e,t])=>{let a=e.data.meta.results.map(e=>e.model);d({files:a.filter(e=>(0,ox.zj)(e)),plugins:a.filter(e=>(0,ox.bT)(e)).map(iG.I$),widgets:a.filter(e=>(0,ox.AS)(e)).map(iG.I$),creators:t.data.meta.results.slice(0,3)}),u({idx:-1});let r=i===of.PF.LANDING?"searchPreviewLanding":"searchPreview";(0,tn.sx)("search_query_result",{query:l,responseCounts:a.length,scope:"community",entry_point:"community",context:r,searchSessionId:g})}).catch(()=>{})},[l,_,g,i,d,u]);let f=ep.useCallback(e=>{(0,tn.sx)("search_result_clicked",{query:l,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",...p}),o(),d({}),_(s9.N.endSession())},[l,_,p,d,o]),h=ep.useCallback((e,t)=>{c[t]&&!((c[t]??[]).length<e)&&u({idx:e,type:t})},[c,u]);if(!l)return null;let v=(null==(t=c.files)?void 0:t.length)||(null==(a=c.widgets)?void 0:a.length)||(null==(r=c.plugins)?void 0:r.length)||(null==(n=c.creators)?void 0:n.length),b=(0,ob.Mc)({...ob.qd,query:l});return ep.createElement("div",{className:eS()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":i===of.PF.LANDING,"search_dropdown--categoryNavSearchDropdown--luKXm":"small"===s,"search_dropdown--categoryNavDropdownResponsiveWidth--HzoIl":"small-responsive"===s})},ep.createElement(oG,{resources:c.files,onResourceClick:()=>f("files"),onResourceHover:e=>h(e,"files"),selectedIdx:(null==m?void 0:m.type)==="files"?null==m?void 0:m.idx:null}),ep.createElement(oV,{resources:c.plugins,onResourceClick:()=>f("plugins"),onResourceHover:e=>h(e,"plugins"),selectedIdx:(null==m?void 0:m.type)==="plugins"?null==m?void 0:m.idx:null}),ep.createElement(oW,{resources:c.widgets,onResourceClick:()=>f("widgets"),onResourceHover:e=>h(e,"widgets"),selectedIdx:(null==m?void 0:m.type)==="widgets"?null==m?void 0:m.idx:null}),ep.createElement(oP,{profiles:c.creators,onResourceClick:()=>f("profiles"),onResourceHover:e=>h(e,"creators"),selectedIdx:(null==m?void 0:m.type)==="creators"?null==m?void 0:m.idx:null}),v?ep.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},ep.createElement(ex.A6,{to:b,onClick:E},ep.createElement(e$.Tx,{id:"community.search.show_all_search_results"}))):null)}let oH="search_input--searchBoxContainer--im-rr dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd";var oq=a(639685),oz=a(159696);function oY(e){let{onSubmit:t,pathname:a,isMobile:r}=e,n=(0,ob.zX)(a)===ob.hX.SEARCH,[l,i]=ep.useState("");ep.useEffect(()=>{let e=(0,ob.wl)();e&&(0,of.OE)(e)&&e.query&&i(e.query)},[]);let s=(0,od.A)(t,r?600:400),o=ep.useCallback(()=>{i("")},[]);!function(e,t){let a=(0,om.Z)(e);ep.useEffect(()=>{e!==ob.hX.SEARCH&&a!==e&&t()},[e,t,a])}(a,o);let c=ov(),d="show-desktop"===c?(0,e$.t)("community.search.placeholder"):(0,e$.t)("community.search.placeholder.search_for_a_resource");if(r)return ep.createElement(oJ,{onChange:i,onSubmit:s,query:l,inSearchPath:n,inputPlaceholder:d});{let e=l&&!n&&window.innerWidth>800?ep.createElement(oj,{query:l,clearSearchInput:o,context:of.PF.NAV,width:c?"small-responsive":void 0}):null;return ep.createElement(oy.ms,{preview:e,className:oH,disableRepositioning:!0},ep.createElement(oK,{onChange:i,onSubmit:s,query:l,inSearchPath:n,inputPlaceholder:d,context:of.PF.NAV}))}}function oK(e){let{query:t,inSearchPath:a,onChange:r,onSubmit:n,context:l}=e,i=(0,eg.wA)(),s=ep.useRef(null),{renderedOrder:o,renderedSelectedIdx:c,resources:d,setResources:m,selectedIdx:u,setSelectedIdx:_}=oh(l),p=ep.useCallback(()=>{_({idx:-1})},[_]),g=(0,th.S)(!0);return ep.createElement("div",{className:"search_input--searchBox--03-WO text--fontPos13--xW8hS text--_fontBase--QdLsd",tabIndex:0,onFocus:()=>{null!==s.current&&s.current.focus(),i(s9.N.startSearch({entryPoint:"community"}))}},ep.createElement(le.In,{icon:"search-large-32"}),ep.createElement("input",{type:"text",value:t,spellCheck:!1,placeholder:e.inputPlaceholder||(0,e$.t)("community.search.search_community"),ref:s,onChange:e=>{let t=e.currentTarget.value;r(t),a&&t&&n(t)},onBlur:p,onKeyDown:e=>{var l,p,E,f;let h=e.currentTarget.value.trim();if("Enter"===e.key){if(e.preventDefault(),c>=0&&u.type){let e=null==(l=d[u.type])?void 0:l[u.idx],a="model"in e?`/@${e.model.profile_handle}`:(0,eR._t)({resource:e,trackingInfo:g});(0,ex.VJ)(a),null==(p=s.current)||p.blur(),r(""),m({}),i(s9.N.endSession()),(0,tn.sx)("search_result_clicked",{query:t,resourceType:null==(E=o[c])?void 0:E.type,scope:"community",is_preview:!0,index:c,entry_point:"community_via_enter",...g})}else n(h),a&&!h?i(s9.N.endSession()):!a&&h&&i(s9.N.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))}else if("Escape"===e.key)null==(f=s.current)||f.blur();else if(e.keyCode===ou.Uz.RIGHT_ARROW||e.keyCode===ou.Uz.DOWN_ARROW||e.keyCode===ou.Uz.LEFT_ARROW||e.keyCode===ou.Uz.UP_ARROW){e.preventDefault();let t=c===o.length-1?c:c+1,a=c<=0?c:c-1;switch(e.keyCode){case ou.Uz.RIGHT_ARROW:case ou.Uz.DOWN_ARROW:_(o[t]||{idx:-1});break;case ou.Uz.LEFT_ARROW:case ou.Uz.UP_ARROW:_(o[a]||{idx:-1})}}},required:!0}),t&&t.length>0&&ep.createElement(eL.B,{svg:oz.A,className:"search_input--closeIcon--9YDAe",onClick:()=>{r(""),a&&n(""),i(s9.N.endSession())}}))}function oJ(e){let{query:t,inSearchPath:a,onChange:r,onSubmit:n}=e,l=ep.useRef(null),i=(0,eg.wA)(),[s,o]=ep.useState(!1);return ep.createElement("div",{className:"search_input--mobileSearchContainer--lpxm7 text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement("button",{onClick:()=>{var e;s?i(s9.N.endSession()):(null==(e=l.current)||e.focus(),i(s9.N.startSearch({entryPoint:"community"}))),o(!s)}},ep.createElement(eL.B,{className:"search_input--searchIcon--qJgOx",svg:oq.A})),ep.createElement("div",{className:"search_input--searchInput--oFDQ-"},ep.createElement("input",{type:"text",value:t,spellCheck:!1,ref:l,placeholder:e.inputPlaceholder||(0,e$.t)("community.search.search_community"),onChange:e=>{let t=e.currentTarget.value;r(t),a&&t&&n(t)},onKeyDown:e=>{var t,r;let s=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),n(s),null==(t=l.current)||t.blur(),a&&!s?i(s9.N.endSession()):!a&&s&&i(s9.N.sessionEnteredSearchViewViaEnter({entryPoint:"community"}))):"Escape"===e.key&&(null==(r=l.current)||r.blur())},required:!0}),ep.createElement("button",{className:"search_input--clearInput--2nSCV",onClick:e=>{r(""),e.preventDefault()}},"\xd7")))}let oZ=()=>{let e=(0,eN.W6)(),t=(0,ob.UH)(),a=!!(t&&(0,of.OE)(t));return{history:e,onSubmit:r=>{r.length?e.push(function({query:e,view:t,inSearchPath:a}){let r={...ob.qd,editor_type:(null==t?void 0:t.editor_type)||ob.qd.editor_type,resourceType:(null==t?void 0:t.resourceType)||ob.qd.resourceType,price:(null==t?void 0:t.price)||ob.qd.price,query:e};return a&&(r.sort_by=(null==t?void 0:t.sort_by)||ob.qd.sort_by),(0,ob.Mc)(r)}({query:r,view:t,inSearchPath:a})):a&&e.push("/community")},inSearchPath:a}};function oQ(e){let{history:t,onSubmit:a}=oZ(),r=e.isMobile??eb.Ay.mobile;return ep.createElement(oY,{isMobile:r,onSubmit:a,pathname:t.location.pathname})}function oX(){let{onSubmit:e,inSearchPath:t}=oZ(),[a,r]=ep.useState(""),n=(0,od.A)(e,400),l=ep.useCallback(()=>{r("")},[]);if(!(0,tR.TA)())return null;let i=a&&!t&&window.innerWidth>800?ep.createElement(oj,{query:a,clearSearchInput:l,context:of.PF.LANDING}):null;return ep.createElement("div",{className:"search_input--landingSearchContainer--WHHxn"},ep.createElement(oy.ms,{preview:i,className:oH,disableRepositioning:!0},ep.createElement(oK,{onChange:r,onSubmit:n,query:a,inSearchPath:t,inputPlaceholder:(0,e$.t)("community.search.search_everything_in_community"),context:of.PF.LANDING})))}var o0=a(621809),o1=a(153283);function o2(e){let t=e===iW.L.BrowseResourceTypes.MIXED||e===iW.L.BrowseResourceTypes.PLUGINS,a=e===iW.L.BrowseResourceTypes.FILES;return[[{key:o1.k.Editors.ALL,label:(0,e$.t)("community.landing_page.sort.all_products")},{key:o1.k.Editors.FIGMA,label:(0,e$.t)("community.view_bar.figma")},t?{key:o1.k.Editors.DEV_MODE,label:(0,e$.t)("community.view_bar.dev_mode")}:null,a?{key:o1.k.Editors.PROTOTYPE,label:(0,e$.t)("community.view_bar.figma_prototype")}:null,{key:o1.k.Editors.FIGJAM,label:(0,e$.t)("community.view_bar.fig_jam")}].filter(Boolean)]}function o4(e){let t=!e&&(0,iZ.M)();return[[{key:o0.Z.ALL,label:(0,e$.t)("community.view_bar.all_creators")},t?{key:o0.Z.FOLLOWING,label:(0,e$.t)("community.view_bar.following")}:null,{key:o0.Z.FIGMA_PARTNER,label:(0,e$.t)("community.view_bar.figma_partners_only")}].filter(Boolean)]}var o3=a(976601),o8=a(656173);let o5=(0,tZ.r1)(tX.Xt);function o6(){let e=(0,tY.md)(o5),t=(0,tR.iZ)(),a=(0,eg.d4)(e=>e.authedActiveCommunityProfile),{show:r,isShowing:n,complete:l}=(0,tJ.e)({overlay:t4.cJy,priority:tQ.N.DEFAULT_MODAL},[e]);return(0,tz.h)(()=>{a&&a.has_published&&r({canShow:e=>!e})}),ep.createElement(o8._l,{isShowing:n,title:ep.createElement(e$.Tx,{id:"community.modal.creator_carousel_nux.add_image_and_video_previews"}),description:ep.createElement(e$.Tx,{id:"community.modal.creator_carousel_nux.drive_eyeballs_and_engagement"}),media:ep.createElement(o8.B$,{width:400,src:"https://static.figma.com/uploads/02d9c70dd6cacb66d38819ec23ce6f1b6202e13d",alt:"An illustration of a carousel of images and videos",aspectRatio:.82}),primaryCta:{type:"link",label:ep.createElement(e$.Tx,{id:"community.modal.creator_carousel_nux.update_my_resources"}),href:`/@${null==a?void 0:a.profile_handle}`,ctaTrackingDescriptor:o3.c.UPDATE_MY_RESOURCES,trackingProperties:{userId:null==t?void 0:t.id}},secondaryCta:{type:"link",label:ep.createElement(e$.Tx,{id:"community.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",ctaTrackingDescriptor:o3.c.LEARN_MORE,trackingProperties:{userId:null==t?void 0:t.id,profileId:null==a?void 0:a.id}},trackingContextName:"community_creator_carousel_media_nux",userFlagOnShow:tX.Xt,clickOutsideToHide:!0,onClose:l,closeButtonColor:"dark"})}var o9=a(324686),o7=a(796685),ce=a(661495);let ct="seen_community_devmode_filter_onboarding",ca="editor_type_filter_clicked",cr="community_feed_product_filter";function cn(){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"community_devmode_filter_onboarding--titleText--KExCB"},(0,e$.t)("community.landing_page.devmode_filter_tooltip.title")),ep.createElement("div",{className:"community_devmode_filter_onboarding--bodyText--v4Nma"},(0,e$.t)("community.landing_page.devmode_filter_tooltip.description")))}function cl(){let e=(0,tJ.e)({overlay:t4.tUL,priority:tQ.N.DEFAULT_MODAL}),t=(0,o9.f)(ct);return((0,tz.h)(()=>{t||e.show()}),(0,tK.E)(e.uniqueId,[ca],()=>{e.complete()}),e.isShowing)?ep.createElement(o7.h,{isShowing:e.isShowing,modalType:ce.q3.POINTER,onboardingKey:cr,trackingContextName:"Community Dev Mode Filter Onboarding",element:cn,userFlagOnShow:ct,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,width:250,shouldNotWrapInParagraphTag:!0}):null}let ci=ep.memo(function(){return ep.createElement(ep.Fragment,null,ep.createElement(tq.p,{featureFlag:"cmty_rdp_creator_modal"},ep.createElement(o6,null)),ep.createElement(tq.p,null,ep.createElement(cl,null)))});function cs(){return ep.createElement("svg",{width:"472",height:"195",viewBox:"0 0 472 195",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{x:"156.25",y:"38.625",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"233.375",y:"38.625",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"387.625",y:"7.1875",width:"77.125",height:"77.125",fill:"#FFC700"}),ep.createElement("line",{x1:"464.562",y1:"2.76204",x2:"464.562",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"469.371",y1:"84.1871",x2:"383.379",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"387.386",y1:"2.00374",x2:"387.386",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"471.375",y1:"6.01131",x2:"381.375",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),ep.createElement("rect",{x:"460.555",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"460.555",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"383.379",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"383.379",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"2",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"79.125",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"156.25",y:"115.75",width:"77.125",height:"77.125",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"310.5",y:"115.75",width:"77.125",height:"77.125",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"387.625",y:"115.75",width:"77.125",height:"77.125",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M443.301 75.5558L406.702 53.9287L415.066 97.4249L423.825 78.5966L443.301 75.5558Z",fill:"#0FA958",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function co(){return ep.createElement("svg",{width:"467",height:"164",viewBox:"0 0 467 164",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 310.5 6.9375)",fill:"#5551FF"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 233.375 84.0625)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 79.125 6.9375)",fill:"#0FA958",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 464.75 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 84.0625)",fill:"#5551FF",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{width:"77.125",height:"77.125",transform:"matrix(-1 0 0 1 156.25 6.9375)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("line",{x1:"310.125",y1:"2.76204",x2:"310.125",y2:"88.9962",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"314.934",y1:"84.1871",x2:"228.941",y2:"84.1871",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"232.949",y1:"2.00374",x2:"232.949",y2:"88.9963",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"316.938",y1:"6.01131",x2:"226.938",y2:"6.01131",stroke:"#1ABCFE",strokeWidth:"4.00748"}),ep.createElement("rect",{x:"306.117",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"306.117",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"228.941",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"228.941",y:"80.1798",width:"8.81645",height:"8.81645",fill:"white",stroke:"#1ABCFE",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.864 71.7589L252.264 50.1318L260.629 93.628L269.388 74.7998L288.864 71.7589Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function cc(){return ep.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{x:"2",y:"2.125",width:"208.314",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"209.439",y:"2.125",width:"117.322",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"325.888",y:"2.125",width:"73.4513",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"398.464",y:"2.125",width:"39.871",height:"149.75",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"460",y:"2.125",width:"10.3354",height:"149.75",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"438.544",y:"2.125",width:"21.456",height:"149.75",fill:"black",stroke:"black",strokeWidth:"4"}))}function cd(){return ep.createElement("svg",{width:"473",height:"154",viewBox:"0 0 473 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{x:"-2",y:"2",width:"208.314",height:"149.75",transform:"matrix(-1 0 0 1 469 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"117.322",height:"149.75",transform:"matrix(-1 0 0 1 261.561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"73.4513",height:"149.75",transform:"matrix(-1 0 0 1 145.112 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"39.871",height:"149.75",transform:"matrix(-1 0 0 1 72.5356 0.125)",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"10.3354",height:"149.75",transform:"matrix(-1 0 0 1 11 0.125)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"21.456",height:"149.75",transform:"matrix(-1 0 0 1 32.4561 0.125)",fill:"black",stroke:"black",strokeWidth:"4"}))}function cm(){return ep.createElement("svg",{width:"537",height:"451",viewBox:"0 0 537 451",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M11.3019 135.706L133.568 250.696L18.7181 295.903L133.568 275.354L0 406.867L174.703 275.354L258.934 450.795L221.928 275.354H343.166L212.681 250.696L330.836 144.869L181.857 232.417V0L151.305 224.618L11.3019 135.706Z",fill:"url(#paint0_radial_103_24084)"}),ep.createElement("path",{d:"M373.8 169.202L340.564 90.6895L351.161 173.056L304.659 163.682L346.826 186.543L293.842 255.422L365.13 200.03L536.64 338.644L392.104 186.543L451.35 179.318H389.695L451.35 134.04L373.8 169.202Z",fill:"url(#paint1_radial_103_24084)"}),ep.createElement("circle",{cx:"458.033",cy:"308.894",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ep.createElement("circle",{cx:"282.28",cy:"301.394",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ep.createElement("circle",{cx:"362.949",cy:"246.645",r:"5",stroke:"#00B6FF",strokeWidth:"3"}),ep.createElement("mask",{id:"path-6-inside-1_103_24084",fill:"white"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z"})),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M394.22 255.553C401.807 257.55 407.405 264.494 407.405 272.753C407.405 274.634 407.114 276.448 406.576 278.15L414.841 286.465L403.482 297.894L395.276 289.638C393.533 290.217 391.669 290.53 389.733 290.53C381.193 290.53 374.068 284.436 372.42 276.334L364.031 246.894L394.22 255.553Z",fill:"black"}),ep.createElement("path",{d:"M394.22 255.553L393.393 258.437L393.424 258.446L393.456 258.454L394.22 255.553ZM406.576 278.15L403.715 277.245L403.168 278.977L404.448 280.265L406.576 278.15ZM414.841 286.465L416.969 288.58L419.071 286.465L416.969 284.35L414.841 286.465ZM403.482 297.894L401.354 300.008L403.482 302.149L405.609 300.008L403.482 297.894ZM395.276 289.638L397.404 287.523L396.094 286.206L394.331 286.791L395.276 289.638ZM372.42 276.334L375.36 275.736L375.337 275.623L375.306 275.512L372.42 276.334ZM364.031 246.894L364.858 244.01L359.666 242.52L361.146 247.716L364.031 246.894ZM410.405 272.753C410.405 263.109 403.866 254.99 394.984 252.652L393.456 258.454C399.747 260.11 404.405 265.879 404.405 272.753H410.405ZM409.436 279.055C410.066 277.063 410.405 274.945 410.405 272.753H404.405C404.405 274.324 404.162 275.832 403.715 277.245L409.436 279.055ZM416.969 284.35L408.703 276.035L404.448 280.265L412.714 288.58L416.969 284.35ZM405.609 300.008L416.969 288.58L412.714 284.35L401.354 295.779L405.609 300.008ZM393.148 291.753L401.354 300.008L405.609 295.779L397.404 287.523L393.148 291.753ZM389.733 293.53C391.995 293.53 394.177 293.164 396.221 292.486L394.331 286.791C392.888 287.27 391.344 287.53 389.733 287.53L389.733 293.53ZM369.481 276.931C371.404 286.391 379.726 293.53 389.733 293.53L389.733 287.53C382.66 287.53 376.731 282.48 375.36 275.736L369.481 276.931ZM375.306 275.512L366.916 246.071L361.146 247.716L369.535 277.156L375.306 275.512ZM363.204 249.777L393.393 258.437L395.047 252.669L364.858 244.01L363.204 249.777Z",fill:"white",mask:"url(#path-6-inside-1_103_24084)"}),ep.createElement("path",{d:"M367.264 250.143L389.735 272.754",stroke:"white",strokeWidth:"3",strokeLinecap:"square"}),ep.createElement("ellipse",{cx:"389.734",cy:"272.752",rx:"4.81949",ry:"4.84851",fill:"white"}),ep.createElement("path",{d:"M272.238 393.9C294.732 391.899 334.115 378.874 311.688 342.79C295.857 317.321 285.747 304.98 286.497 305.858C297.105 318.265 323.138 341.176 339.969 336.402C356.8 331.628 361.085 283.532 362.997 252.463C365.32 277.522 366.906 336.522 394.8 342.868C422.243 349.111 450.082 317.3 455.043 312.928C442.807 331.127 424.316 351.43 441.424 379.972",stroke:"#00B6FF",strokeWidth:"3"}),ep.createElement("defs",null,ep.createElement("radialGradient",{id:"paint0_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(183.912 250.696) rotate(121.695) scale(220.979 253.632)"},ep.createElement("stop",{stopColor:"#FFC700"}),ep.createElement("stop",{offset:"0.494792",stopColor:"#0FA958"}),ep.createElement("stop",{offset:"1",stopColor:"#5551FF"})),ep.createElement("radialGradient",{id:"paint1_radial_103_24084",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(362.722 183.171) rotate(82.355) scale(144.826 152.449)"},ep.createElement("stop",{offset:"0.385417",stopColor:"#FFC700"}),ep.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function cu(){return ep.createElement("svg",{width:"1007",height:"1093",viewBox:"0 0 1007 1093",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M260.143 521.692L479.291 587.106L234.859 770.317L498.091 623.995L443.116 1070.24L560.336 642.077L881.672 822.209L610.845 578.704L771.227 469.052L621.977 526.901L786.897 352.502L563.506 517.379L593.509 351.799L529.208 502.686L379.469 287.177L501.865 527.345L166.001 224.874L485.471 557.147L260.143 521.692Z",fill:"url(#paint0_radial_103_24085)"}),ep.createElement("g",{filter:"url(#filter0_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",fill:"#699BF7"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M302.781 607.509L256.003 584.469L306.264 563.842L292.821 585.477L302.781 607.509Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("g",{filter:"url(#filter1_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",fill:"#0FA958"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M380.833 595.712L329.686 585.564L372.896 552.632L365.511 577.009L380.833 595.712Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("g",{filter:"url(#filter2_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",fill:"#FFC700"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.792 656.145L331.265 611.253L384.616 621.513L361.522 632.256L357.792 656.145Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("g",{filter:"url(#filter3_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",fill:"#FF8577"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M459.247 558.782L409.878 575.567L430.833 525.442L436.626 550.245L459.247 558.782Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("g",{filter:"url(#filter4_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",fill:"#A259FF"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M257.111 654.631L228.113 611.294L281.955 618.552L259.498 630.571L257.111 654.631Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("g",{filter:"url(#filter5_d_103_24085)"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",fill:"#F24E1E"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.888 596.282L163.468 570.668L214.802 552.877L200.173 573.729L208.888 596.282Z",stroke:"#010101",strokeWidth:"3",strokeLinecap:"square"})),ep.createElement("defs",null,ep.createElement("filter",{id:"filter0_d_103_24085",x:"252.355",y:"560.693",width:"60.6101",height:"61.9267",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("filter",{id:"filter1_d_103_24085",x:"326.131",y:"548.626",width:"61.493",height:"61.2878",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("filter",{id:"filter2_d_103_24085",x:"328.281",y:"609.152",width:"64.1537",height:"63.2747",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("filter",{id:"filter3_d_103_24085",x:"407.211",y:"520.583",width:"59.4585",height:"69.392",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("filter",{id:"filter4_d_103_24085",x:"225.016",y:"609.363",width:"64.7163",height:"61.4958",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("filter",{id:"filter5_d_103_24085",x:"159.833",y:"549.941",width:"61.8401",height:"61.6191",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ep.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ep.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),ep.createElement("feOffset",{dx:"2.97913",dy:"11.9165"}),ep.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),ep.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_103_24085"}),ep.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_103_24085",result:"shape"})),ep.createElement("radialGradient",{id:"paint0_radial_103_24085",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(496.741 590.327) rotate(48.298) scale(348.57 458.853)"},ep.createElement("stop",{stopColor:"#C7B9FF"}),ep.createElement("stop",{offset:"0.442708",stopColor:"#A259FF"}),ep.createElement("stop",{offset:"1",stopColor:"#F24E1E"}))))}function c_(){return ep.createElement("svg",{width:"521",height:"319",viewBox:"0 0 521 319",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("circle",{cx:"385.693",cy:"125.504",r:"123.504",fill:"#F24E1E",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"#699BF7",strokeWidth:"40",strokeLinecap:"round",strokeLinejoin:"round"}),ep.createElement("path",{d:"M52.9055 139.988C27.9488 177.475 -6.64662 251.82 54.6258 249.304C115.898 246.788 178.221 199.847 194.166 170.276C173.436 208.721 184.926 263.226 254.88 251.083C316.952 240.309 364.773 188.366 388.297 166.014",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"387.312",cy:"166.185",r:"6",transform:"rotate(-9.84695 387.312 166.185)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"193.181",cy:"170.447",r:"6",transform:"rotate(-9.84695 193.181 170.447)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"491.568",y:"190.826",width:"30.2725",height:"127.353",transform:"rotate(30 491.568 190.826)",fill:"#FFC700",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M400.38 197.37C401.812 204.318 407.964 209.543 415.336 209.543C417.009 209.543 418.618 209.274 420.124 208.777L427.215 215.868L437.032 206.051L429.89 198.91C430.356 197.447 430.607 195.889 430.607 194.272C430.607 187.165 425.754 181.193 419.181 179.488L393.124 172.059L400.38 197.37Z",fill:"white"}),ep.createElement("path",{d:"M393.124 172.059L419.181 179.488C425.754 181.193 430.607 187.165 430.607 194.272C430.607 195.889 430.356 197.447 429.89 198.91L437.032 206.051L427.215 215.868L420.124 208.777C418.618 209.274 417.009 209.543 415.336 209.543C407.964 209.543 401.812 204.318 400.38 197.37L393.124 172.059ZM393.124 172.059L415.271 194.206",stroke:"#010101",strokeWidth:"4.03072"}),ep.createElement("path",{d:"M417.985 197.307C416.359 198.934 413.722 198.934 412.095 197.307C410.469 195.681 410.469 193.044 412.095 191.417C413.722 189.791 416.359 189.791 417.985 191.417C419.612 193.044 419.612 195.681 417.985 197.307Z",fill:"#010101"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M229.57 196.12L198.234 177.603L205.395 214.844L212.895 198.723L229.57 196.12Z",fill:"#FFC700",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}function cp(){return ep.createElement("svg",{width:"637",height:"493",viewBox:"0 0 637 493",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M242.772 199.176L252.022 208.426C253.199 209.603 253.199 211.522 252.022 212.699L219.832 244.889L203.944 247.254L206.309 231.366L238.499 199.176C239.686 197.999 241.595 197.999 242.772 199.176Z",fill:"white",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),ep.createElement("path",{d:"M245.239 219.502L231.716 205.979",stroke:"#010101",strokeWidth:"3.96975",strokeMiterlimit:"10"}),ep.createElement("path",{d:"M532.457 107.727C548.515 86.3731 567.225 75.0246 583.592 79.4101C612.631 87.1912 623.295 141.558 607.41 200.842C591.525 260.125 555.107 301.877 526.067 294.095C509.7 289.71 499.171 270.527 495.941 244.005C479.884 265.359 461.173 276.707 444.807 272.322C428.44 267.936 417.91 248.753 414.681 222.232C398.623 243.585 379.913 254.933 363.546 250.548C347.179 246.163 336.65 226.979 333.42 200.458C317.363 221.811 298.652 233.16 282.285 228.774C253.246 220.993 242.582 166.626 258.467 107.343C274.352 48.059 310.771 6.30786 339.81 14.0889C356.177 18.4744 366.706 37.6577 369.936 64.1791C385.993 42.8256 404.704 31.4772 421.071 35.8627C437.437 40.2481 447.967 59.4314 451.196 85.9528C467.254 64.5993 485.965 53.2509 502.331 57.6364C518.698 62.0218 529.228 81.2051 532.457 107.727Z",fill:"#699BF7",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M9.63464 342.858L195.981 255.931L401.597 254.09L426.517 364.125L239.429 447.779L34.5546 452.894L9.63464 342.858Z",fill:"#FFC700",stroke:"black",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"10 10"}),ep.createElement("circle",{cx:"196.113",cy:"253.995",r:"6",transform:"rotate(-7.60757 196.113 253.995)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M447.446 278.889L416.111 260.373L423.272 297.613L430.771 281.493L447.446 278.889Z",fill:"#F24E1E",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}),ep.createElement("circle",{cx:"402.247",cy:"254.603",r:"6",transform:"rotate(-7.60757 402.247 254.603)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M133.241 273.047C166.416 277.441 196.871 254.11 201.265 220.935V220.935C205.659 187.761 182.328 157.306 149.153 152.912V152.912C115.978 148.518 85.5232 171.849 81.1294 205.024V205.024C76.7355 238.198 100.067 268.653 133.241 273.047V273.047Z",fill:"#F24E1E",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}),ep.createElement("circle",{cx:"115.939",cy:"225.334",r:"6.45657",transform:"rotate(-61.7169 115.939 225.334)",fill:"black"}),ep.createElement("circle",{cx:"137.589",cy:"185.095",r:"6.45657",transform:"rotate(-61.7169 137.589 185.095)",fill:"black"}),ep.createElement("path",{d:"M161.201 175.804C181.733 186.851 189.421 212.451 178.374 232.983C167.327 253.515 141.727 261.203 121.195 250.156",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function cg(){return ep.createElement("svg",{width:"844",height:"366",viewBox:"0 0 844 366",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("line",{x1:"35.2456",y1:"139.013",x2:"35.2456",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"113.179",y1:"139.013",x2:"113.179",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"191.112",y1:"139.013",x2:"191.112",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"269.045",y1:"139.013",x2:"269.045",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"346.979",y1:"139.013",x2:"346.979",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"424.913",y1:"139.013",x2:"424.913",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"502.845",y1:"139.013",x2:"502.845",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"580.779",y1:"139.013",x2:"580.779",y2:"319.94",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"623",y1:"191.511",x2:"7.02628e-08",y2:"191.511",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"623",y1:"269.444",x2:"7.02628e-08",y2:"269.444",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"#699BF7",strokeWidth:"40"}),ep.createElement("path",{d:"M65.4941 327.517C113.327 378.566 230.289 316.421 315.476 231.234C421.959 124.751 572.474 -19.274 534.232 119.137C495.989 257.548 534.214 269.718 572.65 250.706C642.363 216.225 829.282 85.5026 823.317 2",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M574.755 42.7954L476.867 227.568",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"532.653",cy:"119.466",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"529.495",cy:"64.0318",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M564.832 273.997L509.497 244.032",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M384.243 135.254L247.411 325.065",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"315.827",cy:"230.336",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"536.863",cy:"259.105",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{cx:"68.4764",cy:"185.777",r:"5.26277",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M73.3884 191.04L144.962 277.7",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"380.033",y:"130.343",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"240.394",y:"325.065",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"503.181",y:"236.3",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"564.229",y:"273.49",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"472.306",y:"225.073",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"571.597",y:"38.0688",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("rect",{x:"144.962",y:"277.7",width:"9.47299",height:"9.47299",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M357.264 258.676L321.34 237.448L329.55 280.141L338.147 261.661L357.264 258.676Z",fill:"#FF8577",stroke:"black",strokeWidth:"4",strokeLinecap:"square"}))}function cE(){return ep.createElement("svg",{width:"672",height:"328",viewBox:"0 0 672 328",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("line",{x1:"93.0057",y1:"71.0366",x2:"93.0057",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"170.939",y1:"71.0366",x2:"170.939",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"248.872",y1:"71.0366",x2:"248.872",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"326.806",y1:"71.0366",x2:"326.806",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"404.739",y1:"71.0366",x2:"404.739",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"482.673",y1:"71.0366",x2:"482.673",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"560.605",y1:"71.0366",x2:"560.605",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"638.539",y1:"71.0366",x2:"638.539",y2:"251.963",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"671.786",y1:"123.534",x2:"57",y2:"123.534",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("line",{x1:"671.786",y1:"201.467",x2:"57",y2:"201.467",stroke:"#FF8577",strokeWidth:"2"}),ep.createElement("path",{d:"M58.2804 22.7119L61.298 25.3185C69.9321 32.7766 82.5891 33.3689 91.8903 26.7502L95.141 24.4369L96.0406 28.3084C98.6146 39.3855 108.504 47.258 119.944 47.3364L123.942 47.3638L122.38 51.0213C117.91 61.4864 121.255 73.632 130.463 80.3775L133.681 82.7351L130.254 84.7817C120.449 90.6375 115.971 102.417 119.431 113.253L120.64 117.04L116.657 116.694C105.26 115.704 94.6704 122.618 91.0604 133.406L89.7987 137.176L86.781 134.569C78.1469 127.111 65.49 126.519 56.1888 133.138L52.938 135.451L52.0384 131.58C49.4645 120.502 39.5751 112.63 28.1355 112.552L24.1374 112.524L25.6995 108.867C30.1689 98.4015 26.8245 86.256 17.6161 79.5104L14.3977 77.1528L17.8248 75.1062C27.6304 69.2505 32.1084 57.471 28.6484 46.6348L27.4392 42.8476L31.4222 43.1937C42.8186 44.184 53.4086 37.27 57.0187 26.4822L58.2804 22.7119Z",fill:"black"}),ep.createElement("line",{x1:"141.187",y1:"3.2513",x2:"141.187",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"146.075",y1:"143.187",x2:"2.00378",y2:"143.187",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"6.01119",y1:"2.00374",x2:"6.01119",y2:"147.72",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"148.078",y1:"6.01106",x2:"4.57764e-05",y2:"6.01106",stroke:"black",strokeWidth:"4.00748"}),ep.createElement("rect",{x:"137.18",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"137.18",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"2.00374",y:"2.00374",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"2.00374",y:"139.18",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"542.577",y1:"121.081",x2:"542.577",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"547.841",y1:"320.516",x2:"344.394",y2:"320.516",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"348.401",y1:"119.333",x2:"348.401",y2:"325.085",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("line",{x1:"549.845",y1:"123.34",x2:"342.39",y2:"123.34",stroke:"black",strokeWidth:"4.00748"}),ep.createElement("rect",{x:"538.57",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"538.57",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"344.394",y:"119.333",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("rect",{x:"344.394",y:"316.509",width:"8.81645",height:"8.81645",fill:"white",stroke:"black",strokeWidth:"4.00748",strokeLinecap:"square"}),ep.createElement("path",{d:"M446.118 146.843L494.54 164.468L520.306 209.094L511.357 259.841L471.883 292.964H420.353L380.878 259.841L371.93 209.094L397.695 164.468L446.118 146.843Z",fill:"#FF8577",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M177.183 146.845C177.183 152.244 179.645 157.068 183.507 160.256C184.791 161.315 184.791 163.618 183.507 164.678C179.645 167.865 177.183 172.689 177.183 178.088C177.183 187.686 184.963 195.467 194.561 195.467C199.96 195.467 204.784 193.005 207.972 189.142C209.031 187.859 211.334 187.859 212.394 189.142C215.581 193.005 220.405 195.467 225.804 195.467C235.402 195.467 243.183 187.686 243.183 178.088C243.183 172.689 240.721 167.865 236.858 164.678C235.575 163.618 235.575 161.315 236.858 160.256C240.721 157.068 243.183 152.244 243.183 146.845C243.183 137.248 235.402 129.467 225.804 129.467C220.405 129.467 215.581 131.929 212.394 135.791C211.334 137.075 209.031 137.075 207.972 135.791C204.784 131.929 199.96 129.467 194.561 129.467C184.963 129.467 177.183 137.248 177.183 146.845Z",fill:"#A259FF"}),ep.createElement("path",{d:"M236.858 164.677C240.721 167.865 243.183 172.689 243.183 178.088C243.183 187.686 235.402 195.466 225.804 195.466C220.405 195.466 215.581 193.004 212.394 189.142C211.334 187.858 209.031 187.858 207.972 189.142C204.784 193.004 199.96 195.466 194.561 195.466C184.963 195.466 177.183 187.686 177.183 178.088C177.183 172.689 179.645 167.865 183.507 164.677C184.791 163.618 184.791 161.315 183.507 160.255C179.645 157.068 177.183 152.244 177.183 146.845C177.183 137.247 184.963 129.466 194.561 129.466C199.96 129.466 204.784 131.928 207.972 135.791C209.031 137.074 211.334 137.074 212.394 135.791",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 237.92 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.337)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 185.894 161.338)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 189.335)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("circle",{r:"5.26277",transform:"matrix(-1 0 0 1 210.183 137.176)",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M261.062 199.952C262.617 207.497 269.297 213.17 277.303 213.17C279.119 213.17 280.867 212.878 282.502 212.339L290.202 220.039L300.862 209.379L293.107 201.624C293.613 200.036 293.886 198.344 293.886 196.587C293.886 188.871 288.615 182.385 281.478 180.534L253.183 172.467L261.062 199.952Z",fill:"white"}),ep.createElement("path",{d:"M253.183 172.467L281.478 180.534C288.615 182.385 293.886 188.871 293.886 196.587C293.886 198.344 293.613 200.036 293.107 201.624L300.862 209.379L290.202 220.039L282.502 212.339C280.867 212.878 279.119 213.17 277.303 213.17C269.297 213.17 262.617 207.497 261.062 199.952L253.183 172.467ZM253.183 172.467L277.232 196.516",stroke:"#010101",strokeWidth:"4.37696"}),ep.createElement("path",{d:"M280.18 199.883C278.414 201.65 275.55 201.65 273.784 199.883C272.018 198.117 272.018 195.254 273.784 193.488C275.55 191.721 278.414 191.721 280.18 193.488C281.946 195.254 281.946 198.117 280.18 199.883Z",fill:"#010101"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M104.658 157.595L68.7344 136.367L76.9446 179.06L85.5417 160.58L104.658 157.595Z",fill:"#699BF7",stroke:"#010101",strokeWidth:"4",strokeLinecap:"square"}))}function cf({categorySlug:e}){let[t,a]=function(e){let[t]=(0,r2.IT)((0,iQ.iB)());return ep.useMemo(()=>{if("loaded"!==t.status)return[null,null];let a=t.data.find(t=>t.url_slug===e),r=a&&null!==a.parent_category_id?t.data.find(e=>e.id===a.parent_category_id):null;return[a,r]},[t,e])}(e),r=i1();if(!t||!a)return ep.createElement("div",null);let n=`/community/category/${a.url_slug}`;return ep.createElement("div",{className:n8},ep.createElement(eH.L0,{href:n,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:a.url_slug,from_category_slug:t.url_slug},className:n5,onClick:e=>(0,ex.qG)(n,e)},r[a.url_slug]),ep.createElement("div",{className:n9},"/"),ep.createElement("span",{className:eS()(n5,n6)},r[t.url_slug]))}(e=>{e.Left=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87343)"},ep.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),ep.createElement("path",{d:"M251 39.6665C274.932 39.6665 294.333 20.2655 294.333 -3.66684L207.667 -3.66684C207.667 20.2655 227.068 39.6665 251 39.6665Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M229.667 155L229.667 126.667C229.667 115.069 239.069 105.667 250.667 105.667C262.265 105.667 271.667 115.069 271.667 126.667L271.667 155L229.667 155Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M249.667 103.667C285.013 103.667 313.667 75.0132 313.667 39.667L185.667 39.667C185.667 75.0132 214.321 103.667 249.667 103.667Z",fill:"#F24E1E",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M449.895 169.389H451.895V167.389V119.725V117.725H449.895H319.166H317.166V119.725V167.389V169.389H319.166H449.895ZM292.967 114.467L293.955 119.631L296.649 115.116L304.137 102.567L317.846 98.8076L322.384 97.5631L318.339 95.1594L289.369 77.9473L285.548 75.6772L286.383 80.0425L292.967 114.467Z",fill:"#C7B9FF",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87343"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87333)"},ep.createElement("rect",{width:"472",height:"140",fill:"#A259FF"}),ep.createElement("path",{d:"M226.957 53.3712L222.013 58.3412L217.043 53.3712C204.404 40.7347 187.262 33.6358 169.389 33.6358C151.516 33.6358 134.375 40.7347 121.735 53.3712C109.099 66.0109 102 83.1521 102 101.025C102 118.898 109.099 136.039 121.735 148.679L126.705 153.649L121.735 158.592C109.424 171.298 102.602 188.335 102.742 206.026C102.881 223.718 109.971 240.645 122.481 253.155C134.991 265.665 151.918 272.755 169.609 272.894C187.301 273.034 204.338 266.212 217.043 253.9L222.013 248.93L226.957 253.9C239.596 266.537 256.738 273.636 274.611 273.636C292.484 273.636 309.625 266.537 322.265 253.9C334.901 241.261 342 224.119 342 206.246C342 188.373 334.901 171.232 322.265 158.592L317.295 153.649L322.265 148.679C334.576 135.973 341.398 118.936 341.259 101.245C341.119 83.5538 334.029 66.6265 321.519 54.1165C309.009 41.6064 292.082 34.5167 274.391 34.3773C256.699 34.2378 239.662 41.0599 226.957 53.3712Z",fill:"#FFC700",stroke:"black","stroke-width":"2.66667","stroke-miterlimit":"10"}),ep.createElement("path",{d:"M24.6543 25.6665L23.3209 25.6665L23.3209 26.9998L23.3209 74.664L23.3209 75.9973L24.6543 75.9973L155.383 75.9973L156.717 75.9973L156.717 74.664L156.717 26.9998L156.717 25.6665L155.383 25.6665L24.6543 25.6665ZM180.928 80.0476L180.269 76.605L178.473 79.6148L170.847 92.3941L156.88 96.2243L153.854 97.0539L156.551 98.6564L185.521 115.868L188.069 117.382L187.512 114.472L180.928 80.0476Z",fill:"#F24E1E",stroke:"black","stroke-width":"2.66667","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87333"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(ea||(ea={})),(e=>{e.Left=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87265)"},ep.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ep.createElement("g",{"clip-path":"url(#clip1_1398_87265)"},ep.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ep.createElement("path",{d:"M216.98 91.371C203.817 78.2406 203.356 55.1192 213.28 29.0543C187.149 38.9545 163.97 38.4947 150.806 25.3639C137.644 12.2341 137.182 -10.8858 147.104 -36.9493C120.976 -27.0514 97.7993 -27.5122 84.637 -40.6419C60.2075 -65.0111 79.5285 -123.795 127.792 -171.938C176.055 -220.082 234.984 -239.356 259.413 -214.987C272.575 -201.857 273.037 -178.737 263.115 -152.673C289.243 -162.571 312.42 -162.11 325.582 -148.981C338.745 -135.85 339.207 -112.729 329.283 -86.664C355.413 -96.5642 378.593 -96.1044 391.756 -82.9736C404.919 -69.8436 405.381 -46.7231 395.458 -20.659C421.586 -30.5571 444.763 -30.0964 457.926 -16.9666C482.355 7.4026 463.034 66.1861 414.771 114.33C366.508 162.474 307.579 181.747 283.149 157.378C269.987 144.248 269.525 121.127 279.448 95.0634C253.32 104.962 230.143 104.501 216.98 91.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"}),ep.createElement("rect",{x:"180",y:"263",width:"243",height:"243",rx:"121.5",transform:"rotate(-180 180 263)",fill:"#F24E1E",stroke:"black","stroke-width":"4"}))),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87265"},ep.createElement("rect",{width:"472",height:"140",fill:"white"})),ep.createElement("clipPath",{id:"clip1_1398_87265"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87129)"},ep.createElement("rect",{width:"472",height:"140",fill:"#5551FF"}),ep.createElement("path",{d:"M344.478 -7.11549L312.621 -38.8252L324.306 -50.4559L356.183 -18.7254L359.594 -15.3302V-20.1429L359.594 -64.9997H376.128V-20.1611V-15.3484L379.539 -18.7436L411.398 -50.4559L423.082 -38.8252L391.226 -7.11551L387.793 -3.69804H392.637H437.708L437.708 12.741H392.639H387.795L391.228 16.1585L423.088 47.8713L411.403 59.5019L379.539 27.784L376.128 24.3887V29.2014V74.0466H359.594V29.1832V24.3705L356.183 27.7657L324.3 59.5019L312.615 47.8713L344.475 16.1585L347.908 12.741H343.064H298V-3.69802H343.067H347.911L344.478 -7.11549Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M168.98 259.371C155.817 246.241 155.356 223.119 165.28 197.054C139.149 206.955 115.97 206.495 102.806 193.364C89.644 180.234 89.182 157.114 99.1044 131.051C72.9764 140.949 49.7993 140.488 36.637 127.358C12.2075 102.989 31.5285 44.2054 79.7916 -3.93848C128.055 -52.0824 186.984 -71.3557 211.413 -46.9865C224.575 -33.8568 225.037 -10.7368 215.115 15.3267C241.243 5.4288 264.42 5.88956 277.582 19.0193C290.745 32.1497 291.207 55.2711 281.283 81.336C307.413 71.4358 330.593 71.8956 343.756 85.0264C356.919 98.1564 357.381 121.277 347.458 147.341C373.586 137.443 396.763 137.904 409.926 151.033C434.355 175.403 415.034 234.186 366.771 282.33C318.508 330.474 259.579 349.747 235.149 325.378C221.987 312.248 221.525 289.127 231.448 263.063C205.32 272.962 182.143 272.501 168.98 259.371Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linejoin":"bevel"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87129"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(er||(er={})),(e=>{e.Left=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87379)"},ep.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M252.19 108.907C255.189 103.713 253.409 97.0711 248.215 94.0723L183.806 56.8857L248.215 19.6991C253.409 16.7002 255.189 10.0586 252.19 4.86454C249.191 -0.329552 242.55 -2.10917 237.356 0.889641L172.945 38.077L172.945 -36.2968C172.945 -42.2944 168.083 -47.1564 162.086 -47.1564C156.088 -47.1564 151.226 -42.2944 151.226 -36.2968L151.226 38.0756L86.8181 0.889663C81.624 -2.10915 74.9824 -0.329529 71.9836 4.86455C68.9848 10.0586 70.7644 16.7003 75.9585 19.6991L140.368 56.8857L75.9588 94.0722C70.7647 97.071 68.9851 103.713 71.9839 108.907C74.9827 114.101 81.6243 115.88 86.8184 112.882L151.226 75.6959L151.226 150.068C151.226 156.066 156.088 160.928 162.086 160.928C168.083 160.928 172.945 156.066 172.945 150.068L172.945 75.6944L237.355 112.882C242.549 115.88 249.191 114.101 252.19 108.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M81.2996 103.705L243.098 10.9396",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M162.301 153.344L162.301 -39.5731",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M243.098 103.705L81.2992 10.9396",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"80.5331",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"243.192",cy:"9.95459",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 9.95459)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"80.5331",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 80.5331 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"243.192",cy:"103.839",rx:"3.275",ry:"3.275",transform:"rotate(-60 243.192 103.839)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"162.301",cy:"57.2265",rx:"3.275",ry:"3.275",transform:"rotate(180 162.301 57.2265)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M60.5349 126.638L59.4836 127.836L61.0658 127.639L73.4791 126.095L83.238 133.382L84.3815 134.236L84.2026 132.82L80.7086 105.168L80.5397 103.831L79.651 104.844L60.5349 126.638Z",fill:"#699BF7",stroke:"black","stroke-width":"1.21296","stroke-linecap":"square"}),ep.createElement("path",{d:"M261.665 78.6089L264.618 74.2591L259.52 75.5464L247.936 78.4721L237.84 72.7217L233.751 70.3925L234.912 74.953L241.789 101.964L242.885 106.271L245.382 102.594L261.665 78.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M448.19 216.907C451.189 211.713 449.409 205.071 444.215 202.072L379.806 164.886L444.216 127.699C449.41 124.7 451.189 118.059 448.19 112.865C445.192 107.67 438.55 105.891 433.356 108.89L368.945 146.077L368.945 71.7032C368.945 65.7056 364.083 60.8436 358.086 60.8436C352.088 60.8436 347.226 65.7056 347.226 71.7032L347.226 146.076L282.818 108.89C277.624 105.891 270.983 107.67 267.984 112.865C264.985 118.059 266.765 124.7 271.959 127.699L336.368 164.886L271.959 202.072C266.765 205.071 264.985 211.713 267.984 216.907C270.983 222.101 277.625 223.88 282.819 220.882L347.226 183.696L347.226 258.068C347.226 264.066 352.088 268.928 358.086 268.928C364.083 268.928 368.945 264.066 368.945 258.068L368.945 183.694L433.356 220.882C438.55 223.88 445.191 222.101 448.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M277.3 211.705L439.098 118.94",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M358.301 261.344L358.301 68.4269",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M439.098 211.705L277.299 118.94",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"276.533",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 276.533 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"439.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 439.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"358.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 358.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M371.094 99.6343L373.385 104.367L374.818 99.3084L378.077 87.8131L388.105 81.9452L392.167 79.5684L387.637 78.2937L360.806 70.744L356.528 69.5401L358.464 73.5405L371.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87379"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87420)"},ep.createElement("rect",{width:"472",height:"140",fill:"#0FA958"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M200.19 216.907C203.189 211.713 201.409 205.071 196.215 202.072L131.806 164.886L196.216 127.699C201.41 124.7 203.189 118.059 200.19 112.865C197.192 107.67 190.55 105.891 185.356 108.89L120.945 146.077L120.945 71.7032C120.945 65.7056 116.083 60.8436 110.086 60.8436C104.088 60.8436 99.2262 65.7056 99.2262 71.7032L99.2262 146.076L34.8183 108.89C29.6243 105.891 22.9826 107.67 19.9838 112.865C16.985 118.059 18.7646 124.7 23.9587 127.699L88.3679 164.886L23.959 202.072C18.7649 205.071 16.9853 211.713 19.9841 216.907C22.9829 222.101 29.6246 223.88 34.8186 220.882L99.2262 183.696L99.2262 258.068C99.2262 264.066 104.088 268.928 110.086 268.928C116.083 268.928 120.945 264.066 120.945 258.068L120.945 183.694L185.356 220.882C190.55 223.88 197.191 222.101 200.19 216.907Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M29.2998 211.705L191.098 118.94",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M110.301 261.344L110.301 68.4269",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M191.098 211.705L29.2995 118.94",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"28.5333",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 28.5333 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"191.192",cy:"117.955",rx:"3.275",ry:"3.275",transform:"rotate(-60 191.192 117.955)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"110.27",cy:"71.3432",rx:"3.275",ry:"3.275",transform:"rotate(180 110.27 71.3432)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M123.094 99.6343L125.385 104.367L126.818 99.3084L130.077 87.8131L140.105 81.9452L144.167 79.5684L139.637 78.2937L112.806 70.744L108.528 69.5401L110.464 73.5405L123.094 99.6343Z",fill:"#F24E1E",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M344.19 51.9068C347.189 46.7127 345.409 40.0711 340.215 37.0723L275.806 -0.114263L340.216 -37.3009C345.41 -40.2998 347.189 -46.9414 344.19 -52.1355C341.192 -57.3296 334.55 -59.1092 329.356 -56.1104L264.945 -18.923L264.945 -93.2968C264.945 -99.2944 260.083 -104.156 254.086 -104.156C248.088 -104.156 243.226 -99.2944 243.226 -93.2968L243.226 -18.9244L178.818 -56.1103C173.624 -59.1091 166.983 -57.3295 163.984 -52.1355C160.985 -46.9414 162.765 -40.2997 167.959 -37.3009L232.368 -0.114268L167.959 37.0722C162.765 40.071 160.985 46.7127 163.984 51.9067C166.983 57.1008 173.625 58.8804 178.819 55.8816L243.226 18.6959L243.226 93.0683C243.226 99.066 248.088 103.928 254.086 103.928C260.083 103.928 264.945 99.066 264.945 93.0683L264.945 18.6944L329.356 55.8817C334.55 58.8805 341.191 57.1009 344.19 51.9068Z",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M173.3 46.7046L335.098 -46.0604",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M254.301 96.3438L254.301 -96.5731",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M335.098 46.7046L173.299 -46.0604",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"172.533",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 172.533 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"335.192",cy:"46.8389",rx:"3.275",ry:"3.275",transform:"rotate(-60 335.192 46.8389)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"254.301",cy:"0.226465",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 0.226465)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("ellipse",{cx:"254.301",cy:"93.8915",rx:"3.275",ry:"3.275",transform:"rotate(180 254.301 93.8915)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M151.487 68.7187L148.02 72.6713L153.238 72.0223L165.095 70.5473L174.404 77.4987L178.175 80.3143L177.585 75.6455L174.091 47.9929L173.534 43.5836L170.603 46.9248L151.487 68.7187Z",fill:"#699BF7",stroke:"black","stroke-width":"4","stroke-linecap":"square"}),ep.createElement("path",{d:"M353.665 21.6089L356.618 17.2591L351.52 18.5464L339.936 21.4721L329.84 15.7217L325.751 13.3925L326.912 17.953L333.789 44.9637L334.885 49.2706L337.382 45.5936L353.665 21.6089Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87420"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(en||(en={})),(e=>{e.Left=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87353)"},ep.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),ep.createElement("rect",{x:"-2",y:"2",width:"346",height:"120",transform:"matrix(-1 0 0 1 313 68)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 352.312 28.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",fill:"#699BF7"}),ep.createElement("rect",{x:"428.647",y:"79.8606",width:"20.4918",height:"20.4918",transform:"rotate(90 428.647 79.8606)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"305.287",y:"80.2695",width:"20.4918",height:"20.4918",transform:"rotate(90 305.287 80.2695)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"416.607",y:"-31.0491",width:"119.361",height:"119.361",transform:"rotate(90 416.607 -31.0491)",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M460.572 -13.3277H462.572V-11.3277V27.5356V29.5356H460.572H353.981H351.981V27.5356V-11.3277V-13.3277H353.981H460.572ZM332.257 31.7537L333.244 26.5897L335.939 31.1045L341.968 41.2087L353.003 44.2345L357.541 45.479L353.495 47.8827L329.874 61.9167L326.053 64.1868L326.888 59.8215L332.257 31.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87353"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))},e.Right=function(){return ep.createElement("svg",{width:"472",height:"140",viewBox:"0 0 472 140",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("g",{"clip-path":"url(#clip0_1398_87366)"},ep.createElement("rect",{width:"472",height:"140",fill:"#C7B9FF"}),ep.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 120.967 88.1804)",fill:"#FFC700",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"-2",y:"2",width:"119.361",height:"119.361",transform:"matrix(-1 0 0 1 160.312 48.8362)",fill:"#0FA958",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",fill:"#699BF7"}),ep.createElement("rect",{x:"112.68",y:"100.319",width:"20.4918",height:"20.4918",transform:"rotate(90 112.68 100.319)",fill:"white",stroke:"black","stroke-width":"4"}),ep.createElement("rect",{x:"506",y:"-11",width:"119",height:"401",transform:"rotate(90 506 -11)",stroke:"black","stroke-width":"4"}),ep.createElement("path",{d:"M268.572 6.67235H270.572V8.67235V47.5356V49.5356H268.572H161.981H159.981V47.5356V8.67235V6.67235H161.981H268.572ZM140.257 51.7537L141.244 46.5897L143.939 51.1045L149.968 61.2087L161.003 64.2345L165.541 65.479L161.495 67.8827L137.874 81.9167L134.053 84.1868L134.888 79.8215L140.257 51.7537Z",fill:"#0FA958",stroke:"black","stroke-width":"4","stroke-linecap":"square"})),ep.createElement("defs",null,ep.createElement("clipPath",{id:"clip0_1398_87366"},ep.createElement("rect",{width:"472",height:"140",fill:"white"}))))}})(el||(el={}));let ch="category_banner--categoryHeader--4BBTx text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",cv="category_banner--categoryDescription--8mD9D text--fontPos16--oMC-G text--_fontBase--QdLsd",cb="category_banner--inspiration--3bIzd",cy="category_banner--jamSessions--vJ4cZ";function cw({category:e,isRedesignEnabled:t}){let a,r;let{title:n,subhead:l}=function(e,t){switch(e){case of.LJ.inspiration:return{title:(0,e$.t)("community.categories.inspiration"),subhead:(0,e$.t)("community.categories.banner.inspiration")};case of.LJ.jamSessions:return{title:(0,e$.t)("community.categories.team_syncs"),subhead:(0,e$.t)("community.categories.banner.jam_sessions")};case of.LJ.designSystems:return{title:(0,e$.t)("community.categories.design_systems"),subhead:t()?(0,e$.t)("categories.design_systems_subheader"):(0,e$.t)("community.categories.banner.design_systems")};case of.LJ.visualAssets:return{title:(0,e$.t)("community.categories.visual_assets"),subhead:t()?(0,e$.t)("categories.visual_assets_subheader"):(0,e$.t)("community.categories.banner.visual_assets")};case of.LJ.development:return{title:(0,e$.t)("community.categories.development"),subhead:t()?(0,e$.t)("categories.development_subheader"):(0,e$.t)("community.categories.banner.development")};case of.LJ.accessibility:return{title:(0,e$.t)("categories.accessibility"),subhead:(0,e$.t)("categories.accessibility_subheader")};case of.LJ.brainstorming:return{title:(0,e$.t)("categories.brainstorming"),subhead:(0,e$.t)("categories.brainstorming_subheader")};case of.LJ.classroomActivities:return{title:(0,e$.t)("categories.classroom_activities"),subhead:(0,e$.t)("categories.classroom_activities_subheader")};case of.LJ.designTemplates:return{title:(0,e$.t)("community.categories.design_templates"),subhead:(0,e$.t)("categories.design_templates_subheader")};case of.LJ.designTools:return{title:(0,e$.t)("community.categories.design_tools"),subhead:(0,e$.t)("categories.design_tools_subheader")};case of.LJ.desktopAppsWebsites:return{title:(0,e$.t)("categories.desktop_apps_websites"),subhead:(0,e$.t)("categories.desktop_apps_websites_subheader")};case of.LJ.diagramming:return{title:(0,e$.t)("categories.diagramming"),subhead:(0,e$.t)("categories.diagramming_subheader")};case of.LJ.editingEffects:return{title:(0,e$.t)("categories.editing_effects"),subhead:(0,e$.t)("categories.editing_effects_subheader")};case of.LJ.education:return{title:(0,e$.t)("community.categories.education"),subhead:(0,e$.t)("categories.education_subheader")};case of.LJ.fileOrganization:return{title:(0,e$.t)("categories.file_organization"),subhead:(0,e$.t)("categories.file_organization_subheader")};case of.LJ.fontsTypography:return{title:(0,e$.t)("categories.fonts_typography"),subhead:(0,e$.t)("categories.fonts_typography_subheader")};case of.LJ.funGames:return{title:(0,e$.t)("categories.fun_games"),subhead:(0,e$.t)("categories.fun_games_subheader")};case of.LJ.icons:return{title:(0,e$.t)("community.categories.icons"),subhead:(0,e$.t)("categories.icons_subheader")};case of.LJ.illustrations:return{title:(0,e$.t)("categories.illustrations"),subhead:(0,e$.t)("categories.illustrations_subheader")};case of.LJ.importExport:return{title:(0,e$.t)("categories.import_export"),subhead:(0,e$.t)("categories.import_export_subheader")};case of.LJ.libraries:return{title:(0,e$.t)("categories.libraries"),subhead:(0,e$.t)("categories.libraries_subheader")};case of.LJ.mobileApps:return{title:(0,e$.t)("categories.mobile_apps"),subhead:(0,e$.t)("categories.mobile_apps_subheader")};case of.LJ.portfoliosResumes:return{title:(0,e$.t)("categories.portfolios_resumes"),subhead:(0,e$.t)("categories.portfolio_resumes_subheader")};case of.LJ.presentations:return{title:(0,e$.t)("categories.presentations"),subhead:(0,e$.t)("categories.presentations_subheader")};case of.LJ.prototypingAnimation:return{title:(0,e$.t)("categories.prototyping_animation"),subhead:(0,e$.t)("categories.prototyping_animation_subheader")};case of.LJ.shapesColors:return{title:(0,e$.t)("categories.shapes_colors"),subhead:(0,e$.t)("categories.shapes_colors_subheader")};case of.LJ.stockPhotography:return{title:(0,e$.t)("categories.stock_photography"),subhead:(0,e$.t)("categories.stock_photography_subheader")};case of.LJ.strategicPlanning:return{title:(0,e$.t)("categories.strategic_planning"),subhead:(0,e$.t)("categories.strategic_planning_subheader")};case of.LJ.teamMeetings:return{title:(0,e$.t)("categories.team_meetings"),subhead:(0,e$.t)("categories.team_meetings_subheader")};case of.LJ.tutorials:return{title:(0,e$.t)("categories.tutorials"),subhead:(0,e$.t)("categories.tutorials_subheader")};case of.LJ.uiKits:return{title:(0,e$.t)("categories.ui_kits"),subhead:(0,e$.t)("categories.ui_kits_subheader")};case of.LJ.wireframes:return{title:(0,e$.t)("categories.wireframes"),subhead:(0,e$.t)("categories.wireframes_subheader")};case of.LJ.whiteboarding:return{title:(0,e$.t)("community.categories.whiteboarding"),subhead:(0,e$.t)("categories.whiteboarding_subheader")};default:(0,eC.xb)(e)}}(e,(0,eZ.kc)({is_logged_out:!1}));if(t){let{imageOne:t,imageTwo:a}=function(e){let t="",a="";switch(e){case of.LJ.libraries:t="https://static.figma.com/uploads/c7c8523f4dd13579a400ef6381c1cbdfe90fe44d",a="https://static.figma.com/uploads/3ccac55ce8a5749d5c7db0e9e53de98566046d47";break;case of.LJ.uiKits:t="https://static.figma.com/uploads/c58586f7f9715e3b00abee15df26b28d54aa4f21",a="https://static.figma.com/uploads/5212b5b45c8fdfdbb4e33c960054f2aefc637c81";break;case of.LJ.wireframes:t="https://static.figma.com/uploads/a46ce539a857c5325f266b61b90de407f034daf0",a="https://static.figma.com/uploads/be7e1a4fe5e74ed79624bc19b502cc7c7f577129";break;case of.LJ.designTemplates:t="https://static.figma.com/uploads/959b3fbdc3b72646589f845075b59fe85202d133",a="https://static.figma.com/uploads/8ab2ce60afbf4d2d5d78c9c44ffbdb4be78f78db";break;case of.LJ.desktopAppsWebsites:t="https://static.figma.com/uploads/8022fa88f7b890648b2f928fa6f1ddba5f90247f",a="https://static.figma.com/uploads/91dbe31a1a3ad3e62782daf7fb2f182bde93a6f3";break;case of.LJ.mobileApps:t="https://static.figma.com/uploads/938e15820838aa275386ce09fbab6fa72f6133f6",a="https://static.figma.com/uploads/60e8eab5e3b2aa4fddea3de66ef396031ad5d4a5";break;case of.LJ.presentations:t="https://static.figma.com/uploads/185d707c882d4c1862d95c7abd3d9ef6606552f5",a="https://static.figma.com/uploads/e2b470d090946410701c622734daf5f78e175ce3";break;case of.LJ.portfoliosResumes:t="https://static.figma.com/uploads/c733c7383f1fa0afbbf45d66f57c012fd3c1871e",a="https://static.figma.com/uploads/efb883a90472b52fb0e9ad28e80864e52a8c9b55";break;case of.LJ.designTools:t="https://static.figma.com/uploads/7b7823af1a3efc7b8d3050ff8144b4f3b942ceaa",a="https://static.figma.com/uploads/ff96a188b0aff3f522252833fbd3a92dc94c983d";break;case of.LJ.accessibility:t="https://static.figma.com/uploads/2717199dcb63e2b43ece2bf7b1113de4d16a8880",a="https://static.figma.com/uploads/b1179407abd7d25032bf7f3dc1ccab5fda359938";break;case of.LJ.prototypingAnimation:t="https://static.figma.com/uploads/15eec1e14e90a7c867d9aa60e5ae6ade4956a3f3",a="https://static.figma.com/uploads/81f3e0788bdc40c080700e5372333969ca34c765";break;case of.LJ.editingEffects:t="https://static.figma.com/uploads/f9afc14dc65d67871f05b0a14c1e1739ef5106d9",a="https://static.figma.com/uploads/099a524eaa8b0a9b3b70ef4e227b7cb47f3b6c3d";break;case of.LJ.fileOrganization:t="https://static.figma.com/uploads/36a74884cd8282851c6362cafd8b9d3bd36566d6",a="https://static.figma.com/uploads/d2434d888aff00da3c49b7e074a6bcefbf1fb1c0";break;case of.LJ.importExport:t="https://static.figma.com/uploads/851c8f973d907086877ba7b4f5a5245b7ec305da",a="https://static.figma.com/uploads/654723a2fbb682f23abe1d3118db0ff86718a440";break;case of.LJ.visualAssets:t="https://static.figma.com/uploads/84942d5f88c2e2de6041eecb58a3ba57b9800599",a="https://static.figma.com/uploads/6e7ee1d0d335e56b013faad694484a87bf5c1cf1";break;case of.LJ.stockPhotography:t="https://static.figma.com/uploads/589a5c04c7568afef77ec2470a5c2e3ad48863be",a="https://static.figma.com/uploads/05e290b11691c3b57f648441fcb10ae832746d19";break;case of.LJ.fontsTypography:t="https://static.figma.com/uploads/44b557ada2a1ece0c6e6023524924e4765a9b570",a="https://static.figma.com/uploads/86a8a372c84d1bf75f44874973a3974c89ae10b1";break;case of.LJ.shapesColors:t="https://static.figma.com/uploads/749fcb098b436ab978aba9f1bf8a10c2fb719b49",a="https://static.figma.com/uploads/c9c0cc1c2e6e79445de38d6bf0ddedd87ef7a177";break;case of.LJ.illustrations:t="https://static.figma.com/uploads/dca7f749e25cc77d0c8c0c1a69f787354a5afe51",a="https://static.figma.com/uploads/fce7cdf277efbe3d7a513d2e8eaab65b9211d8fe";break;case of.LJ.whiteboarding:t="https://static.figma.com/uploads/d90ede39258e201d76919bfeeab42e8e841142a5",a="https://static.figma.com/uploads/9e06bba382992a26a10b3fd6b4cdfd6358ad5812";break;case of.LJ.teamMeetings:t="https://static.figma.com/uploads/c9dc7b3ba98d2f4314a4d55b47e94110cb358561",a="https://static.figma.com/uploads/59882f57c274e81fef9ea96d6ebdd5045706e5c8";break;case of.LJ.brainstorming:t="https://static.figma.com/uploads/bcfdf172e498e96fa261eab838bc873ecefe57ef",a="https://static.figma.com/uploads/93dc62df28564f92e0a7acb9ca5aae7c3ae4401a";break;case of.LJ.strategicPlanning:t="https://static.figma.com/uploads/3e55824fa9985188cb0b241b5e0721b0dc31783a",a="https://static.figma.com/uploads/1b96b38cf720900a188157cb5d029680c75cefda";break;case of.LJ.diagramming:t="https://static.figma.com/uploads/cf19c9b3b2bac97578d3d7068f0580d4c012b851",a="https://static.figma.com/uploads/7e6b5ea1bf5fb001a99d44cc41124b16f44ae4f5";break;case of.LJ.funGames:t="https://static.figma.com/uploads/d4279a47bc5a90bdd562fd8a1ab941823dcbaece",a="https://static.figma.com/uploads/81980e6c9dac6346c2212321b54b9fec74a34de3";break;case of.LJ.development:t="https://static.figma.com/uploads/9c8357fbc26e5a22e1b987b6880445a8b9e60cea",a="https://static.figma.com/uploads/0a31a507683b98886ce046df33b003359b043a07";break;case of.LJ.icons:t="https://static.figma.com/uploads/95e095253c7b96160fb9cb8f8dcf989834c7b263",a="https://static.figma.com/uploads/548b388f51a53a453606f433e82c4ee93786d85e";break;case of.LJ.education:t="https://static.figma.com/uploads/04683c81f5cf0a404e09a08845490c66e34daaa5",a="https://static.figma.com/uploads/0da801caf3ee13fc9ba79b4cbe7ee99aa88bd875";break;case of.LJ.tutorials:t="https://static.figma.com/uploads/aac530c3bfdbc8755c4a9211d2d53379911e42a0",a="https://static.figma.com/uploads/f2f19216040d6db89e012c82b376304b8169763b";break;case of.LJ.classroomActivities:t="https://static.figma.com/uploads/2231b6674c07314165b3a3d689de1b751522ed6d",a="https://static.figma.com/uploads/3636ecd390ce1e3a23248e3ad88a81e1158cf3bb";break;default:t="https://static.figma.com/uploads/c7c8523f4dd13579a400ef6381c1cbdfe90fe44d",a="https://static.figma.com/uploads/3ccac55ce8a5749d5c7db0e9e53de98566046d47"}return{imageOne:t,imageTwo:a}}(e);return ep.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},ep.createElement("div",{className:"category_banner--bannerLeftSide--0W8On"},ep.createElement(cf,{categorySlug:e}),ep.createElement("div",null,ep.createElement("h1",{className:ch},n),ep.createElement("p",{className:cv},l))),ep.createElement("div",{className:"category_banner--bannerRightSide--PvO0g"},ep.createElement("img",{src:t,className:"category_banner--bannerRedesignImageOne--pszN7",alt:`${e} banner`}),ep.createElement("img",{src:a,className:"category_banner--bannerRedesignImageTwo--TFuFd category_banner--bannerRedesignImageOne--pszN7",alt:`${e} banner`})))}switch(e){case of.LJ.inspiration:r=ed,a=cb;break;case of.LJ.jamSessions:r=em,a=cy;break;case of.LJ.libraries:case of.LJ.uiKits:case of.LJ.wireframes:r=el,a="category_banner--uiLibraries--T5U0M";break;case of.LJ.icons:r=en,a="category_banner--icons--IU4dA";break;case of.LJ.designTemplates:case of.LJ.mobileApps:case of.LJ.desktopAppsWebsites:case of.LJ.presentations:case of.LJ.portfoliosResumes:r=ea,a="category_banner--designTemplates--iqlp-";break;case of.LJ.development:r=ec,a="category_banner--development--OFgah";break;case of.LJ.designTools:case of.LJ.accessibility:case of.LJ.prototypingAnimation:case of.LJ.editingEffects:case of.LJ.fileOrganization:case of.LJ.importExport:case of.LJ.designSystems:r=eo,a="category_banner--designSystems--uK9rN";break;case of.LJ.visualAssets:r=eu,a="category_banner--visualAssets--2yC2P";break;case of.LJ.stockPhotography:case of.LJ.fontsTypography:case of.LJ.shapesColors:case of.LJ.illustrations:r=ed,a=cb;break;case of.LJ.whiteboarding:case of.LJ.teamMeetings:case of.LJ.brainstorming:case of.LJ.strategicPlanning:case of.LJ.diagramming:case of.LJ.funGames:r=em,a=cy;break;case of.LJ.education:case of.LJ.tutorials:case of.LJ.classroomActivities:r=er,a="category_banner--education--RSGHj";break;default:(0,eC.xb)(e)}return ep.createElement("div",{className:eS()("category_banner--categoryBanner--Fb7-F",a)},(null==r?void 0:r.Left)&&ep.createElement("div",{className:"category_banner--leftAsset--IQySQ"},ep.createElement(r.Left,null)),(null==r?void 0:r.Right)&&ep.createElement("div",{className:"category_banner--rightAsset--2oXpu"},ep.createElement(r.Right,null)),ep.createElement("div",{className:"category_banner--center--LmTeM"},ep.createElement("h1",{className:ch},n),ep.createElement("p",{className:cv},l)))}function cT({categorySlug:e,tagsFromResources:t}){let a=function(e){let t=iX("expanded");return ep.useMemo(()=>{for(let a=0;a<t.length;a++)if(t[a].category.urlSlug===e)return[...t[a].dropdownCategories];return[]},[t,e])}(e),r=!!a.length,n=r?a.map(e=>({to:`/community/category/${e.urlSlug}`,text:e.text})):t.map(e=>({to:`/community/tag/${e}`,text:e})).slice(0,10);return n.length?ep.createElement("div",{className:"category_links_container--subcategoriesContainer--6e1tK"},n.map(({to:t,text:n})=>ep.createElement(eH.L0,{key:t,trackingEventName:"cmty_category",trackingProperties:{name:r?"subcategory_link_clicked":"tag_link_clicked",category_slug:e,text:n,to:t},href:t,onClick:e=>(0,ex.qG)(t,e),className:"category_links_container--subcategory--Wzmn3 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},!a.length&&ep.createElement("span",{className:eT.cx.colorTextSecondary.$},"#"),n))):ep.createElement(ep.Fragment,null)}function cx({shelf:e}){return ep.createElement("div",{className:eT.cx.pb16.$},ep.createElement("div",{className:eT.cx.font16.fontSemiBold.pb16.$},e.title),ep.createElement("div",{className:eT.cx.pb32.$},ep.createElement(tN,{resources:e.shelf_content,adtlClassName:tC("normal"),viewContext:"categoryPageShelf"})))}let cC={inspiration:()=>ep.createElement("svg",{width:"1459",height:"324",viewBox:"0 0 1459 324",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M188.884 18.2137L181.546 24.0426C160.548 40.7201 130.751 40.9056 109.524 24.4909L102.105 18.7539L99.623 27.7521C92.5223 53.4977 68.5363 71.0281 41.6481 70.1236L32.2506 69.8074L35.5736 78.5379C45.0816 103.518 36.0691 131.697 13.7901 146.648L6.00358 151.874L13.8621 157.002C36.347 171.674 45.7505 199.739 36.5906 224.835L33.3892 233.606L42.7815 233.173C69.6548 231.933 93.8825 249.164 101.341 274.819L103.947 283.785L111.286 277.956C132.283 261.279 162.08 261.093 183.308 277.508L190.726 283.245L193.208 274.247C200.309 248.501 224.295 230.971 251.183 231.875L260.581 232.191L257.258 223.461C247.75 198.481 256.762 170.302 279.041 155.351L286.828 150.125L278.969 144.997C256.484 130.325 247.081 102.26 256.241 77.1642L259.442 68.3932L250.05 68.8263C223.176 70.0655 198.949 52.8352 191.491 27.1802L188.884 18.2137Z",fill:"#F5EAC1"}),ep.createElement("path",{d:"M1136.58 151.451L1130.5 150.482C1113.11 147.711 1099.81 133.365 1098.34 115.807L1097.83 109.671L1092.37 112.46C1076.76 120.438 1057.64 116.598 1046.15 103.177L1042.14 98.4869L1039.38 103.967C1031.5 119.648 1013.86 127.781 996.742 123.623L990.759 122.17L991.761 128.249C994.627 145.643 985.208 162.641 968.995 169.335L963.328 171.674L967.703 176.03C980.22 188.493 982.621 207.864 973.506 222.852L970.32 228.091L976.396 229.059C993.783 231.83 1007.09 246.176 1008.55 263.734L1009.06 269.87L1014.52 267.082C1030.14 259.103 1049.26 262.943 1060.75 276.364L1064.76 281.054L1067.51 275.574C1075.39 259.893 1093.03 251.761 1110.15 255.918L1116.14 257.371L1115.13 251.292C1112.27 233.898 1121.69 216.9 1137.9 210.206L1143.57 207.867L1139.19 203.511C1126.68 191.049 1124.28 171.677 1133.39 156.689L1136.58 151.451Z",fill:"#F5EAC1"}),ep.createElement("path",{d:"M397.23 28.8459L386.931 65.1193L424.18 59.2601L392.975 80.4273L425.276 99.8821L387.765 96.0387L400.003 131.704L373.739 104.649L360.189 139.837L357.46 102.229L324.461 120.475L346.545 89.9112L309.539 82.6771L346.102 73.4593L322.403 44.1303L356.337 60.5713L357.035 22.8707L372.462 57.2775L397.23 28.8459Z",fill:"#F5EAC1"}),ep.createElement("path",{d:"M640.41 134.329L568.617 171.87L632.8 221.307L553.673 203.917L571.063 283.044L521.626 218.861L484.085 290.654L487.47 209.709L412.565 240.575L467.188 180.744L389.968 156.24L470.27 145.518L426.866 77.1101L495.274 120.514L505.996 40.2114L530.5 117.432L590.331 62.8088L559.465 137.714L640.41 134.329Z",fill:"#F5EAC1"}),ep.createElement("path",{d:"M1296.83 279.147L1280.48 196.035L1205.9 236.207L1253.11 165.877L1171.97 141.552L1255.08 125.2L1214.91 50.6275L1285.24 97.8342L1309.57 16.6973L1325.92 99.8089L1400.49 59.6368L1353.29 129.968L1434.42 154.293L1351.31 170.644L1391.48 245.217L1321.15 198.01L1296.83 279.147Z",fill:"#F5EAC1"}),ep.createElement("path",{d:"M1445.71 196.33L1443.91 196.084C1438.77 195.377 1434.75 191.232 1434.21 186.064L1434.02 184.258L1432.43 185.115C1427.88 187.567 1422.21 186.557 1418.74 182.673L1417.53 181.315L1416.75 182.949C1414.53 187.623 1409.38 190.134 1404.3 189.017L1402.53 188.626L1402.86 190.413C1403.82 195.523 1401.15 200.596 1396.41 202.673L1394.75 203.399L1396.07 204.655C1399.84 208.25 1400.67 213.947 1398.08 218.425L1397.18 219.99L1398.97 220.237C1404.12 220.943 1408.13 225.088 1408.68 230.256L1408.87 232.062L1410.46 231.205C1415.01 228.753 1420.68 229.763 1424.15 233.647L1425.36 235.005L1426.14 233.371C1428.36 228.697 1433.51 226.187 1438.59 227.303L1440.36 227.694L1440.03 225.908C1439.07 220.797 1441.74 215.724 1446.48 213.647L1448.13 212.921L1446.81 211.665C1443.04 208.07 1442.21 202.373 1444.81 197.895L1445.71 196.33Z",fill:"#F5EAC1"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1425.59 78.6869L1401.63 64.5322L1407.11 93L1412.84 80.6771L1425.59 78.6869Z",fill:"#F24E1E",stroke:"black",strokeWidth:"3",strokeLinecap:"square"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.04591 251.421L31 237.266L25.5254 265.734L19.7928 253.411L7.04591 251.421Z",fill:"#FFC700",stroke:"black",strokeWidth:"3",strokeLinecap:"square"})),jamSessions:()=>ep.createElement("svg",{width:"1463",height:"246",viewBox:"0 0 1463 246",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M589.454 215.779C901.627 279.456 1071.64 104 1096.18 74C1120.72 44 1108.45 -14 1054.25 17C1000.05 48 812 379 1381 169",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),ep.createElement("path",{d:"M65 104C98 76.3331 189.2 19.3998 290 12.9998C390.8 6.59978 235.333 143 145 212",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round"}),ep.createElement("circle",{cx:"65.0001",cy:"103.742",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M24.7973 86.5857C16.5726 84.8907 10.3886 77.6085 10.3886 68.8819C10.3886 66.9025 10.7067 64.9974 11.2947 63.2149L2.90114 54.8213L14.5211 43.2017L22.9741 51.6547C24.7056 51.1032 26.5504 50.8058 28.4646 50.8058C36.876 50.8058 43.9456 56.551 45.963 64.3315L54.7571 95.1743L24.7973 86.5857Z",fill:"#C7B9FF"}),ep.createElement("path",{d:"M54.7571 95.1743L45.963 64.3315C43.9456 56.551 36.876 50.8058 28.4646 50.8058C26.5504 50.8058 24.7056 51.1032 22.9741 51.6547L14.5211 43.2017L2.90114 54.8213L11.2947 63.2149C10.7067 64.9974 10.3886 66.9025 10.3886 68.8819C10.3886 77.6085 16.5726 84.8907 24.7973 86.5857L54.7571 95.1743ZM54.7571 95.1743L28.5422 68.9595",stroke:"#010101",strokeWidth:"3.89795"}),ep.createElement("path",{d:"M24.8718 65.7462C22.9466 67.6714 22.9466 70.7928 24.8718 72.718C26.7971 74.6433 29.9184 74.6433 31.8437 72.718C33.7689 70.7928 33.7689 67.6714 31.8437 65.7462C29.9184 63.821 26.7971 63.821 24.8718 65.7462Z",fill:"#010101"}),ep.createElement("path",{d:"M429 169C367 208 307.627 269.517 404.998 216.436C502.37 163.356 617.328 60.8719 662.636 16.2652",stroke:"#C7B9FF",strokeWidth:"15",strokeLinecap:"round",strokeLinejoin:"round"}),ep.createElement("circle",{cx:"660.745",cy:"18.1439",r:"8.11361",fill:"white",stroke:"black",strokeWidth:"4"}),ep.createElement("path",{d:"M1446.51 91.4852L1459.1 104.072C1460.7 105.674 1460.7 108.286 1459.1 109.887L1415.29 153.692L1393.67 156.91L1396.89 135.29L1440.7 91.4852C1442.31 89.8832 1444.91 89.8832 1446.51 91.4852Z",fill:"#C7B9FF",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"}),ep.createElement("path",{d:"M1449.87 119.144L1431.47 100.742",stroke:"black",strokeWidth:"4",strokeMiterlimit:"10"})),designSystems:()=>ep.createElement("svg",{width:"1464",height:"266",viewBox:"0 0 1464 266",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M1212.75 74.4323C1212.75 37.0856 1182.47 6.81006 1145.13 6.81006C1119.67 6.81005 1097.49 20.8803 1085.96 41.6693C1074.42 20.8803 1052.25 6.81005 1026.79 6.81005C989.443 6.81005 959.167 37.0856 959.167 74.4323L959.167 192.771C959.167 230.118 989.443 260.393 1026.79 260.393C1052.25 260.393 1074.42 246.323 1085.96 225.534C1097.49 246.323 1119.67 260.393 1145.13 260.393C1182.47 260.393 1212.75 230.118 1212.75 192.771L1212.75 74.4323Z",fill:"#CFE2FF"}),ep.createElement("path",{d:"M894.545 260.394C931.892 260.394 962.167 230.118 962.167 192.771C962.167 167.311 948.097 145.138 927.308 133.602C948.097 122.066 962.167 99.8924 962.167 74.4324C962.167 37.0857 931.892 6.81014 894.545 6.81014L776.206 6.81013C738.859 6.81013 708.584 37.0856 708.584 74.4324C708.584 99.8924 722.654 122.066 743.443 133.602C722.654 145.138 708.584 167.311 708.584 192.771C708.584 230.118 738.859 260.394 776.206 260.394L894.545 260.394Z",fill:"#CFE2FF"}),ep.createElement("path",{d:"M711.584 74.4324C711.584 37.0857 681.308 6.81018 643.961 6.81018C618.501 6.81018 596.328 20.8805 584.792 41.6694C573.256 20.8805 551.083 6.81018 525.623 6.81018C488.276 6.81018 458 37.0857 458 74.4324L458 192.771C458 230.118 488.276 260.394 525.623 260.394C551.083 260.394 573.256 246.323 584.792 225.534C596.328 246.323 618.501 260.394 643.962 260.394C681.308 260.394 711.584 230.118 711.584 192.771L711.584 74.4324Z",fill:"#CFE2FF"}),ep.createElement("path",{d:"M1395.71 260.394C1433.06 260.394 1463.33 230.118 1463.33 192.771C1463.33 167.311 1449.26 145.138 1428.47 133.602C1449.26 122.066 1463.33 99.8924 1463.33 74.4324C1463.33 37.0857 1433.06 6.81014 1395.71 6.81014L1277.37 6.81013C1240.03 6.81013 1209.75 37.0856 1209.75 74.4324C1209.75 99.8924 1223.82 122.066 1244.61 133.602C1223.82 145.138 1209.75 167.311 1209.75 192.771C1209.75 230.118 1240.03 260.394 1277.37 260.394L1395.71 260.394Z",fill:"#CFE2FF"}),ep.createElement("path",{d:"M73.6222 6.47272C36.2755 6.47272 5.99997 36.7482 5.99997 74.095C5.99997 99.555 20.0703 121.729 40.8592 133.264C20.0703 144.8 5.99997 166.974 5.99997 192.434C5.99997 229.781 36.2755 260.056 73.6222 260.056H191.961C229.308 260.056 259.583 229.781 259.583 192.434C259.583 166.974 245.513 144.8 224.724 133.264C245.513 121.729 259.583 99.555 259.583 74.095C259.583 36.7482 229.308 6.47272 191.961 6.47272L73.6222 6.47272Z",fill:"#CFE2FF"}),ep.createElement("rect",{x:"6.70825",y:"7.47266",width:"251.584",height:"251.584",stroke:"#18A0FB",strokeWidth:"2"}),ep.createElement("rect",{x:"10.4165",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ep.createElement("rect",{x:"264",y:"11.1812",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 11.1812)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ep.createElement("rect",{x:"10.4165",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 10.4165 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"}),ep.createElement("rect",{x:"264",y:"264.765",width:"9.4165",height:"9.4165",transform:"rotate(-180 264 264.765)",fill:"white",stroke:"#18A0FB",strokeWidth:"2"})),visualAssets:()=>ep.createElement("svg",{width:"1508",height:"315",viewBox:"0 0 1508 315",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M242.538 163.371L237.078 157.94L242.538 152.479C256.421 138.593 264.22 119.76 264.22 100.124C264.22 80.4878 256.421 61.6555 242.538 47.7689V47.7689C228.651 33.8857 209.819 26.0865 190.183 26.0865C170.547 26.0865 151.714 33.8857 137.828 47.7689L132.367 53.2292L126.936 47.7689C112.977 34.243 94.2593 26.7479 74.8226 26.9011C55.386 27.0543 36.7889 34.8436 23.0446 48.5878C9.30042 62.332 1.51118 80.9292 1.35798 100.366C1.20478 119.803 8.69986 138.52 22.2257 152.479L27.6862 157.94L22.2257 163.371C8.34253 177.257 0.543337 196.09 0.543339 215.726C0.54334 235.362 8.34253 254.195 22.2257 268.081V268.081C36.1124 281.964 54.9447 289.764 74.581 289.764C94.2172 289.764 113.049 281.964 126.936 268.081L132.367 262.621L137.828 268.081C151.787 281.607 170.504 289.102 189.941 288.949C209.378 288.796 227.975 281.007 241.719 267.262C255.463 253.518 263.253 234.921 263.406 215.484C263.559 196.048 256.064 177.33 242.538 163.371V163.371Z",fill:"#C7B9FF"}),ep.createElement("path",{d:"M1183.43 163.371L1177.97 157.94L1183.43 152.479C1197.31 138.593 1205.11 119.76 1205.11 100.124C1205.11 80.4878 1197.31 61.6555 1183.43 47.7689V47.7689C1169.54 33.8857 1150.71 26.0865 1131.08 26.0865C1111.44 26.0865 1092.61 33.8857 1078.72 47.7689L1073.26 53.2292L1067.83 47.7689C1053.87 34.243 1035.15 26.7479 1015.71 26.9011C996.278 27.0543 977.681 34.8436 963.937 48.5878C950.193 62.332 942.404 80.9292 942.25 100.366C942.097 119.803 949.592 138.52 963.118 152.479L968.578 157.94L963.118 163.371C949.235 177.257 941.436 196.09 941.436 215.726C941.436 235.362 949.235 254.195 963.118 268.081V268.081C977.005 281.964 995.837 289.764 1015.47 289.764C1035.11 289.764 1053.94 281.964 1067.83 268.081L1073.26 262.621L1078.72 268.081C1092.68 281.607 1111.4 289.102 1130.83 288.949C1150.27 288.796 1168.87 281.007 1182.61 267.262C1196.36 253.518 1204.14 234.921 1204.3 215.484C1204.45 196.048 1196.96 177.33 1183.43 163.371V163.371Z",fill:"#C7B9FF"}),ep.createElement("path",{d:"M501.892 187.405C466.396 257.794 410.868 300.947 378.862 284.807C346.855 268.667 348.877 197.698 384.373 127.309C419.868 56.9209 475.396 13.7674 507.403 29.9076C539.409 46.0479 537.387 117.017 501.892 187.405Z",fill:"#C7B9FF"}),ep.createElement("path",{d:"M1442.78 187.405C1407.29 257.794 1351.76 300.947 1319.75 284.807C1287.75 268.667 1289.77 197.698 1325.27 127.309C1360.76 56.9209 1416.29 13.7674 1448.29 29.9076C1480.3 46.0479 1478.28 117.017 1442.78 187.405Z",fill:"#C7B9FF"}),ep.createElement("circle",{cx:"753.883",cy:"157.925",r:"131.839",fill:"#C7B9FF"})),development:()=>ep.createElement("svg",{width:"1470",height:"262",viewBox:"0 0 1470 262",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"224",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"283.5",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"378.088",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"786.973",y:"0.0859375",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1010.97",y:"0.0859375",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1070.47",y:"0.0859375",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1165.06",y:"0.0859375",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 0.0859375)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"699.946",y:"47.0859",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"890.803",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"941.499",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1022.09",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 47.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{y:"47.0859",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"103.829",y:"47.0859",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"154.526",y:"47.0859",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"235.119",y:"47.0859",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"224",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"283.5",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"378.088",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"786.973",y:"94.0859",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1010.97",y:"94.0859",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1070.47",y:"94.0859",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1165.06",y:"94.0859",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 94.0859)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"699.946",y:"141.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"890.803",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"941.499",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1022.09",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 141.086)",fill:"#E5E5E5"}),ep.createElement("rect",{y:"141.086",width:"84.6588",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"103.829",y:"141.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"154.526",y:"141.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"235.119",y:"141.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1246 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1186.5 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 1091.91 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"699.946",y:"188.086",width:"171.686",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"890.803",y:"188.086",width:"31.5254",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"941.499",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1022.09",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{width:"201.5",height:"26",rx:"13",transform:"matrix(-1 0 0 1 683.027 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"37",height:"26",rx:"13",transform:"matrix(-1 0 0 1 459.027 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"72.0882",height:"26",rx:"13",transform:"matrix(-1 0 0 1 399.527 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"21.0815",height:"26",rx:"10.5408",transform:"matrix(-1 0 0 1 304.938 188.086)",fill:"#E5E5E5"}),ep.createElement("rect",{y:"188.086",width:"135.355",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"154.526",y:"188.086",width:"61.4219",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"235.119",y:"188.086",width:"33.4118",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"224",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"283.5",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"378.088",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"171.686",height:"26",rx:"13",transform:"matrix(-1 0 0 1 770.054 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 579.197 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 528.501 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 447.908 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{x:"786.973",y:"235.086",width:"201.5",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1010.97",y:"235.086",width:"37",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1070.47",y:"235.086",width:"72.0882",height:"26",rx:"13",fill:"#E5E5E5"}),ep.createElement("rect",{x:"1165.06",y:"235.086",width:"21.0815",height:"26",rx:"10.5408",fill:"#E5E5E5"}),ep.createElement("rect",{width:"84.6588",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1470 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"31.5254",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1366.17 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"61.4219",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1315.47 235.086)",fill:"#E5E5E5"}),ep.createElement("rect",{width:"33.4118",height:"26",rx:"13",transform:"matrix(-1 0 0 1 1234.88 235.086)",fill:"#E5E5E5"}))};function cN(){return ep.createElement("svg",{width:"1184",height:"295",viewBox:"0 0 1184 295",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M75.7461 191.521C154.454 118.349 215.495 50.7749 291.372 85.2805C338 106.485 355.642 176.088 305.924 219.099C349.842 181.107 406 49.0993 508 85.2805C572.99 108.334 585.608 180.397 560 219.099C608.673 172.524 671.254 69.4188 798.142 106.485C860.139 124.596 885.978 177.065 832.648 219.099C964.991 114.788 1010 106.485 1108.25 106.485",stroke:"#699BF7",strokeWidth:"150",strokeLinecap:"round",strokeLinejoin:"round"}))}let ck="category_pills--categoryPills--NvJUW",cS="category_pills--tagPill--B9Rpd text--fontPos18--rYXJb text--_fontBase--QdLsd",cI="category_pills--categoryPillWrapper--pY-nZ",cA="category_pills--categoryPill--8D9Dk text--fontPos18--rYXJb text--_fontBase--QdLsd",cL="category_pills--hashtag--oj-tu";function cR(e){let{onMouseEnter:t,onMouseLeave:a,hoverIndex:r}=e,n=e=>(0,ob.MU)({...(0,ob.wl)(),category:e}),l=e=>(0,ob.MU)({...(0,ob.wl)(),tags:[e]}),i=e=>()=>(0,tn.sx)("community_hub_landing_pill_clicked",{name:e}),s=-1===r?cN:Object.values(cC)[r];return ep.createElement("div",{className:"category_pills--categoryPillsScrollWrapper--mB4hZ"},ep.createElement(s,null),ep.createElement("div",{className:"category_pills--categoryPillsOverflowWrapper--8yftR"},ep.createElement("div",{className:ck},ep.createElement("div",{className:cI,onMouseEnter:()=>t(0),onMouseLeave:()=>a(-1)},ep.createElement(r4.N_,{className:eS()(cA,"category_pills--categoryPill1--bqL7u"),to:n(of.LJ.inspiration),onClick:i(of.LJ.inspiration)},ep.createElement(e$.Tx,{id:"community.categories.inspiration"})),ep.createElement(()=>ep.createElement("svg",{width:"27",height:"39",viewBox:"0 0 27 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-10px"}},ep.createElement("path",{d:"M1 13.374C1 6.5395 6.54048 0.999023 13.375 0.999023C20.2095 0.999023 25.75 6.5395 25.75 13.374C25.75 17.611 23.6216 21.351 20.3711 23.5832C19.2107 24.38 18.9467 25.7943 18.8744 27.03C18.8361 27.6841 18.8481 28.3925 18.8675 29.1018C18.8718 29.2571 18.8764 29.4124 18.8811 29.568C18.8882 29.808 18.8954 30.0486 18.9013 30.2904H7.85764C7.85909 30.2455 7.86058 30.2002 7.86208 30.1543C7.89007 29.2997 7.92352 28.2781 7.87593 27.3867C7.83845 26.6848 7.75039 25.9592 7.5497 25.3166C7.35163 24.6823 7.00831 24.0154 6.37892 23.5832C3.1284 21.351 1 17.611 1 13.374Z",fill:"#FFC700",stroke:"black",strokeWidth:"2"}),ep.createElement("rect",{x:"7.875",y:"30.3115",width:"11.0625",height:"7.6875",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"}),ep.createElement("rect",{x:"7.875",y:"34.0824",width:"11.0625",height:"3.9169",fill:"#F5F5F5",stroke:"black",strokeWidth:"2"})),null)),ep.createElement("div",{className:cI,onMouseEnter:()=>t(1),onMouseLeave:()=>a(-1)},ep.createElement(r4.N_,{className:eS()(cA,"category_pills--categoryPill2--wxuPY"),to:n(of.LJ.jamSessions),onClick:i(of.LJ.jamSessions)},ep.createElement(e$.Tx,{id:"community.categories.team_syncs"})),ep.createElement(()=>ep.createElement("svg",{width:"39",height:"39",viewBox:"0 0 39 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{left:"-15px"}},ep.createElement("path",{d:"M8.5536 1.65821L1.65811 8.55372C0.780501 9.43133 0.780501 10.8621 1.65811 11.7397L25.6559 35.7375L37.5 37.5001L35.7374 25.6561L11.7396 1.65821C10.8546 0.780597 9.43121 0.780597 8.5536 1.65821Z",fill:"#A259FF",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"}),ep.createElement("path",{d:"M6.71445 16.8108L16.7959 6.72934",stroke:"#010101",strokeWidth:"2",strokeMiterlimit:"10"})),null)),ep.createElement("div",{className:cI,onMouseEnter:()=>t(2),onMouseLeave:()=>a(-1)},ep.createElement(r4.N_,{className:eS()(cA,"category_pills--categoryPill3--kMg7b"),to:n(of.LJ.designSystems),onClick:i(of.LJ.designSystems)},ep.createElement(e$.Tx,{id:"community.categories.design_systems"})),ep.createElement(()=>ep.createElement("svg",{width:"39",height:"39",viewBox:"-5 0 44 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 37.9993 19.5231)",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),ep.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 1.04504)",fill:"#5551FF",stroke:"black",strokeWidth:"2"}),ep.createElement("rect",{width:"18.4775",height:"18.4775",transform:"matrix(-1 0 0 1 19.5217 19.5231)",fill:"#FFC700",stroke:"black",strokeWidth:"2"})),null)),ep.createElement("div",{className:cI,onMouseEnter:()=>t(3),onMouseLeave:()=>a(-1)},ep.createElement(r4.N_,{className:eS()(cA,"category_pills--categoryPill4--A2OAr"),to:n(of.LJ.visualAssets),onClick:i(of.LJ.visualAssets)},ep.createElement(e$.Tx,{id:"community.categories.visual_assets"})),ep.createElement(()=>ep.createElement("svg",{width:"54",height:"41",viewBox:"0 0 54 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.70544 11.1925C1.70544 14.2998 3.1224 17.0762 5.34542 18.9107C6.08429 19.5205 6.08429 20.8461 5.34544 21.4558C3.12247 23.2903 1.70555 26.0667 1.70555 29.1739C1.70555 34.6979 6.18363 39.176 11.7076 39.176C14.8149 39.176 17.5913 37.7591 19.4258 35.5361C20.0355 34.7973 21.361 34.7973 21.9708 35.5361C23.8053 37.759 26.5816 39.1759 29.6888 39.1759C35.2128 39.1759 39.6909 34.6978 39.6909 29.1738C39.6909 26.0666 38.274 23.2902 36.0511 21.4557C35.3122 20.846 35.3122 19.5205 36.051 18.9108C38.2739 17.0763 39.6908 14.3 39.6908 11.1927C39.6908 5.66874 35.2127 1.19066 29.6887 1.19066C26.5815 1.19066 23.8052 2.60752 21.9707 4.83042C21.361 5.56924 20.0354 5.56922 19.4257 4.83038C17.5912 2.60738 14.8148 1.19043 11.7075 1.19043C6.18353 1.19043 1.70544 5.66851 1.70544 11.1925Z",fill:"#FF8577"}),ep.createElement("path",{d:"M36.0507 18.9108C35.3119 19.5205 35.3119 20.846 36.0507 21.4557C38.2736 23.2902 39.6906 26.0666 39.6906 29.1738C39.6906 34.6978 35.2125 39.1759 29.6885 39.1759C26.5812 39.1759 23.8049 37.759 21.9704 35.5361C21.3607 34.7973 20.0352 34.7973 19.4254 35.5361C17.5909 37.7591 14.8146 39.176 11.7073 39.176C6.18327 39.176 1.70518 34.6979 1.70518 29.1739C1.70518 26.0667 3.1221 23.2903 5.34507 21.4558C6.08393 20.8461 6.08392 19.5205 5.34506 18.9107C3.12204 17.0762 1.70508 14.2998 1.70508 11.1925C1.70508 5.66851 6.18316 1.19043 11.7072 1.19043C14.8145 1.19043 17.5908 2.60738 19.4254 4.83038C20.0351 5.56922 21.3606 5.56924 21.9703 4.83042",stroke:"black",strokeWidth:"2"}),ep.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 36.662 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ep.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 6.28331)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ep.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 6.71913 19.5335)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ep.createElement("circle",{r:"3.02892",transform:"matrix(-1 0 0 1 20.6981 35.6471)",fill:"white",stroke:"black",strokeWidth:"2.30215"}),ep.createElement("path",{d:"M28.9806 26.7571C29.8755 31.0997 33.7205 34.3648 38.3281 34.3648C39.3732 34.3648 40.3791 34.1969 41.3202 33.8864L45.752 38.3182L51.8871 32.1829L47.4239 27.7198C47.7151 26.8055 47.8722 25.8315 47.8722 24.8208C47.8722 20.3796 44.8387 16.6469 40.7306 15.5817L24.4458 10.9385L28.9806 26.7571Z",fill:"white"}),ep.createElement("path",{d:"M24.4458 10.9385L40.7306 15.5817C44.8387 16.6469 47.8722 20.3796 47.8722 24.8208C47.8722 25.8315 47.7151 26.8055 47.4239 27.7198L51.8871 32.1829L45.752 38.3182L41.3202 33.8864C40.3791 34.1969 39.3732 34.3648 38.3281 34.3648C33.7205 34.3648 29.8755 31.0997 28.9806 26.7571L24.4458 10.9385ZM24.4458 10.9385L38.2871 24.7798",stroke:"#010101",strokeWidth:"2"}),ep.createElement("path",{d:"M39.9841 26.7178C38.9676 27.7343 37.3195 27.7343 36.303 26.7178C35.2865 25.7013 35.2865 24.0532 36.303 23.0367C37.3195 22.0202 38.9676 22.0202 39.9841 23.0367C41.0006 24.0532 41.0006 25.7013 39.9841 26.7178Z",fill:"#010101"})),null)),ep.createElement("div",{className:cI,onMouseEnter:()=>t(4),onMouseLeave:()=>a(-1)},ep.createElement(r4.N_,{className:eS()(cA,"category_pills--categoryPill5--SmCTl"),to:n(of.LJ.development),onClick:i(of.LJ.development)},ep.createElement(e$.Tx,{id:"community.categories.development"})),ep.createElement(()=>ep.createElement("svg",{width:"61",height:"41",viewBox:"0 0 61 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M36.2556 1.09681C44.2775 1.09681 50.1487 7.51627 50.7359 14.543C56.0886 16.1282 60 21.064 60 26.9137C60 34.043 54.2016 39.8221 47.0486 39.8221H13.2312C5.9146 39.8221 0.999512 35.0384 0.999512 29.0651C0.999512 24.0698 4.5294 19.1616 9.63362 18.3082C9.63362 9.70275 17.5486 6.1171 23.3045 8.98537C25.4632 4.68233 30.1058 1.09668 36.2558 1.09668L36.2556 1.09681Z",fill:"#0FA958",stroke:"black",strokeWidth:"2"}),ep.createElement("path",{d:"M15.5087 23.5748L21.5532 17.5302L22.7621 18.7392L17.9265 23.5748L22.7621 28.4104L21.5532 29.6193L15.5087 23.5748Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),ep.createElement("path",{d:"M45.6095 23.5759L39.5649 29.6205L38.356 28.4116L43.1917 23.5759L38.356 18.7403L39.5649 17.5314L45.6095 23.5759Z",fill:"black",stroke:"black",strokeWidth:"0.740592"}),ep.createElement("rect",{x:"35.0591",y:"14.0024",width:"1.70966",height:"21.1997",transform:"rotate(30 35.0591 14.0024)",fill:"black",stroke:"black",strokeWidth:"0.740592"})),null))),ep.createElement("div",{className:ck},ep.createElement(r4.N_,{className:cS,to:l("icons"),onClick:i("icons")},ep.createElement("span",{className:cL},"#"),ep.createElement(e$.Tx,{id:"community.categories.icons"})),ep.createElement(r4.N_,{className:cS,to:l("accessibility"),onClick:i("accessibility")},ep.createElement("span",{className:cL},"#"),ep.createElement(e$.Tx,{id:"community.categories.accessibility"})),ep.createElement(r4.N_,{className:cS,to:l("web"),onClick:i("web")},ep.createElement("span",{className:cL},"#"),ep.createElement(e$.Tx,{id:"community.categories.web"})),ep.createElement(r4.N_,{className:cS,to:l("mobile"),onClick:i("mobile")},ep.createElement("span",{className:cL},"#"),ep.createElement(e$.Tx,{id:"community.categories.mobile"})),ep.createElement(r4.N_,{className:cS,to:l("wireframe"),onClick:i("wireframe")},ep.createElement("span",{className:cL},"#"),ep.createElement(e$.Tx,{id:"community.categories.wireframe"})))))}var cO=a(851695);function cF({filterType:e,filterTypeLabel:t,value:a,onUpdate:r,options:n}){let[l,i]=ep.useState(!0);return ep.createElement("div",{className:"feed_filter_dropdown--filterSection--sEzNd text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement("button",{className:eT.cx.flex.justifyBetween.itemsCenter.$,onClick:e=>{e.stopPropagation(),i(!l)}},t,l?ep.createElement(le.In,{icon:"chevron-up-32",fill:"default"}):ep.createElement(le.In,{icon:"chevron-down-32",fill:"default"})),l&&ep.createElement("div",null,ep.createElement(cO.z,{value:a,onChange:t=>{r(e,t)}},n.map(e=>ep.createElement(cO.Z,{value:e.value,key:e.value},e.label)))))}function cM({onClose:e,onUpdate:t,view:a}){let r=ep.useRef(null);ep.useEffect(()=>{let t=t=>{r.current&&r.current.contains(t.target)||e()};return document.body.addEventListener("click",t),()=>{document.body.removeEventListener("click",t)}},[e]);let n=[{value:iW.L.BrowseResourceTypes.MIXED,label:(0,e$.t)("community.view_bar.all_resources")},{value:iW.L.BrowseResourceTypes.FILES,label:(0,e$.t)("community.view_bar.files")},{value:iW.L.BrowseResourceTypes.PLUGINS,label:(0,e$.t)("community.view_bar.plugins")},{value:iW.L.BrowseResourceTypes.WIDGETS,label:(0,e$.t)("community.view_bar.widgets")}],l=o2(a.resourceType)[0].map(e=>({value:e.key,label:e.label})),i=[{value:oe.C.ALL,label:(0,e$.t)("community.landing_page.sort.paid_and_free")},{value:oe.C.PAID,label:(0,e$.t)("community.landing_page.sort.paid")},{value:oe.C.FREE,label:(0,e$.t)("community.landing_page.sort.free")}],s=o4("query"in a)[0].map(e=>({value:e.key,label:e.label}));return ep.createElement("div",{className:"feed_filter_dropdown--filterDropdown--bUVbE",ref:r},ep.createElement("div",{className:"feed_filter_dropdown--filterDropdownHeader--xuJOo"},ep.createElement("div",{className:eT.cx.font14.fontMedium.$},ep.createElement(e$.Tx,{id:"community.category_page.filter"})),ep.createElement("button",{className:"feed_filter_dropdown--closeButton--SXFCc",onClick:e,"aria-label":(0,e$.t)("community.category_page.filter_close_button")},ep.createElement(le.In,{icon:"x-32",fill:"default"}))),ep.createElement("div",{className:"feed_filter_dropdown--filterDropdownContent--Tu7qO"},ep.createElement(cF,{filterType:"resourceType",filterTypeLabel:(0,e$.t)("community.landing_page.dropdown_filter__resource_type"),value:a.resourceType,options:n,onUpdate:(e,r)=>{t(e,r),(0,tn.sx)("resource_type_filter_changed",{resource_type:r,from:a.resourceType,is_category_redesign:!0})}}),ep.createElement(cF,{filterType:"editor_type",filterTypeLabel:(0,e$.t)("community.landing_page.dropdown_filter__product"),value:a.editor_type,options:l,onUpdate:(e,r)=>{t(e,r),(0,tn.sx)("editor_type_filter_changed",{editor_type:r,from:a.editor_type,is_category_redesign:!0})}}),ep.createElement(cF,{filterType:"price",filterTypeLabel:(0,e$.t)("community.landing_page.dropdown_filter__price"),value:a.price,options:i,onUpdate:(e,r)=>{t(e,r),(0,tn.sx)("price_filter_changed",{price:r,from:a.price,is_category_redesign:!0})}}),ep.createElement(cF,{filterType:"creators",filterTypeLabel:(0,e$.t)("community.landing_page.dropdown_filter__creator"),value:a.creators,options:s,onUpdate:(e,r)=>{t(e,r),(0,tn.sx)("creators_filter_changed",{creators:r,from:a.creators,is_category_redesign:!0})}})))}let cD="tag_and_search_header--tagOrSearchHeaderContainer--i-UIA text--fontPos16--oMC-G text--_fontBase--QdLsd",cP="tag_and_search_header--tagOrSearchHeaderInnerWrapper--Pb-dS",cB=(e,t)=>e.resourceType===iW.L.SearchResourceTypes.MIXED?ep.createElement(e$.Tx,{id:"community.landing_page.query_header__mixed",query:t}):e.resourceType===iW.L.SearchResourceTypes.PLUGINS?ep.createElement(e$.Tx,{id:"community.landing_page.query_header__plugins",query:t}):e.resourceType===iW.L.SearchResourceTypes.FILES?ep.createElement(e$.Tx,{id:"community.landing_page.query_header__files",query:t}):e.resourceType===iW.L.SearchResourceTypes.WIDGETS?ep.createElement(e$.Tx,{id:"community.landing_page.query_header__widgets",query:t}):e.resourceType===iW.L.SearchResourceTypes.PROFILES?ep.createElement(e$.Tx,{id:"community.landing_page.query_header__profiles",query:t}):ep.createElement(e$.Tx,{id:"community.landing_page.query_header",query:t});function cU({tags:e,view:t}){let a=cB(t,e.map(e=>ep.createElement("strong",{key:e},"#",e)));return ep.createElement("div",{className:cD},ep.createElement("h1",{className:cP},a))}function cW({query:e,view:t,error:a}){return ep.createElement("div",{className:eS()({[cD]:!0,"tag_and_search_header--mobileSearchHeaderContainer--gWJWx":eb.Ay.mobile})},ep.createElement("h1",{className:cP},a?ep.createElement(e$.Tx,{id:"community.error.could_not_complete_search",error:ep.createElement("strong",null,a)}):cB(t,ep.createElement("strong",null,e))))}let cV=["HubFile","Plugin","Widget","FreeHubFile","FreePlugin","FreeWidget","MonetizedHubFile","MonetizedPlugin","MonetizedWidget"],cG=(e,t)=>{let a=t.getBoundingClientRect(),r=t.closest(`.${tT.pz}`).getBoundingClientRect();e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.top=a.y-r.y+"px"};function c$({view:e,tagsFromResources:t,resourceCounts:a,history:r}){(0,eh.kc)().statsig_aa_flag_web_cmtysidebar;let n=[({active:e})=>ep.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ep.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ep.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ep.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),e=>ep.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))],l=ep.useRef(null);ep.useEffect(()=>{if(l.current&&e.resourceType){let e=l.current.parentNode.querySelector(`.${tT.vu}`);cG(l.current,e)}},[e.resourceType]);let i=[[iW.L.BrowseResourceTypes.MIXED,(0,e$.t)("community.view_bar.all")],[iW.L.BrowseResourceTypes.FILES,(0,e$.t)("community.view_bar.files_and_templates")],[iW.L.BrowseResourceTypes.PLUGINS,(0,e$.t)("community.view_bar.plugins")],[iW.L.BrowseResourceTypes.WIDGETS,(0,e$.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&i.push(["profiles",(0,e$.t)("community.view_bar.creators")]),ep.createElement("div",{className:tT.pz},ep.createElement("div",{className:tT.w,ref:l}),ep.createElement("ul",null,i.map(([t,l],i)=>{let s=(0,ob.MU)({...(0,ob.wl)(),resourceType:t}),o=n[i],c="query"in e?ep.createElement("span",{className:tT.fw},a[t]??0):null;return ep.createElement("a",{key:t,href:s,onClick:a=>{a.preventDefault(),r.push(s),(0,tn.sx)("resource_type_filter_changed",{resource_type:t,from:e.resourceType})}},ep.createElement("li",{className:e.resourceType===t?tT.vu:""},ep.createElement(o,{active:e.resourceType===t}),ep.createElement("span",{className:tT.rt},l),c))})),(0,of.Iw)(e)&&ep.createElement(oc,{category:e.category,resourceType:e.resourceType,tagsFromResources:t}))}function cj({onUpdate:e,initialValues:t,resourceType:a}){let r=o2(a);return ep.createElement(oy.A5,{name:(0,e$.t)("community.landing_page.dropdown_filter__editor"),onUpdate:e,options:r,initialValues:t,adtlClassName:eS()({[tT.km]:!0,[tT.O6]:!0}),dataOnboardingKey:cr,onClick:()=>{(0,tn.sx)(ca)}})}function cH({shouldShowOnDesktop:e,onUpdate:t,initialValues:a,isSearchView:r,editorType:n}){let l=[[{key:iW.L.BrowseResourceTypes.MIXED,label:(0,e$.t)("community.view_bar.all_resources")},{key:iW.L.BrowseResourceTypes.FILES,label:(0,e$.t)("community.view_bar.files")},{key:iW.L.BrowseResourceTypes.PLUGINS,label:(0,e$.t)("community.view_bar.plugins")},{key:iW.L.BrowseResourceTypes.WIDGETS,label:(0,e$.t)("community.view_bar.widgets")}]];return r&&l[0].push({key:"profiles",label:(0,e$.t)("community.view_bar.creators")}),r||n!==o1.k.Editors.DEV_MODE||(l[0]=[{key:iW.L.BrowseResourceTypes.PLUGINS,label:(0,e$.t)("community.view_bar.plugins")}]),ep.createElement(oy.A5,{name:(0,e$.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:t,options:l,initialValues:a,adtlClassName:eS()({[tT.km]:!0,[tT.qW]:!e})})}function cq({onUpdate:e,initialValues:t,isSearchView:a}){let r=o4(!!a);return ep.createElement(oy.A5,{name:(0,e$.t)("community.landing_page.dropdown_filter__creators"),onUpdate:e,options:r,initialValues:t,adtlClassName:eS()({[tT.km]:!0,[tT.fT]:!0})})}let cz=ep.forwardRef(function({view:e,onUpdate:t},a){let r=(0,of.OE)(e),n=[[r?{key:oT.e.Search.RELEVANCY,label:(0,e$.t)("community.landing_page.sort.relevancy")}:null,{key:oT.e.Shared.POPULAR,label:(0,e$.t)("community.landing_page.sort.trending")},{key:oT.e.Shared.ALL_TIME,label:(0,e$.t)("community.curated_page.popular")},{key:oT.e.Shared.PUBLISHED_AT,label:(0,e$.t)("community.landing_page.sort.recent")}].filter(Boolean)];return r&&e.price!==oe.C.FREE&&(n[0]=n[0].concat([{key:oT.e.Shared.PRICE_DESC,label:(0,e$.t)("community.landing_page.sort.price_high_to_low")},{key:oT.e.Shared.PRICE_ASC,label:(0,e$.t)("community.landing_page.sort.price_low_to_high")}])),ep.createElement("div",{className:tT.hs,ref:a,"data-resource-type":e.resourceType},ep.createElement("div",{className:tT.R6},(null==e?void 0:e.resourceType)!=="profiles"&&ep.createElement(cj,{onUpdate:([a])=>{t("editor_type",a),(0,tn.sx)("editor_type_filter_changed",{editor_type:a,from:e.editor_type})},initialValues:e.editor_type?[e.editor_type]:[],resourceType:e.resourceType}),ep.createElement(cH,{shouldShowOnDesktop:(0,ob.Jk)(e),onUpdate:([a])=>{t("resourceType",a),(0,tn.sx)("resource_type_filter_changed",{resource_type:a,from:e.resourceType})},initialValues:[e.resourceType],isSearchView:"query"in e,editorType:e.editor_type}),ep.createElement(oy.A5,{name:(0,e$.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([a])=>{t("price",a),(0,tn.sx)("price_filter_changed",{price:a,from:e.price}),a===oe.C.FREE&&(e.sort_by===oT.e.Shared.PRICE_ASC||e.sort_by===oT.e.Shared.PRICE_DESC)&&t("sort_by",oT.e.Shared.POPULAR)},adtlClassName:eS()({[tT.km]:!0}),initialValues:[e.price],options:[[{key:oe.C.ALL,label:(0,e$.t)("community.landing_page.sort.paid_and_free")},{key:oe.C.PAID,label:(0,e$.t)("community.landing_page.sort.paid")},{key:oe.C.FREE,label:(0,e$.t)("community.landing_page.sort.free")}]]}),ep.createElement(cq,{onUpdate:([a])=>{t("creators",a),(0,tn.sx)("creators_filter_changed",{creators:a,from:e.creators})},initialValues:e.creators?[e.creators]:[],isSearchView:"query"in e})),(null==e?void 0:e.resourceType)!=="profiles"&&"sort_by"in e&&ep.createElement(oy.A5,{name:(0,e$.t)("community.curated_page.sort"),onUpdate:([e,a])=>{t("sort_by",e),t("following",null==a?void 0:a.following),(0,tn.sx)("ranking_type_filter_changed",{ranking_type:e,is_following:!!(null==a?void 0:a.following)})},initialValues:[e.sort_by,{following:!!e.following}],options:n}))});function cY({onButtonClick:e}){return ep.createElement("button",{className:tT.E0,onClick:t=>{t.stopPropagation(),e()},"aria-label":(0,e$.t)("community.category_page.filter")},ep.createElement(e$.Tx,{id:"community.category_page.filter"}),ep.createElement(s7.I,{icon:"adjust-32",fill:"default"}))}function cK({view:e,onUpdate:t}){let[a,r]=ep.useState(!1),n=[[{key:oT.e.Shared.POPULAR,label:(0,e$.t)("community.landing_page.sort.trending")},{key:oT.e.Shared.ALL_TIME,label:(0,e$.t)("community.curated_page.popular")},{key:oT.e.Shared.PUBLISHED_AT,label:(0,e$.t)("community.landing_page.sort.recent")}]];return ep.createElement("div",{className:eT.cx.flex.justifyBetween.pb16.$},ep.createElement("div",{className:eT.cx.flexColumn.gap2.relative.$},ep.createElement(cY,{onButtonClick:()=>r(!a)}),a&&ep.createElement(cM,{onClose:()=>r(!1),onUpdate:t,view:e})),ep.createElement(oy.A5,{name:(0,e$.t)("community.curated_page.sort"),onUpdate:([e,a])=>{t("sort_by",e),t("following",null==a?void 0:a.following),(0,tn.sx)("ranking_type_filter_changed",{ranking_type:e,is_following:!!(null==a?void 0:a.following)})},initialValues:[e.sort_by,{following:!!e.following}],options:n,showBorder:!0}))}let cJ=new Date;function cZ(){let e,t;let[a,r]=ep.useState(-1);switch(a){case 0:e=ep.createElement(e$.Tx,{id:"community.landing_page.word.spark"}),t=ep.createElement(e$.Tx,{id:"community.categories.banner.inspiration"});break;case 1:e=ep.createElement(e$.Tx,{id:"community.landing_page.word.fun"}),t=ep.createElement(e$.Tx,{id:"community.categories.banner.jam_sessions"});break;case 2:e=ep.createElement(e$.Tx,{id:"community.landing_page.word.structure"}),t=ep.createElement(e$.Tx,{id:"community.categories.banner.design_systems"});break;case 3:e=ep.createElement(e$.Tx,{id:"community.landing_page.word.life"}),t=ep.createElement(e$.Tx,{id:"community.categories.banner.visual_assets"});break;case 4:e=ep.createElement(e$.Tx,{id:"community.landing_page.word.power"}),t=ep.createElement(e$.Tx,{id:"community.categories.banner.development"});break;default:e=null,t=null}return ep.createElement(ep.Fragment,null,ep.createElement(lF.Ay,{mediaQuery:"(max-width: 1023px)"},ep.createElement("h1",{className:tT.tt},ep.createElement(e$.Tx,{id:"community.landing_page.welcome_to_figma_community"})),ep.createElement("h2",{className:tT.AJ},ep.createElement(e$.Tx,{id:"community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"}))),ep.createElement(lF.Ay,{mediaQuery:"(min-width: 1024px)"},e?ep.createElement("h1",{className:tT.tt},ep.createElement(e$.Tx,{id:"community.landing_page.add_a_little_magic",magic:ep.createElement("span",{"data-color":["--color-text-assistive","--color-text-figjam","--color-text-brand","--color-text-danger","--color-text-success"][a]||"--color-bg-brand",className:tT.GE},e)})):ep.createElement("h1",{className:tT.tt},ep.createElement(e$.Tx,{id:"community.landing_page.welcome_to_figma_community"})),ep.createElement("h2",{className:tT.AJ},t||(0,e$.t)("community.landing_page.subhead.explore_thousands_of_free_and_paid_templates_widgets_and_plugins"))),ep.createElement(oX,null),ep.createElement(cR,{onMouseEnter:e=>{r(e),cJ=new Date},onMouseLeave:()=>{let e=new Date;setTimeout(()=>{e>cJ&&r(-1)},300)},hoverIndex:a}))}let cQ={files:0,plugins:0,widgets:0,mixed:0,profiles:0},cX=function(){let e=[],t={};return{push:(a,r)=>{let n=a.pathname+a.search,l=t[n];if(l||e.push(n),t[n]={scrollPosition:0,...l||{},state:r},e.length>10){let a=e.shift();delete t[a]}},get:e=>{let a=t[e.pathname+e.search];if(a)return a},setScroll:(e,a)=>{let r=t[e.pathname+e.search];return!!r&&(r.scrollPosition=a,!0)}}}();function c0({onClick:e,isLoading:t,isMoreToFetch:a}){let r=(0,eZ.o5)({isLoggedOut:!1});return t?ep.createElement("div",{className:tT.V3},ep.createElement(nF.y$,null)):r()?ep.createElement(nU,{onClick:e,isLoading:!1,isMoreToFetch:a}):null}class c1 extends ep.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={resources:[],resourceCounts:cQ,searchResponse:void 0,searchError:void 0,shelves:void 0,pagination:void 0,tags:[],profiles:[],isActivelyLoadingRequest:!1,category:void 0},this.feedContentRef=ep.createRef(),this.filterControlsRef=ep.createRef(),(0,ob.au)(this.props.view)||(document.title=(0,eR.vC)(this.props.view)),this.sendResourceImpressions=(0,s5.s)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:a}=this.getTrackingProps();(0,tn.sx)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...a}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.queryWithParamsAndUpdateState(void 0),(0,of.OE)(this.props.view)&&this.props.dispatch(s9.N.startSearch({entryPoint:"community"})),this.scrollFunction=(0,s5.s)(()=>{cX.setScroll(this.props.history.location,window.scrollY)},50),window.addEventListener("scroll",this.scrollFunction)}showFeedAsTable(){var e,t;return(null==(e=this.props.view)?void 0:e.resourceType)===iW.L.BrowseResourceTypes.PLUGINS||(null==(t=this.props.view)?void 0:t.resourceType)===iW.L.SearchResourceTypes.PROFILES}componentDidUpdate(e,t){var a,r,n;(0,eg.bN)(this.props.view,e.view)?(cX.push(this.props.history.location,this.state),cX.setScroll(this.props.history.location,window.scrollY)):(this.hasLoadedFirstTimeForView=!1,this.setState({resources:[],resourceCounts:cQ,tags:[],shelves:void 0}),this.queryWithParamsAndUpdateState(e.view),(0,ob.au)(this.props.view)||(document.title=(0,eR.vC)(this.props.view)),this.sendAndResetResourceImpressions()),(null==(a=this.state.category)?void 0:a.meta_title)!==(null==(r=t.category)?void 0:r.meta_title)&&(document.title=(0,eR.vC)(this.props.view,null==(n=this.state.category)?void 0:n.meta_title))}componentWillUnmount(){(0,of.OE)(this.props.view)&&this.props.dispatch(s9.N.endSession()),this.sendAndResetResourceImpressions(),window.removeEventListener("scroll",this.scrollFunction)}isMoreToFetch(){var e,t;if(!this.hasLoadedFirstTimeForView)return!0;if(null==(e=this.state.pagination)?void 0:e.next_page){let e=new URLSearchParams(null==(t=this.state.pagination)?void 0:t.next_page.split("?")[1]);return cV.some(t=>!!e.get(`${t}[id_cursor]`))}return!1}parseSearchResponse([e,t]){var a;let r;let n=e.map(e=>{let t=e.model;return"is_widget"in t?(t.is_widget,(0,iG.I$)(t)):t}),l={files:[],plugins:[],widgets:[],mixed:n};n.forEach(e=>{"is_widget"in e?e.is_widget?l.widgets.push(e):l.plugins.push(e):l.files.push(e)}),r=this.props.view.resourceType===iW.L.SearchResourceTypes.PROFILES?t:l[(null==(a=this.props.view)?void 0:a.resourceType)??iW.L.BrowseResourceTypes.MIXED];let i=Object.keys(l).reduce((e,t)=>(e[t]=l[t].length,e),{});return i.profiles=t.length,{resources:r,resourceCounts:i}}asyncFetchAdditionalSearchResources(){let{dispatch:e,view:t,searchSessionId:a}=this.props;Promise.all([e((0,ow.n)().filter(t).searchResources({resourceType:"files"})),e((0,ow.n)().filter(t).searchResources({resourceType:"plugins"})),e((0,ow.n)().filter(t).searchResources({resourceType:"widgets"}))]).then(([e,r,n])=>{if(!this.state.searchResponse)return;let l=[...e.data.meta.results,...r.data.meta.results,...n.data.meta.results],i=this.state.searchResponse[0].reduce((e,t)=>(e[t.model.id]=!0,e),{});l=l.filter(e=>!i[e.model.id]).sort((e,t)=>e.score>t.score?-1:1),this.state.searchResponse[0]=[...this.state.searchResponse[0],...l];let{resources:s,resourceCounts:o}=this.parseSearchResponse(this.state.searchResponse);(0,tn.sx)("search_query_result",{query:t.query,responseCounts:this.state.searchResponse[0].length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:a}),this.setState({searchResponse:[this.state.searchResponse[0],this.state.searchResponse[1]],resources:s,resourceCounts:o})}).catch(()=>{})}querySearch(){var e;let{view:t,dispatch:a}=this.props;return null==(e=this.feedAppWrapper)||e.setAttribute("data-hide","true"),a((0,ow.n)().filter(t).searchResourcesAndProfiles({resourceType:"mixed"})).then(e=>{let t=[e[0].data.meta.results,e[1].data.meta.results],{resources:a,resourceCounts:r}=this.parseSearchResponse(t);this.asyncFetchAdditionalSearchResources(),this.setState({searchResponse:t,searchError:void 0,resources:a,resourceCounts:r},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})}).catch(e=>{(0,of.OE)(this.props.view)&&this.setState({searchError:e.message||(0,e$.t)("community.error.search_request_failed"),resources:[]})})}queryBrowse(){var e,t,a;let r;let{view:n,isCategoryRedesignEnabled:l,isFooterEnabled:i}=this.props,s=(0,ow.n)().filter(n),o=n.category,c=Promise.resolve(this.state.shelves),d=Promise.resolve(this.state.category),m=this.hasLoadedFirstTimeForView&&(null==(e=this.state.pagination)?void 0:e.next_page);if(m)r=(0,ae.k9)(null==(t=this.state.pagination)?void 0:t.next_page);else{null==(a=this.feedAppWrapper)||a.setAttribute("data-hide","true");let e=i()?48:void 0;r=s.browse(n.resourceType,e);let t=l&&o&&!ob.as.includes(o)?{shelfType:tv.cS.CATEGORY_PAGE,categorySlug:o}:void 0;c=!this.state.shelves||o&&l?nP.A.getCommunityShelves(t).then(e=>e.data.meta):c,d=o&&!ob.as.includes(o)?oo.c.getV2BySlug({slug:o}).then(e=>e.data.meta):d}return Promise.all([r,c,d]).then(e=>{let[t,a,r]=e;a&&a.length>0&&(0,al.qD)({name:"community-landing-shelves-loaded"});let l=(a??[]).filter(nD);if(!t)throw Error("Error handling response");let{data:i}=t,{meta:s,pagination:o}=i,{resources:c}=s;this.setState({resources:m?[...this.state.resources,...c]:c,shelves:l,pagination:o,tags:(0,eR.ZF)(c).filter(e=>{var t;return(null==(t=n.tags)?void 0:t.indexOf(e))===-1}),searchError:void 0,category:r},()=>{var e;null==(e=this.feedAppWrapper)||e.removeAttribute("data-hide")})}).catch(e=>{(0,lL.$D)(s6.e.COMMUNITY,e)})}shouldSearch(e,t){return!(0,of.OE)(e)||e.resourceType===t.resourceType||(0,ob.Mc)({...e,resourceType:"profiles"})!==(0,ob.Mc)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(e){var t,a;if(!this.props.view||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;if(!(this.hasLoadedFirstTimeForView&&(null==(t=this.state.pagination)?void 0:t.next_page))){let e=cX.get(this.props.history.location);if(e){this.setState(e.state,()=>window.scrollTo(0,e.scrollPosition||0)),null==(a=this.feedAppWrapper)||a.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let r=(0,of.OE)(this.props.view);try{r?e&&!this.shouldSearch(e,this.props.view)&&this.state.searchResponse?this.setState({resources:this.parseSearchResponse(this.state.searchResponse).resources,searchError:void 0}):await this.querySearch():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){var e;let t=((null==(e=this.feedContentRef.current)?void 0:e.getBoundingClientRect().top)||0)-(this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0);t<0&&window.scrollTo({top:window.scrollY+t,behavior:"smooth"})}addResourceImpression(e){let t=e.id,a=(0,eR.Vm)(e),r=`${t}-${a}`;this.impressedResourcesForView.has(r)||(this.impressedResourcesForView.add(r),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,eR.Vm)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.category,a=e.tags,r=!!(null==a?void 0:a.length),n=e.query;return"string"==typeof n?{trackingContext:e4.e0.COMMUNITY_HUB_SEARCH,properties:{searchQuery:n}}:t?{trackingContext:e4.e0.COMMUNITY_HUB_CATEGORY,properties:{category:t}}:r?{trackingContext:e4.e0.COMMUNITY_HUB_TAG,properties:{tags:a.join(",")}}:{trackingContext:e4.e0.COMMUNITY_HUB,properties:{}}}getShelfContentIds(){let e=this.state.shelves||[],t=new Set;return e.forEach(e=>{e.shelf_content.forEach(e=>{t.add(e.id)})}),t}render(){let{view:e,isCategoryRedesignEnabled:t,isFooterEnabled:a}=this.props;if(!e){if(eR.FG)throw Error("This should never happen. Fastma should always have a `view`.");return ep.createElement(ep.Fragment,null)}let r=e.category,n=r&&Object.values(of.LJ).includes(r)?r:null,l=!!r,i=this.getShelfContentIds(),s=this.state.resources.filter(e=>!("id"in e&&i.has(e.id))),o=e.tags,c=!!(null==o?void 0:o.length),d=e.query,m="string"==typeof d,{resourceType:u}=e,_=(l||c||m)&&this.hasLoadedFirstTimeForView&&0===this.state.resources.length,p="";_&&(p=r||d||o.join(", ")||"");let{trackingContext:g,properties:E}=this.getTrackingProps();return ep.createElement(eH.fu,{name:g,properties:E},ep.createElement(t9.S,null),ep.createElement("div",{ref:e=>this.feedAppWrapper=e},n?ep.createElement(cw,{category:n,isRedesignEnabled:!!t}):null,c&&ep.createElement(cU,{tags:o,view:e}),(0,of.OE)(e)&&ep.createElement(cW,{query:e.query,view:e,error:this.state.searchError}),ep.createElement("div",{className:tT.IB},!t&&ep.createElement(c$,{view:e,tagsFromResources:this.state.tags,resourceCounts:this.state.resourceCounts,history:this.props.history}),ep.createElement("div",{className:eS()(tT.hm,{[tT.u8]:t})},!t&&ep.createElement(cz,{ref:this.filterControlsRef,view:e,onUpdate:(e,t)=>{this.props.history.replace((0,ob.MU)({...(0,ob.wl)(),[e]:t})),this.resetScrollPosition()}}),t&&n&&ep.createElement(ep.Fragment,null,ep.createElement(cT,{categorySlug:n,tagsFromResources:this.state.tags}),this.state.shelves&&this.state.shelves.length>0&&!ob.as.includes(n)&&ep.createElement(cx,{shelf:this.state.shelves[0]}),ep.createElement(cK,{view:e,onUpdate:(e,t)=>{this.props.history.replace((0,ob.MU)({...(0,ob.wl)(),[e]:t})),this.resetScrollPosition()}})),ep.createElement("div",{ref:this.feedContentRef},_?ep.createElement(os,{resourceType:u,query:p,view:e,isError:!!this.state.searchError}):ep.createElement("div",{className:tT.E9},ep.createElement(tN,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:tC(this.showFeedAsTable()?"rows":t?"normal":"compact"),resources:t?s:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:a()?ev.lQ:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"}))),a()?ep.createElement(c0,{onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isLoading:this.state.isActivelyLoadingRequest,isMoreToFetch:this.isMoreToFetch()}):this.state.isActivelyLoadingRequest&&ep.createElement(nF.y$,null),a()&&!(0,eE.y3)()&&ep.createElement("div",{className:tT.xQ},ep.createElement(eK,null))))))}}c1.displayName="FeedPage";class c2 extends c1{componentDidMount(){this.queryWithParamsAndUpdateState(this.props.view),this.scrollFunction=(0,s5.s)(()=>{cX.setScroll(this.props.history.location,window.scrollY)},50),window.addEventListener("scroll",this.scrollFunction)}render(){let{view:e,isFooterEnabled:t}=this.props;if(!e){if(eR.FG)throw Error("This should never happen. Fastma should always have a `view`.");return ep.createElement(ep.Fragment,null)}return ep.createElement(eH.fu,{name:e4.e0.COMMUNITY_HUB_LANDING},ep.createElement(t9.S,null),ep.createElement(ci,null),ep.createElement("div",{ref:e=>this.feedAppWrapper=e},ep.createElement("div",{className:tT.T6},ep.createElement("div",{className:tT.hm},ep.createElement("div",{className:tT.c7},ep.createElement(cZ,null)),this.state.shelves&&this.state.shelves.length>0&&ep.createElement("div",{className:tT.c7},ep.createElement("h2",{className:tT.m_},ep.createElement(e$.Tx,{id:"community.view_bar.discover_whats_new"}),ep.createElement(eH.L0,{className:tT.SI,trackingEventName:"community_collections",trackingProperties:{name:"see_all_cta_clicked"},href:"/community/collections"},ep.createElement(e$.Tx,{id:"community.curated_page.see_all"}))),ep.createElement(n1,{shelf:this.state.shelves[0],key:this.state.shelves[0].id,size:"half"}),ep.createElement(n2,{href:"https://www.figma.com/community-creators",title:(0,e$.t)("community.shelves.fund_your_creativity"),subtitle:(0,e$.t)("general.learn_more"),size:"half"})),ep.createElement("h2",{className:tT.m_},ep.createElement(e$.Tx,{id:"community.landing_page.by_the_community_for_the_community"})),ep.createElement(cz,{ref:this.filterControlsRef,view:e,onUpdate:(e,t)=>{this.props.history.replace((0,ob.MU)({...(0,ob.wl)(),[e]:t})),this.resetScrollPosition()}}),ep.createElement("div",{ref:this.feedContentRef,className:tT.s4},ep.createElement(tN,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:tC(this.showFeedAsTable()?"rows":"normal"),resources:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:t()?ev.lQ:()=>this.queryWithParamsAndUpdateState(),viewContext:"communityFeed"})),ep.createElement(c0,{isLoading:this.state.isActivelyLoadingRequest,onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isMoreToFetch:this.isMoreToFetch()}),t()&&!(0,eE.y3)()&&ep.createElement("div",{className:tT.xQ},ep.createElement(eK,null))))))}}var c4=a(802015);let c3="mobile_flyout_item--mobileFlyoutItem--7KYhr text--fontPos20--Bcz97 text--_fontBase--QdLsd";function c8({navItem:e,onClose:t}){let a={trackingEventName:"mobile_flyout_item_select",trackingProperties:{path:e.path},...e.trackingProps};return ep.createElement("div",{className:c3},ep.createElement(eH.L0,{key:e.key,href:e.path,onClick:a=>{e.onClick&&e.onClick(a),(0,ex.qG)(e.path,a),t()},className:eS()(eT.cx.colorText.block.$,e.className??""),...a},e.text))}var c5=a(949207);function c6({isExpanded:e,toggleExpanded:t,navItemGroup:a,onClose:r}){let n=ep.useRef(null);return ep.useEffect(()=>{var t;if(e&&(null==(t=n.current)?void 0:t.style.maxHeight)==="0px"){let e=0;n.current.childNodes.forEach(t=>{t instanceof HTMLElement&&(e+=t.offsetHeight)}),n.current.style.maxHeight=`${e}px`}else!e&&n.current&&(n.current.style.maxHeight="0px")},[e]),ep.createElement("div",{className:c3},ep.createElement("button",{onClick:t,className:eT.cx.flex.justifyStart.alignLeft.colorText.itemsCenter.$},a.text,ep.createElement(eL.B,{svg:c5.A,className:eS()("mobile_flyout_item_group--mobileFlyoutItemGroupCaret--lbbaU",{"mobile_flyout_item_group--mobileFlyoutItemGroupCaretExpanded--P269f":e}),svgClassName:eT.cx.w8.h8.$})),ep.createElement("div",{ref:n,className:"mobile_flyout_item_group--mobileFlyoutSubItems--Ze8c7"},a.children.map(e=>ep.createElement(c8,{key:e.key,navItem:e,onClose:r}))))}var c9=a(234269),c7=a(137466);function de({navItems:e,onClose:t,trackingContext:a}){let[r,n]=ep.useState(!1);ep.useEffect(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",n(!0),()=>{document.body.style.overflow=e}},[]);let[l,i]=ep.useState(null),s={name:"mobile_flyout",...a};return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"mobile_flyout--mobileFlyoutContainer--Z9i-T",onClick:e=>{e.stopPropagation(),t()}},ep.createElement("div",{className:eS()("mobile_flyout--mobileFlyout--YX14z",{"mobile_flyout--mobileFlyoutMounted--RUFmS":r}),onClick:e=>e.stopPropagation()},ep.createElement(eH.fu,{...s},ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.$},ep.createElement(eL.B,{svg:c9.A,className:"mobile_flyout--communitySvgContainer--R6Qs9",svgClassName:eT.cx.w32.h32.$,onClick:e=>{(0,ex.qG)("/community",e,!1),t()}}),ep.createElement(eL.B,{svg:c7.A,svgWidth:"18px",onClick:t})),ep.createElement("div",{className:eT.cx.flex.flexWrap.flexColumn.gap2.pt32.$},e.map(e=>"children"in e?ep.createElement(c6,{key:e.key,isExpanded:l===e.key,toggleExpanded:()=>i(l===e.key?null:e.key),navItemGroup:e,onClose:t}):ep.createElement(c8,{key:e.key,navItem:e,onClose:t})))))))}function dt(){let e=iX("mobile"),[t,a]=ep.useState(!1),r=e.reduce((e,{category:t,dropdownCategories:a})=>{if(a.length>0){let r=a.map(e=>({key:e.urlSlug,text:e.text,path:`/community/category/${e.urlSlug}`,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:e.urlSlug}}}));return r.push({key:t.urlSlug,text:t.allText?t.allText:(0,e$.t)("categories.all"),path:`/community/category/${t.urlSlug}`,className:eT.cx.underline.$,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:t.urlSlug}}}),[...e,{key:t.urlSlug,text:t.text,children:r}]}return[...e,{key:t.urlSlug,text:t.text,path:`/community/category/${t.urlSlug}`}]},[{key:"home",text:(0,e$.t)("community.view_bar.home"),path:"/community"}]);return ep.createElement("div",{"data-testid":"flyout-category-selector",className:eT.cx.p12.$},t&&ep.createElement(de,{navItems:r,onClose:()=>{a(!1)},trackingContext:{name:"community_mobile_nav_flyout"}}),ep.createElement("button",{className:eT.cx.flex.gap6.flexNowrap.fontMedium.colorText.$,onClick:()=>a(!0)},ep.createElement(le.In,{icon:"workspace-16"}),ep.createElement("span",{className:eT.cx.font13.$},ep.createElement(e$.Tx,{id:"community.view_bar.browse"}))))}var da=a(362968);function dr(){let e=iX((0,da.R)((0,ti.jz)(aE.ZI8))?"collapsed":"expanded");return ep.createElement("div",{"data-testid":"nav-category-selector",className:eT.cx.flex.flexRow.justifyCenter.flexBasisAuto.flexShrink0.$},e.map(({category:e,dropdownCategories:t},a)=>ep.createElement(dn,{parentCategory:e,dropdownCategories:t,key:a})))}function dn({parentCategory:e,dropdownCategories:t}){let[a,r]=ep.useState(!1),[n,l]=ep.useState(0),i=`/community/category/${e.urlSlug}`,s=ep.createElement("div",{className:a?"nav_category_selector--navCategorySelectorTextHover--EsRcW nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector--navCategorySelectorText--TdbiR text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text);return ep.createElement("div",{onMouseEnter:()=>{r(!0)},onMouseMove:()=>{a||r(!0)},onMouseLeave:()=>{r(!1)}},ep.createElement(oy.So,{key:`${e.urlSlug}-${n}`,preview:ep.createElement("div",{className:"nav_category_selector--navdropdownCategoriesContainer--JESG1"},t.map((e,t)=>{let a=`/community/category/${e.urlSlug}`;return ep.createElement(eH.fu,{name:"Global Nav Category",properties:{slug:e.urlSlug},key:t},ep.createElement(eH.L0,{trackingEventName:"community_global_nav_category_clicked",href:a,onClick:e=>{(0,ex.qG)(a,e),l(n+1),r(!1)},className:"nav_category_selector--navDropdownCategory--laaCI text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text))}))},"more"===e.urlSlug?s:ep.createElement(eH.fu,{name:"Global Nav Category",properties:{slug:e.urlSlug}},ep.createElement(eH.L0,{trackingEventName:"community_global_nav_category_clicked",className:eT.cx.colorText.noWrap.$,href:i,onClick:e=>(0,ex.qG)(i,e)},s))))}var dl=a(950142);function di(){let e=(0,eg.wA)(),t=(0,e6.kc)();return(null==t?void 0:t.primary_user_id)?ep.createElement(ep.Fragment,null):ep.createElement("div",{className:"admin_profile_banner--root--HDfDA"},ep.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(null==t?void 0:t.org_id)?ep.createElement(e$.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_organization",profileName:null==t?void 0:t.name}):ep.createElement(e$.Tx,{id:"community.banner.browsing_community_as_the_current_profile_name_team",profileName:null==t?void 0:t.name})),ep.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,eQ.rO)())}},ep.createElement(eL.B,{svg:dl.A,className:"admin_profile_banner--close--ib2wO"})))}var ds=a(128989),dc=a(584829),dd=a(786629),dm=a(969062),du=a(377512),d_=a(665805),dp=a(286895),dg=a(507324),dE=a(378090);let df="seen_account_profile_switcher_onboarding",dh=(0,tZ.r1)(df),dv=(0,tZ.r1)("file_browser_onboarded");function db(){let e=(0,tY.md)(dh),t=(0,tY.md)(dv),a=(0,tY.md)(dp.mp),r=Date.now(),n=()=>r-12096e5,l=(0,tJ.e)({overlay:t4.RJL,priority:tQ.N.OVERRIDING_MODAL},[e,t,a]);return(0,tz.h)(()=>{l.show({canShow:(e,t,a)=>!e&&t&&null!=a&&a.getTime()<n()})}),ep.createElement(o7.h,{onboardingKey:dE.Vn,modalType:ce.q3.DRAGGABLE,currentStepIndex:0,totalNumSteps:1,isShowing:l.isShowing,onClickPrimaryCta:l.complete,onClose:l.complete,onManualDismiss:l.complete,element:()=>ep.createElement(dy,null),trackingContextName:"File Browser Account Profile Switcher Overlay",userFlagOnShow:df,title:ep.createElement("div",{className:eT.cx.ml8.$},ep.createElement(du.E,{fontSize:13},ep.createElement(e$.Tx,{id:"rcs.account_profile_switcher.title"}))),additionalButton:{onClickBehavior:"link",label:ep.createElement(e$.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/1500005165741"},ctaText:(0,e$.t)("rcs.got_it")})}function dy(){return ep.createElement(dg.ak,null,ep.createElement(du.E,{fontSize:11},ep.createElement(e$.Tx,{id:"rcs.account_profile_switcher.description"})))}var dw=a(937152),dT=a(413801);function dx(){let e=(0,e6.UP)(),t=(0,tR.Pc)(),a=(0,e6.kc)(),r=e&&!!a,n=(0,e6.s_)(),l=ep.useRef(null),i=(0,eg.d4)((0,d_.E)(dT.B)),s=(0,eg.wA)(),o=(0,ll.N)(`(max-width: ${lM.YW}px)`),[c,d]=(0,tY.fp)(ds.A);return ep.useLayoutEffect(()=>{var e;d(null==(e=l.current)?void 0:e.getBoundingClientRect())},[d]),ep.createElement(ep.Fragment,null,!e&&ep.createElement(tq.p,null,ep.createElement(db,null)),ep.createElement(dw.g,{buttonClassName:"account_switcher--accountDropdownButton--JVtb0",ref:l,onClick:()=>{i||s(tL.j7({type:dT.B}))},isShowingDropdown:i,"aria-label":(0,e$.t)("navbar.settings_dropdown.button_label")},ep.createElement("div",{className:"account_switcher--dropdownButtonContent--GPGDx","data-onboarding-key":dE.Vn,"data-testid":"ProfileButton"},ep.createElement("div",{className:eT.cx.relative.inlineFlex.$},ep.createElement(dm.H8,{user:r&&(0,e6.cs)(a)?n:t,size:dm.Pf.MEDIUM})),!o&&ep.createElement(du.E,{fontSize:13,fontWeight:"medium",truncate:!0},r&&(0,e6.cs)(a)?a.name:t.name),r&&(0,e6.cs)(a)&&ep.createElement(dd.Ex,{className:eS()("account_switcher--adminBadge--ys5HM",eT.cx.mr0.$),color:dd.zE.TERTIARY,text:(0,e$.t)("navbar.community.admin_label")}))),l.current&&i&&ep.createElement(dT.s,{targetRect:l.current.getBoundingClientRect(),dispatch:s}))}var dC=a(271259),dN=a(884259),dk=a(204765);function dS(e){return ep.createElement("div",{className:eS()("red_dot--redDot--pc7zb",e.redDotClassName)})}function dI(e){return ep.createElement("div",{className:eS()("seasonal_red_dot--seasonalRedDot--QWiyC",e.redDotClassName)},"\u2764\uFE0F")}function dA(e){return ep.createElement("div",{className:eS()("notification_bell--redDotAndBellContainer--6eZoQ",{"notification_bell--bellRing--RWk0e":e.useAnimation&&e.hasNotifications,"notification_bell--redDotAndBellContainerActive--bHSAN":e.isActive})},ep.createElement(le.In,{icon:"bell-32"}),e.hasNotifications&&(e.seasonal?ep.createElement(dI,{redDotClassName:"notification_bell--seasonalRedDotPosition--FLROR"}):ep.createElement(dS,{redDotClassName:"notification_bell--redDotPosition---RAxj"})))}function dL(e){var t,a;let r;let n=(0,eg.d4)(e=>e.userNotifications),l=(0,tR.Pc)(),i=(0,e6.UP)(),s=(0,e6.kc)();r=i?!!s&&!!n.communityProfileBellStates[s.id]:!!(null==(a=null==(t=n.userBellStates)?void 0:t[l.id])?void 0:a[dk.td]);let o=!e.hideNotificationsOverride&&n&&r;return ep.createElement(dA,{hasNotifications:o,isActive:e.isActive,seasonal:!!(0,eh.kc)().notif_bell_seasonal,useAnimation:!!(0,eh.kc)().notif_bell_animation})}let dR="sidebar-user-notifications-dropdown";function dO(){let e=(0,eg.wA)(),t=(0,e6.UP)(),a=(0,eg.d4)((0,d_.E)(dR)),r=ep.useRef(null),n=(0,eg.d4)(e=>(0,dN.kY)(e));return ep.createElement("div",null,ep.createElement("button",{"data-onboarding-key":dE.Ro,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":n?(0,e$.t)("navbar.navbar.notifications_disabled_tooltip"):void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,ref:r,className:eT.cx.bRadius4.overflowHidden.flexShrink0.$,onClick:()=>{var t;let n=null==(t=r.current)?void 0:t.getBoundingClientRect();n&&!a&&(e(tL.j7({type:dR,data:{targetRect:n}})),(0,tn.sx)("notification_dropdown_opened",{source:"Web"}))},onMouseDown:dC.dG,disabled:n},ep.createElement(dL,{isActive:a,hideNotificationsOverride:a})),a&&ep.createElement(dk.IP,{containerClassName:"notifications--centerDropdown--R3Lp-",inCommunity:t}))}function dF({hideNotifications:e=!1}){let t=(0,e6.UP)(),a=(0,e6.kc)(),r=t&&!(0,e6.cJ)(a),n=!e&&!r&&(!(0,eh.kc)().file_browser_enable_mweb||!eb.nW);return ep.createElement("div",{className:eT.cx.justifyBetween.flex.flexRow.itemsCenter.pt8.ml8.mr8.mb8.lh0.$},ep.createElement(dx,null),n&&ep.createElement(dO,null))}var dM=a(598115),dD=a(322463),dP=a(742848),dB=a(667854);let dU=ep.forwardRef(function(e,t){let{disabled:a,onClick:r,onMouseDown:n,onKeyDown:l,icon:i,recordingKey:s,children:o,onFocus:c,onBlur:d,width:m="hug-contents","data-tooltip":u,"data-tooltip-type":_,"data-onboarding-key":p,dataTestId:g}=e,E=td.rf(s,"click",r||ev.lQ),f=s?E:r,h=td.rf(s,"mousedown",n||ev.lQ),v=s?h:n,b=ep.useCallback(e=>{var t;null!=(t=dP.j)&&t(e)||(null==l||l(e),e.keyCode===ou.Uz.ESCAPE&&e.currentTarget.blur())},[l]);return ep.createElement("button",{disabled:a,onClick:f,onMouseDown:v,onKeyDown:b,className:function({width:t,children:a}){let r=["text_button_with_background_color-tsx--buttonBase--aMiMh button--buttonBase---72nl",(0,dB.kx)(e.parentBackgroundColor)?"text_button_with_background_color-tsx--buttonTextForDarkBackground---DUZy":"text_button_with_background_color-tsx--buttonTextForLightBackground--5BUY7"];switch(a||r.push("text_button_with_background_color-tsx--withNoChildren--bAfQ9"),t){case"hug-contents":r.push("text_button_with_background_color-tsx--buttonHugContents--jzcD-");break;case"fill-parent":r.push("text_button_with_background_color-tsx--buttonFillParent--dy7qN")}return eS()(r)}({width:m,children:o}),onFocus:c,onBlur:d,ref:t,"data-tooltip":u,"data-tooltip-type":_,"data-onboarding-key":p,"data-testid":g},i&&ep.createElement("div",{className:"text_button_with_background_color-tsx--iconContainer--mtIlp"},ep.createElement(le.In,{icon:i})),o&&ep.createElement(du.E,{fontSize:11,fontWeight:"regular",truncate:!0},o))});function dW(e){let t=t=>{if(t.target instanceof HTMLInputElement)return;let a=eb.Ay.mac&&t.metaKey&&!t.shiftKey&&!t.altKey||eb.Ay.windows&&!t.metaKey&&!t.shiftKey&&t.altKey;eb.Ay.mac&&e.isLeftEnabled&&"["===t.key&&a?e.onLeftClick():eb.Ay.mac&&e.isRightEnabled&&"]"===t.key&&a?e.onRightClick():e.isLeftEnabled&&"ArrowLeft"===t.key&&a?e.onLeftClick():e.isRightEnabled&&"ArrowRight"===t.key&&a&&e.onRightClick()};ep.useEffect(()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}));let a={icon:"chevron-left-32",variant:"text",disabled:!e.isLeftEnabled,onClick:e.onLeftClick,dataTestId:"file-browser-desktop-navigation-chevrons-left"},r={icon:"chevron-right-32",variant:"text",disabled:!e.isRightEnabled,onClick:e.onRightClick,dataTestId:"file-browser-desktop-navigation-chevrons-right"};return e.parentBackgroundColor?ep.createElement("div",{className:eT.cx.flex.flexRow.$},ep.createElement(dU,{parentBackgroundColor:e.parentBackgroundColor,...a}),ep.createElement(dU,{parentBackgroundColor:e.parentBackgroundColor,...r})):ep.createElement("div",{className:eT.cx.flex.flexRow.$},ep.createElement(dD.$,{...a}),ep.createElement(dD.$,{...r}))}var dV=a(360678);let dG=ep.createContext({canGoBack:!1,canGoForward:!1,goBack:()=>{},goForward:()=>{}}),d$=()=>(0,dV.sR)(ep.useContext(dG),"Must be wrapped within <FileBrowserNavigationContext.Provider>");function dj(){let e=(0,tY.md)(dM.b);return!!eE.eD&&!e}function dH({parentBackgroundColor:e}){let{goBack:t,goForward:a,canGoBack:r,canGoForward:n}=d$();return ep.createElement(dW,{onLeftClick:t,onRightClick:a,isLeftEnabled:r,isRightEnabled:n,parentBackgroundColor:e})}function dq({parentBackgroundColor:e}){let[t,a]=ep.useState(0),[r,n]=ep.useState(0);return ep.useEffect(()=>eR.Cz.listen(()=>{"PUSH"===eR.Cz.action&&(a(e=>e+1),n(e=>e+1))}),[]),ep.createElement(dW,{onLeftClick:()=>{eR.Cz.goBack(),a(e=>e-1)},onRightClick:()=>{eR.Cz.goForward(),a(e=>e+1)},isLeftEnabled:t>0,isRightEnabled:t<r,parentBackgroundColor:e})}var dz=a(191504);let dY="community_nav_heading--titleText--k-KMb text--fontPos13--xW8hS text--_fontBase--QdLsd",dK="community_nav_heading--titleTextDisabled--83pxo",dJ="community_nav_heading--titleTextDesktopMargin--dhJKl";function dZ(){let e=(0,eg.wA)(),t=(0,s8.G)(),a=(0,ob.Li)()&&t;return ep.createElement("div",{className:eS()(dY,{[dK]:a,[dJ]:eE.eD}),onClick:()=>{(0,ob.Li)()?window.scrollTo({top:0,behavior:"smooth"}):e(tL.$T({view:"communityHub",subView:"landing",tab:null,category:dz.Li}))}},ep.createElement(e$.Tx,{id:"navbar.navbar.community_title"}))}var dQ=a(966134);function dX(e){return ep.createElement(dQ.L,{className:eT.cx.h48.$,...e})}function d0(){let e=(0,eg.wA)();return ep.createElement(dX,{onboardingKey:tX.vM,svg:rP.A,fallbackSvg:rB.A,enabled:!0,textStyle:eT.cx.font13.pl8.pr16.$,onClick:t=>{if(t.stopPropagation(),t.preventDefault(),(0,tn.sx)("community_browser_navbar_action_clicked"),t.metaKey)return;let a={view:"communityHub",subView:"searchAndBrowse",data:ob.On};e(tL.$T(a))}})}var d1=a(83066),d2=a(562450),d4=a(575457);let d3="community_universal_publish_button--publishContextAction--tVL00 action--root--VrwWJ chevron--chevronContainer--0MO2x";function d8(){let e=(0,eg.wA)(),t="CommunityUniversalPublishButtonTooltipKey",a=(0,tR.Pc)(),r=(0,eg.d4)(e=>!e.currentUserOrgId||!!(0,e6.Tm)(e)[e.currentUserOrgId]),[n,l]=ep.useState(!1),i=ep.useRef(),s=(0,d2._6)();return r?ep.createElement("div",{className:d3},ep.createElement("div",{className:"subView"in s&&("hubFile"===s.subView||"plugin"===s.subView||"widget"===s.subView)?"community_universal_publish_button--publishButton__DARK---hRGw community_universal_publish_button--publishButton--DVld4":"community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0,onClick:()=>{(0,tn.sx)("community_publish_modal",{user:a.id,step:d1.M.OPENED}),e(e0.to({type:d4.R,data:{source:tv.Zm.NAVBAR}}))}},ep.createElement(e$.Tx,{id:"navbar.navbar.publish_button_label"}))):ep.createElement("div",{className:d3,"data-onboarding-key":t,onMouseEnter:()=>{i.current&&clearTimeout(i.current),l(!0)},onMouseLeave:()=>{i.current=setTimeout(()=>l(!1),300)}},ep.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--Q-O8h community_universal_publish_button--publishButton--DVld4",role:"button",tabIndex:0},ep.createElement(e$.Tx,{id:"navbar.navbar.publish_button_label"})),n&&ep.createElement(t2.NJ,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--TsDUX pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:t1.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"navbar.navbar.disabled_publish_button_label"}))))}var d5=a(68436),d6=a(396429),d9=a(495556),d7=a(205663),me=a(846755),mt=a(391758);function ma(e){let t=(0,eg.wA)(),a=(0,tR.Pc)(),r=(0,eg.d4)(e=>e.userNotifications.userBellStates),n=(0,eg.d4)(e=>e.userNotifications.communityProfileBellStates),l=(0,eg.d4)(e=>e.selectedView.view),[i,s]=(0,ep.useState)(new Map),[o,c]=(0,ep.useState)(!0);(0,tz.h)(()=>{c(!0),m()});let d=e=>{let t=new Map;e.forEach(e=>{t.set(e.notification_id,e)}),s(t),c(!1)},m=(0,s5.s)(()=>{var i;if(e.inCommunity){if(a&&a.community_profile_id){if(n[a.community_profile_id]){let e={isBellStateHigh:!1,userInitiated:!0,profileId:a.community_profile_id};t((0,d9.X2)(e))}d7.s.getCommunityServerDriven({currentView:l}).then(({data:e})=>{d(e.meta)}).catch(e=>{t(t6.F.enqueue({message:(0,e$.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),t(tL.oB())})}}else{let n=e.currentOrgId,s=n||d6.JG;if(a&&(null==(i=null==r?void 0:r[a.id])?void 0:i[s])){let e={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:s,userId:null==a?void 0:a.id};t((0,d9.Zo)(e))}d7.s.getServerDriven({currentOrgId:n||"",currentView:l}).then(({data:e})=>{d(e.meta)}).catch(e=>{t(t6.F.enqueue({message:(0,e$.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),t(tL.oB())})}},800,!0);return ep.createElement("div",{className:e.containerClassNameOverride?e.containerClassNameOverride:eS()(0!==i.size||o?mt.P2:mt.pg,e.containerClassName,{[mt.Uz]:e.arrowRight}),onMouseDown:e=>{e.stopPropagation()}},ep.createElement(mr,{notifications:[...i.values()],title:e.title,isFetchingNotifications:o,inCommunity:e.inCommunity,fillParent:e.fillParent,showHeaderOnlyWhenUnread:e.showHeaderOnlyWhenUnread,updateNotificationCallback:(e,t)=>{s(new Map(i.set(e,t)))},containerClassNameOverride:e.containerClassNameOverride,titleFn:e.titleFn,markAllAsReadFn:()=>{let a=e.inCommunity?"/api/user_notifications/community/mark_read":"/api/user_notifications/mark_read",r={current_org_id:e.currentOrgId,currentView:l,source:eE.S8?"desktopbell":"web"};ae.Ay.post(a,r).then(()=>{s(new Map(Array.from(i,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{t(t6.F.enqueue({message:(0,e$.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})}}),e.renderDropdownChevron&&ep.createElement("div",{className:mt.ix},ep.createElement("div",{className:mt.Pu})))}function mr(e){let t=()=>!e.isFetchingNotifications&&0!==e.notifications.length&&e.notifications.some(e=>e.is_unread);return ep.createElement(ep.Fragment,null,(!e.showHeaderOnlyWhenUnread||t())&&ep.createElement("div",{className:mt.wx,onClick:e=>{e.stopPropagation()}},ep.createElement("div",{className:mt.O9},e.title||e.titleFn&&e.titleFn(e.notifications)||(0,e$.t)("user_notifications.notifications")),t()&&ep.createElement(eI.N_,{onClick:e.markAllAsReadFn,className:mt.nf,trusted:!0},ep.createElement(e$.Tx,{id:"user_notifications.dropdown.mark_all_as_read"}))),e.isFetchingNotifications?ep.createElement("div",{className:mt.g4},ep.createElement(e8.kt,null)):0===e.notifications.length?ep.createElement("div",{className:mt.OL},ep.createElement(e$.Tx,{id:"user_notifications.dropdown.no_notifications"})):ep.createElement(ac.P,{className:`${e.fillParent?"":mt.jG}`},ep.createElement("div",null,e.notifications.map((t,a)=>ep.createElement(me.r,{key:a,notification:t,updateNotificationCallback:e.updateNotificationCallback})))))}var mn=a(279006);let ml="navbar-user-notifications-dropdown";function mi(){var e,t;let a=(0,eg.wA)(),r=(0,eg.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===ml}),n=(0,tR.Pc)(),l=(0,eg.d4)(e=>(0,d5.Pt)(e)),i=(0,eg.d4)(e=>e.userNotifications),s=(0,eg.d4)(e=>e.currentUserOrgId),o=(0,eg.d4)(e=>e.orgById),c=(0,eg.d4)(e=>e.userStateLoaded),d=(0,e6.UP)(),m=(0,e6.kc)(),u=(0,eg.d4)(e=>(0,dN.kY)(e)),_=!1;if(d)m&&(_=i&&!r&&!!i.communityProfileBellStates[m.id]);else{let a=s||d6.JG;_=i&&!r&&!!(null==(t=null==(e=i.userBellStates)?void 0:e[n.id])?void 0:t[a])}return ep.createElement("div",{"data-onboarding-key":dE.Ro,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":u?(0,e$.t)("navbar.navbar.notifications_disabled_tooltip"):void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ep.createElement("div",{className:u?"notification_button--disabledMainRedDotAndTopBarActionContainer--amipL notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns":"notification_button--mainRedDotAndTopBarActionContainer--vWJzZ red_dot--redDotAndIconContainer--6eFns"},ep.createElement(dX,{enabled:c,svg:mn.A,svgStyle:_&&(0,eh.kc)().notif_bell_animation&&"notification_button--bellRing--YE7yB"||void 0,onClick:()=>{if(r){a(tL.oB());return}a(tL.j7({type:ml})),(0,tn.sx)("notification_dropdown_opened",{source:"Web"})}},_&&((0,eh.kc)().notif_bell_seasonal?ep.createElement("div",{className:"notification_button--seasonalNotificationRedDot--ccYlF"},"\u2764\uFE0F"):ep.createElement("div",{className:"notification_button--mainNotificationRedDot--OgWnZ red_dot--baseRedDot--AZelu"}))),r&&ep.createElement("div",{className:"notification_button--notificationsDropdownContainer--nnjAP"},ep.createElement(ma,{currentOrgId:s,orgById:o,inCommunity:d,title:l,arrowRight:!0}))))}var ms=a(209319);let mo=(0,tZ.r1)(tX.PY);function mc(){let e=(0,tY.md)(dp.GQ),t=(0,tY.md)(mo),a=(0,tJ.e)({overlay:t4.c6t,priority:tQ.N.SECONDARY_MODAL},[t]);return(0,tz.h)(()=>{e&&a.show({canShow:e=>!e})}),(0,tK.E)(a.uniqueId,[lM.W_.PROFILE_ADMIN_MENU_OPEN,"Lost DOM Target"],()=>{a.isShowing&&a.complete()}),ep.createElement(o7.h,{isShowing:a.isShowing,trackingContextName:"Community Profile Admin Dropdown Pointer",element:tX.J6,userFlagOnShow:tX.PY,modalType:ce.q3.SELF_CONTAINED,onClickPrimaryCta:ev.lQ,onClose:a.complete,onManualDismiss:a.complete})}function md(){return ep.createElement(ep.Fragment,null,ep.createElement(tq.p,null,ep.createElement(mc,null)))}var mm=a(531987),mu=a(783423);function m_(){let e=(0,eg.wA)(),t=(0,e6.kc)(),a=(0,eg.d4)(e=>(0,ms.m)(e,e.authedActiveCommunityProfile)),r=(0,eg.d4)(e=>e.selectedView.view),n=ep.useRef(null),l=(0,eg.d4)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===mm.hL});return t?ep.createElement(eH.fu,{name:"community-profile-admin-dropdown"},ep.createElement("div",{className:"profile_admin_context--profileContextAction--C2jJh action--root--VrwWJ chevron--chevronContainer--0MO2x",onClick:()=>{var t;let a=null==(t=n.current)?void 0:t.getBoundingClientRect();a&&!l&&((0,e6.nR)("toolbar",r),e(tL.j7({type:mm.hL,data:{targetRect:a}})))}},ep.createElement("div",{className:"profile_admin_context--profileContextDropdown---KKRL"},(0,e6.cs)(t)?ep.createElement(e$.Tx,{id:"navbar.navbar.browse_as_community_profile",activeCommunityProfile:a}):ep.createElement(e$.Tx,{id:"navbar.navbar.browse_as_admin"}),ep.createElement("div",{className:"profile_admin_context--profileContextChevron--ntSvM profile_admin_context--chevronContainer--MDHO4","data-onboarding-key":tX.T2,ref:n},ep.createElement(eL.B,{className:"profile_admin_context--profileChevronIcon--W9t-M",svg:mu.A}))),ep.createElement(mm.Lo,null),ep.createElement(md,null))):null}function mp(e){let t=(0,e6.kc)(),a=!e.inCommunity,r=(0,da.R)(600),n=(0,eg.d4)(e=>"search"===e.selectedView.view),l=(0,eg.d4)(e=>Object.keys((0,e6.Tm)(e)).length+Object.keys((0,e6.eg)(e,e.user.id)).length>0);return ep.createElement("div",{className:eT.cx.flex.itemsCenter.flexRow.$},e.searchComponent&&e.searchComponent,e.inCommunity&&!(0,eh.kc)().cmty_deprecate_browse_as_admin&&(!e.isMobile||!r)&&l&&ep.createElement(m_,null),e.inCommunity&&!e.isMobile&&!!t&&!n&&ep.createElement(d8,null),!e.inCommunity&&ep.createElement(d0,null),a&&ep.createElement(mi,null))}let mg="navbar--searchComponentContainer--pubuF";var mE=a(257818),mf=a(440248);function mh({CommunityHeadingComponent:e=dZ,SearchComponent:t=dc.vd}){let a=(0,e6.UP)(),r=!!eE.eD,n=(0,ll.N)(`(max-width: ${aE._C6})`),l=ov(),i=(0,eg.d4)(e=>e.communityHub.showingCommunityAdminBanner),[s,o]=(0,tY.fp)(ds.A),c=ep.useRef(null);ep.useLayoutEffect(()=>{var e;o(null==(e=c.current)?void 0:e.getBoundingClientRect())},[o]);let[d,m]=ep.useState(!1),u=ep.createElement(ep.Fragment,null,d?ep.createElement("div",{className:eS()(mg,"navbar--searchComponentWidthOverride--pGpOv")},ep.createElement(t,{isMobile:n})):ep.createElement("button",{onClick:()=>m(!0)},ep.createElement(eL.B,{svg:n?mE.A:mf.A,style:{fill:(0,c4.TD)("default")}})));return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"navbar--navbarContainer--TcAQk"},ep.createElement("div",{className:"navbar--leftNav--8v0ZB"},ep.createElement("div",{className:"navbar--accountAndNotificationsContainer--CQt6v"},ep.createElement(dF,{hideNotifications:n})),a&&ep.createElement(ep.Fragment,null,r&&ep.createElement("div",{className:"navbar--navigationChevronsContainer--7KQiM"},ep.createElement(dq,null)),"show-mobile"===l?ep.createElement(dt,null):ep.createElement("div",{className:"navbar--communityHeadingContainer--L4G5H"},ep.createElement(e,null)))),"show-desktop"===l&&ep.createElement(dr,null),"show-desktop"!==l&&!n&&ep.createElement("div",{className:mg},ep.createElement(t,{isMobile:n})),ep.createElement("div",{className:"navbar--rightActions--bGoir"},ep.createElement(mp,{inCommunity:a,profileEntryRef:c,searchComponent:ep.createElement(ep.Fragment,null,"show-desktop"===l&&u,"show-desktop"!==l&&n&&ep.createElement(t,{isMobile:n})),isMobile:n}))),a&&i&&ep.createElement(di,null))}var mv=a(240390),mb=a(658799),my=a(195002),mw=a(109044),mT=a(143987),mx=a(711921);function mC(){return ep.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),ep.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),ep.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),ep.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),ep.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}var mN=a(634809),mk=a(227998);function mS({onLoginClick:e=()=>(0,eJ.FL)(mb.qB.SIGN_IN,{preventDefaultRedirect:!0}),onSignUpClick:t=()=>(0,eJ.FL)(mb.qB.SIGN_UP)}){let a=ep.useRef(null),r=(0,da.R)((0,ti.jz)(aE.wOr)),n=(0,ob.wl)(location.pathname),l=(0,of.OE)(n),[i,s]=ep.useState(!1),[o,c]=ep.useState(l?n.query:""),d=r?mf.A:mE.A,[m,u]=ep.useState(!1),_=ep.useCallback(()=>{c("")},[]),p=ov(),g=(0,mT.Sc)(),E=(0,eh.kc)().exp_google_one_tap_v2&&(0,mw.XN)(g),f="show-desktop"===p?(0,e$.t)("community.search.placeholder"):(0,e$.t)("community.search.placeholder.search_for_a_resource"),h="show-desktop"!==p||m?ep.createElement("div",{className:"community_logged_out_nav--searchBox--bE4Wh",tabIndex:0,onFocus:()=>{null!==a.current&&a.current.focus()}},ep.createElement(eL.B,{svg:d}),ep.createElement("div",{key:""+r,className:r?"community_logged_out_nav--inputBoxMobile--p4YRd community_logged_out_nav--inputBox--Te-W7":"community_logged_out_nav--inputBox--Te-W7"},ep.createElement("input",{value:o,type:"text",placeholder:f,ref:a,onKeyUp:e=>{13===e.keyCode&&((0,tn.sx)("search_enter_search_view_via_enter",{entry_point:"fastma"}),location.href=(0,ob.Mc)({...ob.qd,query:e.target.value.trim()}))},onChange:e=>c(e.target.value),onFocus:()=>{i||((0,tn.sx)("search_start",{entry_point:"fastma"}),s(!0))},required:!0}),!!o.length&&ep.createElement("div",{tabIndex:0,role:"button","aria-label":(0,e$.t)("community.search.clear"),className:"community_logged_out_nav--closeButton--F5gRH community_logged_out_nav--_button--NRif5",onClick:()=>{c("")}},ep.createElement(eL.B,{svg:mk.A})))):ep.createElement("div",{className:eT.cx.wFull.flex.justifyEnd.$,onClick:()=>{u(!0)},role:"button",tabIndex:0},ep.createElement(eL.B,{svg:d})),v="show-desktop"===p&&window.innerWidth>800,b=ep.createElement(oy.ms,{className:"community_logged_out_nav--searchInputDropdownWrapper--fLHQF dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",preview:o&&!l&&window.innerWidth>800&&ep.createElement(oj,{query:o,context:of.PF.NAV,width:v?"small":void 0,clearSearchInput:_}),disableRepositioning:!0},"show-desktop"!==p&&h,"show-desktop"===p&&ep.createElement("div",{className:eT.cx.flex.flexRow.justifyEnd.$},ep.createElement("div",{className:eT.cx.flex.alignCenter.$,style:{minWidth:m?220:0}},h)));return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"community_logged_out_nav--nav--HVdRr"},ep.createElement("div",{className:eT.cx.hidden.$},Array.from(i0().values()).filter(e=>"more"!==e).map(e=>ep.createElement("a",{key:e,href:`/community/category/${e}`},e))),E&&ep.createElement("div",{className:"community_logged_out_nav--oneTapContainer--rzpp4"},ep.createElement(mx.P,{origin:my.DT.COMMUNITY_FASTMA,iFrameHandler:e=>{(0,eJ.FL)(),(0,eJ.I9)({name:my.aL,userInfo:e,redirectUrl:ef.Ay.location.pathname,origin:my.DT.COMMUNITY_FASTMA})}})),ep.createElement("div",{className:eT.cx.absolute.colorBg.zIndexMinus1.wFull.h48.bSolid.colorBorder.bb1.$}),ep.createElement("div",{className:eT.cx.flex.flexRow.mr4.$},ep.createElement("div",{className:"community_logged_out_nav--logoLinkWrapper--a02iE"},ep.createElement("a",{href:"/"},ep.createElement(mC,null))),"show-mobile"===p?ep.createElement("div",{className:eT.cx.flex.itemsCenter.$},ep.createElement(dt,null)):ep.createElement("a",{href:"/community",className:"community_logged_out_nav--navCommunityText--WlcfX text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(eL.B,{svg:mN.A}),(0,e$.t)("community.community"))),ep.createElement("div",{className:"community_logged_out_nav--navbarCategorySearchContainer--eOYmR"},"show-desktop"===p&&ep.createElement("div",{className:eT.cx.hFull.flex1.$}),"show-desktop"===p&&ep.createElement(dr,null),ep.createElement("div",{className:"show-desktop"===p?eT.cx.flex1.hFull.flex.justifyEnd.$:eT.cx.flex1.hFull.flex.justifyCenter.$},"show-desktop"===p?ep.createElement("div",null,b):b)),ep.createElement("div",{className:"community_logged_out_nav--authButtonContainer--RMKTV"},ep.createElement(lF.Ay,{mediaQuery:"(min-width: 601px)"},ep.createElement(eH.$z,{className:"community_logged_out_nav--logInButton---e3KN community_logged_out_nav--_button--NRif5 text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:o3.c.LOGGED_OUT_NAV_LOGIN},onClick:e,type:"button"},(0,e$.t)("community.signed_out_modal.log_in"))),ep.createElement(eH.$z,{className:"community_logged_out_nav--signUpButton--nn73B text--fontPos11--2LvXf text--_fontBase--QdLsd community_logged_out_nav--_button--NRif5",onClick:t,trackingProperties:{trackingDescriptor:o3.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,e$.t)("community.signed_out_modal.sign_up")))))}var mI=a(188912);function mA(){let e=(0,eg.wA)();return ep.createElement(mS,{onLoginClick:()=>{if(eb.rr){window.location.href="/login";return}let t=(0,e$.t)("community.signed_out_modal.log_in");e(mv.I.init({origin:"community_hub_signed_out_top_bar",formState:mb.qB.SIGN_IN,redirectUrl:window.location.href})),e(e0.to({type:mI.x,data:{headerText:t}}))},onSignUpClick:()=>{if(eb.rr){window.location.href="/signup";return}let t=(0,e$.t)("community.signed_out_modal.create_an_account_to_join_the_figma_community");e(mv.I.init({origin:"community_hub_signed_out_top_bar",formState:mb.qB.SIGN_UP,redirectUrl:window.location.href})),e(e0.to({type:mI.x,data:{headerText:t}}))}})}function mL(){return(0,iZ.M)()?ep.createElement(mh,{SearchComponent:oQ,CommunityHeadingComponent:mO}):ep.createElement(mA,null)}function mR(){let e=(0,eN.W6)(),t=(0,ob.UH)(),a=t&&(0,ob.Jk)(t),r=(0,eg.wA)(),n=(0,eZ.o5)({isLoggedOut:!1}),l=(0,th.S)(),i=a?void 0:null==l?void 0:l.searchSessionId;return t?ep.createElement("div",null,ep.createElement(a?c2:c1,{view:t,history:e,dispatch:r,searchSessionId:i,isFooterEnabled:n})):(console.warn("This should never happen: ReactRouterFeedView called without a view."),null)}function mO(){let e=(0,eN.zy)(),t=(0,s8.G)(),a=()=>(0,ob.Li)(e.pathname)&&t,[r,n]=ep.useState(a());return ep.createElement(r4.N_,{to:"/community",onMouseEnter:e=>{n(a())},className:eS()(dY,{[dK]:r,[dJ]:!!eE.eD}),onClick:a=>{(0,ob.Li)(e.pathname)&&!t&&(window.scrollTo({top:0,behavior:"smooth"}),a.preventDefault())}},ep.createElement(e$.Tx,{id:"navbar.navbar.community_title"}))}let mF=(0,eg.Ng)(null,e=>({dispatch:e}))(({shouldUseReactRouterCommunityNavbar:e})=>{let t=(0,eg.Pj)();return ep.createElement(s3,{store:t,FeedView:mR,Navbar:e?mL:function(){return null}})});function mM(e){return"communityHub"!==e.view?{content:ep.createElement(mF,{shouldUseReactRouterCommunityNavbar:!1}),key:"searchAndBrowse"}:"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView?{content:ep.createElement(mF,{shouldUseReactRouterCommunityNavbar:mD(e.subView)}),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:"handle"===e.subView?(0,eh.kc)().cmty_profile_in_react_router?{content:ep.createElement(mF,{shouldUseReactRouterCommunityNavbar:mD(e.subView)}),key:"searchAndBrowse"}:{content:ep.createElement(rX,{handle:e.handle,on404Redirect:()=>{ef.Ay.redirect("/404")}}),key:`handle-${e.handle}`}:(0,eC.xb)(e)}function mD(e){return"handle"===e?!0===(0,eh.kc)().cmty_profile_in_react_router:["plugin","widget","hubFile","searchAndBrowse"].includes(e)}var mP=a(58898),mB=a(864029),mU=a(169732),mW=a(272679),mV=a(36615),mG=a(45323),m$=a(150577),mj=a(111359),mH=a(206802),mq=a(468499),mz=a(396374),mY=a(915717),mK=a(446366),mJ=a(59717),mZ=a(419283);function mQ(){return ep.createElement("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{x:"103.455",y:"104.493",width:"45.149",height:"57.7907",transform:"rotate(-180 103.455 104.493)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M62.927 51.7129L62.1419 53.2707C61.4075 54.7277 59.9255 55.6452 58.3065 55.6452L58.3065 69.0602L64.7265 69.0602C67.2802 69.0602 69.5893 67.5161 70.6011 65.1319L70.9455 64.3203C72.3165 61.0896 76.1951 59.8592 79.1294 61.7241L79.5218 61.9734C82.025 63.5643 85.327 62.7225 86.7961 60.119C89.265 55.7436 95.7823 57.0264 96.4672 62.0225L96.9648 65.6525C97.4083 68.888 100.242 71.296 103.455 71.296L103.455 55.6452L96.8671 55.6452C94.4158 55.6452 92.1537 54.3148 90.9442 52.1618C88.8389 48.414 83.8779 47.5225 80.6213 50.3066L76.8062 53.5682C74.6876 55.3794 71.4363 54.587 70.3692 51.9993C69.0244 48.7384 64.5137 48.5648 62.927 51.7129Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M70.969 64.2606L70.5915 65.1502C69.5855 67.5209 67.2596 69.0605 64.6843 69.0605L58.3047 69.0605L58.3047 80.6868L59.0581 80.6868C61.8922 80.6868 64.4545 82.4015 65.5755 85.0483C68.0796 90.9608 76.3675 90.8321 78.6928 84.8445L81.4653 77.7057L83.2017 74.2078C85.6215 69.3331 92.6778 68.6256 94.878 73.6067C96.5009 77.2807 99.7887 77.7057 103.453 77.7057L103.453 71.2963L103.375 71.2963C100.144 71.2963 97.4095 68.9109 96.9707 65.71L96.4577 61.9683C95.7824 57.0421 89.2361 55.7916 86.7926 60.1221C85.331 62.7123 81.9965 63.5476 79.4863 61.9524L79.1249 61.7227C76.206 59.8677 72.3201 61.0769 70.969 64.2606Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M81.0219 99.533L79.6441 97.4163C76.9124 93.2197 71.1826 92.2439 67.2157 95.2996C65.7149 96.4558 63.8736 97.0828 61.9791 97.0828L58.3047 97.0828L58.3047 80.6867L59.0582 80.6867C61.8922 80.6867 64.4545 82.4014 65.5755 85.0482C68.0796 90.9607 76.3675 90.832 78.6928 84.8445L81.4653 77.7056L83.2017 74.2077C85.6215 69.333 92.6799 68.6133 94.9513 73.7556C96.5742 77.4297 100.155 77.7056 103.453 77.7056L103.453 104.493L92.1662 104.493L90.1686 104.493C86.4771 104.493 83.0358 102.627 81.0219 99.533Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{x:"83.0745",y:"118.4",width:"35.3785",height:"4.67714",transform:"rotate(90 83.0745 118.4)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M86.9636 118.4L91.536 118.4L110.994 153.778L106.422 153.778L86.9636 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M74.513 118.4L69.9405 118.4L50.4824 153.778L55.0549 153.778L74.513 118.4Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M93.7464 118.715L67.7302 118.715L67.7302 114.175L93.7464 114.175V118.715Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{x:"82.8342",y:"28.2712",width:"4.54023",height:"4.54023",transform:"rotate(90 82.8342 28.2712)",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M88.4946 32.7V37.2402L72.9817 37.2402L72.9817 32.7L88.4946 32.7Z",fill:"#F24E1E",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 125.778 29.3333)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{width:"5.92593",height:"5.92593",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 41.9258 116.148)",fill:"white",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("rect",{x:"-0.37037",y:"0.37037",width:"83.0506",height:"86.183",transform:"matrix(-1 1.74846e-07 1.74846e-07 1 122.039 32.2269)",stroke:"var(--color-icon)","stroke-width":"0.740741"}),ep.createElement("path",{d:"M140.148 103.224L140.518 103.224L140.518 102.854L140.518 93.7686L140.518 93.3982L140.148 93.3982L115.23 93.3982L114.86 93.3982L114.86 93.7686L114.86 102.854L114.86 103.224L115.23 103.224L140.148 103.224ZM109.545 85.8149L108.838 85.3945L108.992 86.2029L110.247 92.7643L110.43 93.7206L110.929 92.8845L112.359 90.4889L114.976 89.7712L115.816 89.5407L115.067 89.0956L109.545 85.8149Z",fill:"#699BF7",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),ep.createElement("path",{d:"M19.9334 88.4856L19.563 88.4856L19.563 88.1153L19.563 79.0303L19.563 78.6599L19.9334 78.6599L44.8509 78.6599L45.2212 78.6599L45.2212 79.0303L45.2212 88.1153L45.2212 88.4856L44.8509 88.4856L19.9334 88.4856ZM50.5359 71.0766L51.2435 70.6562L51.0889 71.4646L49.8339 78.026L49.651 78.9823L49.1521 78.1462L47.7225 75.7506L45.1054 75.0329L44.2649 74.8025L45.0141 74.3573L50.5359 71.0766Z",fill:"#0FA958",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}),ep.createElement("path",{d:"M60.0677 5.49226L59.6973 5.49226L59.6973 5.86263L59.6973 14.9476L59.6973 15.318L60.0677 15.318L84.9851 15.318L85.3555 15.318L85.3555 14.9476L85.3555 5.86263L85.3555 5.49226L84.9851 5.49226L60.0677 5.49226ZM90.6702 22.9013L91.3778 23.3216L91.2232 22.5133L89.9682 15.9519L89.7853 14.9956L89.2864 15.8317L87.8568 18.2273L85.2396 18.945L84.3992 19.1754L85.1484 19.6206L90.6702 22.9013Z",fill:"#FFC700",stroke:"var(--color-icon)","stroke-width":"0.740741","stroke-linecap":"square"}))}function mX(e){return ep.createElement(eH.fu,{name:"Continue Duplication after Verification Modal"},ep.createElement(sn.XV,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose},ep.createElement("div",{className:eT.cx.mxAuto.$},ep.createElement(mQ,null)),ep.createElement("h1",{className:"continue_after_verification--title---5Cuw"},ep.createElement(e$.Tx,{id:"community.duplicate_modal.youre_all_set"})),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"community.duplicate_modal.youve_verified_your_email_at",userEmail:ep.createElement("b",null,e.userEmail)})),ep.createElement(eI.LA,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:o3.c.CONTINUE_TO_FILE}},ep.createElement(e$.Tx,{id:"community.duplicate_modal.continue_to_file"}))))}let m0=(0,am.Ju)(function(e){let t=(0,eg.d4)(e=>{var t;return null==(t=e.user)?void 0:t.email}),a=(0,eg.wA)(),r=(0,eg.d4)(t=>t.hubFiles[e.hubFileId]),n=e1.mC(tI.ts.loadingKeyForPayload({hubFileId:e.hubFileId})),l=(0,d2._6)(),i=()=>{a(e0.Ce())};return(ep.useEffect(()=>{r||a(tI.ts({hubFileId:e.hubFileId}))},[a,r,e.hubFileId]),n)?t&&(r||!n)?ep.createElement(mX,{onClose:i,userEmail:t,onDuplicateClick:()=>{a(rc.b({signed_up_from_community:!0}));let t=mz.M.onDuplicateHubFile(e=>{a((0,e0.to)({type:mY._,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});i(),a(t(r)),new URLSearchParams(ef.Ay.location.search).has(lM._O)&&a(tL.$T({...l,triggerFreemiumPreview:void 0}))}}):(i(),null):null},"ContinueAfterVerificationModal");var m1=a(727520),m2=a(887348),m4=a(633163),m3=a(639781),m8=a(764151),m5=a(407492),m6=a(563858);function m9({index:e}){let t=(0,eg.d4)(e=>!!e.payment.promo);return ep.createElement("div",{className:"team_creation_breadcrumbs--stepBreadcrumbs--oSUJJ step_breadcrumb--stepBreadcrumbs--E4Woe"},ep.createElement(m6.On,{selected:1===e,number:1,text:(0,e$.t)("team_creation.name_your_team")}),ep.createElement(m6.On,{selected:2===e,number:2,text:(0,e$.t)("team_creation.add_team_members")}),!t&&ep.createElement(m6.On,{selected:3===e,number:3,text:(0,e$.t)("team_creation.finish_setup")}))}let m7=(0,eH.tf)(function(e){return ep.createElement("div",{onClick:e.onClick},e.children)});function ue(e){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"full_width_page--closeMenu--2t7Eb"},e.menu),ep.createElement("div",{ref:e.pageRef,className:"full_width_page--fullWidthPage--I9-JZ overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",...e}))}let ut="add_collaborators--emailListItem--47Ymn";var ua=a(630834);function ur(e){let[t,a]=ep.useState(["","",""]),r=e.teams[e.selectedView.teamId],n=(0,eg.wA)(),l=(0,eh.kc)().ps_benchmark,i=(0,tR.TA)(),s=ep.useCallback(()=>{if(r){let e={view:"team",teamId:r.id};if(l&&i){let t={userId:i,teamId:r.id,orgId:null};n(mB._l({workspace:t,view:e}))}else n(tL.$T(e))}},[n,r,i,l]),o=ep.useCallback((e,r)=>{if(r>=t.length)return;let n=[...t];n[r]=e,a(n)},[t]),c=ep.useCallback(()=>{a([...t,""])},[t]),d=ep.useCallback(()=>{let t=!!e.teamCreation.isEduTeam;e.payment.promo?n(m4.g_({teamId:r.id,teamName:r.name,previousView:{view:"team",teamId:r.id}})):t?n(m2.Vm({teamId:r.id,showBreadcrumbs:!0})):n(tL.$T({view:"teamUpgrade",teamFlowType:e2.SC.UPGRADE_EXISTING_TEAM,teamId:r.id,paymentStep:mq.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:r.id},planType:e2.Sc.TEAM}))},[n,r,e.payment.promo,e.teamCreation.isEduTeam]),m=ep.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),u=ep.useCallback(()=>{n((0,m8.rq)({emails:m(),resourceType:lB.vt.TEAM,resourceIdOrKey:r.id,level:m5.e.EDITOR,onSuccess:()=>{n(m3.r1({loading:!1})),d()}}))},[m,r,d,n]);return ep.createElement(eH.fu,{name:"Add Collaborators",properties:{teamId:null==r?void 0:r.id}},ep.createElement("div",null,ep.createElement(ue,{menu:ep.createElement(m7,{onClick:s},ep.createElement(eL.B,{svg:ua.A,className:"add_collaborators--modalCloseX--q-kpi"}))},ep.createElement(m9,{index:2}),ep.createElement(m6.JR,null,ep.createElement(e$.Tx,{id:"team_creation.add_your_collaborators"})),ep.createElement(m6.Kh,null,ep.createElement(e$.Tx,{id:"team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up"})),ep.createElement("div",{className:"add_collaborators--formContainer--C-iq0"},ep.createElement("div",{className:"add_collaborators--emailInputsContainer--8M7pc"},t.map((e,t)=>ep.createElement(eI.il,{key:`collaborator-email-input-${t}`,className:ut,value:e,onChange:e=>o(e.target.value,t),maxLength:255,placeholder:(0,e$.t)("team_creation.email")}))),ep.createElement(eI.nR,{className:ut,onClick:c},ep.createElement(e$.Tx,{id:"team_creation.add_another"})),ep.createElement("div",{className:"add_collaborators--spacing--ODn5D"}),ep.createElement("div",{className:"add_collaborators--ctaContainer--7S-6n"},ep.createElement(eI.nD,{disabled:0===m().length,onClick:u,trackingProperties:{numCollaborators:m().length}},ep.createElement(e$.Tx,{id:"team_creation.continue"})),ep.createElement(eI.Ph,{onClick:d,trusted:!0},ep.createElement(e$.Tx,{id:"team_creation.skip_for_now"})))))))}var un=a(304566),ul=a(757850),ui=a(280576),us=a(636864),uo=a(402243),uc=a(689656),ud=a(948407),um=a(545021),uu=a(282671),u_=a(948471),up=a(993700),ug=a(167198);let uE=["recentFiles","folder","team","search","recentsAndSharing"];function uf(){let e=(0,eg.d4)(e=>e.autosave),t=(0,tY.md)(dM.b),a=(0,d2._6)(),r=(0,um.FC)(),n=(0,lD.ud)(),l=(0,ul.wK)(),i=(0,uo._S)((0,uo.vn)((0,uo.QM)(e.unclaimedFilesWithChangesInIDB,r),n),n),s=e.unclaimedFilesCreatedOffline;return t||!l&&(0,eh.kc)().fb_offline_notification||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(i.length>0||e.unclaimedFilesCreatedOffline.length>0)&&uE.includes(a.view)?ep.createElement(uv,{unsyncedFiles:i,localUnsyncedFiles:s}):null}let uh=!1;function uv(e){let t=(0,eg.wA)();ep.useEffect(()=>{let e=()=>{t(mP.Jw())};return ud.hp.register(ud.a,e),function(){ud.hp.unregister(ud.a,e),t(e0.ES({type:ui.EO.type}))}},[t]);let a=(0,d2._6)(),[r,n]=ep.useState(!1);ep.useEffect(()=>{uh||(uh=!0,(0,un.Mw)()),r||(n(!0),(0,tn.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:a.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,r,a]);let l=(0,tR.iZ)(),i=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===i.length||!l)return ep.createElement(ep.Fragment,null);let s=i.length>1,o=i[0],c=(0,uc.y8)(o)?o.file.name:o.name,d=c.length>40?c.substring(0,40)+"\u2026":c,m=s?(0,e$.t)("autosave.notification.message.more_than_one_file"):(0,e$.t)("autosave.notification.message.one_file",{fileName:d}),u=s?ep.createElement(e$.Tx,{id:"autosave.notification.action_review"}):ep.createElement(e$.Tx,{id:"autosave.notification.action_open_to_sync"});return ep.createElement("div",{className:"autosave_notification--notification--ToLsu text--_negText--j9g-L"},ep.createElement(eL.B,{className:"autosave_notification--icon--wxeC6",svg:ug.A,width:"24",height:"24"}),ep.createElement("div",{className:"autosave_notification--message--8xxqE"},m),ep.createElement("div",{className:"autosave_notification--actions--Gv7Zu"},ep.createElement("div",{className:"autosave_notification--mainAction--O74k6 autosave_notification--action--jhiAG",onClick:()=>{s?t(e0.to({type:ui.EO})):(0,uc.y8)(o)?ef.Ay.redirect((0,uu.r1)(o.file,!0),"_blank"):t(us.NA({file:o,openNewFileIn:up.ai.NEW_TAB,source:u_.U.AUTOSAVE_NOTIFICATION}))}},u),ep.createElement("div",{className:"autosave_notification--action--jhiAG",onClick:()=>{(0,tn.sx)("Autosave Notification Snooze",{files:i.length,firstFile:o.fileKey}),t(mP.zE(Date.now()))}},ep.createElement(e$.Tx,{id:"autosave.notification.action_later"}))))}var ub=a(123411),uy=a(391315),uw=a(231043);let uT=e=>{let t=(0,eg.d4)(t=>{let a=uy.Xw.loadingKeyForPayload({teamId:e});return t.loadingState[a]}),a=(0,eg.d4)(t=>t.teamUserByTeamId[e]||{}),r=(0,eg.wA)();ep.useEffect(()=>{r(uy.Xw({teamId:e}))},[r,e]);let n=t!==ub.r.SUCCESS;return ep.useEffect(()=>{if(!n){let e=Object.keys(a).length;r(m2.Az({numWhiteboardEditors:e})),r(m2.js({numDesignEditors:e}))}},[r,n,a]),n};function ux({selectedView:e}){let{teamId:t}=e,a=uT(t),r=(0,eg.wA)(),n=()=>{r(m2.Nj({teamId:t,onCloseOrComplete:e.onCloseOrComplete}))};return ep.createElement(eH.fu,{name:"Edu Review",properties:{teamId:t}},ep.createElement("div",null,ep.createElement(ue,{menu:ep.createElement(m7,{onClick:()=>{var a;r(tL.$T({view:"team",teamId:t})),null==(a=e.onCloseOrComplete)||a.call(e)}},ep.createElement(eL.B,{svg:ua.A,className:"edu_review--modalCloseX--TShDU"}))},ep.createElement("span",{className:e.showBreadcrumbs?void 0:"edu_review--hidden--5caDe"},ep.createElement(m9,{index:3})),ep.createElement(m6.JR,null,ep.createElement(e$.Tx,{id:"edu.almost_done_everything_look_good"})),ep.createElement(eI.Kz,{multiple:4}),ep.createElement(eV.x,{isLoading:a},()=>ep.createElement(uw.d,{selectedView:e,onClickConfirm:n,currency:(0,aQ.LN)()})))))}var uC=a(242880),uN=a(724416),uk=a(597492);let uS=(0,eH.tf)(function(e){let t=e.Img;function a(){return ep.createElement("div",{className:eT.cx.flex.fontWhyte.font16.itemsCenter.$},ep.createElement("div",{className:uk.vu},ep.createElement(t,null)),ep.createElement("div",{className:eT.cx.flex.flexColumn.alignLeft.justifyCenter.lh24.flex1.$},ep.createElement("h3",{className:eT.cx.fontBold.colorText.$},e.title),ep.createElement("p",{className:eT.cx.colorTextSecondary.$},e.description)),ep.createElement(le.In,{icon:"chevron-right-32"}))}return"link"===e.type?ep.createElement("a",{href:e.href,onClick:e.onClick},ep.createElement(a,null)):ep.createElement("div",{role:"button",tabIndex:0,onClick:e.onClick},ep.createElement(a,null))});function uI(){let e=(0,eg.wA)(),t=eb.aR?uN.o:uN.J;return ep.createElement("div",{className:eT.cx.flex.gap24.flexColumn.colorBorder.bt1.bb1.bSolid.py24.my32.$},ep.createElement(uS,{type:"button",onClick:()=>{ae.Ay.post("/api/mobile_redirect/login").then(()=>{e(t6.F.enqueue({message:(0,e$.t)("rcs.mobile.email_sent")}))}).catch(e=>{console.error(e)})},title:(0,e$.t)("file_browser.mobile_prompt_options.desktop_title"),description:(0,e$.t)("file_browser.mobile_prompt_options.desktop_description"),Img:()=>ep.createElement(le.In,{icon:"hyperlink-32"}),trackingProperties:{trackingDescriptor:o3.c.MOBILE_WEB_LOG_IN_DESKTOP}}),ep.createElement(uS,{type:"button",onClick:()=>e(tL.$T({view:"communityHub",subView:"searchAndBrowse",data:ob.On})),trackingProperties:{trackingDescriptor:o3.c.OPEN_IN_COMMUNITY},title:(0,e$.t)("file_browser.mobile_prompt_options.community_title"),description:(0,e$.t)("file_browser.mobile_prompt_options.community_description"),Img:()=>ep.createElement(le.In,{icon:"community-32"})}),ep.createElement(uS,{type:"link",href:t,onClick:ev.lQ,title:(0,e$.t)("file_browser.mobile_prompt_options.app_title"),description:(0,e$.t)("file_browser.mobile_prompt_options.app_description"),trackingProperties:{trackingDescriptor:o3.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},Img:()=>ep.createElement("img",{src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:""})}))}function uA({title:e,subtitle:t}){return ep.createElement(eH.fu,{name:"mobile file browser options screen"},ep.createElement("div",{className:uk.IK},ep.createElement(le.In,{icon:"logo-40-colored"}),ep.createElement("h1",{style:{fontSize:"32px"},className:eT.cx.fontMedium.$},e),t&&ep.createElement("h3",{className:eT.cx.font16.pt16.alignCenter.$},t),ep.createElement(uI,null)))}function uL({}){let e=(0,tY.md)(m1.k),t=(0,tY.md)(uC.NH),a=e?(0,e$.t)("rcs.mobile.account_created"):(0,e$.t)("rcs.mobile.welcome_back"),r=e?(0,e$.t)("rcs.mobile.youre_all_set"):"";return t?ep.createElement(uA,{title:a,subtitle:r}):ep.createElement(uC.mx,null)}var uR=a(883641),uO=a(872672),uF=a(535114);function uM(e){return ep.createElement(ep.Fragment,null,ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"space-between","data-testid":"sidebar-subtotal-cost-row",height:"hug-contents"},ep.createElement(du.E,{"data-testid":"sidebar-subtotal-summary-main-text",fontWeight:"regular",fontSize:13,i18nId:"pro_cart.info.subtotal"}),ep.createElement("span",{"data-testid":"sidebar-subtotal-summary-price-section"},ep.createElement(du.E,{"data-testid":"sidebar-subtotal-summary-price-section-price-text",fontWeight:"regular",fontSize:13,children:e.formattedSubtotal}))),ep.createElement(du.E,{fontWeight:"regular",color:"tertiary",fontSize:11,i18nId:"checkout.tax_disclaimer"})," ",ep.createElement(du.E,{fontWeight:"medium",color:"tertiary",fontSize:11,i18nId:"checkout.review_in_tax_disclaimer"}))}var uD=a(52690),uP=a(446175),uB=a(664091),uU=a(87422),uW=a(163271),uV=a(478122),uG=a(278492),u$=a(866941),uj=a(5816),uH=a(396754),uq=a(489262),uz=((l=uz||{}).STARTER="starter",l.PRO="pro",l.ORG="org",l);function uY({type:e,teamName:t,setTeamName:a,onNext:r,upgradeExistingTeam:n,promo:l}){let i={starter:{title:ep.createElement(e$.Tx,{id:"all_carts.create_team.create_a_new_team"}),subtitle:ep.createElement(e$.Tx,{id:"all_carts.create_team.after_creating_a_team"}),placeholder:(0,e$.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:ep.createElement(e$.Tx,{id:"all_carts.create_team.create_team"}),trackingDescriptor:o3.c.SEND_INVITES},pro:{title:ep.createElement(e$.Tx,{id:"pro_cart.create_team.create_a_professional_team"}),subtitle:ep.createElement(e$.Tx,{id:"pro_cart.create_team.itll_have_unlimited_files_and_collaborative_features"}),placeholder:(0,e$.t)("pro_cart.create_team.enter_a_name_for_your_working_group"),next:l?ep.createElement(e$.Tx,{id:"pro_cart.sidebar.next_review"}):ep.createElement(e$.Tx,{id:"pro_cart.create_team.next_set_editors.seat_rename"}),trackingDescriptor:l?o3.c.REVIEW:o3.c.SET_EDITORS},org:{title:ep.createElement(e$.Tx,{id:"org_self_serve.create_team_step.create_an_org_team"}),subtitle:ep.createElement(e$.Tx,{id:"org_self_serve.create_team_step.itll_have_unlimited_files_and_advanced_security"}),placeholder:(0,e$.t)("org_self_serve.create_team_step.enter_a_name_for_your_team"),next:ep.createElement(e$.Tx,{id:"org_self_serve.create_team_step.next_select_team"}),trackingDescriptor:o3.c.SELECT_TEAM}}[e];return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.Fb},i.title),ep.createElement(eI.Kz,{multiple:.5}),ep.createElement("div",{className:uH.b0},i.subtitle),ep.createElement("div",{className:uH.F0},ep.createElement(eL.B,{svg:uq.A,className:uH.Pr}),ep.createElement(uj.L,{className:uH.Zy,onChange:e=>a(e.target.value),value:t,placeholder:i.placeholder})),ep.createElement(eI.vd,{className:uH.eA,onClick:r,trackingProperties:{trackingDescriptor:i.trackingDescriptor},disabled:!t.trim()},i.next),!!n&&ep.createElement(eI.Us,{className:uH.x,onClick:n,trusted:!0,trackingProperties:{trackingDescriptor:o3.c.UPGRADE_EXISTING_TEAM}},ep.createElement(e$.Tx,{id:"pro_cart.create_team.upgrade_an_existing_team_instead"})))}var uK=a(328314),uJ=a(799376),uZ=a(622228),uQ=a(8245),uX=a(943258),u0=a(223764),u1=a(802418),u2=a(732366),u4=a(943432),u3=a(965600);let u8=e=>e.maxSeatsCount?Math.min(e.maxSeatsCount,99):99;function u5(e){let t=e.shouldShowJamboardOffer&&e.editorType===uP.tL&&e.numEditors<=u2.xr;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.flex.itemsCenter.$},ep.createElement("div",{className:"editor_counter--editorSeatCounter--Tp0cJ"},ep.createElement(eH.$z,{disabled:e.numEditors<=e.minSeatsCount,innerText:`remove additional ${e.editorType===uP.tL?uP.Mg:e.editorType} editor`,className:"editor_counter--minusButton--FeON3",onClick:e.decrementSeats,dataTestId:`remove-additional-${e.editorType}`},ep.createElement(eL.B,{svg:u4.A})),ep.createElement("input",{value:e.numEditors,maxLength:2,onChange:e.updateAdditionalSeatsText,className:"editor_counter--additionalSeatsInput--YnWjz",onFocus:e=>e.target.select()}),ep.createElement(eH.$z,{disabled:e.numEditors>=u8(e),innerText:`add additional ${e.editorType===uP.tL?uP.Mg:e.editorType} editor`,className:"editor_counter--plusButton--B1WY6",onClick:e.incrementSeats,dataTestId:`add-additional-${e.editorType}`},ep.createElement(eL.B,{svg:u3.A}))),t?ep.createElement(dd.Ex,{color:dd.zE.FIGJAM,text:ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.modal_offer_badge"})}):ep.createElement("div",null,ep.createElement("div",{className:"editor_counter--headerText--pKvwm"},e.headerText),e.headerFreeSubText&&ep.createElement("div",{className:"editor_counter--headerFreeSubText--RS3NU editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerFreeSubText),e.headerSubText&&ep.createElement("div",{className:"editor_counter--headerSubText--qB5dc editor_counter--headerText--pKvwm"},e.headerSubText),e.clarificationText&&ep.createElement("span",{style:u1.sx.colorText.colorBgSecondary.h16.pl4.pr4.mt8.bRadius1.inlineBlock.add({fontSize:"9px"}).$},e.clarificationText))))}function u6(e,t){return a=>{if(""===a.target.value){e(0);return}let r=parseInt(a.target.value);isNaN(r)||(r>99?e(99):t&&r>t?e(t):e(r))}}var u9=a(49617),u7=a(342649),_e=a(778881),_t=a(890212);let _a="promo_awareness_banner",_r="seats available",_n="seats full",_l="jamboard",_i="/jamboard-terms",_s="/contact";function _o(e){return e.numOfferSeatsRemaining>0?ep.createElement(_d,{...e}):ep.createElement(_u,null)}function _c(e){return e.numOfferSeatsRemaining>0?ep.createElement(_m,{...e}):ep.createElement(__,null)}function _d(e){return ep.createElement(eH.fu,{name:_a,properties:{promotion:_l,promo_banner_state:_r}},ep.createElement(uR._,{color:uR.S.FIGJAM,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_title.seat_rename",freeSeatsRemaining:e.numOfferSeatsRemaining})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text",seeTermsLink:ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_i,style:u1.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.terms_and_conditions"})),contactSalesLink:ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_s,style:u1.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.adjust_editors_banner_text.contact_sales"}))}))}))}function _m(e){return ep.createElement(eH.fu,{name:_a,properties:{promotion:_l,promo_banner_state:_r}},ep.createElement(uR._,{color:uR.S.FIGJAM,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.title",freeSeatsRemaining:e.numOfferSeatsRemaining})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.text",seeTermsLink:ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_i,style:u1.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.terms_and_conditions"})),contactSalesLink:ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_s,style:u1.sx.add({color:"var(--color-text-figjam)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.seats_left_shortened_banner.contact_sales"}))}))}))}function _u(){return ep.createElement(eH.fu,{name:_a,properties:{promotion:_l,promo_banner_state:_n}},ep.createElement(uR._,{color:uR.S.WARNING,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_title"})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner.text",seeTermsLink:ep.createElement(ep.Fragment,null,ep.createElement("br",null),ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_i,trackingEventName:"See terms - Google Jamboard special offer",style:u1.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.hit_free_editor_limit_banner_text.see_terms"})))}))}))}function __(){return ep.createElement(eH.fu,{name:_a,properties:{promotion:_l,promo_banner_state:_n}},ep.createElement(uR._,{color:uR.S.WARNING,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.title"})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.text",seeTermsLink:ep.createElement(ep.Fragment,null,ep.createElement("br",null),ep.createElement(eH.L0,{target:"_blank",rel:"noopener",href:_i,trackingEventName:"See terms - Google Jamboard special offer",style:u1.sx.add({color:"var(--color-text-warning)",cursor:"pointer",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.out_of_seats_shortened_banner.see_terms"})))}))}))}function _p(e){return ep.createElement(uR._,{color:uR.S.WARNING,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_title"})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_text",goBackLink:ep.createElement("button",{onClick:e.onBack,style:u1.sx.add({color:"var(--color-text-warning)",cursor:"pointer",background:"transparent",userSelect:"auto"}).$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.review_failed_to_redeem_banner_go_back_link"}))}))})}var _g=a(243027);let _E="org_self_serve_modals--modalContainer--SkTV6",_f="org_self_serve_modals--modalWrapperSmall--CTynF org_self_serve_modals--modalWrapper--x29v1",_h="org_self_serve_modals--modalHeader--TfjFf",_v="org_self_serve_modals--modalText--dkvyR";var _b=a(265871);function _y(e){return ep.createElement("div",{style:{height:e.height||12}})}function _w(e){return ep.createElement(sn.XV,{containerClassName:_E,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},ep.createElement("div",{className:_f},ep.createElement("div",{className:_h},ep.createElement(e$.Tx,{id:"org_self_serve.modals.invalid_email.figma_organization_only_allows_work_emails"})),ep.createElement("div",{className:_v},ep.createElement(e$.Tx,{id:"org_self_serve.modals.invalid_email.change_email_address_to_proceed"})),ep.createElement(_y,{height:12}),ep.createElement("a",{onClick:e.onFileBrowserClick},ep.createElement(e$.Tx,{id:"org_self_serve.modals.invalid_email.go_to_the_file_browser"}))))}function _T(e){return ep.createElement(sn.XV,{containerClassName:_E,headerSize:"hidden",isCloseHidden:!0,title:"",minWidth:349,maxWidth:349},ep.createElement("div",{className:_f},ep.createElement("div",{className:_h},ep.createElement(e$.Tx,{id:"org_self_serve.modals.existing_org_admin.figma_organization_already_purchased"})),ep.createElement("div",{className:_v},ep.createElement(e$.Tx,{id:"org_self_serve.modals.existing_org_admin.if_you_need_another_organization",contactSales:ep.createElement("a",{onClick:e.onContactSales},ep.createElement(e$.Tx,{id:"org_self_serve.modals.existing_org_admin.contact_sales"}))})),ep.createElement(_y,{height:4}),ep.createElement(_y,{height:12}),ep.createElement("a",{onClick:e.onFileBrowserClick},ep.createElement(e$.Tx,{id:"org_self_serve.modals.existing_org_admin.go_to_the_file_browser"}))))}function _x(e){return ep.createElement(sn.XV,{containerClassName:_E,headerSize:"hidden",onClose:e.onClose,title:"",minWidth:580,maxWidth:580},ep.createElement("div",{className:"org_self_serve_modals--modalWrapper--x29v1"},ep.createElement(eL.B,{className:"org_self_serve_modals--modalClose--mUT1H",svg:dl.A,onClick:e.onClose}),ep.createElement("div",{className:_h},ep.createElement(e$.Tx,{id:"org_self_serve.modals.true_up_edu.figma_grows_with_your_team"})),ep.createElement("div",{className:_v},ep.createElement(e$.Tx,{id:"org_self_serve.modals.true_up_edu.members_can_add_new_editors.seat_rename"})),ep.createElement(_y,{height:8}),ep.createElement("div",{className:"org_self_serve_modals--modalSubHeader--X8OcB"},ep.createElement(e$.Tx,{id:"org_self_serve.modals.true_up_edu.what_to_expect_at_true_up"})),ep.createElement("div",{className:_v},ep.createElement(e$.Tx,{id:"org_self_serve.modals.true_up_edu.true_up_explanation.seat_rename",seeFullDetails:ep.createElement("a",{href:"https://help.figma.com/hc/articles/360040328293",target:"_blank"},ep.createElement(e$.Tx,{id:"org_self_serve.modals.true_up_edu.see_full_details"}))}))))}let _C=(0,am.Ju)(function(e){var t;let a=e.isProTeam?uD.kH.exclude([uP.PE]):uD.kH,[r,n]=(0,ep.useState)(a.dict(t=>{var a;return(null==(a=e.seatDataByLicenseType[t])?void 0:a.currentSeats)||0})),[l,i]=(0,ep.useState)(null),s=e=>{let t=r[e];void 0!==t&&t<99&&n({...r,[e]:t+1})},o=t=>{let a=e.seatDataByLicenseType[t],l=r[t];null!=a&&null!=l&&l>a.minSeats&&n({...r,[t]:l-1})},c=(e,t)=>{if(""===e.target.value){t(0);return}let a=parseInt(e.target.value);isNaN(a)||t(a)},d=new aQ.vr(e.currency),m=(0,eg.d4)(e=>e.payment.billingPeriod),u=((0,u2.mF)(m)&&e.isProTeam)??!1,_=(0,u2.lA)(r[uP.tL]),p=(()=>{if(u){let e=(0,u2.SJ)(r[uP.tL]);return r[uP.tL]-e}return r[uP.tL]})(),g={[uP.vu]:{headerString:(0,e$.t)("all_carts.figma_design_editors.seat_rename"),shouldShowJamboardOffer:!1,totalSeatCount:r[uP.vu],shouldShowDevModeIncludedText:!0},[uP.tL]:{headerString:(0,e$.t)("all_carts.figjam_editors.seat_rename"),shouldShowJamboardOffer:u,totalSeatCount:p,shouldShowDevModeIncludedText:!1},[uP.PE]:{headerString:(0,e$.t)("all_carts.dev_mode_only_seats"),shouldShowJamboardOffer:!1,totalSeatCount:r[uP.PE]??0,shouldShowDevModeIncludedText:!1}};return ep.createElement(sn.Eo,{onSubmit:()=>{let t=!1;if(a.forEach(a=>{var n;let l=r[a],s=(null==(n=e.seatDataByLicenseType[a])?void 0:n.minSeats)||0;void 0!==l&&!1===t&&(l<s||l>99)&&(i(a),t=!0)}),t)return;let n=a.reduce((e,t)=>e+(r[t]||0),0);e.minTotalSeats&&n<e.minTotalSeats?i("total"):(e.dispatch(e0.Ce()),e.updateAdditionalSeats(r))},confirmText:(0,e$.t)("all_carts.save"),cancelText:(0,e$.t)("all_carts.cancel"),title:(0,e$.t)("all_carts.add_additional_editors.seat_rename")},ep.createElement("div",{className:"org_self_serve_modals--bannerContainer--Rp9x3"},l&&ep.createElement("div",{className:"org_self_serve_modals--errorBanner--z5qtW"},ep.createElement(eL.B,{className:"org_self_serve_modals--errorSvg--ea54R",svg:_b.A}),ep.createElement("div",{className:"org_self_serve_modals--errorBannerText--I5ALS org_self_serve_modals--headerModalText--iULfc"},l===uP.vu&&ep.createElement(e$.Tx,{id:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[uP.vu].minSeats}),l===uP.tL&&ep.createElement(e$.Tx,{id:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",minSeatsCount:e.seatDataByLicenseType[uP.tL].minSeats}),l===uP.PE&&ep.createElement(e$.Tx,{id:"all_carts.you_need_a_minimum_n_dev_mode_seats",minSeatsCount:(null==(t=e.seatDataByLicenseType[uP.PE])?void 0:t.minSeats)||0}),"total"===l&&!!e.minTotalSeats&&ep.createElement(e$.Tx,{id:"all_carts.you_need_a_minimum_n_editors.seat_rename",minSeatsCount:e.minTotalSeats})))),a.sort(uD.AG).map(t=>{let a=g[t],l=e.seatDataByLicenseType[t],i=r[t];return void 0===a||void 0===l||void 0===i?ep.createElement(ep.Fragment,null):ep.createElement("div",{key:t},ep.createElement(_y,{height:16}),ep.createElement("div",{className:"org_self_serve_modals--headerModalBoldText--TQeXR org_self_serve_modals--headerModalText--iULfc"},a.headerString),a.shouldShowDevModeIncludedText&&ep.createElement(ep.Fragment,null,ep.createElement(_y,{height:4}),ep.createElement(uZ.G,null)),ep.createElement(_y,{height:12}),ep.createElement(u5,{"data-testid":t+"-editor_counter",editorType:t,incrementSeats:()=>s(t),decrementSeats:()=>o(t),numEditors:i,minSeatsCount:l.minSeats,headerText:d.formatMoney(a.totalSeatCount*l.seatUnitCostInCents*(e.showAnnualPrice?12:1)),headerSubText:(0,_g.mx)(e.showAnnualPrice,a.totalSeatCount,!0,l.seatUnitCostInCents,e.currency),updateAdditionalSeatsText:e=>c(e,e=>{n({...r,[t]:e})}),shouldShowJamboardOffer:a.shouldShowJamboardOffer}))}),u&&ep.createElement("div",null,ep.createElement(eI.Kz,{multiple:2}),ep.createElement("div",{className:eT.cx.mxAuto.$},ep.createElement(_c,{numOfferSeatsRemaining:_}))),ep.createElement(_y,{height:18}),ep.createElement("div",{className:"org_self_serve_modals--divider--XYAsr"}))},"AdditionalEditorsModal");var _N=((i=_N||{})[i.NONE=0]="NONE",i[i.DESIGN=1]="DESIGN",i[i.WHITEBOARD=2]="WHITEBOARD",i[i.TOTAL=3]="TOTAL",i);function _k({userData:e,checkboxHandler:t}){let[a,r]=(0,ep.useState)(0),n=(0,eg.wA)(),l=({rect:e,...l})=>{t(l),l.newVal&&a<3&&(r(e=>e+1),n(_e.eB({target:{kind:tM.Ui.TEXT,text:(0,e$.t)("checkout.switch_seat_from_design_to_devmode")},targetRect:{top:e.top,right:e.right+8,bottom:e.bottom,left:e.left+8,width:e.width,height:e.height},textAlign:"left",position:tM.Zj.RIGHT,hideAfterDelay:1e3})))};return ep.createElement(ep.Fragment,null,e.map((a,r)=>ep.createElement("div",{"data-testid":"user-data-row",key:a.user.id},ep.createElement(_S,{rowType:"data"},ep.createElement(e7.az,{entity:a.user,includeUserEmailAddress:!0,size:24}),ep.createElement(_L,{userInfo:a}),ep.createElement(uX.S,{checked:a.designEditor,onChange:e=>{t({userId:a.user.id,type:"designEditor",newVal:e.currentTarget.checked})}}),ep.createElement(eI.tB,{checked:a.devMode,className:"org_self_serve_modals--devModeCheckbox--uzoX8",onChange:e=>{l({userId:a.user.id,type:"devMode",newVal:e.currentTarget.checked,rect:e.currentTarget.getBoundingClientRect()})}}),ep.createElement(eI.tB,{checked:a.figjamEditor,className:"org_self_serve_modals--figjamCheckbox--UMMiy",onChange:e=>{t({userId:a.user.id,type:"figjamEditor",newVal:e.currentTarget.checked})}})),r!==e.length-1&&ep.createElement(_I,null))))}function _S({rowType:e,children:t}){let a="footer"===e?["55%","15%","15%","15%"]:["35%","20%","15%","15%","15%"];return ep.createElement(ej.Y,{dataTestId:"seat-table-row",verticalAlignItems:"center",horizontalAlignItems:"start",padding:{top:"data"===e?14:16,right:16,bottom:"data"===e?14:16,left:16},backgroundColor:"header"===e?"hover":"default",spacing:0},t.map((e,t)=>ep.createElement(ej.Y,{key:t,width:a[t],horizontalAlignItems:"start",verticalAlignItems:"center",padding:{right:8}},e)))}function _I(){return ep.createElement("div",{className:eT.cx.wFull.colorBgTertiary.h1.$})}function _A({teamId:e}){return ep.createElement("div",{className:eT.cx.w8.h8.bRadius2.minW8.$,style:u1.sx.add({backgroundColor:(0,_t.$L)(e,_t.us)}).$})}function _L({userInfo:e}){var t;return e.teams.length>1?ep.createElement("div",{"data-tooltip-show-immediately":!0,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_UPGRADE_USER_INFO_EXTENDED,"data-tooltip-team-names":e.teams.map(e=>e.name).join(","),"data-tooltip-team-ids":e.teams.map(e=>e.id).join(","),"data-tooltip-show-right":!0,"data-tooltip-light-mode":!0},ep.createElement(du.E,{color:"default",i18nId:"all_carts.editor_table.multiple_teams"})):ep.createElement(ej.Y,{spacing:8,verticalAlignItems:"center",horizontalAlignItems:"start"},ep.createElement(_A,{teamId:e.teamIds[0]}),ep.createElement("div",{className:eT.cx.noWrap.ellipsis.overflowHidden.$},ep.createElement(du.E,{color:"default"},null==(t=e.teams[0])?void 0:t.name)))}let _R=(0,am.Ju)(function({users:e,updateSelectedEditors:t,updateAdditionalEmptySeats:a,currency:r,minTotalSeats:n,dispatch:l,seatInfo:i}){let[s,o]=(0,ep.useState)(e),[c,d]=(0,ep.useState)({design:i.design.additionalSeatCount,figjam:i.figjam.additionalSeatCount,dev_mode:i.dev_mode.additionalSeatCount}),m=(0,ep.useMemo)(()=>{let e=0,t=0,a=0;for(let r of Object.values(s))r.designEditor&&e++,r.devMode&&a++,r.figjamEditor&&t++;return(e+=c.design,a+=c.dev_mode,t+=c.figjam,n&&e+t+a<n)?3:e<i.design.minCount||e>99?1:t<i.figjam.minCount||t>99?2:0},[c,s,n,i]),u=e=>{c[e]>=99||d(t=>({...t,[e]:t[e]+1}))},_=e=>{c[e]<=0||d(t=>({...t,[e]:t[e]-1}))},p=(e,t)=>{let a=""===e.target.value?0:parseInt(e.target.value);isNaN(a)||d(e=>({...e,[t]:a}))},g=new aQ.vr(r),E=()=>{l(e0.Ce())};return ep.createElement(au.Nb,{size:864,maxHeight:672,hide:()=>l(e0.Ce()),className:"org_self_serve_modals--selectEditorsModal--XUq-n"},ep.createElement("div",{className:"org_self_serve_modals--selectEditorModalHeader--HPV-W org_self_serve_modals--headerModalText--iULfc"},ep.createElement(e$.Tx,{id:"checkout.add_or_remove_editors"}),ep.createElement(u7.s_,{customStyle:{position:"initial"},dispatch:l,onClose:E})),ep.createElement(_I,null),ep.createElement(_S,{rowType:"header"},ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.editor_table.Name"}),ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.editor_table.Teams"}),ep.createElement(ej.Y,{direction:"vertical",spacing:0,horizontalAlignItems:"start",verticalAlignItems:"center"},ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"general.figma_design"}),ep.createElement("div",null,ep.createElement(du.E,{color:"handoff",fontWeight:"medium",i18nId:"general.dev_mode"}),"\xa0",ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"checkout.dev_mode_included_text_formatted.included"}))),ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"general.dev_mode"}),ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"general.figjam"})),ep.createElement(_I,null),ep.createElement(ac.P,{maxHeight:426},ep.createElement(_k,{userData:Object.values(s),checkboxHandler:({userId:e,type:t,newVal:a})=>{let r={...s[e],[t]:a};"devMode"===t&&a&&(r.designEditor=!1),"designEditor"===t&&a&&(r.devMode=!1),o(t=>({...t,[e]:r}))}})),ep.createElement(_I,null),ep.createElement(_S,{rowType:"footer"},ep.createElement(ej.Y,{spacing:0,direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center"},ep.createElement(du.E,{color:"default",fontWeight:"medium",i18nId:"all_carts.add_additional_editors.seat_rename"}),ep.createElement(du.E,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.add_additional_editors_description.seat_rename"})),ep.createElement(u5,{editorType:uP.vu,incrementSeats:()=>u(uP.lM.DESIGN),decrementSeats:()=>_(uP.lM.DESIGN),numEditors:c.design,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,uP.lM.DESIGN),shouldShowJamboardOffer:!1}),ep.createElement(u5,{editorType:uP.PE,incrementSeats:()=>u(uP.lM.DEV_MODE),decrementSeats:()=>_(uP.lM.DEV_MODE),numEditors:c.dev_mode,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,uP.lM.DEV_MODE),shouldShowJamboardOffer:!1}),ep.createElement(u5,{editorType:uP.tL,incrementSeats:()=>u(uP.lM.FIGJAM),decrementSeats:()=>_(uP.lM.FIGJAM),numEditors:c.figjam,minSeatsCount:0,headerText:"",headerSubText:"",updateAdditionalSeatsText:e=>p(e,uP.lM.FIGJAM),shouldShowJamboardOffer:!1})),ep.createElement("div",{className:"org_self_serve_modals--selectEditorModalActions--BI57u org_self_serve_modals--selectEditorModalFooter--VUEx1"},0!==m?(()=>{switch(m){case 0:default:return;case 1:return ep.createElement(du.E,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_design_editors.seat_rename",i18nParams:{minSeatsCount:i.design.minCount}});case 2:return ep.createElement(du.E,{color:"danger",i18nId:"all_carts.you_need_a_minimum_n_whiteboard_editors.seat_rename",i18nParams:{minSeatsCount:i.figjam.minCount}});case 3:return ep.createElement(du.E,{color:"danger",i18nId:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",i18nParams:{minCount:n}})}})():ep.createElement(du.E,{fontWeight:"regular",color:"secondary",i18nId:"all_carts.new_total",i18nParams:{total:g.formatMoney(function(e,t,a){let r=new aQ.vr(e).getPrices(),n=a.design,l=a.figjam,i=a.dev_mode;for(let e in t)t[e].designEditor?n++:t[e].devMode&&i++,t[e].figjamEditor&&l++;return n*r.orgFigma*12+l*r.orgFigjam*12+i*r.orgDevMode*12}(r,s,c),{showCents:!0})}}),ep.createElement("div",{className:"org_self_serve_modals--buttonGroup--7lqAx"},ep.createElement(u9.nR,{onClick:E},(0,e$.t)("general.cancel")),ep.createElement(eI.$$,{onClick:()=>{0===m&&(a(c),t(s),l(e0.Ce()))},disabled:0!==m},(0,e$.t)("checkout.update_seats")))))},"SelectEditorsModal"),_O="org_self_serve_figjam--stepContent--Fcgjx",_F="org_self_serve_figjam--stepContentTeamCreation--Hnw67",_M="org_self_serve_figjam--pageTitle--m-QT9",_D="org_self_serve_figjam--subText--PQn0t",_P="org_self_serve_figjam--summaryDivider--M3TXD",_B="org_self_serve_figjam--memberColumn--m3TLh",_U="org_self_serve_figjam--headerText---H57O",_W="org_self_serve_figjam--userRow--gu75I avatar--avatarWithHandle--Z3934",_V="org_self_serve_figjam--userRowTopMargin--di6Xr",_G="org_self_serve_figjam--flex--ZfoO4",_$="org_self_serve_figjam--svgText--eUA7N org_self_serve_figjam--flex--ZfoO4",_j="org_self_serve_figjam--lineItem--9Stcs org_self_serve_figjam--flex--ZfoO4",_H="org_self_serve_figjam--nextStep--H4Pxa",_q="org_self_serve_figjam--helpIcon--7apPo",_z="org_self_serve_figjam--reviewItem--LD3wx",_Y="org_self_serve_figjam--billingSubText--NGiXQ",_K="org_self_serve_figjam--billingItem--2zAGw",_J="org_self_serve_figjam--textLink--kH7Sp org_self_serve_figjam--billingSubText--NGiXQ",_Z="org_self_serve_figjam--reviewSubTitle--melz8",_Q="org_self_serve_figjam--plusSvg--G8rO4";var _X=a(339290),_0=a(501191);function _1(e){return ep.createElement("div",{style:{height:e.height||12}})}function _2(e){var t;let[a,r]=(0,ep.useState)(!1),n=ep.createRef(),l=()=>{(null==n?void 0:n.current)&&r(n.current.getBoundingClientRect().bottom>window.innerHeight+25)};ep.useEffect(()=>(l(),window.addEventListener("scroll",l),function(){window.removeEventListener("scroll",l)}));let i=[...e.teamsToEditors.keys()],s=!!e.newTeamName,o=s?i.length+1:i.length,c=null==(t=i[i.length-1])?void 0:t.id,d=o<=5?"org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd":"org_self_serve_figjam--teamTileSmall--SiwnM org_self_serve_figjam--teamTileLarge--hh-TM text--fontPos14--OL9Hp text--_fontBase--QdLsd",m=e.newTeamName?ep.createElement(e$.Tx,{id:"org_self_serve.team_step.team_creation_header"}):ep.createElement(e$.Tx,{id:"org_self_serve.team_step.header"}),u=e.newTeamName?ep.createElement(e$.Tx,{id:"org_self_serve.team_step.team_creation_teams_shown_description"}):ep.createElement(e$.Tx,{id:"org_self_serve.team_step.teams_shown_description"});return ep.createElement("div",{className:eS()(_O,_F)},ep.createElement("div",{className:_M},m),ep.createElement(_1,{height:4}),ep.createElement("div",{className:"org_self_serve_figjam--pageSubTitle--umjhu"},u),a&&ep.createElement("div",{className:"org_self_serve_figjam--showMoreContainer--Pr-V- visual_bell--messageContainer--fkhJH _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L"},ep.createElement("div",{className:"org_self_serve_figjam--showMoreMessage--dHOT9 visual_bell--message--lQw67 visual_bell--messageBase--Dg3ya ellipsis--ellipsis--Tjyfa"},ep.createElement(e$.Tx,{id:"org_self_serve.team_step.more_teams"})," \u2193")),ep.createElement("div",{className:o<=5?"org_self_serve_figjam--teamLargeTileContainer--K3Uwf":"org_self_serve_figjam--teamSmallTileContainer--MiVmD org_self_serve_figjam--teamLargeTileContainer--K3Uwf"},s&&ep.createElement(_4,{name:e.newTeamName||"",editors:0,team:null,checked:null!=e.newTeamName,tileClassName:d,tabIndex:0,disabled:!0}),i.map((t,a)=>ep.createElement(_4,{name:t.name,key:t.id,editors:e.teamsToEditors.get(t)||0,team:t,checked:e.selectedTeamIds.has(t.id),onClick:()=>e.onToggle(t.id),tileClassName:d,tabIndex:s?a+1:a,lastTeamRef:t.id===c?n:null}))))}function _4(e){var t;return null===e.team&&(0,eC.vA)(0===e.editors),ep.createElement("div",{onClick:e.onClick,key:(null==(t=e.team)?void 0:t.id)||e.name,className:e.tileClassName,role:"checkbox","aria-checked":e.checked,tabIndex:e.tabIndex,"aria-disabled":e.disabled},ep.createElement("div",{className:_$,ref:e.lastTeamRef},ep.createElement(e7.CH,{entity:e.team||{name:e.name},size:dm.Pf.LARGE}),ep.createElement("div",{className:"org_self_serve_figjam--teamText--kwOga"},ep.createElement("div",{className:"org_self_serve_figjam--teamName--RL-3Y text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.name),ep.createElement("div",{className:"org_self_serve_figjam--teamEditors--l10hE text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},ep.createElement(e$.Tx,{id:"org_self_serve.team_step.editor.seat_rename",editorCount:e.editors})))),ep.createElement("label",null,ep.createElement(uX.S,{checked:e.checked,disabled:e.disabled})))}function _3(e){return ep.createElement("div",{className:eS()(_O,_F)},ep.createElement("div",{className:_M},ep.createElement(e$.Tx,{id:"org_self_serve.details_step.tell_us_about_your_organization"})),ep.createElement("div",{className:"org_self_serve_figjam--detailsForm---syBr stripe--stripeCardAndAddress--b42eG org_self_serve_figjam--paymentForm--ohf1-"},ep.createElement(eI.Lf,{htmlName:"actor_name",label:(0,e$.t)("org_self_serve.details_step.your_full_name"),value:e.orgDetails.actorName,onChange:e.onChangeFormInput}),ep.createElement(eI.Lf,{htmlName:"actor_email",label:(0,e$.t)("org_self_serve.details_step.email_address"),value:e.orgDetails.actorEmail||"",disabled:!0,onChange:ev.lQ}),ep.createElement(eI.Lf,{htmlName:"legal_org_name",label:(0,e$.t)("org_self_serve.details_step.legal_company_name"),value:e.orgDetails.legalOrgName,onChange:e.onChangeFormInput}),ep.createElement(eI.Lf,{htmlName:"org_name",label:(0,e$.t)("org_self_serve.details_step.company_display_name"),placeholder:(0,e$.t)("org_self_serve.details_step.company_display_name_sub_text"),value:e.orgDetails.orgName,onChange:e.onChangeFormInput})))}function _8(e){let[t,a]=(0,ep.useState)(!1),[r,n]=(0,ep.useState)(!1),l=new aQ.vr(e.currency);return ep.createElement(ac.P,{className:eS()(_O,_F),hideScrollbar:!0},ep.createElement("div",{className:_M},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.lets_make_sure_everythings_right"})),ep.createElement("div",{className:"org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},ep.createElement("div",{className:"org_self_serve_figjam--reviewSummary--Iz0L4"},(()=>{let t=(0,i9.zN)(e.user.email);return(0,eh.kc)().pro_team_business_names?(0,u0.x)({displayName:e.orgName||e.legalOrgName,legalName:e.legalOrgName,variant:"org",domain:t,totalTeams:e.totalTeams}):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:_Z},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.organization_details"})),ep.createElement("div",{className:_z},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.company_name"})),ep.createElement("div",null,e.legalOrgName)),ep.createElement("div",{className:_z},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.company_display_name"})),ep.createElement("div",null,e.orgName||e.legalOrgName)),ep.createElement("div",{className:_z},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.domain"})),ep.createElement("div",null,t)),e.totalTeams>0&&ep.createElement("div",{className:_z},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.teams"})),ep.createElement("div",null,e.totalTeams)))})()),ep.createElement("div",{className:"org_self_serve_figjam--verticalDivider--Qwink"}),ep.createElement("div",null,r&&ep.createElement(_x,{onClose:()=>n(!1)}),ep.createElement("div",{className:"org_self_serve_figjam--billingDetails--B0jaT"},ep.createElement("div",{className:_Z},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.next_quarterly_true_up_on_date",trueUpDate:new Date(e.trueUpDate)})),ep.createElement(_1,{height:16}),ep.createElement("div",{className:_U},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.what_is_a_true_up"})),ep.createElement("ul",null,ep.createElement("li",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.true_up_description.seat_rename"})),ep.createElement("li",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.true_up_description_2.seat_rename"})),ep.createElement("li",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.true_up_description_3.seat_rename"})),ep.createElement("li",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.true_up_description_4.seat_rename"}))),ep.createElement(eI.Ph,{onClick:()=>n(!0),className:_J,trusted:!0},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.learn_more_about_true_ups"})),ep.createElement(_1,{height:20}),ep.createElement("div",{className:_P}),ep.createElement(_1,{height:24}),ep.createElement("div",{className:_Z},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.annual_renewal_on_date",renewalDate:new Date(e.renewalDate)})),ep.createElement(_1,{height:16}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.annual_renewal_description.seat_rename"})),ep.createElement(_1,{height:20}),e.renderBillingItems(),ep.createElement("button",{className:`${_J} ${_$}`,onClick:e.showAdditionalEditorsModal},ep.createElement(eL.B,{className:_Q,svg:_0.A}),ep.createElement(e$.Tx,{id:"org_self_serve.review_step.add_additional_editors.seat_rename"})),ep.createElement(_1,{height:20}),ep.createElement("div",{className:_P}),ep.createElement(_1,{height:16}),ep.createElement("div",{className:_K},ep.createElement("div",null,ep.createElement("div",{className:_U},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.subtotal"}))),ep.createElement("div",{className:_U},ep.createElement("div",{className:_U,"data-testid":"subtotal-summary-price-section"},l.formatMoney(e.subTotalCents,{showCents:!1})))),ep.createElement("div",{className:_K},ep.createElement("div",null,ep.createElement("div",{className:_U},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.tax"})),ep.createElement("div",{className:_Y},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.tax_rate",taxRate:e.taxRate}))),ep.createElement("div",{className:_U,"data-testid":"tax-summary-price-text"},l.formatMoney(e.taxDueCents,{showCents:!1}))),ep.createElement("div",{className:_K},ep.createElement("div",null,ep.createElement("div",{className:"org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.total_due_today"})),e.orgPayment.last4&&ep.createElement("div",{className:_Y},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.card_ending_in_last4",last4:e.orgPayment.last4}))),ep.createElement("div",{className:_Z,"data-testid":"confirm-total-summary-price-text"},l.formatMoney(e.totalCents,{showCents:!1}))),ep.createElement(_1,{height:8}),ep.createElement("div",{className:_P})),ep.createElement(_1,{height:24}),ep.createElement("div",{className:"org_self_serve_figjam--confirmPaymentBox--R3qBc"},ep.createElement("div",{className:"org_self_serve_figjam--msaCheck--W-n5Y"},ep.createElement("input",{type:"checkbox",checked:t,className:"org_self_serve_figjam--teamCheck--KhnGi",onChange:()=>{a(!t)}}),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_self_serve.review_step.i_agree_to_msa_and_renewal_links",msaLink:ep.createElement("a",{rel:"noopener noreferrer",className:_J,href:(0,e$.dS)("/ssa"),target:"_blank"},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.software_services_agreement"})),renewalLink:ep.createElement("a",{rel:"noopener noreferrer",className:_J,href:(0,e$.dS)("/renewal-and-cancellation"),target:"_blank"},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.renewal_and_cancellation_terms"}))}))),ep.createElement(eI.vd,{className:_H,onClick:e.onSubmit,disabled:!t||e.loading,trackingProperties:e.ctaProperties,dataTestId:"confirm-purchase-button"},ep.createElement(e$.Tx,{id:"org_self_serve.review_step.complete_purchase"}))))))}function _5(e){let t=new aQ.vr(e.currency);return ep.createElement("div",{className:"org_self_serve_figjam--confirmationPage--waE-r"},ep.createElement("div",{className:eS()(_O,_F)},ep.createElement("div",{className:"org_self_serve_figjam--confirmationHeading--kkdEi"},ep.createElement(eL.B,{svg:_X.A,className:"org_self_serve_figjam--greenCheck--Ircn0",useOriginalSrcFills_DEPRECATED:!0,autosize:!0,width:"32px",height:"32px"}),ep.createElement("div",{className:_M},ep.createElement(e$.Tx,{id:"org_self_serve.confirmation_step.you_re_all_set"}))),ep.createElement("div",{className:"org_self_serve_figjam--confirmationBox--yEAyv org_self_serve_figjam--stepRect--N5ubT org_self_serve_figjam--boxBorder--uN5Ii"},ep.createElement("div",{className:"org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"org_self_serve.confirmation_step.order_confirmation_message"})),ep.createElement(_1,{height:24}),ep.createElement("div",{className:_P}),ep.createElement(_1,{height:24}),ep.createElement("div",{className:"org_self_serve_figjam--flexBox--hjnmD"},ep.createElement("div",{className:"org_self_serve_figjam--confirmationCharge--zR2dL org_self_serve_figjam--confirmationPageText--WW-9c text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"org_self_serve.confirmation_step.total_amount_to_be_charged_to_card_ending_in_last4",last4:e.orgPayment.last4}),ep.createElement("span",{className:"org_self_serve_figjam--confirmationAmountDue--eZtFY"},t.formatMoney(e.totalCents,{showCents:!1}))),ep.createElement(_1,{height:24}),ep.createElement("div",{className:_P}),ep.createElement(_1,{height:32}),ep.createElement("div",{className:"org_self_serve_figjam--confirmationRow--99eHT"},!e.orgMigrated&&ep.createElement(ep.Fragment,null,ep.createElement(e8.kt,null),ep.createElement("div",{className:"org_self_serve_figjam--confirmationLoadingText--rrHze org_self_serve_figjam--msaLabelText--J-OnT"},ep.createElement(e$.Tx,{id:"org_self_serve.confirmation_step.we_re_setting_up_your_organization"}))),ep.createElement(eI.$$,{disabled:!e.orgMigrated,className:"org_self_serve_figjam--confirmationHomeButton--QDKb- text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onFileBrowserClick,dataTestId:"go-to-file-browser-button"},ep.createElement(e$.Tx,{id:"org_self_serve.confirmation_step.go_to_the_file_browser"})))))))}var _6=a(145311);function _9({users:e,size:t=dm.Pf.MEDIUM,maxShow:a=2}){let r=e.slice(0,a),n=Math.max(e.length-a,0);return ep.createElement(ej.Y,{verticalAlignItems:"center",spacing:"-8px",horizontalAlignItems:"start",width:"hug-contents"},r.map((e,a)=>ep.createElement(e7.Ro,{className:eT.cx.borderBox.relative.b1.colorBorderBg.$,key:`${e.id}${a}`,entity:e,size:t})),n>0&&ep.createElement(_6.f,{className:eT.cx.fontSemiBold.colorText.borderBox.relative.b1.colorBorderBg.$,text:`+${n}`,size:t}))}var _7=a(637735),pe=a(401761);let pt={[uP.lM.DESIGN]:ep.createElement(du.E,{i18nId:"checkout.design_with_dev_mode_included",fontSize:13}),[uP.lM.DEV_MODE]:ep.createElement(du.E,{i18nId:"general.dev_mode",fontSize:13}),[uP.lM.FIGJAM]:ep.createElement(du.E,{i18nId:"general.figjam",fontSize:13})},pa={[uP.lM.DESIGN]:_7.y1.DESIGN_AND_DEV_MODE,[uP.lM.DEV_MODE]:_7.y1.DEV_MODE,[uP.lM.FIGJAM]:_7.y1.WHITEBOARD};function pr({type:e,users:t,additionalSeats:a,onClick:r}){let[n,l]=(0,ep.useState)(!1);return ep.createElement("div",{className:`${eT.cx.b1.colorBorder.bRadius6.wFull.borderBox.$} ${n?eT.cx.colorBgHover.$:""}`,role:"button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:r,tabIndex:0},ep.createElement(ej.Y,{padding:{top:10,right:16,bottom:10,left:16},direction:"horizontal",verticalAlignItems:"center",horizontalAlignItems:"space-between"},ep.createElement(ej.Y,{horizontalAlignItems:"start",verticalAlignItems:"center"},ep.createElement(_7.oS,{type:pa[e],size:_7.LE.LARGE}),ep.createElement(ej.Y,{direction:"vertical",horizontalAlignItems:"start",padding:{left:4},spacing:0},pt[e],ep.createElement("div",null,ep.createElement(du.E,{i18nId:"checkout.seats",i18nParams:{numOfSeats:t.length+a},color:"secondary",fontSize:11,fontWeight:"medium"}),"\xa0",a>0&&ep.createElement(du.E,{i18nId:"checkout.paranthesis",i18nParams:{content:ep.createElement(du.E,{i18nId:"checkout.empty_seats",i18nParams:{numOfEmptySeats:a},color:"secondary",fontSize:11,fontWeight:"medium"})}}),n&&ep.createElement("span",null,ep.createElement(du.E,{color:"secondary"},"\xa0\u2022\xa0"),ep.createElement(du.E,{i18nId:"general.edit",fontSize:11,color:"brand",fontWeight:"medium"}))))),ep.createElement(_9,{users:t}),a>0&&0===t.length&&ep.createElement(eL.B,{svg:pe.A,useOriginalSrcFills_DEPRECATED:!0})))}function pn({additionalDesignSeats:e,additionalDevModeSeats:t,additionalWhiteboardSeats:a,selectedEditors:r,onClick:n}){let l={[uP.lM.DESIGN]:{users:[],additionalSeats:e},[uP.lM.DEV_MODE]:{users:[],additionalSeats:t},[uP.lM.FIGJAM]:{users:[],additionalSeats:a}};for(let e of Object.values(r))e.designEditor?l[uP.lM.DESIGN].users.push(e.user):e.devMode&&l[uP.lM.DEV_MODE].users.push(e.user),e.figjamEditor&&l[uP.lM.FIGJAM].users.push(e.user);return ep.createElement(ej.Y,{direction:"vertical",spacing:"12px",height:"hug-contents"},Object.entries(l).map(([e,{users:t,additionalSeats:a}])=>ep.createElement(pr,{key:e,type:e,users:t,additionalSeats:a,onClick:n})),ep.createElement("div",{className:eT.cx.mt10.$},ep.createElement("button",{className:`${_J} ${_$}`,onClick:n},ep.createElement(eL.B,{className:_Q,svg:_0.A}),ep.createElement(du.E,{i18nId:"checkout.add_additional_seats"}))))}var pl=a(244616),pi=a(860574),ps=a(733982),po=a(54375);function pc(e,t){let a={};for(let r of e.filter(e=>t.has(e.team.id))){let e=[{users:r.designEditors,propKey:"designEditor"},{users:r.figjamEditors,propKey:"figjamEditor"},{users:[],propKey:"devMode"}],t={};e.forEach(({users:e,propKey:n})=>{for(let l of e){if((0,i9.nD)(l.email))return;a[l.id]||(a[l.id]={user:l,teamIds:[],designEditor:!1,figjamEditor:!1,devMode:!1,teams:[]}),l.id in t||(t[l.id]=new Set),a[l.id][n]=!0,t[l.id].has(r.team.id)||(a[l.id].teamIds.push(r.team.id),a[l.id].teams.push(r.team),t[l.id].add(r.team.id))}})}return a}class pd extends ep.Component{constructor(e){var t,a;super(e),this.effectiveStep=()=>{var e;return this.props.step===mH.X1.Initial||this.props.step===mH.X1.ChoosePlan?(null==(e=this.props.newTeamProps)?void 0:e.teamFlowType)===e2.SC.CREATE_AND_UPGRADE?mH.X1.CreateTeam:this.state.eligibleUpgrades.length>0||this.props.newTeamProps?mH.X1.TeamSelect:mH.X1.Details:this.props.step},this.setStep=e=>{this.props.dispatch(tL.$T({view:"orgSelfServe",step:e,orgMigrated:!1,newTeamProps:this.props.newTeamProps,upsellSource:this.props.upsellSource})),this.setState(e=>({payment:{...e.payment,card:null}}))},this.onSubmit=()=>{var e;let t=this.effectiveStep();switch(t){case mH.X1.CreateTeam:(null==(e=this.state.newTeamName)?void 0:e.trim())&&this.setStep(mH.X1.TeamSelect);break;case mH.X1.AddCollaborators:this.setStep(mH.X1.Details);break;case mH.X1.PseudoCreateTeam:this.setStep(mH.X1.TeamSelect);break;case mH.X1.TeamSelect:this.setStep(mH.X1.Details);break;case mH.X1.Details:this.setStep(mH.X1.Payment);break;case mH.X1.Payment:this.onSubmitPaymentAndAddress();break;case mH.X1.Review:this.onSubmitPurchaseOrder();break;case mH.X1.Confirmation:break;default:(0,eC.xb)(t)}},this.ctaProperties=()=>{let e=this.designEditorCount(),t=this.figJamEditorCount(),a={[uP.lM.DESIGN]:this.totalDesignSeatsCount(),[uP.lM.FIGJAM]:this.totalFigJamSeatsCount(),[uP.lM.DEV_MODE]:this.totalDevModeSeatsCount()};return{numEditors:e,numFigJamEditors:t,numMigratedTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),numTotalDesignSeats:a[uP.lM.DESIGN],totalFigJamSeats:a[uP.lM.FIGJAM],totalDevModeSeats:a[uP.lM.DEV_MODE],proposedSubtotal:uD.kH.reduce((e,t)=>e+=(a[t]??0)*(uJ.UB[t]??0),0)/100,domain:(0,i9.zN)(this.props.user.email),currency:this.state.currency,upsellSource:this.props.upsellSource}},this.renderNextButton=()=>{var e,t;let a;let r=!1,n=this.effectiveStep();switch(n){case mH.X1.CreateTeam:case mH.X1.PseudoCreateTeam:a=(0,e$.t)("org_self_serve.create_team_step.next_select_team"),r=!this.state.newTeamName;return;case mH.X1.AddCollaborators:a=(0,e$.t)("org_self_serve.create_team_step.next_select_team");return;case mH.X1.TeamSelect:a=(0,e$.t)("org_self_serve.details_step.next_organization_details");break;case mH.X1.Details:a=(0,e$.t)("org_self_serve.payment_step.next_payment");let l=null==(e=this.state.orgDetails.legalOrgName)?void 0:e.length,i=null==(t=this.state.orgDetails.actorName)?void 0:t.length;r=r||!l||!i||l<1||i<1;break;case mH.X1.Payment:r=r||this.state.apiPending,a=(0,e$.t)("org_self_serve.review_step.next_review");break;case mH.X1.Review:case mH.X1.Confirmation:return null;default:(0,eC.xb)(n)}return ep.createElement("div",{className:"org_self_serve_figjam--nextStepContainer--iounX"},ep.createElement(eI.vd,{className:_H,disabled:r,onClick:()=>this.onSubmit(),trackingProperties:this.ctaProperties(),dataTestId:"next-step-button"},a))},this.onTeamToggle=e=>{this.state.selectedTeamIds.has(e)?this.setState(t=>(t.selectedTeamIds.delete(e),{selectedTeamIds:t.selectedTeamIds,selectedEditors:pc(this.state.eligibleUpgrades,t.selectedTeamIds)})):this.setState(t=>({selectedTeamIds:t.selectedTeamIds.add(e),selectedEditors:pc(this.state.eligibleUpgrades,t.selectedTeamIds.add(e))}))},this.onCardReady=e=>{let t={...this.state.payment,card:e};this.setState({payment:t})},this.onAddressChange=e=>{let t={...this.state.payment,address:e};this.setState({payment:t})},this.onClearToken=()=>{let e={...this.state.payment,token:null};this.setState({payment:e})},this.onVatIdChange=e=>{this.setState({vatId:e})},this.onRegionalVatIdChange=e=>{this.setState({regionalVatId:e})},this.onVatValidationFail=e=>{this.setState({apiPending:!1,paymentError:e})},this.onChangeNewTeamName=e=>{this.setState({newTeamName:e.trim()})},this.onChangeOrgDetails=e=>{let t=e.target.name,a=e.target.value;if(!t){e.preventDefault(),console.error("HTMLInputElement is missing name attribute:",e.target);return}let r=this.state.orgDetails;switch(t){case"actor_name":r.actorName=a.trim();break;case"legal_org_name":r.legalOrgName=a.trim();break;case"org_name":r.orgName=a.trim()}this.setState({orgDetails:r})},this.contactSales=()=>{this.props.dispatch((0,e0.to)({type:uO.lk,data:{source:uO.B7.ORG_SELF_SERVE_UPGRADE_MODAL}}))},this.onFileBrowserClick=()=>{(0,eh.kc)().ps_benchmark?(this.props.newTeamProps&&(0,uB.Al)(this.props.user.id),ef.Ay.redirect("/files/recent")):(this.props.dispatch(tL.$T({view:"recentFiles"})),this.props.newTeamProps&&(0,uB.Al)(this.props.user.id))},this.updateAdditionalSeats=e=>{this.setState({additionalDesignSeats:e[uP.vu]-this.designEditorCount(),additionalWhiteboardSeats:e[uP.tL]-this.figJamEditorCount(),additionalDevModeSeats:e[uP.PE]?e[uP.PE]-this.devModeEditorCount():0})},this.addEditors=()=>{let e=new aQ.vr(this.state.currency).getPrices();this.props.dispatch((0,e0.to)({type:_C,data:{seatDataByLicenseType:{[uP.vu]:{minSeats:this.designEditorCount(),currentSeats:this.totalDesignSeatsCount(),seatUnitCostInCents:e.orgFigma},[uP.tL]:{minSeats:this.figJamEditorCount(),currentSeats:this.totalFigJamSeatsCount(),seatUnitCostInCents:e.orgFigjam},[uP.PE]:{minSeats:0,currentSeats:this.totalDevModeSeatsCount(),seatUnitCostInCents:e.orgDevMode}},minTotalSeats:uJ.u3,updateAdditionalSeats:this.updateAdditionalSeats,showAnnualPrice:!0,dispatch:this.props.dispatch,currency:this.state.currency}}))},this.updateAdditionalEmptySeats=e=>{this.setState({additionalDesignSeats:e.design,additionalWhiteboardSeats:e.figjam,additionalDevModeSeats:e.dev_mode})},this.selectEditors=()=>{let e=this.state.selectedEditors;for(let t in e)e[t]={...e[t]};this.props.dispatch((0,e0.to)({type:_R,data:{users:e,updateSelectedEditors:this.updateSelectedEditors,updateAdditionalEmptySeats:this.updateAdditionalEmptySeats,dispatch:this.props.dispatch,currency:this.state.currency,minTotalSeats:uJ.u3,seatInfo:{design:{minCount:uJ._h,additionalSeatCount:this.state.additionalDesignSeats},figjam:{minCount:0,additionalSeatCount:this.state.additionalWhiteboardSeats},dev_mode:{minCount:0,additionalSeatCount:this.state.additionalDevModeSeats}}}}))},this.updateSelectedEditors=e=>{this.setState(t=>({...t,selectedEditors:e}))},this.renderBillingItems=()=>{let e=new aQ.vr(this.state.currency),t=e.getPrices(),a={[uP.vu]:{totalSeats:this.totalDesignSeatsCount(),price:t.orgFigma,headerString:this.props.canSeeOrgCheckoutSeatManagement?ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor_with_dev_mode_included.seat_rename",totalDesignSeatsCount:this.totalDesignSeatsCount()}):ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor.seat_rename",totalDesignSeatsCount:this.totalDesignSeatsCount()}),oldCostBreakdownText:ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_figma_design_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigma,{showCents:!1}),totalDesignSeatsCount:this.totalDesignSeatsCount()}),showDevModeIncludedText:!this.props.canSeeOrgCheckoutSeatManagement},[uP.tL]:{totalSeats:this.totalFigJamSeatsCount(),price:t.orgFigjam,headerString:ep.createElement(e$.Tx,{id:"org_self_serve.headers.total_fig_jam_editor_seats_count.seat_rename",totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()}),oldCostBreakdownText:ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_figjam_editor_cost.seat_rename",annualMemberCost:e.formatMoney(t.orgFigjam,{showCents:!1}),totalFigJamEditorSeatsCount:this.totalFigJamSeatsCount()})},[uP.PE]:{totalSeats:this.totalDevModeSeatsCount(),price:t.orgDevMode,headerString:ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_seat_count.dev_mode",totalSeatCount:this.totalDevModeSeatsCount()})}};return ep.createElement("div",null,uD.kH.sort(uD.AG).map(t=>{let r=a[t];return null==r?ep.createElement(ep.Fragment,null):ep.createElement("div",{key:t},ep.createElement("div",{className:_j},ep.createElement("div",{className:_U},r.headerString),ep.createElement("div",{className:_U},e.formatMoney(r.price*r.totalSeats*12,{showCents:!1}))),r.showDevModeIncludedText&&ep.createElement(ep.Fragment,null,ep.createElement(pm,{height:1}),ep.createElement(uZ.G,null),ep.createElement(pm,{height:2})),ep.createElement("div",{className:_D},ep.createElement(e$.Tx,{id:"org_self_serve.billing_items.total_seat_cost_for_product",annualMemberCost:e.formatMoney(r.price,{showCents:!1}),seatCount:r.totalSeats})),ep.createElement(pm,{height:16}))}))},this.renderEditorsToUpgrade=(e,t)=>{let a=Object.keys(e).length,r=t-a;return t>0?ep.createElement(ep.Fragment,null,ep.createElement("div",null,this.renderUpgradeUserList(e)),r>0&&ep.createElement("div",{className:eS()(_W,a>0&&_V)},ep.createElement(eL.B,{svg:pi.A}),ep.createElement("div",{className:"org_self_serve_figjam--emptySeat--SpQ7o"},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.num_empty_seats",numEmptySeats:r})))):ep.createElement("div",{className:_D},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.none"}))},this.renderPurchaseSummary=()=>{let{designEditors:e,figjamEditors:t,devModeEditors:a}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors),r=(0,aQ._Z)(),n=Object.keys(e).length,l=n+Object.keys(t).length+Object.keys(a).length<uJ.u3,i=this.totalDesignSeatsCount(),s=this.totalFigJamSeatsCount(),o=this.getSubtotal(this.state.currency),c=(0,uU.Hw)(this.props.user)?ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_seats_added_empty_seats.seat_rename",minCount:uJ.u3}):ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.the_organization_plan_requires_at_least_count_editor_seats.seat_rename",minCount:uJ.u3}),d=new aQ.vr(this.state.currency);return ep.createElement("div",{className:"org_self_serve_figjam--purchaseSummary--g-xXE"},ep.createElement("div",null,l&&ep.createElement("div",{className:`org_self_serve_figjam--purchaseMinimumBanner--vgfES ${_$}`},ep.createElement(eL.B,{className:_q,svg:po.A}),c),ep.createElement(ac.P,{className:"org_self_serve_figjam--sidebarScrollContainer--yFAcP",scrollingDisabled:!1},ep.createElement("div",null,ep.createElement("div",{className:"org_self_serve_figjam--summaryHeader--cMGp-"},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.organization_plan"})),ep.createElement("div",{className:_D},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.domain",domain:(0,i9.zN)(this.props.user.email)})),ep.createElement(pm,{height:16})),this.props.canSeeOrgCheckoutSeatManagement?ep.createElement(pn,{selectedEditors:this.state.selectedEditors,additionalDesignSeats:this.state.additionalDesignSeats,additionalWhiteboardSeats:this.state.additionalWhiteboardSeats,additionalDevModeSeats:this.state.additionalDevModeSeats,onClick:this.selectEditors}):ep.createElement("div",{className:_G},ep.createElement("div",{className:_B},ep.createElement("div",{className:_U},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.figma_design_editors.seat_rename"})),ep.createElement(pm,{height:i>0?16:20}),this.renderEditorsToUpgrade(e,i)),ep.createElement("div",{className:_B},ep.createElement("div",{className:_U},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.fig_jam_editors.seat_rename"})),ep.createElement(pm,{height:s>0?16:20}),this.renderEditorsToUpgrade(t,s))),ep.createElement(pm,{height:20})),ep.createElement("div",null,ep.createElement("div",{className:_P}),r&&ep.createElement(ep.Fragment,null,ep.createElement(pm,{height:16}),ep.createElement("div",{className:_j},ep.createElement("div",{className:"org_self_serve_figjam--currencyText--caJ-j org_self_serve_figjam--boldText--yYGMx org_self_serve_figjam--headerText---H57O"},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.currency_text"})),ep.createElement(uQ.D,{currency:this.state.currency,dropdownShown:this.props.dropdownShown,supportedCurrencies:(0,aQ.B9)(),changeCurrency:e=>{this.props.dispatch(m2.MN({currency:e})),this.setState({currency:e})},shortFormDisplay:!0,paddingOverride:0})),ep.createElement(pm,{height:20}),ep.createElement("div",{className:_P})),this.state.paymentError&&this.effectiveStep()===mH.X1.Payment&&ep.createElement(ep.Fragment,null,ep.createElement(uR._,{color:uR.S.INFORMATION,text:this.state.paymentError})),ep.createElement(pm,{height:16}),this.renderBillingItems(),!this.props.canSeeOrgCheckoutSeatManagement&&ep.createElement(ep.Fragment,null,ep.createElement(pm,{height:20}),ep.createElement("button",{className:`${_J} ${_$}`,onClick:this.addEditors},ep.createElement(eL.B,{className:_Q,svg:_0.A}),ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.add_additional_editors.seat_rename"}),ep.createElement("span",null)),ep.createElement(pm,{height:20})),ep.createElement("div",{className:_P}),ep.createElement(pm,{height:24}),ep.createElement(uM,{formattedSubtotal:d.formatMoney(o,{showCents:!1})}),ep.createElement(pm,{height:24}),this.renderNextButton(),ep.createElement(pm,{height:24}))),ep.createElement("div",null,ep.createElement("div",{className:"org_self_serve_figjam--summaryDividerFull--KrO-d org_self_serve_figjam--summaryDivider--M3TXD"}),ep.createElement(pm,{height:16}),ep.createElement("div",{className:_$},ep.createElement(eL.B,{svg:ps.A,className:_q}),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.have_questions",contactSales:ep.createElement("span",{className:_J,onClick:this.contactSales},ep.createElement(e$.Tx,{id:"org_self_serve.purchase_summary.contact_our_sales_team"}))}))),ep.createElement(pm,{height:16})))},this.state={loading:!0,eligibleUpgrades:[],selectedEditors:{},selectedTeamIds:new Set,payment:{card:null,last4:null,address:(0,mq.EB)((0,aQ.aE)())},apiPending:!1,stripeCustomerId:null,taxRate:0,orgDetails:{actorName:"",actorEmail:this.props.user.email,legalOrgName:"",orgName:""},paymentError:null,additionalDesignSeats:0,additionalWhiteboardSeats:0,additionalDevModeSeats:0,currency:this.props.currency,vatId:null,regionalVatId:null,newTeamName:(null==(t=this.props.newTeamProps)?void 0:t.newTeamName)||null,inviteEmails:(null==(a=this.props.newTeamProps)?void 0:a.inviteEmails)||[]}}componentDidMount(){this.fetchTeamEligibleUpgradesFigjam()}fetchTeamEligibleUpgradesFigjam(){return uG.Eh.getEligibleUpgradesFigjam().catch(e=>{let t=e.data.message;return this.props.dispatch(tL.$T({view:"recentFiles"})),this.props.dispatch(e5.s.error(t||(0,e$.t)("org_self_serve.confirmation_step.sorry_there_was_an_error_processing_your_request_refresh_and_try_again"))),this.setState({loading:!1}),Promise.reject()}).then(({data:e})=>{let t=e.meta.eligible_upgrades,a=new Set(t.map(e=>e.team.id)),r=pc(t,a),{designEditors:n,figjamEditors:l}=this.getUpgradesByEditorType(t,a,r),i=Math.max(0,uJ.u3-this.props.initialDesignSeats-Object.keys(n).length-Object.keys(l).length);this.setState({loading:!1,eligibleUpgrades:t,selectedTeamIds:a,additionalDesignSeats:i,selectedEditors:r})})}componentDidUpdate(e,t){(0,i9.zN)(e.user.email)!==(0,i9.zN)(this.props.user.email)&&ef.Ay.redirect("/purchase-organization")}designEditorCount(){let{designEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}figJamEditorCount(){let{figjamEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}devModeEditorCount(){let{devModeEditors:e}=this.getUpgradesByEditorType(this.state.eligibleUpgrades,this.state.selectedTeamIds,this.state.selectedEditors);return Object.keys(e).length}totalDesignSeatsCount(){let e=this.state.additionalDesignSeats+this.designEditorCount(),t=uJ.u3-e;return(t-=this.totalFigJamSeatsCount()+this.totalDevModeSeatsCount())>0?e+t:e}totalFigJamSeatsCount(){return this.state.additionalWhiteboardSeats+this.figJamEditorCount()}totalDevModeSeatsCount(){return this.state.additionalDevModeSeats+this.devModeEditorCount()}getSubtotal(e){let t=new aQ.vr(e).getPrices(),a={[uP.vu]:this.totalDesignSeatsCount()*t.orgFigma*12,[uP.tL]:this.totalFigJamSeatsCount()*t.orgFigjam*12,[uP.PE]:this.totalDevModeSeatsCount()*t.orgDevMode*12},r=0;return uD.kH.forEach(e=>{r+=a[e]??0}),r}async onSubmitPaymentAndAddress(){let e=this.state.payment.address,t=this.state.payment.card,a=this.state.vatId,r=this.state.regionalVatId;if(null===t){this.setState({paymentError:(0,e$.t)("org_self_serve.payment_step.sorry_please_wait")});return}this.setState({apiPending:!0}),(!a||await (0,u$.V)(a,e.country,()=>{},this.onVatValidationFail))&&(!r||await (0,u$.V)(r,e.country,()=>{},this.onVatValidationFail,e.region))&&(0,uV.Ey)(t).then(t=>{var a;if(!t.error&&t.token)return(0,uV.To)(t.token.id,this.getSubtotal(this.state.currency),this.state.currency).then(t=>ae.Ay.post("/api/orgs/validate_payment",{payment_method:t.payment_method,address:e,selected_currency:this.state.currency,vat_gst_id:this.state.vatId,regional_vat_gst_id:this.state.regionalVatId||null})).catch(e=>{var t;return this.setState({apiPending:!1,paymentError:(null==(t=e.data)?void 0:t.message)||e.message}),Promise.reject()}).then(({data:e})=>{this.setState(a=>{var r,n;return{payment:{...a.payment,last4:(null==(n=null==(r=t.token)?void 0:r.card)?void 0:n.last4)||null},stripeCustomerId:e.meta.stripe_customer_id,taxRate:e.meta.tax_percent,apiPending:!1}},()=>this.setStep(mH.X1.Review))});{let e=(null==(a=t.error)?void 0:a.message)||(0,e$.t)("org_self_serve.payment_step.there_was_an_error_processing_your_payment_please_try_again");this.setState({apiPending:!1,paymentError:e})}})}onSubmitPurchaseOrder(){this.props.dispatch(rc.b({completed_org_cart_flow:!0}));let e={legal_org_name:this.state.orgDetails.legalOrgName,org_name:this.state.orgDetails.orgName||this.state.orgDetails.legalOrgName,team_ids:Array.from(this.state.selectedTeamIds),requested_seats:{design:this.totalDesignSeatsCount(),figjam:this.totalFigJamSeatsCount(),dev_mode:this.totalDevModeSeatsCount()},stripe_customer_id:this.state.stripeCustomerId,selected_currency:this.state.currency,vat_gst_id:this.state.vatId||null,regional_vat_gst_id:this.state.regionalVatId||null};this.state.newTeamName&&(e={...e,new_team_options:{team_name:this.state.newTeamName,add_to_org:!0}}),e.design_editors=this.totalDesignSeatsCount(),e.whiteboard_editors=this.totalFigJamSeatsCount(),this.setState({apiPending:!0}),ae.Ay.post("/api/orgs",e).catch(e=>{var t,a;return this.props.dispatch(e5.s.error((0,e$.Jv)(e,(null==(t=e.data)?void 0:t.message)||(0,e$.t)("org_self_serve.review_step.sorry_there_was_an_error_please_try_again")))),(0,lL.$D)(s6.e.BILLING,Error(`[Billing] Org checkout API failed: ${null==(a=e.data)?void 0:a.message}`),{extra:{numDesignEditors:this.totalDesignSeatsCount(),numWhiteboardEditors:this.totalFigJamSeatsCount(),numDevModeSeats:this.totalDevModeSeatsCount(),eligibleUpgrades:JSON.stringify(this.state.eligibleUpgrades.map(e=>({team:e.team.id,figjamEditors:e.figjamEditors.map(e=>e.id),designEditors:e.designEditors.map(e=>e.id)}))),selectedEditors:JSON.stringify(Object.keys(this.state.selectedEditors).map(e=>({userId:e,teamIds:this.state.selectedEditors[e].teamIds}))),selectedTeamIds:JSON.stringify([...this.state.selectedTeamIds]),userId:this.props.user.id}}),this.setState({apiPending:!1}),Promise.reject()}).then(t=>{this.setState({apiPending:!1},()=>this.setStep(mH.X1.Confirmation)),this.state.inviteEmails.length&&t.data.meta.new_team&&this.props.dispatch((0,m8.rq)({emails:this.state.inviteEmails,resourceType:lB.vt.TEAM,resourceIdOrKey:t.data.meta.new_team.id,level:m5.e.EDITOR})),this.state.newTeamName&&t.data.meta.new_team&&(0,uB.Al)(this.props.user.id),(0,tn.sx)("Self Serve Org Purchased (GTM)"),(0,al.uE)("Self Serve Org Purchased",{user:this.props.user},{org_name:e.org_name,upsellSource:this.props.upsellSource})})}getUpgradesByEditorType(e,t,a){let r={},n={},l={};for(let[e,i]of Object.entries(a)){if(!i.teamIds.some(e=>t.has(e))){delete this.state.selectedEditors[e];continue}i.designEditor&&(r[e]=i),i.figjamEditor&&(n[e]=i),i.devMode&&(l[e]=i)}return e.filter(e=>t.has(e.team.id)).forEach(e=>{e.designEditors.forEach(t=>{var n;!(0,i9.nD)(t.email)&&(null==(n=a[t.id])?void 0:n.designEditor)&&(r[t.id]||(r[t.id]={user:t,teamIds:[]}),r[t.id].teamIds.includes(e.team.id)||r[t.id].teamIds.push(e.team.id))}),e.figjamEditors.forEach(t=>{var r;!(0,i9.nD)(t.email)&&(null==(r=a[t.id])?void 0:r.figjamEditor)&&(n[t.id]||(n[t.id]={user:t,teamIds:[]}),n[t.id].teamIds.includes(e.team.id)||n[t.id].teamIds.push(e.team.id))})}),{designEditors:r,devModeEditors:l,figjamEditors:n}}renderUpgradeUserList(e){return Object.keys(e).map(t=>{let a=e[t],r=a.user,n=a.teamIds.map(e=>this.state.eligibleUpgrades.find(t=>t.team.id===e).team.name),l=(0,i9.zN)(r.email)!==(0,i9.zN)(this.props.user.email),i=`userlist-handle-${r.id}`;return ep.createElement("div",{className:eS()(_W,_V),key:t,"data-tooltip-proxy-element-id":i},ep.createElement(dm.H8,{user:r}),ep.createElement("div",{className:pl.pq},ep.createElement("div",{className:pl.PZ},ep.createElement("span",{className:pl.p$,id:i,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_UPGRADE_USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-team-names":n.join(", "),"data-tooltip-timeout-delay":50},r.name),l&&ep.createElement("div",{"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_GUEST_INFO,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-max-width":250},ep.createElement(dd.Ex,{color:dd.zE.DEFAULT,subtle:!0,text:(0,e$.t)("org_self_serve.purchase_summary.guest")})))))})}render(){let e;let t=this.effectiveStep();if(this.state.loading&&!this.props.newTeamProps)return ep.createElement(e8.kt,null);let a=new Date().getMonth(),r=new Date().setMonth(a+3),n=new Date().setMonth(a+12),l=this.getSubtotal(this.state.currency),i=l*this.state.taxRate/100,s=l+i,o=this.state.eligibleUpgrades.length>0,c=new Map;this.state.eligibleUpgrades.forEach(e=>c.set(e.team,e.designEditors.length+e.figjamEditors.length));let d=e=>{var t,a;this.props.dispatch(tL.$T({teamId:null,...null==(t=this.props.newTeamProps)?void 0:t.previousView,view:"teamUpgrade",paymentStep:e,teamFlowType:(null==(a=this.props.newTeamProps)?void 0:a.teamFlowType)||e2.SC.CREATE_AND_UPGRADE}))};return e=t===mH.X1.Review?ep.createElement(ep.Fragment,null,ep.createElement(pu,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:this.state.eligibleUpgrades.length>0,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),ep.createElement(_8,{onSubmit:this.onSubmit,orgPayment:this.state.payment,renewalDate:n,subTotalCents:l,taxDueCents:i,taxRate:this.state.taxRate,totalCents:s,totalSeats:{[uP.vu]:this.totalDesignSeatsCount(),[uP.tL]:this.totalFigJamSeatsCount(),[uP.PE]:this.totalDevModeSeatsCount()},showAdditionalEditorsModal:this.addEditors,trueUpDate:r,totalTeams:this.state.selectedTeamIds.size+(this.state.newTeamName?1:0),legalOrgName:this.state.orgDetails.legalOrgName,orgName:this.state.orgDetails.orgName,user:this.props.user,loading:this.state.apiPending,renderBillingItems:this.renderBillingItems,ctaProperties:this.ctaProperties(),currency:this.state.currency})):t===mH.X1.Confirmation?ep.createElement(_5,{totalCents:s,trueUpDate:r,orgMigrated:this.props.orgMigrated,onFileBrowserClick:this.onFileBrowserClick,orgPayment:this.state.payment,currency:this.state.currency}):ep.createElement(ep.Fragment,null,this.props.isOrgAdmin&&ep.createElement(_T,{onContactSales:this.contactSales,onFileBrowserClick:this.onFileBrowserClick}),(0,i9.qe)(this.props.user.email)&&ep.createElement(_w,{onFileBrowserClick:this.onFileBrowserClick}),ep.createElement(pu,{currentStep:this.props.step,setStep:this.setStep,hasEligibleUpgrades:o,onFileBrowserClick:this.onFileBrowserClick,newTeamProps:this.props.newTeamProps,onSelectTeamUpgradeStep:d}),ep.createElement("div",{className:"org_self_serve_figjam--stepContainer--0lJIg"},t===mH.X1.CreateTeam&&ep.createElement("div",{className:"org_self_serve_figjam--createTeamContainer--dzlfO"},ep.createElement(uY,{type:uz.ORG,teamName:this.state.newTeamName||"",setTeamName:this.onChangeNewTeamName,onNext:this.onSubmit})),t===mH.X1.TeamSelect&&(this.state.loading?ep.createElement(e8.kt,null):ep.createElement(_2,{teamsToEditors:c,selectedTeamIds:this.state.selectedTeamIds,onToggle:this.onTeamToggle,newTeamName:this.state.newTeamName})),t===mH.X1.Details&&(this.state.loading?ep.createElement(e8.kt,null):ep.createElement(_3,{orgDetails:this.state.orgDetails,onChangeFormInput:this.onChangeOrgDetails})),t===mH.X1.Payment&&ep.createElement(ac.P,{className:eS()(_O,_F),hideScrollbar:!0},ep.createElement("div",{className:_M},ep.createElement(e$.Tx,{id:"org_self_serve.payment_step.enter_your_payment_details"})),ep.createElement("form",{className:"org_self_serve_figjam--paymentForm--ohf1-"},ep.createElement(uK.n,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",address:this.state.payment.address,onCardReady:this.onCardReady,onAddressChange:this.onAddressChange,onClearToken:this.onClearToken,onVatIdChange:this.onVatIdChange,vatId:this.state.vatId,onRegionalVatIdChange:this.onRegionalVatIdChange,regionalVatId:this.state.regionalVatId,isCommunityCheckout:!1}))),t!==mH.X1.CreateTeam&&this.renderPurchaseSummary())),ep.createElement(eH.fu,{name:e4.e0.ORG_CART,properties:{step:t,currency:this.state.currency,upsellSource:this.props.upsellSource}},ep.createElement("div",{className:"org_self_serve_figjam--selfServePage--f3ZqF"},e))}}function pm(e){return ep.createElement("div",{style:{height:e.height||12}})}function pu(e){var t;if(e.currentStep===mH.X1.Confirmation)return null;let a=[],r=null;if(e.newTeamProps){let n={step:mH.X1.ChoosePlan,name:(0,e$.t)("org_self_serve.headers.choose_plan")},l={step:mH.X1.CreateTeam,name:(0,e$.t)("org_self_serve.headers.create_team")};switch(null==(t=e.newTeamProps)?void 0:t.teamFlowType){case e2.SC.CREATE:a.push({step:mH.X1.PseudoCreateTeam,name:(0,e$.t)("org_self_serve.headers.create_team")}),a.push({step:mH.X1.AddCollaborators,name:(0,e$.t)("org_self_serve.headers.add_team_members")}),a.push(n);break;case e2.SC.CREATE_AND_UPGRADE:a.push(n),a.push(l),r=mH.X1.CreateTeam;break;case e2.SC.UPGRADE_EXISTING_TEAM:a.push(n)}}(e.hasEligibleUpgrades||e.newTeamProps)&&(a.push({step:mH.X1.TeamSelect,name:(0,e$.t)("org_self_serve.headers.teams_to_upgrade")}),r=r??mH.X1.TeamSelect),a.push({step:mH.X1.Details,name:(0,e$.t)("org_self_serve.headers.organization_details")}),a.push({step:mH.X1.Payment,name:(0,e$.t)("org_self_serve.headers.payment")}),a.push({step:mH.X1.Review,name:(0,e$.t)("org_self_serve.headers.review")}),r=r??mH.X1.Details,a[a.findIndex(e=>e.step===r)].step=mH.X1.Initial;let n=0;for(let t=0;t<a.length;t++)if(a[t].step===e.currentStep){n=t;break}let l=(0,eH.tf)(function(e){return ep.createElement("div",{className:"org_self_serve_figjam--cancelMenuItem--Y1wSa",onClick:e.onClick},ep.createElement(e$.Tx,{id:"org_self_serve.headers.cancel"}))});return ep.createElement("div",{className:"org_self_serve_figjam--menuContainer--LI-CI"},ep.createElement(l,{onClick:e.onFileBrowserClick}),ep.createElement("div",{className:_G},a.map((t,a)=>ep.createElement(m6.On,{key:a+1,selected:e.currentStep===t.step,number:a+1,text:t.name,onClick:()=>{let r=function(e){switch(e){case mH.X1.ChoosePlan:return mq.tn.PLAN_COMPARISON;case mH.X1.AddCollaborators:return mq.tn.ADD_COLLABORATORS;case mH.X1.PseudoCreateTeam:return mq.tn.CREATE_TEAM;default:return null}}(t.step);r&&e.onSelectTeamUpgradeStep?e.onSelectTeamUpgradeStep(r):window.history.go(a-n)},canClick:a<n,lightText:!0}))))}pd.displayName="OrgSelfServePage";let p_=(0,eg.Ng)(function(e){return{user:e.user,isOrgAdmin:(0,uW.x9)(e.orgUsersByOrgId.orgUsers,e.user.id).some(e=>e.permission===lB._D.ADMIN),currency:e.payment.currency||(0,aQ.LN)()}})(pd);function pp(e){let t=(0,uF.H6)();return ep.createElement(p_,{...e,canSeeOrgCheckoutSeatManagement:t})}var pg=a(898686),pE=a(333930),pf=a(542035),ph=a(137470),pv=a(598721);function pb(e){return{[lB.bU.PUBLIC]:ep.createElement(e$.Tx,{id:"org_access_strings.public.description_with_org_name",orgName:e}),[lB.bU.PRIVATE]:ep.createElement(e$.Tx,{id:"org_access_strings.closed.description_with_org_name",orgName:e}),[lB.bU.SECRET]:ep.createElement(e$.Tx,{id:"org_access_strings.secret.description_with_org_name",disclaimerLabel:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"org_access_strings.secret.description.disclaimer_label"})),orgName:e})}}let py="team-org-access-dropdown";function pw(e){let t=(0,eg.wA)(),a=e.dropdownShown&&e.dropdownShown.type===py;return ep.createElement("div",{className:"team_org_access_dropdown--orgAccess--GQVKH"},ep.createElement("button",{className:"team_org_access_dropdown--select--UzcX4",onClick:e=>{e.stopPropagation(),e.preventDefault(),a?t(tL.oB()):t(tL.j7({type:py}))}},(0,ph.ZP)()[e.orgAccess],ep.createElement(eL.B,{svg:c5.A,className:"team_org_access_dropdown--downCaret--OgdqC"})),a&&ep.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--mDs7x"},ep.createElement(pv.W.Dropdown,{className:"team_org_access_dropdown--orgAccessDropdown--zzFC-"},ep.createElement(pv.W.CheckableOption,{checked:e.orgAccess===lB.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(lB.bU.PUBLIC)}},(0,ph.ZP)()[lB.bU.PUBLIC]),ep.createElement(pv.W.CheckableOption,{checked:e.orgAccess===lB.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(lB.bU.PRIVATE)}},(0,ph.ZP)()[lB.bU.PRIVATE]),ep.createElement(pv.W.CheckableOption,{checked:e.orgAccess===lB.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(lB.bU.SECRET)}},(0,ph.ZP)()[lB.bU.SECRET]))))}let pT="team_creation--createTeamText--lRErg";function px({currentTeamId:e,currentUserOrgId:t,user:a,selectedView:r,dropdownShown:n,teamCreation:l}){let i=(0,eg.wA)(),[s,o]=(0,ep.useState)(null),[c,d]=(0,ep.useState)(lB.bU.PUBLIC),m=(0,um.FC)(),u=r.ignoreCurrentPlan,_=t&&!u?m.orgById[t]:null,p=!e&&!t,g=(0,ep.useRef)(null);(0,ep.useEffect)(()=>{if(g.current)for(let e=0;e<g.current.elements.length;e++){let t=g.current.elements[e];if(!t.value){t.focus();break}}t&&!u&&(0,tn.sx)("team_creation_started",{user_id:(null==a?void 0:a.id)??"",org_id:t})},[t,a,u]);let E=e=>{var t;e.preventDefault(),e.stopPropagation(),s?(i((0,pE.KQ)({teamName:s,orgAccess:c,dontRedirect:!!r.onSubmitReturnToPrevView,ignoreCurrentPlan:u})),r.onSubmitReturnToPrevView&&i(tL.$T((null==(t=ef.Ay.location.state)?void 0:t.previousSelectedView)||{view:"recentFiles"}))):i(e5.s.error((0,e$.t)("team_creation.your_team_name_cannot_be_empty")))},f=!(t&&!u)&&!r.onSubmitReturnToPrevView,h=(0,eh.kc)().ps_benchmark&&p?null:ep.createElement(m7,{onClick:()=>{var e;i(tL.$T((null==(e=ef.Ay.location.state)?void 0:e.previousSelectedView)||{view:"recentFiles"}))}},ep.createElement(eL.B,{svg:ua.A,className:"team_creation--modalCloseX---y-4B"}));return ep.createElement(eH.fu,{name:"Team Creation"},ep.createElement("div",null,ep.createElement(ue,{menu:h},f&&ep.createElement(m9,{index:1}),ep.createElement("form",{ref:g,onSubmit:E},ep.createElement(m6.JR,null,ep.createElement(e$.Tx,{id:"team_creation.create_a_team_title"})),ep.createElement("div",{className:"team_creation--newTeamContainer--SKOmq team_creation--newTeamContainerBase--wicoE"},ep.createElement("div",{className:"team_creation--teamNameContainer--ZaEcO"},ep.createElement("div",{className:"team_creation--teamNameLabel--q3Cgy"},ep.createElement(e$.Tx,{id:"team_creation.team_name_label"})),ep.createElement(eI.il,{value:s||"",onChange:e=>{o(e.target.value)},className:"team_creation--newTeamInput--BdKIV",maxLength:255,placeholder:(0,e$.t)("team_creation.team_name_input_placeholder")})),_?ep.createElement("div",{className:"team_creation--orgTeamSettings--UDxNq"},ep.createElement("div",{className:eT.cx.flex.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"team_creation.access_within_the_organization"})),ep.createElement(pw,{orgAccess:c,dropdownShown:n,onChangeOrgAccess:e=>{d(e)}})),ep.createElement("div",{className:pT},pb(_.name)[c])):ep.createElement("div",{className:pT},ep.createElement(e$.Tx,{id:"team_creation.after_creating_a_team_you_can_invite_others_to_join"})),ep.createElement(eI.nD,{className:t?"team_creation--createTeamButtonOrg--tG-GA":"team_creation--createTeamButton--iXsoS",type:"submit",disabled:l.loading,onClick:E},ep.createElement(e$.Tx,{id:"team_creation.create_team_button"})))))))}function pC(e){var t,a,r;let n=(0,eg.wA)(),l=e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,i=null==(r=null==(a=null==(t=(0,uW.xw)(e))?void 0:t.workspace_users)?void 0:a.find(e=>e.is_main_workspace))?void 0:r.workspace_id,{cannotCreateTeamReason:s}=(0,pf.l6)(l,i);return(0,ph.R$)(e.user,e.currentUserOrgId)||s===pf.z4.TEAM_CREATION_CONTROL&&!(0,eh.kc)().ps_benchmark?(ef.Ay.redirect("/"),n(e5.s.error((0,e$.t)("team_creation.missing_team_creation_controls"))),null):ep.createElement(px,{...e})}var pN=a(521120),pk=a(571445);let pS="team_restore--page--Y6E07",pI="team_restore--section--7Aekp",pA="team_restore--button--meVA6";function pL(e){let t,a;let r=(0,eg.wA)(),[n,l]=ep.useState(!1);ep.useEffect(()=>{l(!0);let t=e.selectedView.teamId;pk.$.getDeleted({teamId:t}).then(({data:e})=>{r(m3.bE({team:e.meta})),l(!1)}).catch(e=>{400!==e.status&&(r(tL.$T({view:"recentFiles"})),r(e5.s.error(`${e.data.message}`))),l(!1)})},[r,e.selectedView.teamId]);let i=()=>{r(tL.$T({view:"recentFiles"}))},s=e.selectedView.teamId,o=e.teams[s],c=ep.createElement(eI.vd,{className:pA,onClick:i},ep.createElement(e$.Tx,{id:"team_restore.back"}));if(o){if(o.deleted_at){let n=(0,pN.A)(o.deleted_at).add(28,"days").toDate();t=(0,e$.t)("team_restore.confirm_restore_header",{teamName:o.name}),a=ep.createElement("div",null,ep.createElement(e$.Tx,{id:"team_restore.confirm_restore"}),ep.createElement("br",null),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"team_restore.confirm_restore_deadline",deleteDeadline:n})),c=ep.createElement(eI.vd,{className:pA,onClick:()=>{r(m3.I9({teamId:e.selectedView.teamId}))}},ep.createElement(e$.Tx,{id:"team_restore.restore"}))}else t=(0,e$.t)("team_restore.ineligible"),a=(0,e$.t)("team_restore.questions")}else{if(n)return ep.createElement("div",{className:pS},ep.createElement("div",{className:pI},ep.createElement(e8.kt,null)));t=(0,e$.t)("team_restore.expired_header"),a=ep.createElement("div",null,ep.createElement(e$.Tx,{id:"team_restore.expired"}),ep.createElement("br",null),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"team_restore.questions"}))}return ep.createElement(eH.fu,{name:"Team Restore",properties:{teamId:s}},ep.createElement(ue,{menu:ep.createElement(eL.B,{svg:ua.A,onClick:i,className:"team_restore--modalCloseX--C821S"})},ep.createElement("div",{className:pS},ep.createElement("div",{className:pI},ep.createElement("div",{className:"team_restore--header--ytriA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),ep.createElement("div",{className:"team_restore--text--PhH8s text--fontPos12--YsUAh text--_fontBase--QdLsd"},a),c))))}var pR=a(639772),pO=a(179320),pF=a(63718),pM=a(178491),pD=a(986873);let pP="step_pay--smallGrayText--cvubG",pB="step_pay--smallText--mu9MA text--fontPos11--2LvXf text--_fontBase--QdLsd",pU="step_pay--rowFlex--LWo7N step_pay--row--n1-KW";function pW(e){let t=ep.useRef(null),[a,r]=ep.useState(!1),[n,l]=ep.useState(null),i=new aQ.vr(e.currency),s=i.getPrices(),o=!e.allowZeroSeats,c=e.numAnnualEditors-(e.numFreeAnnualEditors||0),d=!!e.numFreeAnnualEditors,m=!d||c>0,u=t=>{e.onNumAnnualEditorsChange(t)},_=void 0!==e.monthlyCostOverride?e.monthlyCostOverride:e.editorType===lB._Y.WHITEBOARD?s.annualFigjam:s.annualFigma,p=ep.createElement("button",{type:"button",className:"step_pay--changeLink--r26a3 blue_link--blueLink--9rlnd","data-testid":`add-${e.editorType}-seats`,onClick:()=>r(!0)},ep.createElement(e$.Tx,{id:"payments.step_pay.add_more_seats"}));return ep.createElement("div",{className:pU,key:`${e.editorType}-step-pay-row`},ep.createElement("div",null,ep.createElement("div",{className:"step_pay--flex--SPcXa"},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"payments.step_pay.editors_on_annual_plan.seat_rename",numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:a?ep.createElement(eI.ks,{ref:t,className:"step_pay--numEditorsInput--VHyar",value:null==n?e.numAnnualEditors:n,onChange:e=>{l(e.target.value)},onBlur:()=>{let t=parseInt(n);if(!isNaN(t)){if(t<0)e.dispatch(e5.s.error((0,e$.t)("flash.no_negative_seats")));else if(0===t)o?e.dispatch(e5.s.error((0,e$.t)("flash.at_least_one_editor.seat_rename"))):u(0);else if(t>pM.m){let t=ep.createElement("a",{href:"mailto:support@figma.com"},ep.createElement(e$.Tx,{id:"flash.annual_plan.contact_support_link"}));e.dispatch(e5.s.error(ep.createElement(e$.Tx,{id:"flash.annual_plan.contact_support",contactSupport:t,maxAnnualSubscriptions:pM.m})))}else t>100?e.dispatch(e0.to({type:pH,data:{numAnnualEditors:t,onConfirm:()=>u(t)}})):u(t)}l(null),r(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===ou.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===ou.Uz.ESCAPE&&r(!1)}}):e.numAnnualEditors,productType:(0,pD.E)((0,uP.vc)(e.editorType))}))),!a&&ep.createElement("div",{className:eT.cx.flex.flexColumn.gap4.$},e.editorBreakdown,ep.createElement("p",{className:pP},ep.createElement(e$.Tx,{id:"payments.step_pay.add_more_editors",addMoreSeats:p})))),ep.createElement(p$,{amount:e.totalCost,freeLineItem:d&&e.numFreeAnnualEditors?e.numFreeAnnualEditors>0?(0,e$.t)("payments.step_pay.price_per_editor_12_months",{price:i.formatMoney(0,{showCents:!1}),editorString:(0,e$.t)("payments.step_pay.num_editors.seat_rename",{numEditors:e.numFreeAnnualEditors})}):(0,e$.t)("payments.step_pay.none_selected"):void 0,lineItem:m?c>0?(0,e$.t)("payments.step_pay.price_per_editor_12_months",{price:i.formatMoney(_,{showCents:!1}),editorString:(0,e$.t)("payments.step_pay.num_editors.seat_rename",{numEditors:c})}):(0,e$.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function pV(){return ep.createElement("div",{className:"step_pay--separator--zNXJA"})}function pG(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:a}=e,r=(0,u2.mF)(mq.tY.ANNUAL),[n,l]=ep.useState({jamboardOfferSeatsRemaining:0,numAnnualFigjamPaidSeats:0,numJamboardFreeSeatsUsed:0,shouldRedeemJamboardOffer:!1}),i=(0,u2.lA)(a),s=(0,u2.U8)({numWhiteboardEditors:a,billingPeriod:mq.tY.ANNUAL}),o=(0,u2.PJ)({numWhiteboardEditors:a,billingPeriod:mq.tY.ANNUAL});ep.useEffect(()=>{e.submitPending||l({jamboardOfferSeatsRemaining:i,numAnnualFigjamPaidSeats:s,numJamboardFreeSeatsUsed:o,shouldRedeemJamboardOffer:r})},[r,i,s,o,e.submitPending]);let c=new aQ.vr(e.currency).getPrices(),{isTeamPro:d,totalDesignEditors:m,totalWhiteboardEditors:u}=e,_=m-t,p=t*c.annualFigma*12,g=_*c.monthlyFigma,E=p+(!d&&_>0?g:0),f=u-n.numAnnualFigjamPaidSeats,h=n.numAnnualFigjamPaidSeats*c.annualFigjam*12,v=f*c.monthlyFigjam,b=h+(!d&&f>0?v:0);return ep.createElement("div",null,ep.createElement(pW,{dispatch:e.dispatch,editorType:lB._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==a,currency:e.currency,totalCost:E}),ep.createElement(pW,{dispatch:e.dispatch,editorType:lB._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:a,numFreeAnnualEditors:n.shouldRedeemJamboardOffer?n.numJamboardFreeSeatsUsed:null,allowZeroSeats:0!==t,currency:e.currency,totalCost:b,monthlyCostOverride:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats<=0?0:void 0,editorBreakdown:n.shouldRedeemJamboardOffer&&n.numAnnualFigjamPaidSeats>0?ep.createElement(ep.Fragment,null,n.numJamboardFreeSeatsUsed>0&&ep.createElement("p",{className:pB},ep.createElement(e$.Tx,{id:"payments.step_pay.x_free_editor_seats.seat_rename",numEditors:n.numJamboardFreeSeatsUsed,seatString:ep.createElement(e$.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numJamboardFreeSeatsUsed})})),n.numAnnualFigjamPaidSeats>0&&ep.createElement("p",{className:pB},ep.createElement(e$.Tx,{id:"payments.step_pay.x_paid_editor_seats.seat_rename",numEditors:n.numAnnualFigjamPaidSeats,seatString:ep.createElement(e$.Tx,{id:"payments.step_pay.x_seats",numSeats:n.numAnnualFigjamPaidSeats})}))):void 0}),n.shouldRedeemJamboardOffer&&ep.createElement("div",{className:eT.cx.pb24.$},ep.createElement(_o,{numOfferSeatsRemaining:n.jamboardOfferSeatsRemaining})),ep.createElement(pV,null),ep.createElement("div",{className:pU},ep.createElement("div",{className:"step_pay--totalLabelText--jx6nm"},ep.createElement(e$.Tx,{id:"payments.step_pay.subscription"})),ep.createElement(pj,{amount:E+b,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function p$(e){let t=new aQ.vr(e.currency);return ep.createElement("div",{className:"step_pay--subtotal--Mo4IZ"},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",ep.createElement("div",{className:eT.cx.flex.flexColumn.gap4.$},e.freeLineItem&&ep.createElement("div",{className:pP},e.freeLineItem),e.lineItem&&ep.createElement("div",{className:pP},e.lineItem)))}function pj(e){let t=new aQ.vr(e.currency);return ep.createElement("div",{className:"step_pay--total--03jKX"},ep.createElement("p",{className:"step_pay--totalText--M6a6r step_pay--jumboText--i1Ax8","data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&ep.createElement("p",{className:"step_pay--plusTaxText---D3m0"},ep.createElement(e$.Tx,{id:"payments.step_pay.plus_sales_tax"})))}let pH="confirm-seats-modal";function pq(e){let t=e.modalShown.data.numAnnualEditors;return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,e$.t)("payments.step_pay.confirm_seats"),...e},ep.createElement(e$.Tx,{id:"payments.step_pay.happy_you_want_to_buy_seats",numAnnualEditors:t}))}(0,am.qK)(pH,e=>ep.createElement(pq,{...e}));let pz="admin_settings_page--innerLoadingSpinner--mqPGm",pY="legacy_upgrade--closeButton--mvTrw";function pK(e){let{dispatch:t,loadingState:a,selectedView:r,payment:n,payment:{submitPending:l},teams:i,teamBilling:s,teamUserByTeamId:o}=e,c=i[r.teamId],d=pR.Be.loadingKeyForPayload({teamId:c.id}),m=(0,u2.hP)(mq.tY.ANNUAL);if((0,ep.useEffect)(()=>{(0,e1.VP)(a,d)||(0,e1.D2)(a,d)||t(pR.Be({teamId:c.id}))},[a,t,d,c.id]),(0,e1.VP)(a,d)&&!(0,e1.D2)(a,d))return ep.createElement(e8.kt,{className:pz});let{taxes:u,numDesignEditors:_,numWhiteboardEditors:p}=n,g=ep.createElement(eL.B,{svg:ua.A,onClick:()=>{(0,tn.sx)("Add Annual Plan Canceled",{teamId:r.teamId}),window.history.length<=1?t(tL.$T({view:"team",teamId:r.teamId})):history.go(-1)},className:pY}),{currency:E}=s.summary,f=c.editors,h=o[c.id]||{},v=Object.keys(h).filter(e=>{var t;return(null==(t=h[e])?void 0:t.whiteboard_paid_status)===pO.Zf.FULL}).length,b=new aQ.vr(E),y=b.getPrices();return ep.createElement("div",{className:"legacy_upgrade--addAnnualPlan--NVBHA"},ep.createElement(ue,{menu:g},ep.createElement(eH.fu,{name:"Step Pay"},ep.createElement("div",{className:"step_pay--addAnnualPlan--VntAn"},ep.createElement(m6.JR,null,ep.createElement(e$.Tx,{id:"payments.add_annual_plan.title"})),ep.createElement(m6.Kh,null,ep.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--jYC60"},ep.createElement(e$.Tx,{id:"payments.add_annual_plan.intro.seat_rename",monthlyDesignEditorCost:b.formatMoney(y.monthlyFigma,{showCents:!1}),monthlyFigjamEditorCost:b.formatMoney(y.monthlyFigjam,{showCents:!1})}))),ep.createElement("div",{className:"step_pay--paymentForm--MzeA8"},ep.createElement(pG,{totalDesignEditors:f,totalWhiteboardEditors:v,numAnnualDesignEditors:_||0,numAnnualWhiteboardEditors:p||0,onNumAnnualDesignEditorsChange:e=>{t(m2.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(m2.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(tL.$T({view:"team",teamId:r.teamId,teamViewTab:pF.A.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:u,teamId:r.teamId,currency:E,submitPending:l}),ep.createElement("form",{onSubmit:e=>{e.preventDefault(),t(rc.b({completed_pro_cart_flow:!0})),t(m2.I2({submitPending:!0})),t(m2.XF({teamId:r.teamId,promotionCodeId:m??void 0}))}},ep.createElement("div",{className:"step_pay--bigTerms--HL5nN"},ep.createElement(e$.Tx,{id:"payments.add_annual_plan.auto_renew.seat_rename",cancellingIsEasyLink:ep.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},ep.createElement(e$.Tx,{id:"payments.add_annual_plan.cancelling_is_easy_link_text"}))}),ep.createElement("br",null),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"payments.add_annual_plan.tos",tosLink:ep.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},ep.createElement(e$.Tx,{id:"payments.add_annual_plan.tos_link_text"}))})),ep.createElement("div",{className:"step_pay--flowActionsSingle--v8OiO step_pay--row--n1-KW"},ep.createElement(eI.vd,{type:"submit",disabled:l,className:"step_pay--bigButton--1YYRI"},ep.createElement(e$.Tx,{id:"payments.add_annual_plan.cta_text"})))))))))}var pJ=a(76707),pZ=a(306105),pQ=a(308930);function pX(e){let t=(0,eg.d4)(e=>e.user),[a,r]=ep.useState(()=>(0,aQ.LN)()),n=pZ.b.UPGRADE_NEW_TEAM,l=(0,eg.wA)(),i=(0,uF.WQ)(!1,!1)&&(0,uU.Hw)(t),s=(t,r)=>{let n=e.selectedView;l(m2.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:a,billingPeriod:r}))},o=null===e.selectedView.teamId?void 0:()=>{var t;let a=(0,eh.kc)().ps_benchmark,r=null==(t=e.user)?void 0:t.id;if(a&&r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};l(mB._l({workspace:t,view:{view:"allProjects"}}))}else l(tL.$T({view:"team",teamId:e.selectedView.teamId}))},c=e.selectedView.teamId,d=ep.useRef(null);return ep.createElement(eH.fu,{name:"Upgrade Team",properties:{teamId:c,step:mq.tn.UPGRADE_NEW_TEAM}},ep.createElement("div",{className:"legacy_upgrade--teamUpgrade--fhq9K"},ep.createElement(ue,{menu:ep.createElement(m7,{onClick:()=>{var t;let a=(0,eh.kc)().ps_benchmark,r=null==(t=e.user)?void 0:t.id,n=e.selectedView.teamId;if(a){let t={view:"recentFiles"};r&&n?l(mB._l({workspace:{userId:r,teamId:n,orgId:null},view:e.selectedView.previousView||t})):l(tL.$T(e.selectedView.previousView||t))}else l(tL.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentFiles"})))}},ep.createElement(eL.B,{svg:ua.A,className:pY})),pageRef:d},ep.createElement(m9,{index:3}),ep.createElement(eH.fu,{name:"Upgrade New Team",properties:{teamId:c,trackingDescriptor:o3.c.UPGRADE_YOUR_TEAM}},ep.createElement("div",{className:eS()(e.className,{"step_upgrade_new_team--container--FLnI2":!i})},ep.createElement(m6.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--Jr-Ie step_upgrade_new_team--stepTitle--Sa8v2"},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"plan_details.choose_your_team_plan"}))),ep.createElement(pJ.O,{currency:a,chooseStarterPlan:o,chooseProPlan:e=>s(null,e),chooseOrgPlan:()=>{l(m2.Bq({currency:a,upsellSource:n}))},updateCurrency:e=>{r(e),l(tL.oB())},upsellSource:n,parentRef:d}),i&&ep.createElement(pQ.V,null))))))}var p0=a(21133),p1=a(21194),p2=a(466172),p4=a(99008),p3=a(813921),p8=a(50236),p5=a(292363);let p6="564px",p9=(0,s5.s)((e,t)=>t(t6.F.enqueue({message:e}))),p7=(0,eg.Ng)(function(e,t){let a=t.selectedView.teamId?e.teamUserByTeamId[t.selectedView.teamId]||{}:null,r=(0,pM.BR)(a,e.user);return{payment:e.payment,teamUsers:r,team:t.selectedView.teamId?e.teams[t.selectedView.teamId]:null,editorStatusChanges:e.payment.editorStatusChanges}})(function(e){let{editorStatusChanges:t,teamUsers:a}=e,r=e.dispatch,n=e.payment.billingPeriod===mq.tY.STUDENT,{increment:l,decrement:i}=(0,p4.$7)(),[s,o]=(0,ep.useState)(!0),c=(0,ep.useCallback)((e,a,n)=>{let l=[...t[a][e]];l.splice(n,1),r(m2.Je({editorStatusChanges:{...t,[a]:{...t[a],[e]:l}}}))},[r,t]),d=(e,t,a)=>{switch(e){case lB._Y.WHITEBOARD:switch(t){case"upgrade":return(0,e$.t)("pro_cart.adjust_editors.will_become_figjam_editor.seat_rename",{email:a});case"downgrade":return(0,e$.t)("pro_cart.adjust_editors.will_become_figjam_viewer",{email:a});default:(0,eC.xb)(t)}case lB._Y.DESIGN:case lB._Y.SLIDES:switch(t){case"upgrade":return(0,e$.t)("pro_cart.adjust_editors.will_become_design_editor.seat_rename",{email:a});case"downgrade":return(0,e$.t)("pro_cart.adjust_editors.will_become_design_viewer",{email:a});default:(0,eC.xb)(t)}default:(0,eC.xb)(e)}},m=(0,ep.useCallback)((e,a)=>()=>{let n;if(o(!1),-1!==(n=t.upgrade[e].indexOf(a.id)))c(e,"upgrade",n),p9(d(e,"downgrade",a.email),r),i(e,a.email);else if(-1!==(n=t.downgrade[e].indexOf(a.id)))c(e,"downgrade",n),p9(d(e,"upgrade",a.email),r),l(e,a.email);else{let n=a["whiteboard"===e?"whiteboard_paid_status":"design_paid_status"]===pO.Zf.FULL?"downgrade":"upgrade",s=[...t[n][e]];s.push(a.id),r(m2.Je({editorStatusChanges:{...t,[n]:{...t[n],[e]:s}}})),p9(d(e,n,a.email),r),("upgrade"===n?l:i)(e,a.email)}},[r,t,i,l,c,o]),u=(0,pM.Ky)(e.teamUsers,t,lB._Y.DESIGN),_=(0,pM.Ky)(e.teamUsers,t,lB._Y.WHITEBOARD),p=e.payment.numDesignEditors,g=Math.max(p,u),E=Math.max(_,e.payment.numWhiteboardEditors);g!==p&&r(m2.js({numDesignEditors:g})),E!==e.payment.numWhiteboardEditors&&r(m2.Az({numWhiteboardEditors:E}));let f=(0,pM.O1)(p,u),h=(0,pM.O1)(e.payment.numWhiteboardEditors,_),v=(0,u2.mF)(e.payment.billingPeriod),b=v&&_<=u2.xr,y=()=>{r(e0.to({type:_C,data:{seatDataByLicenseType:{[uP.vu]:{minSeats:u,currentSeats:g,seatUnitCostInCents:(0,_g.ok)(e.payment.billingPeriod,e.currency)},[uP.tL]:{minSeats:_,currentSeats:E,seatUnitCostInCents:(0,_g.hH)(e.payment.billingPeriod,e.currency)}},showAnnualPrice:e.payment.billingPeriod===mq.tY.ANNUAL,updateAdditionalSeats:e=>{r(m2.js({numDesignEditors:e[uP.vu]})),r(m2.Az({numWhiteboardEditors:e[uP.tL]}))},dispatch:r,currency:e.currency,isProTeam:!0}}))},w=ep.useCallback((e,a)=>e["whiteboard"===a?"whiteboard_paid_status":"design_paid_status"]===pO.Zf.FULL&&!t.downgrade[a].includes(e.id)||t.upgrade[a].includes(e.id),[t.downgrade,t.upgrade]),T=a.reduce((e,t)=>(e[t.id]={design:w(t,lB._Y.DESIGN),whiteboard:w(t,lB._Y.WHITEBOARD),slides:w(t,lB._Y.SLIDES)},e),{}),x=!1,C=0;for(let t of e.teamUsers)if(T[t.id].whiteboard&&C++,T[t.id].design&&C++,x=1===C,C>1)break;let N=new Set(e.teamUsers.filter(e=>T[e.id].whiteboard).map(e=>e.id).slice(0,u2.xr)),k=e.teamUsers[0];(0,ep.useEffect)(()=>{var a,n,c;v&&0===E&&(null==k?void 0:k.id)&&!e.isLoading&&s?(1===C&&w(k,lB._Y.DESIGN)?(r(m2.Je({editorStatusChanges:{downgrade:{...t.downgrade,design:[k.id,...t.downgrade.design]},upgrade:{...t.upgrade,whiteboard:[k.id,...t.upgrade.whiteboard]}}})),l(lB._Y.WHITEBOARD,k.email),i(lB._Y.DESIGN,k.email)):0===C&&(r(m2.Je({editorStatusChanges:{...t,upgrade:{...t.upgrade,whiteboard:[k.id,...t.upgrade.whiteboard]}}})),l(lB._Y.WHITEBOARD,k.email)),o(!1)):0===C&&!e.isLoading&&(null==k?void 0:k.id)&&(r(m2.Je({editorStatusChanges:{...t,upgrade:{design:[k.id,...(null==(a=null==t?void 0:t.upgrade)?void 0:a.design)??[]],whiteboard:[k.id,...(null==(n=null==t?void 0:t.upgrade)?void 0:n.whiteboard)??[]],slides:[k.id,...(null==(c=null==t?void 0:t.upgrade)?void 0:c.slides)??[]]}}})),l(lB._Y.DESIGN,k.email),l(lB._Y.WHITEBOARD,k.email))},[r,t,C,e.isLoading,k.id,k.email,l,v,E,w,k,s,i]);let S=(0,u2.lA)(E);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.Fb},ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.choose_your_figma_design_and_figjam_editors.seat_rename"})),ep.createElement(eI.Kz,{multiple:.5}),ep.createElement("div",{className:uH.b0,style:u1.sx.add({width:p6,margin:"auto"}).$},v?ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.subtitle.dont_need_access_to_figma_design"}):ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.subtitle"})),ep.createElement(eI.Kz,{multiple:3}),v&&ep.createElement("div",{style:u1.sx.add({width:p6,margin:"auto"}).$},ep.createElement(_o,{numOfferSeatsRemaining:S}),e.error&&ep.createElement(eI.Kz,{multiple:1.5})),e.error&&ep.createElement("div",{style:u1.sx.add({width:p6,margin:"auto"}).$},ep.createElement(uR._,{color:uR.S.ERROR,text:e.error})),(v||e.error)&&ep.createElement(eI.Kz,{multiple:2}),ep.createElement("div",{className:uH.sD},ep.createElement("div",{className:uH.re},ep.createElement(eI.Kz,{multiple:2.5}),ep.createElement("div",{className:uH.Ks},ep.createElement("div",{className:`${uH.HY} ${uH.ab} ${uH.p7}`},ep.createElement("div",{className:uH.Ps},e.team?ep.createElement(e7.rE,{key:e.team.id,entity:e.team,size:24}):ep.createElement(e7.rE,{key:e.teamName,entity:{name:e.teamName},size:24}))),ep.createElement("div",{className:`${uH.HY} ${uH.E0}`},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.figma_design_column_title"})),ep.createElement(eI.Kz,{multiple:.75}),ep.createElement("div",{className:uH.EU},(0,_g.dx)(e.payment.billingPeriod,e.currency)),ep.createElement(ep.Fragment,null,ep.createElement(eI.Kz,{multiple:.75}),ep.createElement(uZ.G,null))),ep.createElement("div",{className:`${uH.HY} ${uH.E0}`},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"general.figjam"})," "),ep.createElement(eI.Kz,{multiple:.75}),b?ep.createElement(dd.Ex,{className:eT.cx.mt2.$,color:dd.zE.FIGJAM,text:ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}):ep.createElement("div",{className:uH.EU},(0,_g.wd)(e.payment.billingPeriod,e.currency)))),ep.createElement(eI.Kz,{multiple:2.5})),ep.createElement("div",{className:uH.re},e.isLoading&&ep.createElement(eI.Kz,{multiple:1.5}),ep.createElement(eV.x,{isLoading:e.isLoading},()=>ep.createElement(ep.Fragment,null,e.teamUsers.map((t,a)=>{let r=a===e.teamUsers.length-1,l=v&&_>u2.xr&&N.has(t.id);return ep.createElement("div",{key:t.id},ep.createElement(eI.Kz,{multiple:1.5}),ep.createElement("div",{className:uH.Ks},ep.createElement("div",{className:uH.ab},ep.createElement(dm.H8,{user:t}),ep.createElement("div",{className:uH.QB},ep.createElement("div",{className:uH.ni},t.handle),ep.createElement("div",{className:uH.W},t.email))),ep.createElement("div",{className:uH.E0},ep.createElement("span",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":T[t.id].design&&x?v?(0,e$.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,e$.t)("pro_cart.adjust_editors.at_least_one_editor.seat_rename"):(0,e$.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},ep.createElement(eI.tB,{id:`toggle-design-editor-${t.id}`,checked:T[t.id].design,disabled:n||x&&T[t.id].design,onChange:m(lB._Y.DESIGN,t),className:uH.kv}))),ep.createElement("div",{className:uH.E0},ep.createElement("span",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":T[t.id].whiteboard&&x?(0,e$.t)("pro_cart.adjust_editors.to_uncheck_first_check_another"):(0,e$.t)("pro_cart.adjust_editors.checkbox_toggle_explanation.seat_rename")},ep.createElement(eI.tB,{id:`toggle-whiteboard-editor-${t.id}`,checked:T[t.id].whiteboard,disabled:n||x&&T[t.id].whiteboard,onChange:m(lB._Y.WHITEBOARD,t),className:uH.kv})),l&&ep.createElement(dd.Ex,{className:eT.cx.ml10.mr0.$,color:dd.zE.FIGJAM,text:ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.offer_badge"})}))),ep.createElement(eI.Kz,{multiple:1.5}),!(n&&r)&&ep.createElement("div",{className:uH.pV}))}),!n&&ep.createElement(ep.Fragment,null,ep.createElement(eI.Kz,{multiple:2.5}),ep.createElement("div",{className:uH.Su},ep.createElement("div",{className:uH.ab},ep.createElement("div",{className:uH.uD,onClick:y},ep.createElement(eL.B,{className:uH.Hl,svg:_0.A}),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.add_additional_editors.seat_rename"})))),ep.createElement("div",{className:`${uH.HY} ${uH.E0}`},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:g})),ep.createElement("div",{className:uH.EU},f>0&&ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:f}))),ep.createElement("div",{className:`${uH.HY} ${uH.E0}`},ep.createElement(e$.Tx,{id:"all_carts.num_editors.seat_rename",numEditors:E}),ep.createElement("div",{className:uH.EU},h>0&&ep.createElement(e$.Tx,{id:"pro_cart.adjust_editors.empty_seats",numEmptySeats:h})))),ep.createElement(eI.Kz,{multiple:2.5})))),e.isLoading&&ep.createElement(eI.Kz,{multiple:1.5}))))});function ge({chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,currency:r,updateCurrency:n,upgradeExistingTeam:l,parentRef:i}){let s=(0,eg.d4)(e=>e.user),o=(0,uF.WQ)(!1,!1)&&(0,uU.Hw)(s);return ep.createElement("div",{ref:i},ep.createElement("div",{className:uH.Fb},ep.createElement(e$.Tx,{id:"pro_cart.choose_plan.choose_a_plan_for_your_new_team"})),ep.createElement("div",{className:uH.dX},ep.createElement(pJ.O,{currency:r,chooseStarterPlan:e,chooseProPlan:t,chooseOrgPlan:a,updateCurrency:n,upsellSource:pZ.b.CREATE_NEW_PAID_TEAM,withUpgradeExistingTeamOption:l,parentRef:i})),o&&ep.createElement(pQ.V,null))}var gt=a(181454),ga=a(297973);let gr="416px";function gn(e){var t,a;let r=(0,eg.d4)(e=>e.payment),n=(0,u2.mF)(r.billingPeriod),l=(0,u2.U8)({numWhiteboardEditors:r.numWhiteboardEditors,billingPeriod:r.billingPeriod})>0||r.numDesignEditors>0,i=r.numWhiteboardEditors>0,s=((null==(t=r.taxes)?void 0:t.sub_total)||0)>0,o=n&&i&&!s&&!l,{error:c,errorCode:d}=r,m=!!c&&null===d,u=!!e.error;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.Fb},ep.createElement(e$.Tx,{id:"pro_cart.payment.enter_payment_details_title"})),ep.createElement(eI.Kz,{multiple:3}),o&&ep.createElement("div",{style:u1.sx.add({width:gr,margin:"auto"}).$},ep.createElement(eH.fu,{name:"promo_applied_banner"},ep.createElement(uR._,{color:uR.S.FIGJAM,text:ep.createElement("div",{className:eT.cx.alignLeft.$},ep.createElement("div",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_title"})),ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.payment_information_banner_text"}))})),(m||u)&&ep.createElement(eI.Kz,{multiple:1.5})),ep.createElement("div",{style:u1.sx.add({width:gr,margin:"auto"}).$},m&&ep.createElement("div",null,ep.createElement(gt.I,{marginTop:0,message:c}),u&&ep.createElement(eI.Kz,{multiple:1.5})),(o||m)&&!u&&ep.createElement(eI.Kz,{multiple:2}),ep.createElement("div",{className:uH.P_},ep.createElement("div",{style:u1.sx.if((null==(a=e.error)?void 0:a.code)===p2.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,u1.sx.font14.add({marginTop:"92px"})).$},ep.createElement(ga.F,{createPaymentElement:e.createPaymentElement,unmountPaymentElement:e.unmountPaymentElement,address:e.address,updateAddress:e.updateAddress,error:e.error,vatGstId:e.vatGstId,onVatGstIdChange:e.onVatGstIdChange,regionalVatGstId:e.regionalVatGstId,onRegionalVatGstIdChange:e.onRegionalVatGstIdChange,paymentMethodType:e.paymentMethodType,isCommunityCheckout:!1})))))}var gl=a(860760),gi=a(132208);let gs=(0,eg.Ng)(e=>({payment:e.payment,user:e.user}))(function(e){let t,a;let r=(0,eg.wA)(),n=(0,u2.mF)(e.payment.billingPeriod),l=e.payment.numDesignEditors,i=(0,u2.PJ)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),s=(0,u2.U8)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),o=i>0,c=s>0,d=0===e.payment.numWhiteboardEditors,m=c||d||!n,u=e.payment.billingPeriod===mq.tY.STUDENT,_=new aQ.vr(e.currency);if(e.selectedView.paymentStep!==mq.tn.CHOOSE_PLAN&&e.selectedView.paymentStep!==mq.tn.PAYMENT_AND_ADDRESS)return null;let p=(0,p1.cn)(e.user),g=(0,e$.t)("pro_cart.sidebar.next_payment_information"),E=o3.c.PAYMENT_INFORMATION;(u||e.selectedView.paymentStep===mq.tn.PAYMENT_AND_ADDRESS)&&(g=(0,e$.t)("pro_cart.sidebar.next_review"),E=o3.c.REVIEW);let f=(0,aQ._Z)(),h=(0,_g.Qo)(l,e.payment.billingPeriod,e.currency),v=12*(0,_g.Qo)(l,mq.tY.MONTHLY,e.currency),b=(0,_g.PK)(s,e.payment.billingPeriod,e.currency),y=12*(0,_g.PK)(s,mq.tY.MONTHLY,e.currency);e.payment.billingPeriod===mq.tY.ANNUAL?(h>0&&(t=_.formatMoney(v)),b>0&&(a=_.formatMoney(y))):e.payment.billingPeriod===mq.tY.STUDENT&&(t=ep.createElement(_g.X6,{editorType:lB._Y.DESIGN,numEditors:e.payment.numDesignEditors,currency:e.currency}),a=ep.createElement(_g.X6,{editorType:lB._Y.WHITEBOARD,numEditors:e.payment.numWhiteboardEditors,currency:e.currency}));let w=h+b,T=_.getPrices(),x=(0,_g.U1)(T.annualFigjam,T.monthlyFigjam),C=(0,_g.U1)(T.annualFigma,T.monthlyFigma);return w<0&&(0,lL.$D)(s6.e.BILLING,Error("[Billing] Estimated total is a negative amount."),{extra:{numDesignEditors:l,numWhiteboardEditors:s,upgrades:JSON.stringify(e.payment.editorStatusChanges),userId:e.user.id,subtotal:w,currency:e.currency}}),ep.createElement("div",{className:uH.Ie},ep.createElement("div",{className:uH.LC},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.professional_plan"})),f&&ep.createElement(ep.Fragment,null,ep.createElement(eI.Kz,{multiple:3}),ep.createElement(go,{currency:e.currency,supportedCurrencies:(0,aQ.B9)(),dropdownShown:e.dropdownShown,changeCurrency:e.updateCurrency}),ep.createElement(eI.Kz,{multiple:2}),ep.createElement("div",{className:uH.pV}),ep.createElement(eI.Kz,{multiple:2})),p&&e.selectedView.paymentStep===mq.tn.CHOOSE_PLAN&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.ZD},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.is_this_an_education_team"})),ep.createElement(eI.Kz,{multiple:1.5}),ep.createElement(cO.z,{className:uH.aq,onChange:e=>{"true"===e?r(m2.Lo({billingPeriod:mq.tY.STUDENT})):u&&(r(m2.Lo({billingPeriod:mq.tY.ANNUAL})),r(m2.js({numDesignEditors:l})))},value:u.toString()},ep.createElement(cO.Z,{value:"false",className:uH.Ac},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.no"})),ep.createElement(cO.Z,{value:"true",className:uH.Ac},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.yes"}))),ep.createElement(eI.Kz,{multiple:1.5}),ep.createElement("div",{className:uH.pV}),ep.createElement(eI.Kz,{multiple:2})),ep.createElement(gc,{billingPeriod:e.payment.billingPeriod,onBillingCycleChange:e=>{e===mq.tY[mq.tY.ANNUAL]?r(m2.Lo({billingPeriod:mq.tY.ANNUAL})):e===mq.tY[mq.tY.MONTHLY]&&r(m2.Lo({billingPeriod:mq.tY.MONTHLY})),r(m2.js({numDesignEditors:l}))},currency:e.currency}),ep.createElement(eI.Kz,{multiple:2}),ep.createElement(eV.x,{isLoading:e.isLoading,className:uH.F},()=>ep.createElement(ep.Fragment,null,ep.createElement(_g.Wy,{"data-testid":"sidebar-design-summary",mainText:ep.createElement(e$.Tx,{id:"pro_cart.info.figma_design_editors.seat_rename",numEditors:l}),strikethroughPriceText:t,priceText:_.formatMoney(h),subText:ep.createElement(_g.d6,{currentBillingPeriod:e.payment.billingPeriod,numEditors:l,currency:e.currency,noCents:!0,shouldStrikethroughMonthlyUnitCostIfAnnual:!0}),discountPercentage:h>0&&e.payment.billingPeriod===mq.tY.ANNUAL?C:void 0,showDevModeIncludedText:!0}),ep.createElement(eI.Kz,{multiple:2}),o&&ep.createElement("div",null,ep.createElement(_g.Wy,{"data-testid":"sidebar-jamboard-whiteboard-summary",mainText:ep.createElement(e$.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:i}),priceText:ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.figjam_price_free"}),subText:ep.createElement(_g.ME,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency,numEditors:i,isJamboardOffer:!0})}),ep.createElement(eI.Kz,{multiple:2})),m&&ep.createElement(ep.Fragment,null,ep.createElement(_g.Wy,{"data-testid":"sidebar-whiteboard-summary",mainText:ep.createElement(e$.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:s}),strikethroughPriceText:a,priceText:_.formatMoney(b),subText:ep.createElement(_g.ME,{shouldStrikethroughMonthlyUnitCostIfAnnual:!0,currency:e.currency}),discountPercentage:b>0&&e.payment.billingPeriod===mq.tY.ANNUAL?x:void 0}),ep.createElement(eI.Kz,{multiple:2})))),ep.createElement("div",{className:uH.pV}),ep.createElement(eI.Kz,{multiple:3}),ep.createElement(uM,{formattedSubtotal:_.formatMoney(w,{showFullFormat:(0,aQ._Z)()})}),ep.createElement(eI.Kz,{multiple:3}),u&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.iY},ep.createElement(e$.Tx,{id:"edu.education_teams_get_all_the_professional_plan_features_for_free"})),ep.createElement(eI.Kz,{multiple:2})),ep.createElement(eI.vd,{className:uH.fK,disabled:e.isLoading||e.isButtonDisabled||e.payment.submitPending,onClick:e.onNext,trackingProperties:{trackingDescriptor:E},dataTestId:"upgrade-next-button"},e.payment.submitPending?ep.createElement(e8.kt,{className:uH.S}):g))});function go({currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r}){return ep.createElement("div",{className:uH.h7},ep.createElement("span",{className:uH.VV},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.currency"})),ep.createElement(uQ.D,{currency:e,dropdownShown:t,supportedCurrencies:a,changeCurrency:r,shortFormDisplay:!0}))}function gc({billingPeriod:e,onBillingCycleChange:t,currency:a}){let r=(0,u2.rn)(),n=(0,u2.kU)(),l=r&&e!==mq.tY.STUDENT;if(e===mq.tY.STUDENT)return null;{let i=new aQ.vr(a).getPrices(),s=(0,_g.U1)(i.annualFigjam,i.monthlyFigjam);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.ZD},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.billing_cycle"})),ep.createElement(eI.Kz,{multiple:2}),ep.createElement(cO.z,{className:uH.aq,onChange:t,value:mq.tY[e]},ep.createElement(cO.Z,{value:mq.tY[mq.tY.ANNUAL],className:uH.Ac},ep.createElement("div",{className:eS()(uH.Wu,uH.Yw)},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"pro_cart.sidebar.annual"})),!n&&!r&&ep.createElement(dd.Ex,{className:uH.qS,color:dd.zE.SUCCESS,size:dd.vj.LARGE,subtle:!0,text:ep.createElement(e$.Tx,{id:"pro_cart.sidebar.save_up_to_discount",discountAmount:s})}))),ep.createElement(cO.Z,{value:mq.tY[mq.tY.MONTHLY],className:uH.Ac},ep.createElement("div",{className:eT.cx.flex.justifyEnd.$},ep.createElement(e$.Tx,{id:"pro_cart.sidebar.monthly"}),l&&ep.createElement(eL.B,{className:eT.cx.flex.itemsCenter.ml8.colorIcon.$,svg:gi.A,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("pro_cart.sidebar.jamboard_offer.monthly_billing_cycle_tooltip"),role:"img"})))),ep.createElement(eI.Kz,{multiple:2}),ep.createElement("div",{className:uH.pV}))}}function gd(e){var t,a,r,n;let l;let i=(0,tR.iZ)(),s=null==i?void 0:i.id,o=(0,eh.DC)(),c=(0,eg.d4)(e=>e.payment),d=(0,eg.Pj)(),m=(0,eg.d4)(e=>e.dropdownShown),u=(0,eg.d4)(e=>e.teams),_=e.selectedView.paymentStep,p=(0,om.Z)(_),g=ep.useRef(null),[E,f]=(0,ep.useState)((null==o?void 0:o.team_name)??""),[h,v]=(0,ep.useState)(p5.k),b=(0,pM.PS)((0,mG.usePermissionsState)()),[y,w]=(0,ep.useState)((null==o?void 0:o.currency)||c.currency||(0,aQ.LN)()),T=e=>{w(e),Z(m2.MN({currency:e}))},{billingPeriod:x,numDesignEditors:C,numWhiteboardEditors:N,editorStatusChanges:k,error:S,errorCode:I}=c,{ignoreCurrentPlan:A}=e.selectedView,L=e.selectedView.teamId,R=(0,u2.hP)(x),[O,F]=(0,ep.useState)(null);(0,ep.useEffect)(()=>{let t=e.selectedView.promotionCodeId??R;null===O&&t&&(F(t),(0,tn.sx)("promotion_eligibility_confirmed_in_checkout",{user_id:s,promotion_code_id:t,promotion:"jamboard"}))},[O,R,e.selectedView.promotionCodeId,s]);let M=(0,eg.d4)(t=>(0,p3.Np)(t,{...e.selectedView,paymentStep:mq.tn.CONFIRM_PAY,promotionCodeId:O})),D=(0,eg.d4)(t=>(0,p3.Np)(t,{...e.selectedView,paymentStep:mq.tn.PAYMENT_AND_ADDRESS,promotionCodeId:O})),P=(0,_g.Qo)(C,x,y)+(0,_g.PK)(N,x,y),{createPaymentElement:B,unmountPaymentElement:U,savePayment:W,address:V,updateAddress:G,vatGstId:$,setVatGstId:j,regionalVatGstId:H,setRegionalVatGstId:q,paymentMethodType:z,error:Y}=(0,p2.Op)({setupIntentParams:{redirect_url:M,error_redirect_url:D,subtotal_estimate:P},customerInfo:{teamId:L},paymentFlowSource:p2.wn.PRO_UPGRADE,currency:y,billingPeriod:x,defaultCountry:(0,aQ.ub)(),initialAddress:null==o?void 0:o.address,initialVatGstId:null==o?void 0:o.vat_gst_id,initialRegionalVatGstId:null==o?void 0:o.regional_vat_gst_id,teamName:(null==o?void 0:o.team_name)||E}),K=(null==Y?void 0:Y.code)===p2.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,J="PROMOTION_CODE_ID_ERROR"===I,Z=(0,eg.wA)(),Q=(0,p4.Ud)({teamId:L,jamboardPromoCodeId:O}),X=K||J,ee=()=>{if(J){F(null);let t=(0,p3.Np)(d.getState(),{...e.selectedView,paymentStep:mq.tn.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:A,promotionCodeId:R});ef.Ay.redirect(t)}else Z(tL.$T({...e.selectedView,paymentStep:mq.tn.CHOOSE_PLAN,previousView:e.selectedView.previousView,ignoreCurrentPlan:A}))};(0,uB.pI)({loadingPaidEditors:Q,teamId:L,teamName:L?void 0:E,setTeamName:L?void 0:f,collaborators:L||e.selectedView.teamFlowType!==e2.SC.CREATE?void 0:h,setCollaborators:L||e.selectedView.teamFlowType!==e2.SC.CREATE?void 0:v});let et=(0,eg.d4)(e=>e.currentUserOrgId),ea=A?null:et,er=(0,eg.d4)(e=>ea?e.orgById[ea]:null),en=null==(t=(0,p8.Q)({currentOrgId:ea,currentTeamId:null}).data)?void 0:t.currentUser,el=null==(a=null==en?void 0:en.baseOrgUser)?void 0:a.workspaceUsers,ei=null==(r=null==el?void 0:el.find(e=>null==e?void 0:e.isMainWorkspace))?void 0:r.workspaceId,{cannotCreateTeamReason:es}=(0,pf.l6)(er,ei),eo=(0,eg.d4)(e=>(0,mG.isOrgUserExternallyRestrictedFromState)(e));(0,ep.useEffect)(()=>{_===mq.tn.PAYMENT_AND_ADDRESS&&K&&ee()}),(0,ep.useEffect)(()=>{_!==p&&S&&!J&&Z(m2.Qg({error:null}))},[Z,_,p,S,J]);let ec=(0,eg.d4)(e=>!!e.user&&(0,p1.cn)(e.user));(0,ep.useEffect)(()=>{ec&&e.selectedView.isEduTeam?Z(m2.Lo({billingPeriod:mq.tY.STUDENT})):e.selectedView.isEduTeam&&Z(m2.Lo({billingPeriod:mq.tY.UNSPECIFIED}))},[Z,e.selectedView.isEduTeam,ec]),(0,ep.useEffect)(()=>{e.selectedView.teamFlowType===e2.SC.CREATE_AND_UPGRADE&&(eo||es===pf.z4.TEAM_CREATION_CONTROL)&&(ef.Ay.redirect("/"),Z(e5.s.error((0,e$.t)("team_creation.missing_team_creation_controls"))))},[e.selectedView.teamFlowType,eo,es,Z]);let ed=c.currencyToSwitch;(0,ep.useEffect)(()=>{ed&&w(ed)},[w,ed]);let em=x===mq.tY.STUDENT,eu=h.filter(e=>e&&e.trim()).map(e=>e.trim()),e_=eu.filter(e=>!(0,i9.xf)(e)),eE=!!i&&eu.filter(e=>e===i.email).length>0,ev=async t=>{t.preventDefault();let a=new URL(window.location.href).searchParams,r=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");t.currentTarget&&t.currentTarget.blur();let l=(0,gl.kR)(e.selectedView.paymentStep,e.selectedView.teamFlowType,x,c.promo,e.selectedView.planType||e2.Sc.UNDETERMINED);_===mq.tn.CREATE_TEAM&&(f(E.trim()),Z(tL.$T({...e.selectedView,teamId:null,paymentStep:l,ignoreCurrentPlan:A}))),_===mq.tn.ADD_COLLABORATORS&&(e_.length?Z(e5.s.error((0,e$.t)("pro_cart.add_collaborators.error.email_is_invalid",{string:e_[0]}))):eE?Z(e5.s.error((0,e$.t)("team_view.team_permissions_modal.youre_not_able_to_send_an_invite_to_yourself"))):Z(tL.$T({...e.selectedView,paymentStep:l,ignoreCurrentPlan:A}))),_===mq.tn.CHOOSE_PLAN?em?Z(tL.$T({...e.selectedView,paymentStep:l,billingPeriod:mq.tY.STUDENT,ignoreCurrentPlan:A})):(Z(m2.Je({editorStatusChanges:k})),Z(tL.$T({...e.selectedView,paymentStep:l,billingPeriod:c.billingPeriod,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:n}}:{},ignoreCurrentPlan:A}))):_===mq.tn.PAYMENT_AND_ADDRESS&&(Z(m2.I2({submitPending:!0})),await W(),Z(m2.I2({submitPending:!1})))},eb=e.selectedView.teamFlowType===e2.SC.CREATE?()=>{Z((0,pE.KQ)({teamName:E,orgAccess:lB.bU.PUBLIC,inviteEmails:eu,teamFlowType:e.selectedView.teamFlowType,onSuccess:()=>{(0,uB.Al)(null==i?void 0:i.id)},ignoreCurrentPlan:A}))}:void 0;(e.selectedView.teamFlowType===e2.SC.CREATE_AND_UPGRADE||e.selectedView.teamFlowType===e2.SC.UPGRADE_EXISTING_TEAM)&&(1===b.length?l=t=>{t=t||e.selectedView.billingPeriod;let a=e2.SC.UPGRADE_EXISTING_TEAM;Z(tL.$T({...e.selectedView,teamFlowType:a,teamId:b[0].id,paymentStep:(0,gl.kR)(e.selectedView.paymentStep,a,t||null,c.promo,e2.Sc.TEAM,mq.tn.CHOOSE_PLAN),planType:e2.Sc.UNDETERMINED,billingPeriod:t,ignoreCurrentPlan:A}))}:b.length>1&&(l=e=>{e&&Z(m2.Lo({billingPeriod:e})),Z((0,e0.to)({type:uO.dR,data:{plan:uO.In.PRO,upsellSource:pZ.b.UPGRADE_EXISTING_FROM_TEAM_CREATION}}))}));let ey=()=>{var t;let a=()=>{(0,eh.sj)(),(0,p4.Mt)(Z),(0,e2.h5)(e.selectedView.teamFlowType)&&null===L&&(0,uB.Al)(s)};if(e.selectedView.teamId&&em)Z(m2.Nj({teamId:e.selectedView.teamId}));else if(e.selectedView.teamId&&c.promo){let r=e.selectedView.teamId,n=(0,eh.kc)().ps_benchmark;Z(m4.S_({teamId:r,teamName:u[r].name,promoCode:(null==(t=c.promo)?void 0:t.code)||"",onSuccess:()=>{a(),(0,p0._H)(),Z(m2.Ay({promo:null})),n&&s?e.selectedView.previousView?tL.$T(e.selectedView.previousView):mB._l({workspace:{userId:s,orgId:null,teamId:r},view:{view:"allProjects"}}):Z(tL.$T(e.selectedView.previousView||{view:"team",teamId:r}))},onError:()=>{(0,p0._H)(),Z(m2.Ay({promo:null})),Z(tL.$T({...e.selectedView,paymentStep:mq.tn.PLAN_COMPARISON,ignoreCurrentPlan:A}))}}))}else Z(rc.b({completed_pro_cart_flow:!0})),Z(m2.I2({submitPending:!0})),Z((0,m4.gk)({teamId:e.selectedView.teamId,selectedCurrency:y,teamName:E,teamFlowType:e.selectedView.teamFlowType,invites:eu,hasSelectedStudentTeam:em,onSuccess:a,promotionCodeId:O}))},ew=new URLSearchParams(ef.Ay.location.search),eT=ew.get("onCompleteRedirectFileKey"),ex=ew.get("onCompleteRedirectNodeId"),eC=i&&(null==(n=(0,uB.lX)({teamId:L,userId:i.id}))?void 0:n.is3DS);return e.selectedView.teamFlowType===e2.SC.CREATE_AND_UPGRADE&&(eo||es===pf.z4.TEAM_CREATION_CONTROL)?ep.createElement(ep.Fragment,null):ep.createElement(eH.fu,{name:"Upgrade Team",properties:{teamId:e.selectedView.teamId,teamFlowType:e.selectedView.teamFlowType,planType:e.selectedView.planType,step:_,currency:y,inPublishDraftExp:!!(eT&&ex)}},ep.createElement("div",{className:uH.im},ep.createElement(gl.vU,{selectedView:e.selectedView}),ep.createElement("div",{className:uH.Jr},ep.createElement("div",{className:uH.uz,ref:g},ep.createElement(eI.Kz,{multiple:4}),_===mq.tn.PLAN_COMPARISON&&ep.createElement(ge,{chooseStarterPlan:eb,chooseProPlan:t=>{Z(m2.Lo({billingPeriod:t}));let a=(0,e2.h5)(e.selectedView.teamFlowType)?e.selectedView.teamFlowType:e2.SC.CREATE_AND_UPGRADE;Z(tL.$T({...e.selectedView,teamFlowType:a,paymentStep:(0,gl.kR)(e.selectedView.paymentStep,a,t,c.promo,e2.Sc.TEAM),billingPeriod:t,planType:e2.Sc.TEAM,openInNewTab:!1,ignoreCurrentPlan:A}))},chooseOrgPlan:()=>{Z(m2.Bq({currency:y,newTeamProps:{teamFlowType:e.selectedView.teamFlowType,newTeamName:E,inviteEmails:eu,previousView:e.selectedView},upsellSource:pZ.b.UPGRADE_NEW_TEAM_V2}))},currency:y,updateCurrency:e=>T(e),upgradeExistingTeam:l,parentRef:g}),_===mq.tn.CREATE_TEAM&&ep.createElement(uY,{type:e.selectedView.teamFlowType===e2.SC.CREATE?uz.STARTER:uz.PRO,teamName:E,setTeamName:f,onNext:ev,upgradeExistingTeam:l?()=>null==l?void 0:l(x):void 0,promo:c.promo}),_===mq.tn.ADD_COLLABORATORS&&ep.createElement(p5.b,{disableInvites:!eu.length,collaborators:h,setCollaborators:v,willSendInvites:ev,skipInviteStep:()=>{if(v(p5.k),s){let e=(0,uB.lX)({teamId:null,userId:s});e&&(0,uB.dT)(s,{...e,newCollaborators:p5.k})}Z(tL.$T({...e.selectedView,paymentStep:mq.tn.PLAN_COMPARISON,ignoreCurrentPlan:A}))}}),_===mq.tn.CHOOSE_PLAN&&ep.createElement(p7,{selectedView:e.selectedView,isLoading:Q,currency:y,error:K?null==Y?void 0:Y.message:null,teamName:E}),_===mq.tn.PAYMENT_AND_ADDRESS&&ep.createElement(ep.Fragment,null,J&&ep.createElement("div",{style:u1.sx.add({width:"490px",margin:"auto auto 24px"}).$},ep.createElement(_p,{onBack:ee}),eC&&ep.createElement(eI.Kz,{multiple:1.5})),ep.createElement(gn,{address:V,updateAddress:G,createPaymentElement:B,unmountPaymentElement:U,error:Y,vatGstId:$,onVatGstIdChange:j,regionalVatGstId:H,onRegionalVatGstIdChange:q,paymentMethodType:z,isCommunityCheckout:!1})),_===mq.tn.CONFIRM_PAY&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:uH.Fb},ep.createElement(e$.Tx,{id:"pro_cart.review.lets_make_sure_everything_looks_right"})),ep.createElement(eI.Kz,{multiple:3}),J&&ep.createElement("div",{style:u1.sx.add({width:"490px",margin:"auto auto 24px"}).$},ep.createElement(_p,{onBack:ee}),eC&&ep.createElement(eI.Kz,{multiple:1.5})),eC&&ep.createElement("div",{className:uH.vK},ep.createElement(uR._,{color:uR.S.INFORMATION,text:(0,e$.t)("pro_cart.review.extra_validation")})),eC&&ep.createElement(eI.Kz,{multiple:2}),ep.createElement(eV.x,{isLoading:Q},()=>ep.createElement(uw.d,{selectedView:e.selectedView,teamName:E,onClickConfirm:ey,address:V,currency:y}))),ep.createElement(eI.Kz,{multiple:9})),ep.createElement(gs,{selectedView:e.selectedView,onNext:ev,isLoading:Q,isButtonDisabled:X,currency:y,updateCurrency:e=>T(e),dropdownShown:m}))))}var gm=a(494939);function gu(e){let t=(0,eg.wA)(),a=(0,ob.$k)(),r=e.isMobile??eb.Ay.mobile;return ep.createElement(oY,{onSubmit:e=>{t(tL.$T({view:"communityHub",subView:"searchAndBrowse",data:{sort_by:(null==a?void 0:a.sort_by)||oT.e.Search.RELEVANCY,resourceType:(null==a?void 0:a.resourceType)||"mixed",query:e,editor_type:o1.k.Editors.ALL,price:oe.C.ALL,creators:o0.Z.ALL}}))},pathname:ef.Ay.location.pathname,isMobile:r})}function g_(){let e=(0,eg.d4)(gm.hK);return(0,eh.kc)().fastma?"communityHub"===e.view&&mD(e.subView)?null:ep.createElement(mh,{SearchComponent:gu}):ep.createElement(mh,null)}function gp(e){return ep.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},ep.createElement(g_,null),e.children,ep.createElement(iP.Ay,null))}var gg=a(524576),gE=a(944511),gf=a(881009),gh=a(816660),gv=a(929395),gb=a(289066),gy=a(838041),gw=a(222682),gT=a(532866);function gx(){return null}function gC(e){let t=e.parentBackgroundColor?(0,dB.kx)(e.parentBackgroundColor)?"breadcrumb_item--breadcrumbTextForDarkBackground--zmzPS":"breadcrumb_item--breadcrumbTextForLightBackground--DnSah":"breadcrumb_item--breadcrumbText---56Fa";return ep.createElement("button",{className:eS()("breadcrumb_item--breadcrumbContainer--p3-VX",e.parentBackgroundColor?eT.cx.bgTransparent.$:void 0,e.isHoverable?"breadcrumb_item--hoverable--XK3Lt":void 0),onClick:e.onClick},ep.createElement("div",{className:eS()(t,{[eT.cx.ml8.$]:!e.isFirstBreadcrumb})},ep.createElement(du.E,{fontSize:13,truncate:!0},e.text)),e.hasSlash&&ep.createElement("div",{className:"breadcrumb_item--breadcrumbSlash--TcMzr"},ep.createElement(du.E,{fontSize:13},"/")))}function gN(e){return ep.createElement("div",{className:eT.cx.flex.overflowHidden.$},e.items.map((t,a)=>ep.createElement(gC,{isFirstBreadcrumb:!a,hasSlash:a!==e.items.length-1,text:t.text,key:a,onClick:t.onClick,parentBackgroundColor:t.parentBackgroundColor,isHoverable:t.isHoverable})))}var gk=a(404021),gS=a(515942),gI=a(735252),gA=a(200148),gL=a(216336),gR=a(463601),gO=a(947269),gF=a(419713);let gM={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"};var gD=a(479795),gP=a(45640);let gB="nav_section--folderSeparatorBefore--nRXcy";function gU(e,t,a){let{projects:r,sidebarData:n}=a,l=(null==n?void 0:n.fileBrowserSectionPreferences)||[],i=[];for(let a of l)if("team"===a.sectionType){if("team"===e&&a.teamId===(t||null)){i=a.orderedFolderIds||[];break}}else e===a.sectionType&&(i=a.orderedFolderIds||[]);return r.sort((e,t)=>{let a=i.indexOf(e.id),r=i.indexOf(t.id);return a<r?-1:r<a?1:0}),r}function gW(e,t,a,r,n,l){var i,s;let o=g$(t,e.permissionsState),c=null==(s=null==(i=e.sidebarData)?void 0:i.fileBrowserSectionPreferences)?void 0:s.filter(e=>e.sectionType===a&&("team"!==a||e.teamId===(null==r?void 0:r.id))),d=c&&c.length>0?c[0].id:void 0;o===a&&(a!==gM.TEAM||t.teamId===(null==r?void 0:r.id))?gV(e,a,null==r?void 0:r.id,t.id,n,l,d):r&&gG(e,t,a,r,n,l,d)}let gV=(e,t,a,r,n,l,i)=>{let s=gU(t,a,e).map(e=>e.id),o=(0,tl.Pe)(s,r,n,l);o!==s&&e.dispatch(gA.L5.put({prefs:t===gM.TEAM?{id:i,section_type:t,team_id:a,ordered_folder_ids:o}:{id:i,section_type:t,ordered_folder_ids:o},userInitiated:!0}))},gG=(e,t,a,r,n,l,i)=>{if(!r)return;e.dispatch((0,gR.Nr)({folder:t,team:r}));let s=gU(a,r.id,e).map(e=>e.id),o=null==n?-1:s.indexOf(n);return o<0?o=l?0:s.length:l||(o+=1),s.splice(o,0,t.id),e.dispatch(gA.L5.put({prefs:a===gM.TEAM?{id:i,section_type:a,team_id:r.id,ordered_folder_ids:s}:{id:i,section_type:a,ordered_folder_ids:s},userInitiated:!0})),!0},g$=(e,t)=>{var a;return e.teamId&&e.teamId in t.roles.byTeamId?gM.TEAM:e.id===(null==(a=t.user)?void 0:a.drafts_folder_id)?gM.USER_DRAFTS:gM.USER_FOLDERS};class gj extends ep.Component{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===gF.R.Folder){let e=this.props.dragState.data,t=g$(e,this.props.permissionsState);return!!(t===gM.USER_FOLDERS&&(0,pM.S$)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=(e,t)=>{this.props.dragState.type===gF.R.Folder&&this.setState({draggingOverFolderId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverFolderId===e?{draggingOverFolderId:null}:null)},this.onDragDrop=e=>{let t=this.props.dragState.data;gW(this.props,t,this.props.sectionType,this.props.team,e,this.state.draggingBefore),this.setState({draggingOverFolderId:null})},this.state={draggingOverFolderId:null,draggingBefore:!1}}render(){var e;let t=gU(this.props.sectionType,null==(e=this.props.team)?void 0:e.id,this.props),a=(0,gO.D6)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOffCustomSections--NfHYW nav_section--sectionTextCustomSections--G7h1q sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOff--bTD8N nav_section--sectionText--pC4MP sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa",r=(0,gO.D6)(this.props.currentUserOrgId)?"nav_section--folderSeparatorOnCustomSections--A5-c5 nav_section--folderSeparatorOffCustomSections--NfHYW nav_section--sectionTextCustomSections--G7h1q sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOn--c6ZUy nav_section--folderSeparatorOff--bTD8N nav_section--sectionText--pC4MP sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa";return ep.createElement("div",{className:0===t.length?"nav_section--orderedFoldersEmpty--TLNeT nav_section--orderedFolders--Ix27r":"nav_section--orderedFolders--Ix27r"},ep.createElement("div",{className:gB},ep.createElement("div",{className:this.props.showPrependIndicator||0===t.length&&this.props.showAppendIndicator?r:a})),t.length>0&&t.map((e,n)=>ep.createElement(ew.Y,{key:e.id,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,e.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,e.id),onTargetDrop:this.onDragDrop.bind(this,e.id),style:{position:"relative"}},ep.createElement("div",{className:gB},ep.createElement("div",{className:this.state.draggingOverFolderId===e.id&&this.state.draggingBefore?r:a})),ep.createElement(gD.BS,{key:`folder-${e.id}`,folder:e,team:this.props.team,disambiguationFolders:this.props.sectionType===gM.USER_FOLDERS?t:void 0,isSharedProject:this.props.sectionType===gM.USER_FOLDERS,...this.props,draggable:!0}))),ep.createElement("div",{className:"nav_section--folderSeparatorAfter--8etrV"},ep.createElement("div",{className:this.props.showAppendIndicator&&t.length>0?r:a})))}}gj.displayName="OrderedFolders";class gH extends ep.PureComponent{constructor(e){super(e),this.isDragTarget=e=>{var t,a;if(this.props.isEnterpriseSidenavEnabled&&(null==(t=this.props.dragState.data)?void 0:t.licenseGroupId)&&this.props.dragState.data.licenseGroupId!==(null==(a=this.props.licenseGroup)?void 0:a.id))return!1;if(this.props.dragState.type===gF.R.Folder){let e=this.props.dragState.data,t=g$(e,this.props.permissionsState);return!!(t===gM.USER_FOLDERS&&(0,pM.S$)(e,this.props.team,this.props.user))||!!t&&this.props.acceptDropsFrom.has(t)}return!1},this.onDragEnter=()=>{this.props.dragState.type===gF.R.Folder&&this.setState({isDraggingFolder:!0})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=()=>{this.setState({isDraggingFolder:!1})},this.onDragDrop=()=>{if(this.props.dragState.type===gF.R.Folder&&this.props.team){let e=this.props.dragState.data;gW(this.props,e,this.props.sectionType,this.props.team,null,this.state.draggingBefore)}this.setState({isDraggingFolder:!1})},this.state={isDraggingFolder:!1,draggingBefore:!1}}render(){return ep.createElement(ew.Y,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDragDrop},ep.createElement("div",{className:"nav_section--section--1ONtS sidebar--section---nHr4"},this.props.sectionType===gM.USER_FOLDERS&&ep.createElement(ep.Fragment,null,ep.createElement(gj,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props})),this.props.sectionType===gM.TEAM&&ep.createElement(ep.Fragment,null,ep.createElement(gP.gT,{...this.props,team:this.props.team,projects:this.props.projects,onboardingKey:this.props.onboardingKey}),ep.createElement(gj,{showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore,...this.props}))))}}function gq(e){let t=e.projectsByTeam[gH.USER_FOLDERS]||[],a=(0,eg.d4)(e=>e.renamingNavFolderWithId),r=(0,eg.d4)(e=>e.renamingNavTeamWithId),n=(0,eg.d4)(e=>e.favorites),l=(0,eg.d4)(e=>e.teamRoleRequests),i=(0,eg.d4)(e=>e.avatarEditorState);return ep.createElement(gH,{renamingNavFolderWithId:a,renamingNavTeamWithId:r,favorites:n,teamRoleRequests:l,avatarEditorState:i,sectionType:gM.USER_FOLDERS,team:null,projects:t,acceptDropsFrom:new Set([gM.USER_FOLDERS]),...e})}function gz(e){let t=e.team.id,a=e.projectsByTeam[t]||[],r=(0,eg.d4)(e=>e.renamingNavFolderWithId),n=(0,eg.d4)(e=>e.renamingNavTeamWithId),l=(0,eg.d4)(e=>e.favorites),i=(0,eg.d4)(e=>e.teamRoleRequests),s=(0,eg.d4)(e=>e.avatarEditorState);return ep.createElement(gH,{renamingNavFolderWithId:r,renamingNavTeamWithId:n,favorites:l,teamRoleRequests:i,avatarEditorState:s,sectionType:gM.TEAM,acceptDropsFrom:new Set([gM.TEAM]),projects:a,onboardingKey:e.onboardingKey,...e})}gH.displayName="NavSection",gH.USER_FOLDERS="USER_FOLDERS",gH.USER_DRAFTS="USER_DRAFTS";var gY=a(109388),gK=a(653660),gJ=a(232e3),gZ=a(525734),gQ=a(442623),gX=a(910646),g0=a(547202),g1=a(522271),g2=a(444173),g4=a(51924);function g3(e){let t=(0,eg.d4)(e=>e.teams),a=(0,eg.d4)(e=>e.roles.byTeamId),r=(0,eg.d4)(e=>e.user),n=(0,o9.f)("team_creation_speed_bump_dismissed"),l=(0,ey.I7)("starter_team_loophole_experiment_m0"),i=(0,ey.I7)("starter_team_loophole_experiment_m1");return ep.createElement("div",{className:"new_team_link--createNewTeamLink--Xuiln","data-onboarding-key":g0.CREATE_TEAM_ONBOARDING_KEY},ep.createElement(g5,{currentOrgId:e.currentOrgId,onClick:()=>{if(e.currentOrgId)e.dispatch(e0.to({type:gQ.Uc,data:{}}));else{let s=()=>{e.dispatch(mB.Dw({}))};(null==r?void 0:r.id)&&!n&&(0,gg.Ct)(r.id,Object.values(t),a)&&!(0,uF.e5)({userId:r.id,teams:Object.values(t),rolesByTeamId:a,getM0Config:l.getConfig,getM1Config:i.getConfig})?e.dispatch(e0.to({type:gX.FK,data:{user:r,startTeamCreation:s}})):s()}},onMouseEnter:e.onMouseEnter,dimmed:e.disabled??!1,"data-tooltip-type":e.tooltipText?tM.Ib.TEXT:void 0,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,disabled:e.disabled},ep.createElement(e$.Tx,{id:"sidebar.create_new_team"})))}function g8(e){var t;let a=(0,eg.wA)();return ep.createElement("div",{className:"new_team_link--teamsListEmptyState--Eqtyb sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(eL.B,{className:"new_team_link--icon--4gF11 sidebar--icon--E3PNi",svg:g4.A}),ep.createElement("div",{className:e.org&&(0,gO.D6)(e.org.id)?"new_team_link--teamsListEmptyStateContentCustomSections--af8S8 sidebar--sectionContentCustomSections--PXYf3":"new_team_link--teamsListEmptyStateContent--vaERF sidebar--sectionContent--Pf1Ao"},ep.createElement(e$.Tx,{id:"sidebar.your_teams_and_favorited_projects_will_appear_here"}),(null==(t=e.org)?void 0:t.id)&&!e.isOrgGuest&&ep.createElement("a",{className:"new_team_link--blueLink--QVuYY blue_link--blueLink--9rlnd",onClick:()=>{e.org&&a(tL.$T({view:"org",orgId:e.org.id,orgViewTab:gv.X.HOME}))}},ep.createElement(e$.Tx,{id:"sidebar.browse_org",orgName:e.org.name}))))}let g5=(0,eH.tf)(function(e){let{currentOrgId:t,children:a,onClick:r,dimmed:n,disabled:l,...i}=e;return ep.createElement("div",{className:l?"new_team_link--navLinkDisabled--Rnp5F new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd":n?"new_team_link--navLinkDimmed--IyUVi new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd":"new_team_link--navLink--I0ajm new_team_link--_navLink--t346S sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:l?void 0:r,...i},ep.createElement(g1.Z,{icon:ep.createElement(eL.B,{"data-onboarding-key":"new-team-icon",className:eT.cx.colorIcon.$,svg:g2.A}),text:ep.createElement(ep.Fragment,null,a)}))});function g6(){let e=(0,eg.wA)(),t=(0,d2.z3)();return ep.createElement(g1.Z,{onClick:()=>{e(tL.$T({view:"recentsAndSharing",tab:gb.G.RECENTLY_VIEWED})),e(tL.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentFiles"===t||"recentsAndSharing"===t,icon:ep.createElement(le.In,{icon:"recent-16"}),text:ep.createElement(du.E,{i18nId:"sidebar.recents",truncate:!0})})}var g9=a(677705),g7=a(707182),Ee=a(943713),Et=a(110309),Ea=a(297604),Er=a(70378),En=a(292687),El=a(539360),Ei=a(608874);let Es="admin_settings_link--yellowIcon--bsDMr";var Eo=a(612325),Ec=((s=Ec||{}).WARNING="warning",s.NOTICE="notice",s);function Ed(e){var t,a,r;let n;let l=(0,eg.wA)(),i=e.orgUser.permission===lB._D.ADMIN,s=(0,Ea.RG)(),o=(0,Ea.MX)(),{groupsUserIsAdminOf:c}=(0,Ea.EQ)(o,e.orgUser.user_id,!i),d=(0,g7.Xf)(e.org.id),m="loaded"===d.status?(null==(t=d.data)?void 0:t.invoices)??[]:void 0;ep.useEffect(()=>{l(Ee.Jt({forceRefetch:!1}))},[l,e.org.id]);let{groupsToReview:u}=(0,Ea.Cz)(c,m),_=null==(a=c[0])?void 0:a.id,p=e.org.bigma_enabled&&s&&!!_,g=(0,pf.NJ)(e.org.id).data??[],E=e.org.bigma_enabled&&g.length>0,f=i||p||E,h=(0,t5.Rs)(ai.Wt6,{orgId:e.org.id},{enabled:f}),v="loaded"===h.status?null==(r=h.data.org)?void 0:r.taxIdVerificationStatus:void 0;if(!f)return null;let b=function(e){switch(e.view){case"orgAdminSettings":return!0;case"licenseGroup":return e.subView===gh.GN.ADMIN;case"workspace":return e.subView===gw.V0.ADMIN;default:return!1}}(e.selectedView);return i?n=ep.createElement(Ep,{planType:El.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:o,taxIdVerificationStatus:v,invoices:m,isSelected:b}):p&&(n=ep.createElement(E_,{invoices:m,showTooltip:!0,org:e.org,orgUser:e.orgUser})),ep.createElement(g1.Z,{icon:ep.createElement(le.In,{icon:"settings-16"}),text:ep.createElement(du.E,{i18nId:"sidebar.admin_dashboard",truncate:!0}),isSelected:b,onClick:()=>{let e=m&&(0,uJ.hX)(m);if(i){let e=En.J7.DASHBOARD;l(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),l(tL.Oe({clickedResourceType:"orgAdminSettings"}))}else p?(l(tL.$T({view:"licenseGroup",subView:gh.GN.ADMIN,licenseGroupId:e&&u.length>0?u[0].id:_,selectedTab:(0,Et.g)(e&&u.length>0?gh.RM.MEMBERS:gh.Uu[0])})),l(tL.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):E&&(l(tL.$T({view:"workspace",subView:gw.V0.ADMIN,workspaceId:g[0].id,selectedTab:gw.rj[0]})),l(tL.Oe({clickedResourceType:"workspaceAdminSettings"})))},badge:n,dataTestId:"admin-settings-link"})}function Em(e,t,a,r,n,l){if(!r||!(0,uJ.i0)(r))return null;if(l){if(!n)return null;let{groupsUserIsAdminOf:e}=(0,Ea.EQ)(a,t.user_id,l),{groupsToReview:i}=(0,Ea.Cz)(e,r);if(0===i.length)return null}return{tooltipData:(0,uJ.XL)(e,r,l),iconStyle:(0,uJ.m3)(r)?"admin_settings_link--redIcon--2sF2X":Es,iconType:(0,uJ.m3)(r)?"warning":"notice"}}function Eu(e){return e!==lB.kI.UNVERIFIED?null:{tooltipData:(0,e$.t)("billing_status.tax_id.invalid"),iconStyle:Es,iconType:"notice"}}function E_(e){var t;let a=(0,eg.wA)(),r=(0,Ea.MX)(),n=e.invoices&&(0,uJ.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==lB._D.ADMIN,i=(0,t5.Rs)(ai.Wt6,{orgId:e.org.id}),s="loaded"===i.status?null==(t=i.data.org)?void 0:t.taxIdVerificationStatus:null;ep.useEffect(()=>{n&&l&&a(Ee.Jt({forceRefetch:!1}))},[a,e.org.id,n,l]);let o=(()=>{switch(e.highlightType){case uJ.EZ.BILLING_STATUS:return Em(e.org,e.orgUser,r,e.invoices,n,l);case uJ.EZ.TAX_ID_STATUS:return Eu(s);default:return Em(e.org,e.orgUser,r,e.invoices,n,l)||Eu(s)}})();if(!o)return null;let c=`${o.iconStyle} ${e.inlineIcon?"admin_settings_link--inline--ySRcs":""} ${e.alignTop?"admin_settings_link--multiLineIcon--Mtp3R":""}`,d={};e.showTooltip&&(d["data-tooltip-type"]=tM.Ib.TEXT,d["data-tooltip"]=o.tooltipData,d["data-tooltip-show-below"]=!0,d["data-tooltip-timeout-delay"]=50,d["data-tooltip-max-width"]=117);let m=ep.createElement(eL.B,{className:`admin_settings_link--warningSvg--gfNTp ${c}`,svg:Eo.A,useOriginalSrcFills_DEPRECATED:!0,...d}),u=e.showTooltip?ep.createElement(Er.YR,{className:c,dataTooltipType:d["data-tooltip-type"],dataTooltip:d["data-tooltip"],dataTooltipShowBelow:d["data-tooltip-show-below"],dataTooltipTimeout:d["data-tooltip-timeout-delay"],dataTooltipMaxWidth:d["data-tooltip-max-width"]}):ep.createElement(Er.YR,{className:c}),_="warning"===o.iconType?m:u;return(0,eH.T8)(_,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function Ep(e){var t,a;let r=0;if(e.isCurrentUserLicenseAndNotOrgAdmin&&e.isOrgInReviewPeriod){let{groupsUserIsAdminOf:t}=(0,Ea.EQ)(e.licenseGroups,e.orgUser.user_id,e.isCurrentUserLicenseAndNotOrgAdmin),{groupsToReview:a}=(0,Ea.Cz)(t,e.invoices);a.length>0&&(r=1)}else r=e.invoices&&(0,uJ.i0)(e.invoices)?1:0;let n=(0,t5.Rs)(ai.lVt,{orgId:e.planType===El.ps.ORG?e.planId:""},{enabled:e.planType===El.ps.ORG}),l="loaded"===n.status,i=!!(e.planType===El.ps.ORG&&l&&(0,uJ.CA)((null==(a=null==(t=n.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null)),s=e.taxIdVerificationStatus===lB.kI.UNVERIFIED?1:0;return l&&void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?ep.createElement(Ei.e,{isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:r,taxStatusCount:s,isDataLoaded:l&&void 0!==e.invoices,showDevModeOptIn:i}):null}function Eg(e){let t=(0,eg.d4)(e=>e.currentTeamId),a=(0,eg.wA)();return t?ep.createElement(g1.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{a(mB.dm(t)),a(tL.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:ep.createElement(le.In,{icon:"grid-32"}),text:ep.createElement(du.E,{i18nId:"sidebar.all_projects",truncate:!0})}):null}var EE=a(7742),Ef=a(198929);function Eh(e,t){return!(new Date().getTime()-e.getTime()>18e5)&&(!t||e.getTime()>t.getTime())}function Ev(e,t){if(!(0,eh.kc)().ps_benchmark||(0,ph.GU)(e))return!0;let{personal_draft_migration_scheduled:a,personal_draft_migration_completed:r,personal_draft_deletion_scheduled:n,personal_draft_deletion_completed:l}=t,i=a&&Eh(a.updatedAt,null==r?void 0:r.updatedAt),s=n&&Eh(n.updatedAt,null==l?void 0:l.updatedAt);return i||s}function Eb(e){let t=e.dispatch,a=(0,eg.d4)(e=>e.userFlags),r=function(){var e,t,a,r;let{user:n}=(0,eg.d4)(e=>e),l=(0,eg.d4)(e=>e.userFlags),i=(null==n?void 0:n.personal_drafts_folder_id)??"",s=!!i,o=(0,t5.Rs)(ai.xO7,{projectId:i},{enabled:s});if(!s||Ev(n,l))return 0;let c=(null==(t=null==(e=o.data)?void 0:e.project)?void 0:t.status)!==Ef.tT.Loaded?[]:(null==(r=null==(a=o.data)?void 0:a.project.data)?void 0:r.undeletedFiles)??[],d=0,m=new Set;c.forEach(e=>{e.fileRepoId?m.has(e.fileRepoId)||(d++,m.add(e.fileRepoId)):d++});let u=c.filter(e=>{var t;return null==(t=e.trackTags)?void 0:t.isTemplate}).length;return d===u?0:d}(),n="draftsToMove"===e.selectedView.view,l=a.seen_drafts_to_move_notice_icon?r>0?ep.createElement(dd.Ex,{text:r>99?"99+":`${r}`,color:n?dd.zE.TOOLBAR_SELECTED:dd.zE.DEFAULT,className:eT.cx.mr8.if(!n,eT.cx.colorBgBrandTertiary.colorText).$}):void 0:ep.createElement(Er.EG,{className:eT.cx.mr8.$});return r>0||n?ep.createElement(g1.Z,{isSelected:n,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(tL.$T({view:"draftsToMove"})),t(tL.Oe({clickedResourceType:"draftsToMove"})),t(rc.b({seen_drafts_to_move_notice_icon:!0})))},icon:ep.createElement(le.In,{icon:"page-16"}),text:ep.createElement(du.E,{i18nId:"sidebar.drafts_to_move",truncate:!0}),badge:l,rowClassName:"drafts_to_move_folder_link--rowClassName--rtMoJ"}):null}var Ey=a(310850),Ew=a(666060);let ET=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=ep.createElement("span",{className:eT.cx.fontBold.$},e.sectionName);return ep.createElement(au.Rw,{onConfirm:()=>{t(gJ.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,e$.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--a-6IZ text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,e$.t)("sidebar.delete"),dispatch:t,destructive:!0,autoFocusCta:!1},ep.createElement("p",{className:"confirm_section_delete_modal--content--XHa5x"},ep.createElement(e$.Tx,{id:"sidebar.if_you_delete_section_the_section",item:e.count>1?(0,e$.t)("sidebar.items"):(0,e$.t)("sidebar.item"),section:a,count:e.count,pronoun:e.count>1?(0,e$.t)("sidebar.them"):(0,e$.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",am.ZU.YES),Ex="custom-section-header-context-menu";function EC(){let e=(0,eg.d4)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===Ex?e:null}function EN(e){let t=(0,eg.wA)(),a=EC();if(null==a)return ep.createElement(ep.Fragment,null);let r=()=>{0===a.data.favoritesCount?t(gJ.de({sidebarSectionId:a.data.customSection.id})):t((0,e0.to)({type:ET,data:{sectionId:a.data.customSection.id,sectionName:a.data.customSection.name,count:a.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(a.data.customSection.id)},l=[{displayText:(0,e$.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,e$.t)("sidebar.delete_section"),callback:()=>r()}];return ep.createElement(rw.j,{depth:0,items:l,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:a.data.targetRect,onSelectItem:(e,a)=>{e.callback&&e.callback("",null,t)},showPoint:!a.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}let Ek="favorited_section--emojiIcon--Zcw5z",ES="favorited_section--favoriteStar--29MS3",EI="favorited_section--isDragTarget--Qh8c9",EA="favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",EL="favorited_section--previewContainerNoDelay---hOAh favorited_section--previewContainer--ABWgx _overlayBase--_overlayBase--Rkj8l",ER="favorited_section--favoriteClickTarget--5OMUG",EO="favorited_section--thumbnailContainer--spbeS",EF="favorited_section--lowerContainer--l-TWj",EM="favorited_section--lowerPartTitles--HK-0i",ED="favorited_section--title--yf-1s ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",EP="favorited_section--editorTypeIndicator--vYwss",EB="favorited_section--previewImage--MlEEu",EU="favorited_section--svgContainer--pAaIH",EW="favorited_section--icon--JolQr";function EV(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e),r=(0,dN.wA)(a);if(!r)return null;let n=ep.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(tL.$T({view:"org",orgId:r.id,orgViewTab:gv.X.HOME}))},className:"favorited_section--browseOrgLink--EO7xm"},ep.createElement(e$.Tx,{id:"sidebar.browse_org_custom_sections"}));return ep.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--CxdmV"},ep.createElement(e$.Tx,{id:"sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"}),n)}function EG(e){return ep.createElement("div",{className:"favorited_section--customSectionsEmptyState--UACyZ favorited_section--customSectionsEmptyStateContent--CxdmV"},ep.createElement(EV,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var E$=a(940562),Ej=a(137832),EH=a(986245),Eq=a(536784);function Ez(e,t){return e===ro.C7b.CAN_VIEW?function(e){let t=(0,mG.usePermissionsState)();return(0,ep.useMemo)(()=>{let a=(0,mG.canViewFolder_DEPRECATED)(e,t);return(0,t5.gB)({result:a})},[e,t])}(t):(0,t5.gB)({result:!1})}var EY=a(729418),EK=a(849522),EJ=a(462909),EZ=a(220856),EQ=a(446247),EX=a(634193),E0=a(306981),E1=a(696030),E2=a(662167),E4=a(998950),E3=a(553978),E8=a(600586),E5=a(204512),E6=a(479163),E9=a(22460),E7=a(641437),fe=a(743125),ft=((o=ft||{}).FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",o.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",o.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",o.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",o.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",o);let fa="sidebar context menu";function fr(e,t,a,r){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;a(EK.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let r=(0,EY.QJ)(e);r&&a(EZ.bE({repo:r}))}a(tL.j7({type:r,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let fn=(e,t,a,r={})=>e?[{displayText:t?t():"",callback:a,...r}]:[],fl=[{displayText:"",separator:!0}];function fi({dropdownShown:e}){var t,a,r,n,l;let i=(0,eg.wA)(),s=(0,eg.d4)(e=>e.selectedView),o=(0,eg.d4)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),c=(0,E2.p)(),d=(0,mG.usePermissionsState)(),m=(0,eh.kc)().ps_benchmark,u="favorited-project-context-menu"===e.type?null==(t=e.data.resource.project)?void 0:t.id:null==(r=null==(a=e.data.resource)?void 0:a.file)?void 0:r.folderId,_=e.data.resource,p=m&&!!o&&(null==(n=null==_?void 0:_.file)?void 0:n.folderId)===o,g=Ez(ro.C7b.CAN_VIEW,u),E=!p&&!!g&&"loaded"===g.status&&g.data.result,f="favorited-prototype-context-menu"===e.type,h=ep.useMemo(()=>{var e;return(null==(e=null==_?void 0:_.file)?void 0:e.fileRepoId)?(0,mG.getDeleteReposPayload)({[_.file.fileRepoId]:!0},d,!0):{}},[null==(l=null==_?void 0:_.file)?void 0:l.fileRepoId,d]),v=ep.useMemo(()=>(null==_?void 0:_.file)?(0,lD.RD)({[_.file.key]:!0},d,!0):{},[d,_.file]),b=ep.useMemo(()=>"favorited-file-context-menu"===e.type&&(Object.keys(v).length>0||Object.keys(h).length>0),[v,h,e.type]),y=[...fn(!0,()=>(0,e$.t)("tile.dropdown.open"),()=>{(0,E$.DF)("open"),"favorited-file-context-menu"===e.type?((0,E$.LP)(_.file.key,lB.bk.FILE,_.sidebarSectionId,fa,_.file.editorType),(0,EX.Tq)(i,{key:_.file.key,editor_type:_.file.editorType})):"favorited-prototype-context-menu"===e.type?((0,E$.LP)(_.prototype.fileKey,lB.bk.PROTOTYPE,_.sidebarSectionId,fa,"design"),(0,gO.FS)(i,_)):"favorited-project-context-menu"===e.type&&(i(mB.kg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,EX.U8)(_.project.id,i))}),...fn(!eE.eD,()=>(0,e$.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,EX.nz)((0,uu.jN)(_),_.file.key,s,i),(0,E$.LP)(_.file.key,lB.bk.FILE,_.sidebarSectionId,fa,_.file.editorType),(0,E$.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=_.prototype.url;(0,EX.D4)(e,_.prototype.fileKey,_.prototype.file.pageId,s),(0,E$.LP)(_.prototype.fileKey,lB.bk.PROTOTYPE,_.sidebarSectionId,fa,"design"),(0,E$.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(i(mB.kg({clickedResourceType:"folder",resourceIdOrKey:_.project.id})),(0,EX.Wq)((0,E5.EE)(_.project.id,_.project.org_id??null),i),(0,E$.LP)(_.project.id,lB.bk.FOLDER,_.sidebarSectionId,fa,"design"))}),...fl,...fn(!0,()=>(0,e$.t)("tile.dropdown.copy_link"),()=>{(0,E$.DF)("copy_link"),"favorited-file-context-menu"===e.type?i(EK.S({fileKey:_.file.key,url:(0,uu.jN)({file:_.file,attributionContext:(0,E4.b)(c,E4.d.FAVORITED_FILE_CONTEXT_MENU)}),source:E4.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?i(rh.S({url:_.prototype.url})):"favorited-project-context-menu"===e.type&&i(rh.S({url:(0,E5.EE)(_.project.id,_.project.org_id??null)}))}),...fn(!f&&!p,()=>(0,e$.t)("sidebar.share"),()=>{(0,E$.DF)("share"),"favorited-file-context-menu"===e.type?i((0,e0.to)({type:E7.g_,data:{fileKey:_.file.key,source:E0.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&i((0,e0.to)({type:fe.W,data:{folderId:_.project.id}}))}),...fn(E,()=>(0,e$.t)("tile.dropdown.show_in_project"),()=>{var t;if((0,E$.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&(null==(t=e.data.resource.file)?void 0:t.folderId)!=null){if(i(tL.$T({view:"folder",folderId:e.data.resource.file.folderId})),i(EQ.an()),e.data.resource.file.repo){let t=(0,EY.QJ)(e.data.resource);null!=t&&i(EQ.y$({type:E9.F.REPOS,tiles:[{type:E1.nb.REPO,repo:t,branches:[],selectedBranchKey:""}]}))}else i(EQ.y$({type:E9.F.FILES,tiles:[{type:E1.nb.FILE,file:e.data.resource.file}]}))}},{disabled:!E}),...fl,...fn(!f,()=>(0,e$.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&_.prototype?i(gJ.X7({prototype:{file_key:_.prototype.fileKey,page_id:_.prototype.pageId},entrypoint:"sidebar",favoriteId:_.id})):"favorited-file-context-menu"===e.type&&_.file?i(gJ.qP({file:{key:_.file.key,editor_type:_.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:_.id})):"favorited-project-context-menu"===e.type&&_.project&&i(gL.ZJ({folderId:_.resourceId,folderName:_.project.path,teamId:_.project.teamId,isSubscribed:!1}))}),...fl,...fn(!f&&!p,()=>(0,e$.t)("sidebar.delete"),()=>{(0,E$.DF)("delete"),"favorited-file-context-menu"===e.type&&i(EJ.U1({filesByKey:v??{},reposById:h}))},{disabled:!b})];return ep.createElement(rw.j,{items:y,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:i,onSelectItem:(e,t)=>{var a;null==(a=e.callback)||a.call(e,"",{},i,t)}})}function fs(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.selectedView),r=(0,E2.p)(),n=e.favoritedFile.file,l=nk.M4.useFile(null==n?void 0:n.key).data,i=Ez(ro.C7b.CAN_VIEW,e.folderId),s=(0,eg.d4)(e=>e.dropdownShown);if(null==s||null==n)return null;let o=!("favorited-file-context-menu"!==s.type)&&"loaded"===i.status&&i.data.result,c=[...fn(!0,()=>(0,e$.t)("tile.dropdown.open"),()=>{var a;(0,E$.DF)("open"),(0,E$.LP)(n.key,lB.bk.FILE,(null==(a=e.favoritedFile)?void 0:a.sidebarSectionId)??void 0,fa,n.editorType),(0,EX.Tq)(t,{key:n.key,editor_type:n.editorType})}),...fn(!eE.eD,()=>(0,e$.t)("tile.dropdown.open_new_tab"),()=>{var r;(0,EX.nz)((0,uu.jN)({file:n}),n.key,a,t),(0,E$.LP)(n.key,lB.bk.FILE,(null==(r=e.favoritedFile)?void 0:r.sidebarSectionId)??void 0,fa,n.editorType),(0,E$.DF)("open_in_new_tab")}),...fl,...e.organizeFavoriteOptions,...fl,...fn(!0,()=>(0,e$.t)("file_browser.copy_link"),()=>{t(EK.S({fileKey:n.key,url:(0,uu.jN)({file:n,attributionContext:(0,E4.b)(r,E4.d.FAVORITED_FILE_CONTEXT_MENU)}),source:E4.d.FAVORITED_FILE_CONTEXT_MENU})),t(tL.oB())}),...fn(!0,()=>(0,e$.t)("sidebar.share"),()=>{(0,E$.DF)("share"),t((0,e0.to)({type:E7.g_,data:{fileKey:n.key,source:E0.nk.fileBrowserFavoritedContextMenu}}))}),...fn(!0,()=>(0,e$.t)("tile.dropdown.show_in_project"),()=>{if((0,E$.DF)("show_in_project"),t(tL.$T({view:"folder",folderId:e.folderId})),t(EQ.an()),n.fileRepoId){let a=(0,EY.QJ)(e.favoritedFile);null!=a&&t(EQ.y$({type:E9.F.REPOS,tiles:[{type:E1.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else{if(!l)return;t(EQ.y$({type:E9.F.FILES,tiles:[{type:E1.nb.FILE,file:l}]}))}},{disabled:!o})];return ep.createElement(rw.j,{items:c,parentRect:s.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function fo(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...fl,...fn(!0,()=>(0,e$.t)("file_browser.copy_link_to_team"),()=>{let a=(0,E6.bL)(e.teamId,e.orgId);t(rh.S({url:a})),t(tL.oB())})];return ep.createElement(rw.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function fc(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...fl,...fn(null!==e.orgId,()=>(0,e$.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let a=(0,E8.fO)(e.workspaceId,e.orgId);t(rh.S({url:a}))}t(tL.oB())})];return ep.createElement(rw.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function fd(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...fl,...fn(!0,()=>(0,e$.t)("file_browser.copy_link_to_project"),()=>{let a=(0,E5.EE)(e.projectId,e.orgId);t(rh.S({url:a})),t(tL.oB())})];return ep.createElement(rw.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}function fm(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...fl,...fn(!0,()=>(0,e$.t)("file_browser.copy_link"),()=>{var a;let r=(0,E3._3)(e.prototype.fileKey,null==(a=e.prototype.file)?void 0:a.name,e.prototype.pageId);t(rh.S({url:r})),t(tL.oB())})];return ep.createElement(rw.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{var r;null==(r=e.callback)||r.call(e,"",{},t,a)}})}var fu=a(857199),f_=a(525278),fp=a(99847),fg=a(628315),fE=a(575675);function ff(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.currentUserOrgId),r=(0,eg.d4)(e=>e.currentTeamId),n=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),l=e.favorite.team,i=(0,mG.usePermissionsState)(),s=(0,eg.d4)(e=>e.dropdownShown),o=(0,eg.d4)(e=>e.avatarEditorState),c=ep.useMemo(()=>s&&s.type===ft.FAVORITED_TEAM_CONTEXT_MENU&&s.data.teamId===(null==l?void 0:l.id),[s,null==l?void 0:l.id]),d=ep.useCallback((e,a)=>{var r;(0,E$.LP)(null==(r=a.team)?void 0:r.id,lB.bk.TEAM,a.sidebarSectionId??void 0,E$.vg);let n=(0,E6.bL)(a.resourceId,a.orgId);(0,ou.oJ)(e)?(ef.Ay.redirect(n,"_blank"),e.stopPropagation()):(t(mB.dm(a.resourceId)),e.preventDefault())},[t]),m=ep.useCallback(e=>{if(!l)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(tL.j7({type:ft.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:l.id,targetRect:a}}))},[t,l]);if(!a||null===l)return ep.createElement(ep.Fragment,null);let u=(0,mG.canAdminTeam)(l.id,i),_=(0,fg.oB)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lB.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={entrypoint:"sidebar",sectionId:r,team:{id:l.id},favoriteId:e.favorite.id,resourceType:lB.bk.TEAM};a?t(gJ.V1(n)):t(gJ.ox(n))}});return ep.createElement(ep.Fragment,null,ep.createElement(g1.Z,{isSelected:e.isSelected,rowClassName:ER,onClick:t=>d(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:m,icon:l.imgUrl?ep.createElement("div",{className:eT.cx.colorIcon.$},ep.createElement(dm.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:dm.Pf.SMALL,fallbackSize:dm.Pf.SMALL},fallbackDisplay:fu.U.HIDDEN,team:{...l,imgUrl:l.imgUrl},fallbackSvg:fE.A})):ep.createElement(le.In,{icon:"team-16"}),text:ep.createElement(du.E,{truncate:!0},l.name)}),c&&ep.createElement(fo,{teamId:l.id,orgId:l.orgId,organizeFavoriteOptions:_}),u&&ep.createElement("span",{className:"favorited_section--hiddenEditableAvatar--UzTdg"},ep.createElement(fp.ER,{entity:{...l,imgUrl:l.imgUrl||void 0},entityType:f_.ck.TEAM,avatarEditorState:o,size:14,dispatch:t})))}var fh=a(246182),fv=a(473615),fb=a(111523),fy=a(844866),fw=a(588924);function fT(e){switch(e.iconType){case _7.y1.DESIGN:case _7.y1.DESIGN_AND_DEV_MODE:case _7.y1.SLIDES:case _7.y1.SITES:return ep.createElement(le.In,{icon:"file-design-16-file-type"});case _7.y1.WHITEBOARD:return ep.createElement(le.In,{icon:"file-figjam-16-file-type"});case _7.y1.DEV_MODE:case _7.y1.DEV_MODE_SELECTED:case _7.y1.PROTOTYPE:case _7.y1.PUBLISHED:return ep.createElement(_7.oS,{type:e.iconType,size:_7.LE.SMALL});case _7.y1.TEMPLATE:return ep.createElement(le.In,{icon:"file-team-template-16-file-type"});case _7.y1.REPO:return ep.createElement(le.In,{icon:"file-design-branch-16-file-type"});default:(0,eC.xb)(e.iconType)}}let fx=e=>ep.createElement("div",{className:Ek},e);function fC(e){var t,a,r,n;let l=(0,eg.wA)(),i=(0,eg.d4)(e=>e.currentUserOrgId),s=(0,eg.d4)(e=>e.currentTeamId),o=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),c=(0,eg.d4)(e=>e.dropdownShown),d=e.favorite.file,m=nk.M4.useFile(null==d?void 0:d.key).data,u=(0,fb.p)(!0),_=null!==i,p=(0,eh.kc)().ps_benchmark&&s,g=ep.useMemo(()=>c&&c.type===ft.FAVORITED_FILE_CONTEXT_MENU&&c.data.fileKey===(null==d?void 0:d.key),[c,d]),E=ep.useMemo(()=>c&&c.type===Ex,[c]),f=ep.useCallback(e=>{if(!d)return;m||l(EK.yJ({file:{key:d.key,team_id:d.teamId,file_repo_id:d.fileRepoId,folder_id:d.folderId}})),e.stopPropagation(),e.preventDefault();let t={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};l(tL.j7({type:ft.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:d.key,targetRect:t}}))},[l,d,m]);if(null===d)return ep.createElement(ep.Fragment,null);let h=(0,eh.kc)().dt_url_improvements?(0,uu.jN)({file:d}):`/file/${d.key}/${encodeURIComponent(d.name)}?type=${d.editorType}`,v=(e,t)=>{var a,r,n;(0,E$.LP)(null==(a=t.file)?void 0:a.key,lB.bk.FILE,t.sidebarSectionId??void 0,E$.vg,null==(r=t.file)?void 0:r.editorType),(0,ou.oJ)(e)?(l(mB.UN({fileKey:(null==(n=t.file)?void 0:n.key)??"",entrypoint:E$.vg})),e.stopPropagation()):e.preventDefault(),t.file&&(ef.Ay.redirect(h,"_blank"),l(mB.UN({fileKey:t.file.key,entrypoint:E$.vg})))},b=()=>{null!==d&&l(gJ.qP({file:{key:d.key,editor_type:d.editorType??"design"},repoId:d.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},y=(0,fg.oB)({dispatch:l,currentOrgId:i,currentTeamId:s,collapsedCustomSections:o,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lB.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t&&m){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:lB.bk.FILE};l(gJ.V1(t))}else t||null===d||b()}}),w=null==d?void 0:d.name,T=(0,fh.AE)(w),x=u(e.favorite.file),C=T?fx(T):ep.createElement(fT,{iconType:x}),N=T?(0,fh.Nn)(w,T):w,k=null==(a=null==(t=e.favorite.file)?void 0:t.project)?void 0:a.path,S=(0,fv.S)(k),I=S?ED:"favorited_section--titleWithoutSubtitle--Qve0p ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return ep.createElement(ep.Fragment,null,ep.createElement(g1.Z,{isSelected:e.isSelected,rowClassName:ER,showGrabber:e.showGrabber,onContextMenu:_||p?f:t=>{fr(e.favorite,t,l,ft.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>v(t,e.favorite),icon:C,text:""!==N?ep.createElement(du.E,{truncate:!0,showTooltipWhenTruncated:!1},N):ep.createElement(du.E,{i18nId:(null==(r=e.favorite.file)?void 0:r.editorType)==="whiteboard"?"sidebar.fig_jam_file":"sidebar.design_file",truncate:!0}),badge:e.isHover&&!(_||p)?ep.createElement("div",{className:ES},ep.createElement(fy.r,{favoriteType:lB.bk.FILE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:fy.m.MEDIUM,setFavorite:b,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!g&&!E&&ep.createElement("div",{className:e.showPreviewDelay?EA:EL,style:{transform:`translateY(${-e.previewYOffset}px)`}},ep.createElement("div",{className:EO},ep.createElement(fw.N,{additionalClassName:EB,editor_type:d.editorType,client_meta:(0,eh.kc)().thumbnail_lg_client_meta?d.checkpointClientMeta||null:d.clientMeta,isLocked:!!d.hasFileLinkPassword,thumbnail_url:d.thumbnailUrl,listView:!1,fullWidth:!1,isPreview:!0})),ep.createElement("div",{className:EF},ep.createElement(_7.oS,{svgOptions:{id:"sidebar-thumbnail"},className:EP,type:x}),ep.createElement("div",{className:EM},ep.createElement("div",{className:I},null==(n=e.favorite.file)?void 0:n.name),S&&ep.createElement("div",{className:"favorited_section--subtitle--yAnRw ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},S)))),(_||p)&&g&&(null==d?void 0:d.folderId)&&ep.createElement(fs,{favoritedFile:e.favorite,folderId:d.folderId,organizeFavoriteOptions:y}))}let fN=e=>ep.createElement("div",{className:Ek},e);function fk(e){let t=(0,eg.wA)(),a=e.favorite.project,r=(0,eg.d4)(e=>e.currentTeamId),n=(0,eg.d4)(e=>e.currentUserOrgId),l=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),i=(0,Ew.S)(),s=(0,eg.d4)(e=>e.dropdownShown),o=ep.useMemo(()=>s&&s.type===ft.FAVORITED_PROJECT_CONTEXT_MENU&&s.data.projectId===(null==a?void 0:a.id),[s,a]),c=ep.useCallback(e=>{if(!a)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(tL.j7({type:ft.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:a.id,targetRect:r}}))},[t,a]),d=ep.useCallback((e,a)=>{var r;(0,E$.LP)(null==(r=a.project)?void 0:r.id,lB.bk.FOLDER,a.sidebarSectionId??void 0,E$.vg),t(mB.gN(a.resourceId))},[t]);if(!i||null==a)return null;let m=(0,fg.oB)({dispatch:t,currentOrgId:n,currentTeamId:r,collapsedCustomSections:l,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lB.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,n)=>{let l={entrypoint:"sidebar",sectionId:n,folder:a,favoriteId:e.favorite.id};r?t(gJ.Mv(l)):t(gJ.jv(l))}}),u=(0,fh.AE)(a.path),_=u?(0,fh.Nn)(a.path,u):a.path;return ep.createElement(ep.Fragment,null,ep.createElement(g1.Z,{rowClassName:ER,onContextMenu:c,isSelected:e.isSelected,onClick:t=>d(t,e.favorite),icon:u?ep.createElement("div",null,fN(u)):ep.createElement(le.In,{icon:"folder-16"}),showGrabber:e.showGrabber,text:ep.createElement(du.E,{truncate:!0},_),isFavoritesToMove:e.isFavoritesToMove}),o&&ep.createElement(fd,{projectId:a.id,orgId:a.orgId,organizeFavoriteOptions:m}))}var fS=a(846380);let fI=ep.createElement(_7.oS,{type:_7.y1.PROTOTYPE,size:_7.LE.SMALL});function fA(e){var t,a,r,n,l;let i=(0,eg.wA)(),s=(0,eg.d4)(e=>e.currentTeamId),o=(0,eg.d4)(e=>e.currentUserOrgId),c=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),d=(0,eg.d4)(e=>e.dropdownShown),m=ep.useMemo(()=>{var t;return d&&d.type===ft.FAVORITED_PROTOTYPE_CONTEXT_MENU&&d.data.resource.prototype.id===(null==(t=e.favorite.prototype)?void 0:t.id)},[d,e.favorite.prototype]),u=ep.useMemo(()=>d&&d.type===Ex,[d]),_=(0,Ew.S)();if(null===e.favorite.prototype)return ep.createElement(ep.Fragment,null);let p=(0,E3._3)(e.favorite.prototype.fileKey,null==(t=e.favorite.prototype.file)?void 0:t.name,e.favorite.prototype.pageId),g=(e,t)=>{var a;if((0,E$.LP)(null==(a=t.prototype)?void 0:a.fileKey,lB.bk.PROTOTYPE,t.sidebarSectionId??void 0,E$.vg),(0,ou.oJ)(e)){e.stopPropagation();return}e.preventDefault(),ef.Ay.redirect(p,"_blank")},E=(t,a)=>{t||null===e.favorite.prototype||i(gJ.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:a}))},f=(0,fg.oB)({dispatch:i,currentOrgId:o,currentTeamId:s,collapsedCustomSections:c,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lB.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(t,a)=>{if(t){let t={entrypoint:"sidebar",sectionId:a,favoriteId:e.favorite.id,resourceType:lB.bk.PROTOTYPE};i(gJ.V1(t))}else E(!1,e.favorite.id)}});return ep.createElement(ep.Fragment,null,ep.createElement(g1.Z,{isSelected:e.isSelected,rowClassName:ER,onContextMenu:t=>{fr(e.favorite,t,i,ft.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>g(t,e.favorite),icon:fI,text:ep.createElement(du.E,{truncate:!0,showTooltipWhenTruncated:!1},null==(a=e.favorite.prototype.file)?void 0:a.name),badge:e.isHover&&!_?ep.createElement("div",{className:ES},ep.createElement(fy.r,{favoriteType:lB.bk.PROTOTYPE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:fy.m.MEDIUM,setFavorite:E,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!m&&!u&&ep.createElement("div",{className:e.showPreviewDelay?EA:EL,style:{transform:`translateY(${-e.previewYOffset}px)`}},ep.createElement("div",{className:EO},ep.createElement(fS.N,{additionalClassName:EB,isLocked:null!=(r=e.favorite.prototype.file)&&!!r.hasProtoLinkPassword&&(null==(n=e.favorite.prototype.file)?void 0:n.hasProtoLinkPassword),thumbnail_url:e.favorite.prototype.thumbnailUrl})),ep.createElement("div",{className:EF},ep.createElement(_7.oS,{type:_7.y1.PROTOTYPE,className:EP}),ep.createElement("div",{className:EM},ep.createElement("div",{className:ED},null==(l=e.favorite.prototype.file)?void 0:l.name)))),_&&m&&e.favorite.prototype&&ep.createElement(fm,{prototype:e.favorite.prototype,organizeFavoriteOptions:f}))}var fL=a(9821);function fR(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.currentUserOrgId),r=(0,eg.d4)(e=>e.currentTeamId),n=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),l=(0,eg.d4)(e=>e.dropdownShown),i=e.favorite.workspace,s=ep.useMemo(()=>l&&l.type===ft.FAVORITED_WORKSPACE_CONTEXT_MENU&&l.data.workspaceId===(null==i?void 0:i.id),[l,null==i?void 0:i.id]),o=ep.useCallback((e,a)=>{let r=a.workspace;(0,E$.LP)(null==r?void 0:r.id,lB.bk.WORKSPACE,a.sidebarSectionId??void 0,E$.vg),r&&t(tL.$T({view:"workspace",subView:gw.V0.DIRECTORY,workspaceId:r.id,selectedTab:gw.dN.TEAMS}))},[t]),c=ep.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(tL.j7({type:ft.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:i.id,targetRect:a}}))},[t,i]);if(!a||null===i)return ep.createElement(ep.Fragment,null);let d=(0,fg.oB)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:lB.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{var n;let l={workspace:{id:i.id,name:i.name??"",imgUrl:(null==(n=e.favorite.workspace)?void 0:n.imgUrl)??null},entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id};a?t(gJ.ZW(l)):t(gJ.if(l))}}),m=e.favorite.workspace?ep.createElement(e7.z6,{entity:e.favorite.workspace,size:16}):ep.createElement(eL.B,{svg:fL.A,className:eT.cx.colorIcon.$});return ep.createElement(ep.Fragment,null,ep.createElement(g1.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:ER,onClick:t=>o(t,e.favorite),onContextMenu:c,icon:m,text:ep.createElement(du.E,{truncate:!0}," ",i.name)}),s&&ep.createElement(fc,{workspaceId:i.id,orgId:e.favorite.orgId,organizeFavoriteOptions:d}))}var fO=a(880109);let fF=(e,t)=>{let a=e.cloneNode(!0),r=document.createElement("div");return r.className="favorited_generic_row--favorite--QI-kf favorited_generic_row--_favorite--TCk4z sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(r.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(a.classList.add(t),a.classList.add(eT.cx.colorText.$)),r.appendChild(a),document.body.appendChild(r),r};function fM(e){var t,a,r;let n=(0,eg.wA)(),l=(0,eg.d4)(e=>e.dragState),[i,s]=ep.useState(!1),o=e.favorite.resourceType,c=(0,d2._6)(),d=(null==(t=e.rearrangeDragState)?void 0:t.draggedOverFavoriteId)===e.favorite.resource.id,[m,u]=ep.useState(!1),_=ep.useRef(null),p=(0,Ew.S)(),g=i&&!p,E=e.isSelected||(()=>{switch(o){case lB.bk.FOLDER:return"folder"===c.view&&c.folderId===e.favorite.resource.resourceId;case lB.bk.TEAM:return"team"===c.view&&c.teamId===e.favorite.resource.resourceId;case lB.bk.WORKSPACE:return"workspace"===c.view&&c.subView===gw.V0.DIRECTORY&&c.workspaceId===e.favorite.resource.resourceId;default:return!1}})();return ep.createElement("div",{className:d?(null==(a=e.rearrangeDragState)?void 0:a.dropBefore)?"favorited_generic_row--dropBefore--yQ-ep sidebar--dropBefore--Dkf-G":(null==(r=e.rearrangeDragState)?void 0:r.dropInto)?"favorited_generic_row--dropInto--7fEGM":"favorited_generic_row--dropAfter--zAx-T sidebar--dropAfter--cb3iP":void 0},ep.createElement(ew.Y,{key:e.favorite.resource.resourceId,isDragTarget:()=>l.type!==gF.R.SidebarSection,onTargetDragEnter:(t,a)=>{let r=new Ej.le(t),n=!1;(l.type===gF.R.Favorite||r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())&&((r.isFigFiles()||r.isRepos()||r.isTiles())&&(n=e.favorite.resourceType===lB.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:n?a.upperQuarter:a.upper,dropInto:n&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),u(n))},onTargetDragLeave:t=>{let a=new Ej.le(t);(l.type===gF.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&d)&&(e.clearRearrangeDragState(e.favorite.resource.id),u(!1))},onTargetDrop:t=>{var a;let r=new Ej.le(t);if((null==(a=e.rearrangeDragState)?void 0:a.dropInto)&&e.favorite.resourceType===lB.bk.FOLDER&&e.favorite.resource.project)(0,fO.A)(n,e.favorite.resource.project,e.favorite.resource.project.team,r),n(Ey.T());else if(r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles())e.onSetResourceFavoriteDragDrop(t);else if(l.type===gF.R.Favorite&&d){let t=l.data;e.reorderOrInsertFavorite(t.resource.id,t.resourceType),n(Ey.T())}e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:m?t.upperQuarter:t.upper,dropInto:m&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},ep.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||s(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),s(!1)},onDragStart:t=>{t.dataTransfer.effectAllowed="move";let a=new Ej.le(t.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let r=t.currentTarget.firstElementChild;if(null===r)return;let l=r.getBoundingClientRect(),i=t.clientX-l.left,s=t.clientY-l.top;_.current=fF(r,"favorited_generic_row--draggable--rzkBm"),a.setDragImage(_.current,i,s),n(Ey.v({type:gF.R.Favorite,data:e.favorite}))},onDragEnd:t=>{_.current&&_.current.remove(),n(Ey.T()),e.clearRearrangeDragState(e.favorite.resource.id),u(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(o){case lB.bk.FILE:return ep.createElement(fC,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lB.bk.PROTOTYPE:return ep.createElement(fA,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lB.bk.FOLDER:return ep.createElement(fk,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case lB.bk.TEAM:return ep.createElement(ff,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case lB.bk.WORKSPACE:return ep.createElement(fR,{favorite:e.favorite.resource,isHover:i,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,eC.xb)(o)}})())))}var fD=a(432023),fP=a(604771);function fB(e){var t,a,r,n,l,i,s;let o=(0,eg.wA)(),c=(0,eg.d4)(e=>e.currentTeamId),d=function(){let e=(0,eg.d4)(e=>e.dropdownShown),t=(0,eg.d4)(e=>e.currentUserOrgId),a=(0,eg.d4)(e=>e.currentTeamId),r=(0,eh.kc)().ps_benchmark&&a;return!e||(null==e?void 0:e.type)!=="favorited-file-context-menu"&&(null==e?void 0:e.type)!=="favorited-prototype-context-menu"||t||r?null:e}(),m=(0,mV.sZ)(),u=(null==m?void 0:m.id)??null,_=(0,gO.sb)(e.favorites,e.order),p=(0,d2._6)(),g=(0,eg.d4)(e=>e.favorites.movingResource),E=(0,Ew.S)(),f=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),h=E&&e.section?!f.has(null==(t=e.section)?void 0:t.id):!f.has("favorited"),[v,b]=ep.useState(!1),[y,w]=ep.useState(),[T,x]=ep.useState(),C=(0,eg.d4)(e=>e.dragState),N=(0,om.Z)(C);ep.useEffect(()=>{C.type===gF.R.None&&N&&N.type!==gF.R.None&&x(void 0)},[C,N]),ep.useEffect(()=>{!e.isCurrentHoveredSection&&C.type===gF.R.SidebarSection&&T&&x(void 0)},[e.isCurrentHoveredSection,T,C]);let[k,S]=ep.useState(void 0),[I,A]=ep.useState(!0),L=ep.useRef(null),R=EC();ep.useEffect(()=>{k===(null==T?void 0:T.draggedOverFavoriteId)&&x(void 0),S(void 0)},[T,x,k,S]);let O=ep.useCallback(t=>{var a;(null==(a=e.section)?void 0:a.id)&&(t.dataTransfer.effectAllowed="move",new Ej.le(t.dataTransfer).setArbitraryData(e.section.id),o(Ey.v({type:gF.R.SidebarSection,data:e.section.id})))},[o,e.section]),F=ep.useCallback(()=>{var t;(0,E$.xs)(!h),E&&e.section?(Eq.Fp({type:"topLevel",id:"custom",orgId:u,sectionId:null==(t=e.section)?void 0:t.id},!h),h?f.add(e.section.id):f.delete(e.section.id)):(Eq.Fp({type:"topLevel",id:"favorited",orgId:u},!h),h?f.add("favorited"):f.delete("favorited")),o(gJ.U6({collapsedCustomSections:f}))},[h,u,e.section,f,E,o]),M=(t,a)=>{var r,n,l,i,s,c,d;let m;let u=_.map(e=>e.resource.id);if(!(null==T?void 0:T.draggedOverFavoriteId))return u;let p=-1!==u.indexOf(t);if(p)m=(0,tl.Pe)(u,t,T.draggedOverFavoriteId,T.dropBefore);else{let e=u.indexOf(T.draggedOverFavoriteId);T.dropBefore||(e+=1),m=[...u.slice(0,e),t,...u.slice(e)]}if((0,E$.hp)(),w(t),null==(r=e.section)?void 0:r.id){p?o(gJ.vg({sectionId:e.section.id,orderedFavoriteIds:m})):o(gJ.V1({favoriteId:t,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:m}));return}p?o(gA.Sk.put({prefs:{id:(null==(n=e.fileBrowserPreferences)?void 0:n.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedTeamIds,orderedLicenseGroupIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedLicenseGroupIds},userInitiated:!0})):(o(gJ.V1({favoriteId:t,sectionId:void 0,resourceType:a})),o(gA.Sk.put({prefs:{id:(null==(s=e.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedFavoritedResourceIds:m,orderedTeamIds:null==(c=e.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedLicenseGroupIds:null==(d=e.fileBrowserPreferences)?void 0:d.orderedLicenseGroupIds},userInitiated:!0})))},D=ep.useCallback(e=>{e.stopPropagation(),y&&w(void 0)},[y]),P=ep.useCallback(()=>{A(!0)},[]),B=ep.useCallback(e=>{let t=new Ej.le(e);return t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),U=t=>{var a;let r=new Ej.le(t),n=[],l=[],i=[];if(b(!1),r.isFigFiles()){if(!(n=r.getData()))return!1}else if(r.isPrototypes()){if(!(i=r.getData()))return!1}else if(r.isRepos()){let e=r.getReposData();if(!e)return!1;l=e.repos}else if(r.isTiles()){let e=r.getTilesData();if(!e)return!1;n=e.files,l=e.repos,i=e.prototypes}n=n.filter(e=>!e.is_favorited),l=l.filter(e=>!e.is_favorited),i=i.filter(e=>!e.is_favorited);let s=_.map(e=>e.resource.id),d=n.length+l.length+i.length,m=(0,gO.kK)(u);if(d+_.length>m)return o(t6.F.enqueue({message:(0,e$.t)("tile.favoriting.max_favorites",{maxFavorites:m})})),!1;let g=null;return T&&(g=s.indexOf(T.draggedOverFavoriteId)+(T.dropBefore?0:1)),o(gJ.N9({files:n,repos:l,prototypes:i,orgId:u,teamId:c,selectedView:p.view,entrypoint:"sidebar",insertAtIndex:g,orderedFavorites:s,sectionId:null==(a=e.section)?void 0:a.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},W=ep.useCallback(()=>{b(!0)},[]),V=ep.useCallback(()=>{b(!1)},[]),G=eS()([eT.cx.relative.$,"favorited_section--showsCaret--mF1FR",v||(null==T?void 0:T.draggedOverSectionId)&&e.section&&T.draggedOverSectionId===e.section.id?EI:""]),$=E?(null==(a=e.section)?void 0:a.name)===""||(null==(r=e.section)?void 0:r.name)===void 0?ep.createElement(e$.Tx,{id:"sidebar.starred"}):e.section.name:ep.createElement(e$.Tx,{id:"sidebar.favorite_files"}),j=(null==(l=null==(n=null==R?void 0:R.data)?void 0:n.customSection)?void 0:l.id)===(null==(i=e.section)?void 0:i.id),H=e.isCreatingNewSection||e.isRenaming,q=eS()({"favorited_section--sectionHeaderContainer--K-oD6 sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--ebXgQ":!H,"favorited_section--actionButtonsVisible--cdmc8":j&&!H}),z=(null==(s=e.section)?void 0:s.name)===void 0?(0,e$.t)("sidebar.new_section"):(0,gO.R3)(e.section)?(0,e$.t)("sidebar.starred"):e.section.name;return ep.createElement(ew.Y,{className:G,isDragTarget:B,draggable:!1,onTargetDrop:U,onTargetDragEnter:W,onTargetDragLeave:V},ep.createElement("div",null,ep.createElement("div",{draggable:!0,onDragStart:O,className:q,onClick:F,onContextMenu:t=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(tL.j7({type:Ex,data:{customSection:e.section,favoritesCount:_.length,isFromRightClick:!0,targetRect:a}}))},role:"button",tabIndex:0},ep.createElement(eL.B,{className:E?"favorited_section--expandCaretCustomSections--oWlxz":"favorited_section--expandCaret--yn9eJ sidebar--expandCaret--WHjtL",svg:h?c5.A:fD.A}),ep.createElement("div",{className:"favorited_section--sectionName--Acm-p ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?ep.createElement(EH.p,{className:"favorited_section--input--rO7VZ",placeholderValue:z,submit:t=>{e.isCreatingNewSection?(g?o(gJ.yH({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:g})):o(gJ.YI({name:t,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(o(gJ.vg({sectionId:e.section.id,name:t.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),g&&o(gJ.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):$),u&&ep.createElement("div",{className:"favorited_section--actionButtons--tLW3B"},ep.createElement("div",{role:"button",tabIndex:0,className:EU,"data-tooltip-max-width":200,ref:L,onClick:t=>{R?o(tL.oB()):L.current&&o(tL.j7({type:Ex,data:{targetRect:L.current.getBoundingClientRect(),customSection:e.section,favoritesCount:_.length}})),t.stopPropagation(),t.preventDefault()},onContextMenu:e=>e.stopPropagation()},ep.createElement(eL.B,{svg:fP.A,className:EW})),ep.createElement(fU,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),ep.createElement("div",{className:h?void 0:eT.cx.hidden.$},(()=>{if(0===_.length){let t=1===e.allSections.length&&(0,gO.R3)(e.allSections[0]);return E||e.isCreatingNewSection?E&&t&&!e.isCreatingNewSection?ep.createElement(EV,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):ep.createElement(ep.Fragment,null):ep.createElement(fW,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return ep.createElement("div",{onMouseMove:D,onMouseLeave:P},_.map(t=>{var a;let r=y===t.resource.id||t.resource.resourceId===(null==(a=null==d?void 0:d.data)?void 0:a.resource.resourceId);return ep.createElement(fM,{key:t.resource.resourceId,favorite:t,isSelected:r,onSetResourceFavoriteDragDrop:U,reorderOrInsertFavorite:M,clearRearrangeDragState:S,updateRearrangeDragState:x,rearrangeDragState:T,previewYOffset:e.previewYOffset,showPreviewDelay:I,setShowPreviewDelay:A,sections:e.allSections,preventHoverStyle:void 0!==y})}),d&&ep.createElement(fi,{dropdownShown:d}))})()))}function fU(e){return ep.createElement("div",{role:"button",tabIndex:0,className:EU,"data-tooltip-max-width":200,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},ep.createElement(eL.B,{svg:_0.A,className:EW}))}function fW(e){return ep.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--TM-Bc sidebar--emptySection--nu2xG sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"sidebar.to_favorite_files_you_use_often"}))}function fV(e){var t;let a=(0,gO.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return ep.createElement(fB,{favorites:a,order:(null==(t=e.fileBrowserPreferences)?void 0:t.orderedFavoritedResourceIds)??void 0,fileBrowserPreferences:e.fileBrowserPreferences,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function fG(e){var t;let a=(0,eg.wA)(),r=(0,eg.d4)(e=>e.dragState),n=(0,eg.d4)(e=>e.favorites.newCustomSectionIndex),l=(0,eg.d4)(e=>e.favorites.favoritesCount),i=(0,gO.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[s,o]=ep.useState(),[c,d]=ep.useState(),[m,u]=ep.useState(!1),_=(0,Ew.S)(),p=ep.useMemo(()=>{var t;return(0,gO.t$)(e.userSidebarSections??[],(null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections)??void 0)},[e.userSidebarSections,null==(t=e.fileBrowserPreferences)?void 0:t.orderedSidebarSections]);ep.useMemo(()=>{l&&l<15&&i.length>=15&&(0,tE.YQ)({id:g0.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),a(gJ.lF({favoritesCount:i.length}))},[l,i.length,a]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let f=ep.useCallback(()=>r.type===gF.R.Favorite||r.type===gF.R.SidebarSection,[r]),h=ep.useCallback(e=>{r.type===gF.R.SidebarSection&&u(e.upper)},[r]),v=ep.useCallback(()=>{var t,n,l,i;let c="starred"===s?void 0:s;if(r.type===gF.R.Favorite){let e=r.data;a(gJ.V1({favoriteId:e.resource.id,sectionId:c,resourceType:e.resourceType}))}else if(r.type===gF.R.SidebarSection&&c){let s=p.map(e=>e.id)??[],o=(0,tl.Pe)(s,r.data,c,m);a(gA.Sk.put({prefs:{id:(null==(t=e.fileBrowserPreferences)?void 0:t.id)||"optimistic-id",orderedFavoritedResourceIds:null==(n=e.fileBrowserPreferences)?void 0:n.orderedFavoritedResourceIds,orderedTeamIds:null==(l=e.fileBrowserPreferences)?void 0:l.orderedTeamIds,orderedLicenseGroupIds:null==(i=e.fileBrowserPreferences)?void 0:i.orderedLicenseGroupIds,orderedSidebarSections:o},userInitiated:!0}))}u(!1),o(void 0),a(Ey.T())},[s,a,r,m,p,e.fileBrowserPreferences]),b=ep.useCallback(e=>()=>{o(e)},[]),y=ep.useCallback(()=>{o(void 0)},[]),w=ep.useCallback(e=>{a(gJ.pS({newCustomSectionIndex:e}))},[a]);if(0===p.length&&_&&void 0===n)return ep.createElement(EG,{setNewCustomSectionIndex:w});let T=ep.createElement("div",{className:eT.cx.mb8.$},ep.createElement(fB,{favorites:[],order:[],allSections:p,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:!0,setRenamingSectionId:d,sectionIndex:n||0,isCreatingNewSection:!0,setNewCustomSectionIndex:w,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return ep.createElement("div",{className:eT.cx.mt8.$},0===n&&T,p.map((t,a)=>{let l=r.type===gF.R.Favorite?EI:m?"favorited_section--dropBefore--Gw3pd sidebar--dropBefore--Dkf-G":"favorited_section--dropAfter--i5vNE sidebar--dropAfter--cb3iP",i=eS()([s===t.id?l:"",eT.cx.mb8.$]);return ep.createElement("div",{key:t.id},ep.createElement(ew.Y,{className:i,isDragTarget:f,draggable:!1,onTargetDragQuadrantUpdate:h,onTargetDrop:v,onTargetDragEnter:b(t.id),onTargetDragLeave:y},ep.createElement(fB,{favorites:g[t.id]??[],sectionIndex:a,section:t,allSections:p,order:t.orderedFavoritedResourceIds??[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:c===t.id,setRenamingSectionId:d,setNewCustomSectionIndex:w,previewYOffset:e.previewYOffset,isCurrentHoveredSection:s===t.id})),n===a+1&&T)}),_&&ep.createElement(EN,{setRenamingSectionId:d}))}var f$=a(612328),fj=a(896353),fH=a(533600);let fq=(0,am.Ju)(function(e){let[t,a]=(0,ep.useState)(null),r=(0,eg.wA)(),n=function(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:a,loadedFolders:r,user:n}=(0,eg.d4)(e=>e),l=(0,eg.wA)(),i=(0,eg.d4)(e=>e.userFlags),s=(0,eh.kc)().ps_benchmark,o=null==n?void 0:n.personal_drafts_folder_id;ep.useEffect(()=>{s&&o&&l((0,gR.jl)({folderId:o,loadedFolders:r}))},[s,r,l,o]),ep.useEffect(()=>{s&&l(mB.h3({orgId:null,teamId:null}))},[s,l]);let c=(0,ep.useMemo)(()=>s&&o?(t[o]??[]).map(t=>e[t]).filter(e=>!!e):[],[s,e,t,o]);if(Ev(n,i))return[];let d=Object.keys(a).map(e=>a[e]).filter(e=>e.folder_id===o);return c.concat(d)}(),l=(0,tR.TA)(),i=(0,eg.d4)(e=>e.teamUserByTeamId),s=(0,eg.d4)(e=>{var t,a;return l?null==(a=null==(t=e.authedUsers.byId[l])?void 0:t.plans)?void 0:a.filter(e=>!e.is_org):null}),o=(0,e$.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),c=()=>r(e0.Ce()),d={};l&&(0,fj._)(i,l).forEach(e=>{e.drafts_folder_id&&(d[e.team_id]=e.drafts_folder_id)});let m=(e,t)=>{t&&r(f$.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return ep.createElement(sn.XV,{title:o,fixedTop:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ep.createElement("div",{className:"move_favorites_modal--modalBody--XDgOz"},s&&ep.createElement(ac.P,{width:480},ep.createElement("div",{className:eT.cx.pl8.pr8.$},s.map(e=>ep.createElement(fz,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:(null==t?void 0:t.plan_id)===e.plan_id,onSelect:()=>a((null==t?void 0:t.plan_id)===e.plan_id?null:e)})))),ep.createElement("div",{className:"move_favorites_modal--footer--SGE-h"},ep.createElement(eI.nR,{onClick:c},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.vd,{disabled:!t,onClick:()=>{let a=(null==t?void 0:t.is_org)?null:null==t?void 0:t.plan_id,l=(null==t?void 0:t.is_org)?t.plan_id:null,i=e.favorites.reduce((e,t)=>{var a,r;return t.resourceType===lB.bk.FILE&&(null==(a=t.resource.file)?void 0:a.key)?{...e,[null==(r=t.resource.file)?void 0:r.key]:!0}:e},{}),s={},o=n.filter(e=>{let t=!!i[e.key];return t&&(s[e.key]=!0),t}),u=e.favorites.filter(e=>{var t,a;return e.resourceType!==lB.bk.FILE||null==(t=e.resource.file)||!t.key||!s[null==(a=e.resource.file)?void 0:a.key]}).map(e=>e.resource.id);r(gJ.Ic({favoriteIds:u,teamId:a,orgId:l})),a&&m(o,d[a]),c()}},(0,e$.t)("modal.confirm")))))},"MoveFavoritesModal");function fz(e){return ep.createElement("button",{"data-testid":`${e.name}-button`,className:eS()("move_favorites_modal--teamRow--Em6vC",e.checked?eT.cx.colorBgSelected.$:""),onClick:e.onSelect},ep.createElement("div",{className:"move_favorites_modal--iconContainer--3advx"},e.checked?ep.createElement(eL.B,{className:eT.cx.colorIcon.$,svg:fH.A}):ep.createElement(dm.nl,{size:dm.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:fu.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),ep.createElement("div",{className:"move_favorites_modal--teamName--juTiT ellipsis--ellipsis--Tjyfa"},ep.createElement("span",{className:"move_favorites_modal--destinationHeading--x8s2g"},e.name)))}var fY=a(842232);let fK="favorited_drafts_to_move";function fJ(e){var t,a,r;let n=(0,eg.wA)(),[l,i]=ep.useState(!0),s=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),o=null==(t=e.teamUser)?void 0:t.planlessFavoritedFiles,c=null==(a=e.teamUser)?void 0:a.planlessFavoritedPrototypes,d=null==(r=e.teamUser)?void 0:r.planlessFavoritedProjects,m=(0,gO.ds)(o,c,d),u=!s.has(fK),_=ep.useCallback(()=>{Eq.Fp({type:"topLevel",id:fK,orgId:null},!u),u?s.add(fK):s.delete(fK),n(gJ.U6({collapsedCustomSections:s}))},[u,s,n]),p=ep.useCallback(()=>{n(gJ.vr({favoriteIds:m.map(e=>e.id)}))},[n,m]);if(0===m.length)return ep.createElement(ep.Fragment,null);let g=m.map(t=>ep.createElement(fM,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:ev.lQ,reorderOrInsertFavorite:ev.lQ,updateRearrangeDragState:ev.lQ,clearRearrangeDragState:ev.lQ,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:l,setShowPreviewDelay:i,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"favorited_section--divider--8QrOE favorited_section--divider--8QrOE"}),ep.createElement("div",{className:eS()("favorited_section--moveFavoritesContainer--KSPXT",eT.cx.pt4.pb4.ml8.mr8.mb8.$)},ep.createElement("div",{className:eS()(eT.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--cwUYT favorited_section--sectionHeaderContainer--K-oD6 sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa")},ep.createElement("div",{onClick:_,className:eT.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},ep.createElement(eL.B,{className:eS()(eT.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--CF9i-"),svg:u?c5.A:fD.A}),ep.createElement(e$.Tx,{id:"sidebar.move_these_starred_items"}),ep.createElement(eL.B,{svg:fY.A,className:eS()("favorited_section--helpIcon--Vq-JL",eT.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),u?null:ep.createElement(dd.Ex,{text:m.length>99?"99+":`${m.length}`,color:dd.zE.DEFAULT,className:eT.cx.mr8.colorText.colorBgSelectedSecondary.$})),u?ep.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--zixrW"},g,ep.createElement("div",{className:eT.cx.flex.justifyBetween.m8.h24.$},ep.createElement(u9.$$,{className:"favorited_section--favoritesToMoveActionButtons--XAkkS",onClick:()=>{n(e0.to({type:fq,data:{favorites:m}}))}},ep.createElement(e$.Tx,{id:"file_browser.planless_favorites.add_to_sidebar"})),ep.createElement(u9.nR,{className:"favorited_section--unstarAllButton--Tyhsg favorited_section--favoritesToMoveActionButtons--XAkkS",onClick:p},ep.createElement(e$.Tx,{id:"file_browser.planless_favorites.unstar_all"})))):null))}var fZ=a(761070);function fQ(){return ep.createElement(g1.Z,{isSelected:!0,icon:ep.createElement(eL.B,{className:"offline_files_section--offlineFilesIcon--vWru1 sidebar--icon--E3PNi",svg:fZ.A}),text:ep.createElement(e$.Tx,{id:"sidebar.offline_files"})})}function fX(){return ep.createElement("div",{className:"offline_files_section--offlineCard--lOken"},ep.createElement("div",{className:"offline_files_section--offlineCardHeader--m9Cih"},ep.createElement(e$.Tx,{id:"sidebar.offline_card.header"})),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"sidebar.offline_card.body"})))}var f0=a(467786),f1=a(125531),f2=a(862193);function f4(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.currentUserOrgId),r=(0,eg.d4)(t=>e.licenseGroup&&t.licenseGroups[e.licenseGroup.id]),{canUserAdminOrg:n,canUserAdminLicenseGroup:l,teamCreationIsDisabled:i}=(0,gZ.Vq)(null==r?void 0:r.id),s=e.licenseGroup&&e.mainLicenseGroupForUser&&e.licenseGroup.id===e.mainLicenseGroupForUser.id,o=!e.licenseGroup&&!e.mainLicenseGroupForUser;return e.shouldShowNewTeamLink&&(n||l||s||o)?ep.createElement("div",{className:"license_group_link--additionButton--LnAhc folder_link--additionButton--MyqDQ",onClick:i?e=>e.stopPropagation():void 0,onMouseEnter:i?()=>{var t;null==(t=e.trackDisabledHoverEvent)||t.call(e)}:void 0,onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ep.createElement(f2.f,{data_tooltip:i?(0,e$.t)("license_group_view.toolbar.create_team_disabled"):(0,e$.t)("sidebar.create_new_team"),data_onboarding_key:"new-team-from-workspaces-sidebar",innerText:s?"Creates new team in user's main workspace":"Creates new unassigned team in the org",onClick:e=>{e.stopPropagation(),a?t(e0.to({type:gQ.Uc,data:{}})):t(mB.Dw({}))},disabled:i})):null}let f3=function(e){var t;let a=(0,eg.wA)(),r=(0,eg.d4)(dN.QT),[n,l]=ep.useState(!1),i=(0,f1.NV)(al.WL),s=(0,Ew.S)();return ep.createElement("div",{className:"license_group_link--licenseGroupDetails--u-PWc",onMouseOver:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>{r&&(a(tL.$T({view:"workspace",subView:gw.V0.DIRECTORY,workspaceId:e.licenseGroup?e.licenseGroup.id:null,selectedTab:gw.dN.TEAMS})),a(tL.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.licenseGroup?e.licenseGroup.id:void 0})))},role:"link",tabIndex:0},ep.createElement("div",{className:s?"license_group_link--licenseGroupNameCustomSections--plHNx sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa":"license_group_link--licenseGroupName--H5pDX sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},(null==(t=e.licenseGroup)?void 0:t.name)||(0,e$.t)("sidebar.workspaces.other_teams")),n&&ep.createElement(f4,{mainLicenseGroupForUser:e.mainLicenseGroup,licenseGroup:e.licenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink,trackDisabledHoverEvent:()=>{i(al.jd,{placement:"workspacesSidebar"})}}))};var f8=a(581443);let f5="sidebar--section---nHr4",f6="sidebar--loading--l7eNf",f9="sidebar--divider--gM0dV";class f7 extends ep.Component{constructor(e){super(e),this.dragPaneImageRef=null,this.setDragImageRef=e=>{this.dragPaneImageRef=e},this.onDragStart=(e,t)=>{t.dataTransfer.effectAllowed="move";let a=new Ej.le(t.dataTransfer);a.setArbitraryData(e),this.dragPaneImageRef&&a.setDragImage(this.dragPaneImageRef),this.props.dispatch(Ey.v({type:gF.R.Team,data:e})),t.stopPropagation()},this.onDragEnd=e=>{this.props.dispatch(Ey.T())},this.isDragTarget=e=>{var t,a;return(!this.props.isEnterpriseSidenavEnabled||null==(t=this.props.dragState.data)||!t.licenseGroupId||this.props.dragState.data.licenseGroupId===(null==(a=this.props.licenseGroup)?void 0:a.id))&&this.props.dragState.type===gF.R.Team},this.onDragEnter=(e,t)=>{this.props.dragState.type===gF.R.Team&&this.setState({draggingOverTeamId:e})},this.onDragQuadrantUpdate=e=>{this.setState({draggingBefore:e.upper})},this.onDragLeave=e=>{this.setState(t=>t.draggingOverTeamId===e?{draggingOverTeamId:null}:null)},this.onDragDrop=(e,t,a)=>{let r=new Ej.le(t);this.moveDroppedTeam(e,r,a),this.setState({draggingOverTeamId:null})},this.state={draggingOverTeamId:null,draggingBefore:!1}}moveDroppedTeam(e,t,a){var r,n,l,i,s,o,c,d,m,u,_;this.props.dragState.type!==gF.R.Team&&console.error("Expected Team");let p=this.props.dragState.data;if(!p)return;let g=p.id,E=a.upper,f=(0,gg.n$)((null==(l=null==(n=null==(r=this.props.sidebarData)?void 0:r.teamRoles)?void 0:n.map(e=>e.team))?void 0:l.filter(e=>!!e))||[],(null==(s=null==(i=this.props.sidebarData)?void 0:i.fileBrowserPreferences)?void 0:s.orderedTeamIds)||[]),h=(0,tl.Pe)(f,g,e,E),v=null==(c=null==(o=this.props.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedFavoritedResourceIds;h!==f&&this.props.dispatch(gA.Sk.put({prefs:{id:(null==(m=null==(d=this.props.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.id)||"optimistic-id",orderedTeamIds:h,orderedFavoritedResourceIds:v,orderedLicenseGroupIds:null==(_=null==(u=this.props.sidebarData)?void 0:u.fileBrowserPreferences)?void 0:_.orderedLicenseGroupIds},userInitiated:!0}))}render(){let e=1!==this.props.orderedTeams.length;return ep.createElement(ep.Fragment,null,ep.createElement("div",null,this.props.orderedTeams.map((t,a)=>ep.createElement(ew.Y,{key:t.id,className:this.state.draggingOverTeamId===t.id?this.state.draggingBefore?"sidebar--dropBefore--Dkf-G":"sidebar--dropAfter--cb3iP":"",isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,t.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,t.id),onTargetDrop:this.onDragDrop.bind(this,t.id),draggable:e,onDragStart:this.onDragStart.bind(this,t),onDragEnd:this.onDragEnd},ep.createElement(gz,{key:t.id,team:t,draggable:e,dragState:this.props.dragState,onboardingKey:0===a?g0.TEAM_FILES_ONBOARDING_KEY:void 0,...this.props}))),ep.createElement("div",{className:"sidebar--dragImage--BvGFd",ref:this.setDragImageRef})),!(0,gO.D6)(this.props.currentUserOrgId)&&this.props.contextSelectedFolder&&ep.createElement(f8.p,{folder:this.props.contextSelectedFolder,onRenameClick:this.props.onFolderRenameClick,...this.props}))}}f7.displayName="OrderedTeams";let he=(e,t,a)=>{let r=[],n=[];return t&&n.push(t),Object.values(e).forEach(e=>{var a;let r=null==(a=e[0].team)?void 0:a.licenseGroup;r&&r.id!==(null==t?void 0:t.id)&&n.push(r)}),n.sort((e,r)=>{let n=(null==a?void 0:a.indexOf(e.id))??-1,l=(null==a?void 0:a.indexOf(r.id))??-1;return -1===n&&-1===l?e.id===(null==t?void 0:t.id)?-1:r.id===(null==t?void 0:t.id)?1:e.createdAt<r.createdAt?1:-1:n-l}).forEach(e=>r.push(e.id)),r};function ht(e){var t,a;let[r,n]=ep.useState(Eq.hG({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??f0.s,orgId:e.currentUserOrgId})),l=e.orderedTeams.length>0,i=l||!!e.displaySharedProjects,s="ordered_license_groups--licenseGroup--cmYEV sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd";!e.selectedView||"workspace"!==e.selectedView.view||e.selectedView.subView!==gw.V0.DIRECTORY||e.selectedView.workspaceId!==(null==(a=e.licenseGroup)?void 0:a.id)&&(e.selectedView.workspaceId||e.licenseGroup)||(s="ordered_license_groups--selectedLicenseGroup--xNF7n sidebar--selected--u5CpJ ordered_license_groups--licenseGroup--cmYEV sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd");let o=i?ep.createElement(ep.Fragment,null,l&&ep.createElement(f7,{...e,orderedTeams:e.orderedTeams,contextSelectedFolder:e.contextSelectedFolder,onFolderRenameClick:e.onFolderRenameClick}),e.displaySharedProjects&&ep.createElement(gq,{...e})):ep.createElement("div",{className:eT.cx.colorTextSecondary.ml16.mr16.pb8.$},ep.createElement(e$.Tx,{id:"sidebar.workspaces.main_workspace_empty_state"}));return ep.createElement("div",{className:`ordered_license_groups--section--4el0T sidebar--section---nHr4 ${r?eT.cx.pb4.$:""}`},ep.createElement("div",{className:s,draggable:!0},ep.createElement(eL.B,{className:"ordered_license_groups--expandCaret--MphjO sidebar--expandCaret--WHjtL",svg:r?c5.A:fD.A,onClick:()=>{var t;Eq.Fp({type:"licenseGroup",id:(null==(t=e.licenseGroup)?void 0:t.id)??f0.s,orgId:e.currentUserOrgId},!r),n(!r)}}),ep.createElement(f3,{licenseGroup:e.licenseGroup,mainLicenseGroup:e.mainLicenseGroup,shouldShowNewTeamLink:e.shouldShowNewTeamLink})),r&&o)}function ha(e){var t,a;if(0===e.teamsUnassignedToLicenseGroup.length&&!e.hasSharedProjects)return null;let r=(0,gg.yR)(e.teamsUnassignedToLicenseGroup.filter(e=>!!e.team).map(e=>e.team)||[],(null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedTeamIds)||[]);return ep.createElement(ht,{...e,key:"ordered-license-groups-other",orderedTeams:r,displaySharedProjects:!!e.hasSharedProjects,shouldShowNewTeamLink:e.shouldShowNewTeamLink})}let hr=function(e){var t,a;let[r,n]=ep.useState(),l=null,i=(t,a,r)=>{var n,l,i,s,o,c,d,m;let u=e.dragState.data;if(!u)return;let _=u.id,p=r.upper,g=he(e.teamRolesByLicenseGroup,e.mainLicenseGroup,(null==(l=null==(n=e.sidebarData)?void 0:n.fileBrowserPreferences)?void 0:l.orderedTeamIds)||[]),E=(0,tl.Pe)(g,_,t,p);E!==g&&e.dispatch(gA.Sk.put({prefs:{id:(null==(s=null==(i=e.sidebarData)?void 0:i.fileBrowserPreferences)?void 0:s.id)||"optimistic-id",orderedTeamIds:null==(c=null==(o=e.sidebarData)?void 0:o.fileBrowserPreferences)?void 0:c.orderedTeamIds,orderedFavoritedResourceIds:null==(m=null==(d=e.sidebarData)?void 0:d.fileBrowserPreferences)?void 0:m.orderedFavoritedResourceIds,orderedLicenseGroupIds:E},userInitiated:!0}))},s=(t,a)=>{a.dataTransfer.effectAllowed="move";let r=new Ej.le(a.dataTransfer);r.setArbitraryData(t),l&&r.setDragImage(l),e.dispatch(Ey.v({type:gF.R.LicenseGroup,data:t}))},o=t=>{e.dispatch(Ey.T()),n(void 0)},c=()=>e.dragState.type===gF.R.LicenseGroup,d=(t,a,r)=>{e.dragState.type===gF.R.LicenseGroup&&n({draggingOverLicenseGroupId:t,draggingBefore:r.upper})},m=t=>{e.dragState.type===gF.R.LicenseGroup&&n({draggingOverLicenseGroupId:(null==r?void 0:r.draggingOverLicenseGroupId)??"",draggingBefore:t.upper})},u=()=>{},_=(e,t,a)=>{i(e,new Ej.le(t),a),n(void 0)},p=he(e.teamRolesByLicenseGroup,e.mainLicenseGroup,null==(a=null==(t=e.sidebarData)?void 0:t.fileBrowserPreferences)?void 0:a.orderedLicenseGroupIds),g=((0,mG.canMemberOrg)(e.currentUserOrgId,e.permissionsState)||!e.currentUserOrgId)&&!eb.Ay.mobile,E=t=>{var a,r,n;let l=e.teamRolesByLicenseGroup[t]||[],i=(0,gg.yR)(l.filter(e=>!!e.team).map(e=>e.team),(null==(r=null==(a=e.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:r.orderedTeamIds)||[]);if(e.mainLicenseGroup&&t===e.mainLicenseGroup.id)return ep.createElement(ht,{...e,key:"ordered-license-groups-main",licenseGroup:e.mainLicenseGroup,orderedTeams:i,shouldShowNewTeamLink:g});let s=null==(n=l[0].team)?void 0:n.licenseGroup;if(s)return ep.createElement(ht,{...e,key:`ordered-license-groups-${s.id}`,licenseGroup:s,orderedTeams:i,shouldShowNewTeamLink:g})};return ep.createElement(ep.Fragment,null,0===p.length?ep.createElement("div",{className:eT.cx.colorTextSecondary.ml16.mr16.$},ep.createElement(e$.Tx,{id:"sidebar.workspaces.workspace_section_empty_state"})):ep.createElement(ep.Fragment,null,p.map(t=>{var a,n;let l=E(t);if(l){let i=t===(null==(a=e.mainLicenseGroup)?void 0:a.id)?e.mainLicenseGroup:null==(n=e.teamRolesByLicenseGroup[t][0].team)?void 0:n.licenseGroup;return ep.createElement(ew.Y,{key:t,className:(null==r?void 0:r.draggingOverLicenseGroupId)===t?(null==r?void 0:r.draggingBefore)?"ordered_license_groups--dropBefore--4pWHo sidebar--dropBefore--Dkf-G":"ordered_license_groups--dropAfter--PMtV5 sidebar--dropAfter--cb3iP":"",isDragTarget:c,onTargetDragEnter:d.bind(null,t),onTargetDragQuadrantUpdate:m,onTargetDragLeave:u,onTargetDrop:_.bind(null,t),onDragStart:s.bind(null,i),onDragEnd:o},l)}})),ep.createElement("div",{className:"ordered_license_groups--dragImage--6JHOd sidebar--dragImage--BvGFd",ref:e=>{l=e}}),ep.createElement(ha,{...e,shouldShowNewTeamLink:g}))};function hn(){let e=(0,eg.d4)(e=>e.currentUserOrgId),t=(0,eg.d4)(t=>e?t.orgById[e]:null),a=(0,pf.c4)(e).data??!1;return t&&e?a?(0,e$.t)("sidebar.browse.all_workspaces"):(0,e$.t)("sidebar.browse.all_teams"):null}function hl(){let e=hn();return ep.createElement(ep.Fragment,null,e)}var hi=a(499893);function hs(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.currentUserOrgId),a=(0,eg.d4)(e=>e.selectedView),r=(0,Ew.S)(),n=(0,eg.d4)(e=>t?e.orgById[t]:null),l="org"===a.view&&a.orgId===t,i=hn();return n&&t&&i?ep.createElement(g1.Z,{isSelected:l,onClick:()=>{e(tL.$T({view:"org",orgId:t,orgViewTab:gv.X.HOME})),e(tL.Oe({clickedResourceType:"org",resourceIdOrKey:t}))},icon:ep.createElement(eL.B,{className:eT.cx.colorIcon.$,svg:r?fL.A:hi.A}),text:ep.createElement(du.E,{truncate:!0},i)}):null}var ho=a(354905),hc=a(434255),hd=a(555483),hm=a(798632);function hu(){return ep.createElement("div",{className:"base_upgrade_section--divider--UnoCi sidebar--divider--gM0dV"})}function h_(e){return ep.createElement(eH.fu,{name:e.trackingContext,properties:e.trackingProperties},ep.createElement("div",{className:"base_upgrade_section--content--L-D6V"},e.onDismiss&&ep.createElement(u7.Jn,{className:"base_upgrade_section--closeButton--rO-yH",onClick:e.onDismiss}),e.header&&ep.createElement("div",{className:eT.cx.mb12.wFull.$},e.header,ep.createElement(hu,null)),e.svg&&ep.createElement(eL.B,{className:`base_upgrade_section--icon--0rpxW ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&ep.createElement("div",{className:"base_upgrade_section--countdownTicker---Ynd1"},ep.createElement(du.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),ep.createElement("div",{className:"base_upgrade_section--textContainer--dwRju"},e.titleText&&ep.createElement("p",{className:"base_upgrade_section--title--hyK-i"},e.titleText),ep.createElement("p",null,e.bodyText)),ep.createElement(eI.vd,{className:"base_upgrade_section--ctaButton--u8OKt",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let hp="upgrade_section--upgradeTextEmphasized--KNCQw";var hg=a(491095),hE=a(247866),hf=((c=hf||{})[c.UPGRADE=0]="UPGRADE",c[c.CREATE=1]="CREATE",c);function hh(e){let t=(0,eg.wA)(),a=ep.createElement("span",{className:hp},(0,e$.t)("edu.sidebar_section.verified"));return ep.createElement(h_,{trackingContext:0===e.type?"Edu Upgrade Section":"Edu Create Section",svg:hg.A,bodyText:ep.createElement(ep.Fragment,null,a," ",0===e.type?(0,e$.t)("edu.sidebar_section.upgrade"):(0,e$.t)("edu.sidebar_section.create_team")),ctaText:0===e.type?(0,e$.t)("edu.choose_team"):(0,e$.t)("edu.create_free_team"),onClickCTA:0===e.type?()=>{t((0,e0.to)({type:hd.qB}))}:()=>{t(mB.Dw({isEduTeam:!0}))},onDismiss:()=>{t(rc.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function hv({daysLeft:e}){var t,a,r;let n=(0,eg.wA)(),l=(0,t5.Rs)(ai.UpR,{}),i=(0,uF.H5)();if("loaded"!==l.status)return null;let s=((null==(r=null==(a=null==(t=l.data)?void 0:t.currentUser)?void 0:a.schoolType)?void 0:r.status)===t5.tT.Loaded?l.data.currentUser.schoolType.data:null)===hm.h6.BOOTCAMP_OR_ONLINE;if(e<0)return null;let o=()=>{n((0,e0.to)({type:hc.V,data:{upsellSource:pZ.b.EDU_UPGRADE_SECTION}}))},c=ep.createElement(eI.eM,{onClick:()=>ef.Ay.redirect("/education/apply","_blank")},ep.createElement(e$.Tx,{id:"edu.sidebar_section.verify_your_education_status"}));return e>0?ep.createElement(h_,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:ep.createElement(e$.Tx,{id:"edu.sidebar_section.education_plan_expires_in_days",daysLeft:e}),bodyText:s&&i()?ep.createElement(e$.Tx,{id:"edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"}):ep.createElement(e$.Tx,{id:"edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",verify:c}),ctaText:ep.createElement(e$.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:o}):ep.createElement(h_,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:hE.A,titleText:ep.createElement(e$.Tx,{id:"edu.sidebar_section.education_plan_expired"}),bodyText:s&&i()?ep.createElement(e$.Tx,{id:"edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"}):ep.createElement(e$.Tx,{id:"edu.sidebar_section.to_keep_editing_upgrade_your_team",verify:c}),ctaText:ep.createElement(e$.Tx,{id:"upgrade.upgrade_to_professional"}),onClickCTA:o})}let hb="org_upgrade_multi_team_modal--planModalDivider--NkcU-",hy="org_upgrade_single_team_modal--planGrid--NTHDz",hw="org_upgrade_single_team_modal--priceRow--8kVuf text--fontPos11--2LvXf text--_fontBase--QdLsd",hT="org_upgrade_single_team_modal--priceFigureWithFigjam--YinXJ text--fontPos16--oMC-G text--_fontBase--QdLsd",hx="org_upgrade_single_team_modal--figmaPriceWithDevMode--7z32E",hC="org_upgrade_single_team_modal--devModeText--XldVW";var hN=a(450147),hk=a(999918);function hS(e){return ep.createElement("div",{className:"org_upgrade_multi_team_modal--planItem--3dOII"},ep.createElement(eL.B,{svg:hN.A,className:"org_upgrade_multi_team_modal--checkIcon--7wvBo"}),ep.createElement("p",null,e.text))}let hI=(0,eg.Ng)(e=>{let{teams:t}=e;return{teams:t,unsortedTeamIds:(0,gg._L)(e.user,e.roles,e.teams)}})((0,eH.kp)(function(e){let t=(0,eg.wA)(),a=()=>{t(e0.Ce())},r=ep.useMemo(()=>[(0,e$.t)("org_upgrade.multi_team.plan_items.shared_design_libraries"),(0,e$.t)("org_upgrade.multi_team.plan_items.shared_fonts_and_styles"),(0,e$.t)("org_upgrade.multi_team.plan_items.centralized_billing_and_admin_controls"),(0,e$.t)("org_upgrade.multi_team.plan_items.single_sign_on_sso_integrations")],[]),n=e=>ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntry--fg-iB",key:e.id},ep.createElement(e7.Ro,{size:10,hideFallbackInitial:!0,entity:e,shape:"SQUARE"}),ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamListEntryName--5F9BH ellipsis--ellipsis--Tjyfa"},e.name)),l=ep.useMemo(()=>{switch(Object.keys(e.teams).length){case 2:return 184;case 3:return 192;default:return 221}},[e.teams]),i=(0,aQ.wU)();return ep.createElement(au.Nb,{className:"org_upgrade_multi_team_modal--modal--l80Ms",hide:a,size:"fitContent",useModalViewScroll:!1},ep.createElement(ac.P,{className:"org_upgrade_multi_team_modal--scrollContainer--dqB2X"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--planModalHeader--51tOx",style:{height:64,marginBottom:32}},ep.createElement("div",{className:"org_upgrade_multi_team_modal--planModalTitle--ZxC2N text--fontPos24--YppUD text--_fontBase--QdLsd",style:{fontWeight:600}},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.bring_your_teams_together_with_the_figma_organization_plan"})),ep.createElement(u7.Jn,{className:"org_upgrade_multi_team_modal--closeButton--n7pFz",onClick:a,innerText:"close"})),ep.createElement("div",{className:hb}),ep.createElement("div",{className:"org_upgrade_multi_team_modal--planDetails--xiNUv"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--planDetailsLeft--hvvK-"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--billingCadence--5AUbS"},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.annual_billing_only"})),ep.createElement("div",{className:hw},ep.createElement("p",{className:hx},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.figma"}),(0,eh.kc)().billing_dev_mode_customer_ui&&ep.createElement("div",{className:hC},ep.createElement(uZ.G,null))),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ep.createElement("span",{className:hT},i.formatPrice("orgFigma"))}))),(0,eh.kc)().billing_dev_mode_customer_ui&&ep.createElement("div",{className:hw},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.dev_mode"}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ep.createElement("span",{className:hT},i.formatPrice("orgDevMode"))}))),ep.createElement("div",{className:hw},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.fig_jam"}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.billing_cost_per_month.seat_rename",monthlyCostInDollars:ep.createElement("span",{className:hT},i.formatPrice("orgFigjam"))}))),ep.createElement("div",{className:"org_upgrade_multi_team_modal--planText--70OKl"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--itemList--mwTTI"},r.map((e,t)=>ep.createElement("div",{key:t},ep.createElement(hS,{text:e}))),ep.createElement("div",{className:"org_upgrade_multi_team_modal--seeAll--NRHt-"},ep.createElement(eI.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.see_all_features"})))))),ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationSection--2D4Lu",style:{height:l}},ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationLeftSection--XMN5X"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--dynamicTeamListSection--GlG-Z"},ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamListHeader--YcXT2"},ep.createElement("img",{className:"org_upgrade_multi_team_modal--placeholderOrgLogo--QCeXJ",src:"https://static.figma.com/uploads/fc0fcfadcfe50c96f4dcf859aabe1952c822ae2a",draggable:!1,alt:""}),ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamListOrgName--XYzhd"},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.acme_inc"})),ep.createElement(eL.B,{svg:hk.A,className:"org_upgrade_multi_team_modal--multiTeamOrgUpgradeAdjustSvg--CeXxC"})),ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamListDivider--o0hvc"}),(()=>{let t=e.unsortedTeamIds,a=[];for(var r=0;r<Math.min(4,t.length);r++){let l=e.teams[t[r]];a.push(n(l))}return ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamList--NLWMC"},a)})(),ep.createElement("div",{className:"org_upgrade_multi_team_modal--teamIllustrationRightSection--IoR5l"},ep.createElement("img",{className:"org_upgrade_multi_team_modal--filesIllustration--53l1v",src:"https://static.figma.com/uploads/e2148969d5a469e76c053a23b6647d487e6d64ee",draggable:!1,alt:""}),ep.createElement("img",{src:"https://static.figma.com/uploads/50ae1752a504eea59f2a3efac6b0f2d1ed74435a",draggable:!1,alt:""})))))),ep.createElement("div",{className:hb}),ep.createElement(eI.vd,{onClick:()=>{a(),t(tL.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},className:"org_upgrade_multi_team_modal--continueButton--ZDQPy",trackingProperties:{trackingDescriptor:o3.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},ep.createElement(e$.Tx,{id:"org_upgrade.multi_team.continue"})),ep.createElement("div",{className:"org_upgrade_multi_team_modal--spaceFiller--uHj5m"})))},"Multi-Team Org Upgrade Modal")),hA=(0,am.Ju)(hI,"OrgUpgradeMultiTeamModal");var hL=a(592312),hR=a(414270);function hO(e){return ep.createElement(ep.Fragment,null,ep.createElement(eL.B,{svg:e.isArrow?hL.A:hR.A,className:"org_upgrade_single_team_modal--checkIcon--fz5e5"}),ep.createElement("p",null,e.text))}function hF(e){return ep.createElement("div",{className:"org_upgrade_single_team_modal--teamPlan--vLM8G"},ep.createElement("div",{className:"org_upgrade_single_team_modal--itemList--Ae1HF"},e.features.map((e,t)=>ep.createElement("div",{key:t,className:"org_upgrade_single_team_modal--planItem--eTgis"},ep.createElement(hO,{text:e.text,isArrow:e.isArrow}))),e.plan===pM.Jm.ORG&&ep.createElement("div",{className:"org_upgrade_single_team_modal--seeAllFeatures--XIKXN"},ep.createElement(eI.Us,{href:"https://www.figma.com/pricing/#cid-57mfNh6t0Xo7z8Q95Ww9ZV",target:"_blank",trusted:!0},ep.createElement(e$.Tx,{id:"org_upgrade.single_team.see_all_features"}))),e.plan===pM.Jm.ORG&&ep.createElement(eI.vd,{onClick:e.onUpgrade,className:"org_upgrade_single_team_modal--planSelectButton--z4EV7",trackingProperties:{trackingDescriptor:o3.c.UPGRADE_TO_ORGANIZATION,upsellSource:e.upsellSource}},ep.createElement(e$.Tx,{id:"org_upgrade.single_team.upgrade_to_an_organization"}))))}function hM(e){return ep.createElement("div",{className:"org_upgrade_single_team_modal--planPriceView--nG6Sy",style:{padding:e.padding}},ep.createElement("h2",{className:"org_upgrade_single_team_modal--planNameBase--kWiSU text--fontPos16--oMC-G text--_fontBase--QdLsd"},e.name),ep.createElement("p",{className:"org_upgrade_single_team_modal--subtitle--zSLxy"},e.subtitle),ep.createElement("div",{className:hw},ep.createElement("p",{className:hx},ep.createElement(e$.Tx,{id:"plan_details.figma"}),(0,eh.kc)().billing_dev_mode_customer_ui&&ep.createElement("div",{className:hC},ep.createElement(uZ.G,null))),ep.createElement("div",null,ep.createElement("p",{className:hT},e.prices[uP.lM.DESIGN]))),(0,eh.kc)().billing_dev_mode_customer_ui&&e.prices[uP.lM.DEV_MODE]&&ep.createElement("div",{className:hw},ep.createElement("p",null,ep.createElement(e$.Tx,{id:"plan_details.dev_mode_only"})),ep.createElement("div",null,ep.createElement("p",{className:hT},e.prices[uP.lM.DEV_MODE]))),ep.createElement("div",{className:hw},ep.createElement("p",null,ep.createElement(e$.Tx,{id:"plan_details.fig_jam"})),ep.createElement("div",null,ep.createElement("p",{className:hT},e.prices[uP.lM.FIGJAM]))))}let hD=(0,eH.kp)(function(e){let t=(0,eg.wA)(),a=()=>{t(e0.Ce())},r=(0,aQ.wU)();return ep.createElement(au.Nb,{className:"org_upgrade_single_team_modal--modal--AuM3r",hide:a,size:586,useModalViewScroll:!1},ep.createElement(ac.P,{className:"org_upgrade_single_team_modal--scrollContainer--fwiSd"},ep.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeader--tYEg2"},ep.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderText--O6gsa"},ep.createElement("div",{className:"org_upgrade_single_team_modal--planModalTitle--kPIqU text--fontPos24--YppUD text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"org_upgrade.single_team.get_more_out_of_figma_as_you_grow"}))),ep.createElement(u7.Jn,{className:"org_upgrade_single_team_modal--closeButton---QE7V",onClick:a,innerText:"close"})),ep.createElement("div",{className:eS()(hy,"org_upgrade_single_team_modal--planGrid__vertDivided--eb26t")},ep.createElement(hM,{name:(0,e$.t)("org_upgrade.single_team.professional_plan"),subtitle:(0,e$.t)("org_upgrade.single_team.price_when_billed_annually"),prices:{[uP.lM.DESIGN]:`${r.formatPrice("annualFigma")}`,[uP.lM.FIGJAM]:`${r.formatPrice("annualFigjam")}`},padding:"16px 31px 16px 36px"}),ep.createElement(hM,{name:(0,e$.t)("org_upgrade.single_team.organization_plan"),subtitle:(0,e$.t)("org_upgrade.single_team.annual_billing_only"),prices:{[uP.lM.DESIGN]:r.formatPrice("orgFigma"),[uP.lM.DEV_MODE]:r.formatPrice("orgDevMode"),[uP.lM.FIGJAM]:r.formatPrice("orgFigjam")},padding:"16px 32px 16px 33px"})),ep.createElement("div",{className:"org_upgrade_single_team_modal--planModalHeaderDivider--Yfsl-"}),ep.createElement("div",{className:hy},ep.createElement(hF,{plan:pM.Jm.PRO,features:[{text:(0,e$.t)("org_upgrade.single_team.unlimited_design_files_and_projects_in_one_team")},{text:(0,e$.t)("org_upgrade.single_team.design_library_within_one_team")},{text:(0,e$.t)("org_upgrade.single_team.audio_conversations_in_files")}]}),ep.createElement(hF,{plan:pM.Jm.ORG,features:[{text:(0,e$.t)("org_upgrade.single_team.everything_in_professional_plus"),isArrow:!0},{text:(0,e$.t)("org_upgrade.single_team.unlimited_teams_and_unlimited_projects")},{text:(0,e$.t)("org_upgrade.single_team.cross_team_design_libraries_and_fonts")},{text:(0,e$.t)("org_upgrade.single_team.control_file_sharing_inside_and_outside_of_your_organization")},{text:(0,e$.t)("org_upgrade.single_team.single_sign_on_sso_integration")},{text:(0,e$.t)("org_upgrade.single_team.private_plugins_and_plugin_management")},{text:(0,e$.t)("org_upgrade.single_team.full_content_ownership")}],onUpgrade:()=>{a(),t(tL.$T({view:"orgSelfServe",upsellSource:e.upsellSource}))},upsellSource:e.upsellSource}))))},"Single-Team Org Upgrade Modal"),hP=(0,am.Ju)(hD,"OrgUpgradeSingleTeamModal");var hB=a(990546);function hU({orgUpsellEligibility:e}){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.userFlags),r=e===uU.VY.SINGLE_TEAM?ep.createElement(e$.Tx,{id:"upgrade.access_cross_team_design_libraries_sso_and_more"}):ep.createElement(e$.Tx,{id:"upgrade.centralize_your_teams_and_share_design_libraries"}),n=`${e===uU.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return ep.createElement(h_,{trackingContext:n,svg:hB.A,bodyText:r,ctaText:ep.createElement(e$.Tx,{id:"upgrade.view_plans"}),onClickCTA:()=>{e===uU.VY.SINGLE_TEAM&&t((0,e0.to)({type:hP,data:{upsellSource:pZ.b.ORG_UPGRADE_SECTION}})),e===uU.VY.MULTIPLE_TEAMS&&t((0,e0.to)({type:hA,data:{upsellSource:pZ.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,uU.CJ)(a)),ctaDataTestId:"org-upgrade-cta"})}var hW=a(981293),hV=a(739692);let hG="pro_trials_upgrade_section--divider--LDDJ5 sidebar--divider--gM0dV";var h$=a(707990);function hj(){let e=(0,eg.wA)();return ep.createElement(h_,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:hW.ng.getTrackingProperties(),svg:h$.A,titleText:ep.createElement(du.E,{i18nId:"upgrade.free_professional_team_trial"}),bodyText:ep.createElement(du.E,{i18nId:"upgrade.enjoy_our_best_design_features_for_14_days"}),ctaText:ep.createElement(du.E,{i18nId:"upgrade.try_the_professional_plan"}),onClickCTA:()=>e((0,e0.to)({type:hV.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:hW.ng.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--Dzx-X"})}function hH({team:e}){return ep.createElement(ej.Y,{spacing:8,dataTestId:"team-info"},ep.createElement(dm.nl,{size:dm.Pf.SMALL,team:e,fallbackDisplay:fu.U.HIDDEN,shape:"ROUNDED_SQUARE"}),ep.createElement(du.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function hq({daysLeft:e,trialTeam:t,onClickCTA:a}){var r;let n=ep.createElement(eI.eM,{onClick:a,dataTestId:"pro_trial_inline_upgrade",trackingProperties:hW.ng.getTrackingProperties()},ep.createElement(e$.Tx,{id:"upgrade.pro_trial_inline_upgrade_cta"}));return ep.createElement(eH.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:hW.ng.getTrackingProperties()},ep.createElement("div",{className:hG}),ep.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--GTNvA"},ep.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--u1S0m"},ep.createElement(hH,{team:t})),ep.createElement("div",{className:hG}),ep.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker---1fAY"},ep.createElement(du.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),ep.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--qKCxs"},ep.createElement(du.E,{i18nId:"upgrade.days_left_in_trial",i18nParams:{days:e},color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13})),ep.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--MfG9e"},ep.createElement(du.E,{children:(r=e)>=14?ep.createElement(du.E,{i18nId:"upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",i18nParams:{upgrade:n}}):r>=10?ep.createElement(du.E,{i18nId:"upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",i18nParams:{upgrade:n}}):r>=4?ep.createElement(du.E,{i18nId:"upgrade.pro_trial_uub_countdown.try_out_these_features"}):r>=2?ep.createElement(du.E,{i18nId:"upgrade.pro_trial_uub_countdown.you_will_miss_these_files"}):r>=1?ep.createElement(du.E,{i18nId:"upgrade.pro_trial_uub_countdown.just_a_memory"}):null})),e<=9&&ep.createElement(eI.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--BhxIn",onClick:a,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:hW.ng.getTrackingProperties()},ep.createElement(du.E,{i18nId:"upgrade.upgrade_to_professional"}))))}function hz(e){return ep.createElement(h_,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:hW.ng.getTrackingProperties(),titleText:ep.createElement(du.E,{i18nId:"upgrade.currently_on_starter_plan"}),bodyText:ep.createElement(du.E,{i18nId:"upgrade.your_trial_has_ended"}),ctaText:ep.createElement(du.E,{i18nId:"upgrade"}),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:hW.ng.getTrackingProperties(),header:ep.createElement(hH,{team:e.team})})}function hY(e){let t=(0,eg.wA)(),{ongoingUpgradableTrials:a,expiredUpgradableTrials:r}=e,n=(0,eg.d4)(e=>e.teams),l=e=>{t((0,e0.to)({type:hc.V,data:{teamId:e,upsellSource:pZ.b.PRO_TRIAL_UPSELL_MODAL}}))};return r.length>0?ep.createElement(hz,{team:n[r[0].teamId],onClickCTA:()=>l(r[0].teamId)}):a.length>0?ep.createElement(hq,{trialTeam:n[a[0].teamId],daysLeft:a[0].daysLeft,onClickCTA:()=>l(a[0].teamId)}):null}var hK=a(958009);let hJ="redeem_jamboard_offer_upgrade_section--ctaButton--yBtC- basic_form--primaryBtnFigjam--sOysn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd";function hZ({header:e,body:t}){return ep.createElement("div",{className:eT.cx.mb12.alignCenter.$},ep.createElement("h3",{className:eT.cx.font11.fontSemiBold.$},e),ep.createElement("p",{className:eT.cx.font11.$},t))}function hQ(){let e=(0,eg.wA)();return ep.createElement(eH.fu,{name:"Jamboard Offer File Browser Sidebar Nudge"},ep.createElement(hu,null),ep.createElement("div",{className:eT.cx.mx16.pt8.pb16.px16.colorBgFigjamTertiary.bRadius6.$},ep.createElement("img",{className:eT.cx.block.mxAuto.mb2.w64.h44.$,src:"https://static.figma.com/uploads/175ed0cde6ed2194f8cb3cceb1278c043aa036b3",alt:(0,e$.t)("upgrade.redeem_jamboard_offer.img_alt")}),ep.createElement(hZ,{header:ep.createElement(e$.Tx,{id:"upgrade.redeem_jamboard_offer.title"}),body:ep.createElement(e$.Tx,{id:"upgrade.redeem_jamboard_offer.body"})}),ep.createElement(eI.vd,{className:hJ,fullWidth:!0,onClick:()=>{e((0,e0.to)({type:uO.dR,data:{plan:uO.In.PRO,upsellSource:pZ.b.JAMBOARD_OFFER_UPGRADE_SECTION}}))}},ep.createElement(e$.Tx,{id:"upgrade.redeem_jamboard_offer.cta"}))))}function hX(){let e=(0,eg.wA)(),t=(0,tR.iZ)();return ep.createElement(eH.fu,{name:"Jamboard Importer File Browser Sidebar Nudge"},ep.createElement(hu,null),ep.createElement("div",{className:eT.cx.mx16.pb16.colorBgSecondary.bRadius6.overflowHidden.$},ep.createElement("img",{className:eT.cx.block.wFull.hAuto.mb12.$,src:"https://static.figma.com/uploads/922ee84c836daaa8b437076910aa8415d2c57337",width:194,height:71,alt:(0,e$.t)("upgrade.jamboard_offer_import_nudge.img_alt")}),ep.createElement("div",{className:eT.cx.px16.$},ep.createElement(hZ,{header:ep.createElement(e$.Tx,{id:"upgrade.jamboard_offer_import_nudge.title"}),body:ep.createElement(e$.Tx,{id:"upgrade.jamboard_offer_import_nudge.body"})}),ep.createElement(eI.vd,{className:hJ,fullWidth:!0,onClick:()=>{let a=null==t?void 0:t.drafts_folder_id;a&&e(mB.gN(a)),e((0,e0.to)({type:hK.Qn}))}},ep.createElement(e$.Tx,{id:"upgrade.jamboard_offer_import_nudge.cta"})))))}var h0=a(82040);function h1({onTeam:e,hitFileLimit:t}){let a=(0,eg.wA)(),r=t?ep.createElement(ep.Fragment,null,ep.createElement("span",{className:hp},ep.createElement(e$.Tx,{id:"upgrade.running_out_of_files_in_your_free_team"}))," ",ep.createElement(e$.Tx,{id:"upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits"})):ep.createElement(e$.Tx,{id:"upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features"});return ep.createElement(h_,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t},svg:hB.A,bodyText:r,ctaText:ep.createElement(e$.Tx,{id:"upgrade.view_plans"}),ctaTrackingProperties:{trackingDescriptor:o3.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{a((0,e0.to)({type:hc.V,data:{upsellSource:pZ.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var h2=a(717149),h4=a(398016),h3=a(997408),h8=a(125391);(0,li.eU)(e=>Object.keys(e(h8.m)).length>0);let h5=(0,li.eU)(e=>{let t=e(h8.m),a=e(h6),r=(0,eh.kc)().ps_benchmark;if(!a)return!1;let n=function(e){return[lB.P4.FILES_LIMITED,lB.P4.FILES_LIMITED_LEGACY,lB.P4.WHITEBOARD_FILES_LIMITED,lB.P4.WHITEBOARD_FILES_LIMITED_BETA].some(t=>{var a;return null==(a=null==e?void 0:e.restrictions_list)?void 0:a.includes(t)})}(a);return r?n:Object.values(t).some(e=>[lB.P4.FILES_LIMITED,lB.P4.FILES_LIMITED_LEGACY,lB.P4.WHITEBOARD_FILES_LIMITED,lB.P4.WHITEBOARD_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),h6=(0,h3.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function h9(){let e=function(){let e=function(){let e=(0,mG.usePermissionsState)(),t=(0,tR.TA)(),a=(0,o9.f)(hW.Jy),r=(0,h4.xX)(),n=(0,h2.a9)(),l=(0,eg.d4)(e=>e.userTeamFlags);if(hW.ng.uxEnabled()&&!n){let{ongoingTrials:n,expiredTrials:i}=hW.ng.getUpgradableProTrials(l,e),s=i.filter(hW.ng.canSeeProTrialExpiryUx);if(n.length>0||s.length>0)return{type:h0.V.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:n,expiredUpgradableTrials:s}};if(a&&r.length>0&&hW.ng.isUserInVariant(t))return{type:h0.V.PRO_TRIALS_ENTRY}}return null}(),t=function(){var e,t;let a=(0,tR.iZ)(),r=(0,h2.a9)(),n=(0,gg.ol)(),l=(0,mG.usePermissionsState)(),i=(0,t5.Rs)(ai.UpR,{}),s=null==(t=null==(e=i.data)?void 0:e.currentUser)?void 0:t.eduPeriodEnd,o=(0,eg.d4)(e=>e.userFlags);if(!a||"loaded"!==i.status)return null;let c=(0,p1.x$)(s,(0,p1.cn)(a)),d=c>0&&c!==1/0&&(0,p1.cn)(a)&&(null==n?void 0:n.student_team_state)===E6.kU.STUDENT_TEAM_CURRENT,m=0===c&&(null==n?void 0:n.student_team_state)===E6.kU.STUDENT_TEAM_EXPIRED&&(0,pM.oc)(n.id,l);if((0,eh.kc)().edu_offboarding_experience&&(d||m))return{type:h0.V.EDU_EXPIRY,props:{daysLeft:c}};if(!o.dismissed_edu_sidebar&&(0,p1.cn)(a)&&!r){let e=(0,pM.Kg)(l).length>0;return{type:h0.V.EDU_UPGRADE,props:{type:e?hf.UPGRADE:hf.CREATE}}}return null}(),a=function(){let e=(0,u2.OY)(),t=(0,tR.iZ)();if(t&&e&&!t.student_validated_at)switch(e){case u2.t2.IMPORT_JAMBOARD_FILE:return{type:h0.V.JAMBOARD_OFFER_NUDGE};case u2.t2.REDEEM_OFFER:return{type:h0.V.JAMBOARD_OFFER_UPGRADE}}return null}(),r=function(){let e=(0,tR.iZ)(),t=0===Object.keys((0,eg.d4)(e=>e.orgById)).length,a=(0,eg.d4)(e=>e.teams),r=(0,gg.ol)(),n=(0,tY.md)(h5),l=!Object.values(a).some(e=>null!==e.subscription||e.student_team_at),i=(0,eh.kc)().ps_benchmark;if(!e||i&&!r)return null;let s=r&&i&&!(0,p1.cn)(e)&&!(0,pM.w5)(a[r.id]);return!i&&t&&!(0,p1.cn)(e)&&l||s?{type:h0.V.UNIVERSAL,props:{onTeam:Object.keys(a).length>0,hitFileLimit:n}}:null}(),n=function(){let e=(0,mG.usePermissionsState)(),t=(0,eg.d4)(e=>e),a=(0,uU.hF)(t,e),r=(0,uU.j)(t.userFlags);return a===uU.VY.NONE||r?null:{type:h0.V.ORG_UPGRADE,props:{orgUpsellEligibility:a}}}();return null!==e?e:null!==t?t:null!==a?a:null!==r?r:null!==n?n:null}(),t=(0,uF.fn)();return null===e?null:ep.createElement(ep.Fragment,null,![uF.ih.VARIANT_A,uF.ih.VARIANT_B].includes(t)&&ep.createElement("div",{className:eT.cx.my8.mx0.h1.$,style:u1.sx.add({backgroundColor:"var(--color-border)"}).$}),ep.createElement(h7,{...e}))}function h7(e){switch(e.type){case h0.V.PRO_TRIALS_ENTRY:return ep.createElement(hj,null);case h0.V.PRO_TRIALS_UPGRADE:return ep.createElement(hY,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case h0.V.EDU_EXPIRY:return ep.createElement(hv,{daysLeft:e.props.daysLeft});case h0.V.EDU_UPGRADE:return ep.createElement(hh,{type:e.props.type});case h0.V.JAMBOARD_OFFER_NUDGE:return ep.createElement(hX,null);case h0.V.JAMBOARD_OFFER_UPGRADE:return ep.createElement(hQ,null);case h0.V.ORG_UPGRADE:return ep.createElement(hU,{orgUpsellEligibility:e.props.orgUpsellEligibility});case h0.V.UNIVERSAL:default:return ep.createElement(h1,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function ve(){let e=(0,eg.wA)();return ep.createElement("button",{onClick:()=>{(0,tn.sx)("community_browser_sidebar_action_clicked"),e(tL.$T({view:"communityHub",subView:"searchAndBrowse",data:ob.On}))},className:eS()(eT.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.wFull.$,"explore_community_button--hoverColor--nMsya"),"data-onboarding-key":tX.vM},ep.createElement(le.In,{icon:"community-16"}),ep.createElement(du.E,{i18nId:"sidebar.explore_community"}))}function vt(e){return ep.createElement("div",{className:eT.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,eT.cx.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&ep.createElement("div",{className:eT.cx.pb10.pt12.$},ep.createElement(h9,null)),ep.createElement(ve,null))}function va(e){return ep.createElement("div",{className:eT.cx.colorBg.if(e.hasBottomBorder,eT.cx.bb1.colorBorder.bSolid).$},e.inOfflineMode?ep.createElement(dF,null):ep.createElement(ep.Fragment,null,ep.createElement(dF,null),ep.createElement(dc.Zn,null)))}var vr=a(900581),vn=a(278362);function vl(e){let t=(0,eg.wA)(),a=(0,d2._6)(),r=(0,eg.d4)(e=>e.currentUserOrgId),n=(0,Ew.S)(),l=(0,eg.d4)(e=>e.teamFeedBellStates),i=!!(r&&l[r]),s="teamFeed"===a.view;return ep.createElement(g1.Z,{onClick:()=>{t(tL.$T({view:"teamFeed"})),t(tL.Oe({clickedResourceType:"teamFeed"}))},isSelected:s,icon:ep.createElement(eL.B,{className:eT.cx.colorIcon.$,svg:n?vn.A:vr.A}),text:ep.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--ZcD-O sidebar--sectionNameCustomSections--GV0zR sidebar--sectionTextCustomSections--saCMf sidebar--sectionContentCustomSections--PXYf3 ellipsis--ellipsis--Tjyfa"},ep.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--rH8Hz"},ep.createElement(e$.Tx,{id:"fig_feed.feed"}),i&&ep.createElement("div",{className:"team_feed_page_link--redDot--GHBuC red_dot--baseRedDot--AZelu"})))})}var vi=a(727251);class vs extends ep.Component{constructor(e){super(e),this.selectedItemRef=ep.createRef(),this.teamSectionBottomRef=ep.createRef(),this.debouncedTrackEvent=(0,s5.s)(tn.sx,al.WL,!0),this.scrollIfHidden=()=>{let e=gY.findDOMNode(this.selectedItemRef.current);if(!e)return;let t=e.getBoundingClientRect(),a=this.scrollContainerRef.getClipContainer().getBoundingClientRect();t.top<a.top?e.scrollIntoView({block:"start",inline:"nearest"}):t.bottom>a.bottom&&e.scrollIntoView({block:"end",inline:"nearest"})},this.onToggleExpand=()=>{Eq.Fp({type:"topLevel",id:"teamsOrLicenseGroups",orgId:this.props.currentUserOrgId},!this.state.isSectionExpanded),this.setState({isSectionExpanded:!this.state.isSectionExpanded})};let t=e.currentUserOrgId&&this.props.userFlags.show_create_new_section_banner;this.state={isSectionExpanded:!t&&Eq.hG({type:"topLevel",id:"teamsOrLicenseGroups",orgId:e.currentUserOrgId}),scrollTop:0,trackedScroll:!1,dispatchedMigrationToSections:!1,isBannerCloseHovered:!1,bottomIntersecting:!1,topIntersecting:!1}}onFolderRenameClick(e){this.props.dispatch(tL.z5({folderId:e.id}))}setSeenAnnouncement(e){this.props.dispatch(rc.b({show_create_new_section_banner:!1}))}createNewSection(e){this.props.dispatch(gJ.pS({newCustomSectionIndex:0})),this.setSeenAnnouncement(e)}componentDidMount(){setTimeout(()=>this.scrollIfHidden(),0)}componentDidUpdate(e){let{selectedView:t}=this.props;e.selectedView!==t&&this.scrollIfHidden()}render(){var e,t,a,r,n;let l=eS()("sidebar--navDefault---N9dL",{"sidebar--showMobileNav--3f0Cw":this.props.mobileNavShown}),i=(0,eh.kc)().ps_benchmark&&this.props.currentTeamId,s=this.props.projectsByTeam[gH.USER_DRAFTS],o=s?s[0]:null,c=(0,gD.He)(this.props.dropdownShown),d=0===((null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>e))||[]).map(e=>e.id).length,m=(0,dN.wA)(this.props),u=(0,uW.xw)(this.props),_=u&&u.permission===lB._D.ADMIN,p=(0,gO.D6)(this.props.currentUserOrgId),g=()=>this.props.userStateLoaded?ep.createElement(h9,null):null,E=(0,gZ.l2)(m,_??!1,!1),f=ep.createElement(ep.Fragment,null,ep.createElement(g3,{dispatch:this.props.dispatch,notOnAnyTeams:d,currentOrgId:this.props.currentUserOrgId,tooltipText:E?(0,e$.t)("license_group_view.toolbar.create_team_disabled"):void 0,disabled:E||(0,ph.R$)(this.props.user,null==m?void 0:m.id),onMouseEnter:E?()=>{this.debouncedTrackEvent(al.jd,{orgId:this.props.currentUserOrgId,orgName:null==m?void 0:m.name,placement:"teamsSidebar"})}:void 0})),h=()=>!(0,mG.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState)&&this.props.currentUserOrgId||eb.Ay.mobile?null:f,v=()=>{let e=!(0,mG.canMemberOrg)(this.props.currentUserOrgId,this.props.permissionsState);return ep.createElement(ep.Fragment,null,d&&ep.createElement(ep.Fragment,null,ep.createElement(g8,{org:m,isOrgGuest:e,dispatch:this.props.dispatch})))},b=()=>ep.createElement("div",{onClick:this.onToggleExpand,role:"button",tabIndex:0,className:"sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"},ep.createElement(eL.B,{className:"sidebar--expandCaret--WHjtL",svg:this.state.isSectionExpanded?c5.A:fD.A,onClick:this.onToggleExpand}),ep.createElement("div",null,this.props.isEnterpriseSidenavEnabled?ep.createElement(ep.Fragment,null,ep.createElement("span",null,ep.createElement(e$.Tx,{id:"sidebar.workspaces"}))):ep.createElement(e$.Tx,{id:"sidebar.teams"}))),y=()=>{var e,t,a,r;if(i||(0,gO.D6)(this.props.currentUserOrgId))return ep.createElement(ep.Fragment,null);let n=(0,gg.yR)((null==(t=null==(e=this.props.sidebarData)?void 0:e.teamRoles)?void 0:t.map(e=>e.team).filter(e=>!!e))||[],(null==(r=null==(a=this.props.sidebarData)?void 0:a.fileBrowserPreferences)?void 0:r.orderedTeamIds)||[]);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:f9}),b(),this.props.isEnterpriseSidenavEnabled?ep.createElement("div",{className:eT.cx.pb16.if(this.state.isSectionExpanded,eT.cx.hidden).$},ep.createElement(hr,{selectedItemRef:this.selectedItemRef,onFolderRenameClick:e=>this.onFolderRenameClick(e),contextSelectedFolder:c,...this.props})):ep.createElement("div",{className:eT.cx.if(!this.state.isSectionExpanded,eT.cx.hidden).$},ep.createElement(f7,{selectedItemRef:this.selectedItemRef,orderedTeams:n,...this.props,contextSelectedFolder:c,onFolderRenameClick:e=>this.onFolderRenameClick(e)}),v(),ep.createElement("div",{ref:this.teamSectionBottomRef}),h()))},w=ep.createElement(gq,{...this.props}),T=!this.props.currentUserOrgId&&this.props.projectsByTeam[gH.USER_FOLDERS],x=this.props.sidebarData,C=(0,eh.kc)().ps_benchmark&&i?null==(a=null==x?void 0:x.currentTeamUser)?void 0:a.favoritedFiles:null==x?void 0:x.favoritedFiles,N=(0,eh.kc)().ps_benchmark&&i?null==(r=null==x?void 0:x.currentTeamUser)?void 0:r.favoritedPrototypes:null==x?void 0:x.favoritedPrototypes,k=(0,eh.kc)().ps_benchmark&&i?null==(n=null==x?void 0:x.currentTeamUser)?void 0:n.favoritedProjects:null==x?void 0:x.favoritedProjects;k&&this.props.FBGNavigationUpdatesTreatment!==uF.ih.CONTROL&&(k=k.filter(e=>{var t;return(null==(t=e.project)?void 0:t.id)!==this.props.teamFolderId}));let S=(null==C?void 0:C.length)===0&&(null==N?void 0:N.length)===0&&(null==k?void 0:k.length)===0,I=this.props.FBGNavigationUpdatesTreatment===uF.ih.CONTROL||!S,A=this.props.FBGNavigationUpdatesTreatment===uF.ih.VARIANT_A,L=this.props.FBGNavigationUpdatesTreatment===uF.ih.VARIANT_B,R=!!this.props.dragState.data&&(this.props.dragState.type===gF.R.Folder||this.props.dragState.type===gF.R.Team||this.props.dragState.type===gF.R.Favorite),O=m&&ep.createElement("div",{className:f5},this.props.userFlags.show_create_new_section_banner?ep.createElement("div",{className:"sidebar--betaAnnouncementContainer--odNpf"},ep.createElement("div",{className:"sidebar--betaAnnouncementHeader--tIjm8"},ep.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--xUVM-"},ep.createElement(e$.Tx,{id:"favorited_resources.custom_sections_banner_header"})),ep.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX--0E9D4",onClick:e=>this.setSeenAnnouncement(e)},ep.createElement(eL.B,{svg:ua.A}))),ep.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--4EmyW"},ep.createElement("p",null,ep.createElement(e$.Tx,{id:"favorited_resources.custom_sections_banner_body"})),ep.createElement("br",null),ep.createElement("p",null,ep.createElement(eI.tM,{className:"sidebar--betaAnnouncementButton--m81oY",onClick:e=>this.createNewSection(e)},ep.createElement(e$.Tx,{id:"favorited_resources.custom_sections_banner_create_new_section_button"}))))):null),F=!(this.props.showLoadingState||this.props.showingFileBrowserLoader);return ep.createElement("div",{className:l},ep.createElement(gK.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:F},ep.createElement("div",{className:eT.cx.flex.flexColumn.wFull.$},ep.createElement(va,{hasBottomBorder:this.state.topIntersecting,inOfflineMode:this.props.inOfflineMode}),ep.createElement(ac.P,{className:"sidebar--sidebarScrollContainer--4RWG-",innerClassName:eT.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>this.setState({scrollTop:e}),ref:e=>this.scrollContainerRef=e},ep.createElement(tD.a,{onIntersectionChange:e=>{this.setState({topIntersecting:!e.isIntersecting}),e.isIntersecting||this.state.trackedScroll||(this.props.trackScroll(),this.setState({trackedScroll:!0}))}}),ep.createElement("div",{className:eS()("sidebar--navContent--bYE-K",{"sidebar--grabbingCursor--O57HP":R})},ep.createElement("div",{className:eT.cx.flexGrow1.flex.flexColumn.$},this.props.inOfflineMode?ep.createElement(ep.Fragment,null,ep.createElement(fQ,null),ep.createElement("div",{className:f9}),ep.createElement(fX,null)):ep.createElement(ep.Fragment,null,ep.createElement(g6,null),(0,eh.kc)().ps_benchmark&&ep.createElement(Eb,{selectedView:this.props.selectedView,dispatch:this.props.dispatch}),ep.createElement("div",{className:f9}),ep.createElement("div",{className:eT.cx.ml8.mr8.mt2.mb2.$},ep.createElement(ho.b,null)),(0,eh.kc)().xr_debounce_threshold&&m&&u&&u.permission!==lB._D.GUEST?ep.createElement(vl,null):null,o&&ep.createElement(EE.s,{folder:o,selectedView:this.props.selectedView,dispatch:this.props.dispatch}),i&&ep.createElement(Eg,{selectedView:this.props.selectedView}),i&&ep.createElement(g9.yr,{selectedView:this.props.selectedView}),i&&this.props.FBGNavigationUpdatesTreatment!==uF.ih.CONTROL&&ep.createElement(vi.P,{selectedView:this.props.selectedView,teamFolderId:this.props.teamFolderId,teamFolderName:this.props.teamFolderName}),!A&&!L&&ep.createElement("div",{className:f5},g()),!(u&&m)&&I&&ep.createElement("div",{className:f9}),u&&m&&(this.props.userStateLoaded?ep.createElement(ep.Fragment,null,ep.createElement(hs,null),this.props.currentUserOrgId&&u&&!eb.Ay.mobile&&ep.createElement(Ed,{selectedView:this.props.selectedView,org:this.props.orgById[this.props.currentUserOrgId],orgUser:u})):ep.createElement("div",{className:f6},ep.createElement(e8.kt,null))),p&&O,(()=>{var e,t;return this.props.userStateLoaded?ep.createElement(ep.Fragment,null,this.props.currentUserOrgId?ep.createElement(fG,{fileBrowserPreferences:null==(e=this.props.sidebarData)?void 0:e.fileBrowserPreferences,favoritedFiles:C,favoritedPrototypes:N,favoritedProjects:k,favoritedTeams:null==x?void 0:x.favoritedTeams,favoritedWorkspaces:null==x?void 0:x.favoritedWorkspaces,userSidebarSections:null==x?void 0:x.userSidebarSections,isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}):ep.createElement(ep.Fragment,null,I&&ep.createElement(fV,{fileBrowserPreferences:null==(t=this.props.sidebarData)?void 0:t.fileBrowserPreferences,favoritedFiles:C,favoritedPrototypes:N,favoritedProjects:k,favoritedTeams:null,favoritedWorkspaces:null,isEnterpriseSidenavEnabled:this.props.isEnterpriseSidenavEnabled,previewYOffset:this.state.scrollTop}),!i&&T&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:f9}),ep.createElement("div",{className:eS()(["sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa","sidebar--sharedProjectsSectionHeaderContainer--uTpsn sidebar--sectionHeaderContainer--HJzK0 sidebar--sectionHeaderName--tsbVQ sidebar--sectionName--wrE6W sidebar--sectionText--FzrIV sidebar--sectionContent--Pf1Ao ellipsis--ellipsis--Tjyfa"])},ep.createElement(du.E,{i18nId:"file_browser.shared_projects"})),w)),(0,eh.kc)().ps_benchmark&&i&&ep.createElement(fJ,{teamUser:null==x?void 0:x.currentTeamUser,previewYOffset:this.state.scrollTop}),y()):ep.createElement("div",{className:f6},ep.createElement(e8.kt,null))})(),L&&ep.createElement("div",{className:eT.cx.sticky.bottom0.colorBg.pb10.pt12.$},g()))),ep.createElement(tD.a,{onInitialLoad:e=>{this.setState({bottomIntersecting:!e})},onIntersectionChange:e=>{this.setState({bottomIntersecting:!e.isIntersecting})}}))),!this.props.inOfflineMode&&ep.createElement(vt,{hasTopBorder:!L&&!A&&(this.state.bottomIntersecting||this.state.topIntersecting),shouldShowUUBInFooter:A}))))}}function vo(e){var t,a,r,n,l,i,s,o,c;let d;let m=(0,eg.d4)(e=>e),u=(0,eg.wA)(),_=(0,tY.md)(dM.b),p=(0,p8.Q)({currentOrgId:e.currentUserOrgId,currentTeamId:(0,eh.kc)().ps_benchmark&&e.currentTeamId||null}),[{status:g,data:E}]=(0,r2.IT)((0,gR.Xg)({teamId:e.currentTeamId||void 0})),f="loaded"===g&&(null==E?void 0:E.length)===1?E[0]:null,h=null==f?void 0:f.id,v=null==f?void 0:f.name,b=(0,dN.wA)(e),y=!(0,mG.canMemberOrg)((null==b?void 0:b.id)??null,(0,mG.getPermissionsState)(e.permissionsState)),w="loaded"===p.status?p.data:null,T="loaded"!==p.status&&!_,x={},C={},N=[],k=((null==(t=null==w?void 0:w.currentUser)?void 0:t.sharedProjectRolesWithoutOrgDeletedDrafts)||[]).filter(t=>{var a;let{project:r}=t;if(!r)return!1;let n=(null==(a=r.team)?void 0:a.orgId)||r.orgId;return e.currentUserOrgId?n===e.currentUserOrgId:!n}).length>0,S=(0,ep.useMemo)(()=>w?{...w.currentUser}:null,[w]),I=e.showingFileBrowserLoader;if(ep.useEffect(()=>{var t,a;if((0,eh.kc)().ps_benchmark&&e.currentTeamId&&S&&(null==S?void 0:S.currentTeamUser)){let r=S.currentTeamUser;!r.fileBrowserPreferences&&S.fileBrowserPreferences&&u(gA.Sk.createFileBrowserPreferencesForTeamUser({prefs:S.fileBrowserPreferences,orderedFolderSubscriptions:(null==(a=null==(t=S.fileBrowserSectionPreferences)?void 0:t.filter(t=>t.teamId===e.currentTeamId)[0])?void 0:a.orderedFolderIds)??[],teamUser:r}))}},[e.currentTeamId,S,u]),S){let t;d=null==(r=null==(a=S.privilegedOrgUser)?void 0:a.licenseGroupMember)?void 0:r.licenseGroup;let m=[],u=new Set;for(let t of S.teamRoles||[])(null==(n=t.team)?void 0:n.orgId)!==e.currentUserOrgId||(null==(l=t.team)?void 0:l.deletedAt)||t.pending||(m.push(t),u.add(t.team.id),(null==(i=t.team)?void 0:i.licenseGroupId)?(C[t.team.licenseGroupId]=C[t.team.licenseGroupId]||[],C[t.team.licenseGroupId].push(t)):t.team&&N.push(t));if(S.teamRoles=m,e.currentUserOrgId&&S.baseOrgUser){let e=S.baseOrgUser;S.fileBrowserPreferences=e.fileBrowserPreferences,S.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,eh.kc)().ps_benchmark&&e.currentTeamId&&S.currentTeamUser&&(S.fileBrowserPreferences=null==(s=S.currentTeamUser)?void 0:s.fileBrowserPreferences);let _=(S.projectSubscriptions||[]).sort((e,t)=>{var a,r,n,l;return(null==(r=null==(a=e.projectV2)?void 0:a.path)?void 0:r.toLowerCase())<(null==(l=null==(n=t.projectV2)?void 0:n.path)?void 0:l.toLowerCase())?-1:1}),p={};for(let t of _){let a=t.projectV2;if(!a||(p[a.id]=t.id,(a.team?a.team.orgId!==e.currentUserOrgId:a.orgId!==e.currentUserOrgId)||!a.team&&""===a.path||a.team&&""===a.path&&(0,eh.kc)().ps_benchmark))continue;let r=u.has(a.teamId)?a.teamId:gH.USER_FOLDERS;x[r]=x[r]||[],x[r].push(a)}gL.zL(p),t=(0,eh.kc)().ps_benchmark&&e.currentTeamId?null==(o=null==w?void 0:w.currentUser.currentTeamUser)?void 0:o.draftsProject:e.currentUserOrgId?null==(c=null==w?void 0:w.currentUser.baseOrgUser)?void 0:c.draftsProject:null==w?void 0:w.currentUser.draftsProject,x[gH.USER_DRAFTS]=t?[t]:[]}return ep.createElement(vs,{...e,showingFileBrowserLoader:I,hasSharedProjects:k,sidebarData:S,projectsByTeam:x,teamRolesByLicenseGroup:C,teamsUnassignedToLicenseGroup:N,mainLicenseGroup:d,isEnterpriseSidenavEnabled:(0,dN.LU)(b??void 0,y,S??void 0),showLoadingState:T,trackScroll:()=>(0,al.uE)("Sidebar Scrolled",m),inOfflineMode:_,FBGNavigationUpdatesTreatment:(0,uF.fn)(),teamFolderId:h,teamFolderName:v})}vs.displayName="SideBar";var vc=a(400637),vd=a(717519);function vm(e){return void 0!==e.team_id}function vu(e,t){if(e!==vd.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var v_=a(418093);function vp(e){return ep.createElement(ej.Y,{spacing:4},ep.createElement(v_.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),ep.createElement(du.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let vg={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:gw.V0.DIRECTORY,workspaceId:e??null,selectedTab:gw.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:gv.X.HOME}:void 0};function vE({resource:e}){var t,a,r;let n=(0,eg.wA)(),l=(0,mG.usePermissionsState)(),i=(0,mV.sZ)(),s=(0,dB.oW)(e),o=(0,dB.eg)(s),c=(0,t5.Rs)(ai.bUn,{orgId:(null==i?void 0:i.id)??null},{enabled:!!i}),d="loaded"!==c.status,m=(null==(a=null==(t=c.data)?void 0:t.org)?void 0:a.workspaces)??[],u=function(e,t){let a=(0,eg.d4)(e=>e);return(0,ep.useMemo)(()=>({folder:vm(e)?e:void 0,team:vu(e,a),workspace:function(e,t,a){let r=vu(e,t);if(e===vd.O);else if(r&&r.workspace_id)return null==a?void 0:a.find(e=>e.id===r.workspace_id);else if(r&&!r.workspace_id&&r.org_id)return t.orgById[r.org_id].workspaces_count?vd.O:void 0;else if("domain_capture"in e||vm(e)||"workspace_id"in e)return;return e}(e,a,t),org:function(e,t){let a=vu(e,t);return(null==a?void 0:a.org_id)?t.orgById[a.org_id]:e===vd.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,a)}),[e,a,t])}(e,d?[]:[...m]);if(i||u.org?(null==i?void 0:i.id)!==(null==(r=u.org)?void 0:r.id):!u.team||!(0,mG.canViewTeam)(u.team.id,l)){let e=u.org??u.team;return e?ep.createElement(vp,{planEntity:e}):null}let _=e===vd.O?void 0:e.id,p=(e,t)=>{let a=t===vd.O?void 0:t.id,r=vg[e](a);(0,al.Cu)({clickedResourceType:e,clickedResourceId:a,currentResource:_,orgId:null==i?void 0:i.id}),r&&n(tL.$T(r))},g=["org","workspace","team","folder"].reduce((e,t)=>{let a=u[t];if(a){let r="workspace"===t&&!a.canView,n=a===f0.s?(0,e$.t)("breadcrumbs.unassigned_license_group"):r?(0,e$.t)("breadcrumbs.private_workspace_ellipses"):null==a?void 0:a.name;e.push({text:n,onClick:()=>{r||p(t,a)},parentBackgroundColor:o,isHoverable:!(a===f0.s||r)})}return e},[]);return g.pop(),ep.createElement(gN,{items:g})}var vf=a(536481);function vh(e){return e.rightSideActions?ep.createElement(vv,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function vv(e){let t=(0,t5.Rs)(ai.RIo,{orgId:null});return((0,vf.ap)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:ep.createElement("div",{className:eT.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,ep.createElement("div",{className:eT.cx.flex.gap8.$},e.rightSideActions))}function vb(e){let t=(0,dB.oW)(e.resource),a=(0,dB.eg)(t);return ep.createElement("div",{className:eT.cx.if(e.showNavigationChevrons,eT.cx.pl20,eT.cx.pl32).if(!!e.pageHeaderContent,eT.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:a},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&ep.createElement(dH,{parentBackgroundColor:a}),e.pageHeaderContent?ep.createElement("span",{className:eT.cx.minW0.wFull.$},ep.createElement(vh,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&ep.createElement(vE,{resource:e.resource}))}let vy=(0,ti.jz)(aE.tgj);function vw(e){return ep.createElement(ep.Fragment,null,ep.createElement(tV.z,{query:`(min-width: ${vy}px)`,defaultClass:eT.cx.sticky.top0.colorBg.zIndexTopBar.$},ep.createElement(vb,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?ep.createElement(du.E,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&ep.createElement(vc.i,{tabs:[ep.createElement(du.E,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)],dispatch:e.dispatch}))}function vT(e){let t=(0,eg.d4)(({selectedView:e})=>e),a=dj(),r=(0,eg.d4)(gm.iy),n=(0,pf.P)(e.currentUserOrgId,(0,eg.d4)(gm.o$));!function(){let e=(0,eh.kc)().ps_benchmark,t=(0,eg.Pj)();ep.useEffect(()=>{if(!e)return;let a=t.getState(),r=(0,mG.getPermissionsState)(a),n=(0,d5.vp)(r.user,r.currentUserOrgId,r.currentTeamId);n&&(0,gk.Y9)(n.userId,(0,e6.d9)(a.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let l=r||n.data||void 0,i="orgAdminSettings"===t.view||"licenseGroup"===t.view&&t.subView===gh.GN.ADMIN||"workspace"===t.view&&t.subView===gw.V0.ADMIN,s=!e.showingFileBrowserLoader&&!i&&(!!eE.eD||l||e.pageHeaderContent);ep.useEffect(()=>{let e=e=>{var t;if(e.keyCode===ou.Uz.PERIOD&&(null==(t=document.activeElement)?void 0:t.tagName)==="BODY"){if(!(0,eh.kc)().internal_only_debug_tools||!(0,eh.kc)().figment_debugger)return;(0,gI.Y)()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let o=(0,mG.usePermissionsState)();return ep.createElement("div",{className:eT.cx.flex.flexRow.flexGrow1.$},ep.createElement(vo,{...e,permissionsState:o,showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),ep.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--SLy8l"},s&&ep.createElement(vw,{dispatch:e.dispatch,pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:l,showNavigationChevrons:a}),!e.showingFileBrowserLoader&&e.children),ep.createElement(gS.G,{entryPoint:gS.Q.FILE_BROWSER}))}var vx=a(614485),vC=a(588873),vN=a(422804);function vk(e){let t=(0,t5.Rs)(ai.TaT,{id:e});return ep.useMemo(()=>{var e;return"loaded"===t.status?(0,t5.gB)(null==(e=t.data.licenseGroup)?void 0:e.licenseGroupMemberCounts):t},[t])}var vS=a(429380),vI=a(844522);let vA="Org admin settings onboarding -",vL=`${vA} Enterprise admin -`,vR=`${vA} members tab -`,vO=`${vA} teams tab -`,vF=`${vA} activity tab -`,vM=`${vA} license groups tab -`,vD=`${vA} workspaces tab -`,vP="org_admin_settings_workspaces_tab_onboarding_key",vB="org_admin_settings_teams_tab_onboarding_key",vU="org_admin_settings_billing_tab_onboarding_key",vW={[En.J7.DASHBOARD]:"org_admin_settings_dashboard_tab_onboarding_key",[En.J7.WORKSPACES]:vP,[En.J7.TEAMS]:vB,[En.J7.MEMBERS]:"org_admin_settings_members_tab_onboarding_key",[En.J7.ACTIVITY]:"org_admin_settings_activity_tab_onboarding_key",[En.J7.BILLING]:vU,[En.J7.RESOURCES]:"org_admin_settings_resources_tab_onboarding_key",[En.J7.SETTINGS]:"org_admin_settings_settings_tab_onboarding_key"},vV="org_admin_settings_billing_groups_secondary_tab_onboarding_key",vG="activity_table_email_input_onboarding_key",v$="activity_table_export_csv_onboarding_key",vj="members_table_account_type_onboarding_key",vH="members_table_last_active_onboarding_key",vq="members_table_search_onboarding_key",vz="members_table_upgrade_reason_onboarding_key",vY="license_group_header_create_button_onboarding_key",vK="license_group_menu_cell_onboarding_key",vJ="teams_table_create_team_onboarding_key",vZ="teams_table_unassigned_tab_onboarding_key",vQ="Workspace admin settings onboarding",vX="members-table-add-members",v0="members-table-design-role-column-header",v1="admin-settings-view-toolbar",v2="Billing Group Admin Onboarding",v4="seen_billing_group_admin_onboarding";var v3=((d=v3||{}).SwitchWorkspacesBillingGroups="SwitchWorkspacesBillingGroups",d.AddMembersToBillingGroup="AddMembersToBillingGroup",d.UpdateRolesInBillingGroup="UpdateRolesInBillingGroups",d);function v8(e){var t;let a=vk(e.licenseGroupId),r=null!=(t=a.data)&&!!t.totalCount&&parseInt(a.data.totalCount)>0,n=(0,tZ.r1)(v4),l=(0,mV.dq)(),i=(0,tY.md)(n),s=(0,h2.a9)(),o=!!(s&&s.permission===lB._D.ADMIN),c=((0,pf.NJ)(l).data??[]).length>0,{show:d,isShowing:m,complete:u}=(0,tJ.e)({overlay:t4.fQh,priority:tQ.N.SECONDARY_MODAL},[i]);(0,tz.h)(()=>{d({canShow:e=>!e&&!eb.rr})});let _=[];c&&!o&&_.push("SwitchWorkspacesBillingGroups"),_.push("AddMembersToBillingGroup"),r&&_.push("UpdateRolesInBillingGroups");let p=_.length,g=(0,vN.A)({numSteps:p,onComplete:u});return ep.createElement(vS.U,{currentStep:g.currentStep,isShowing:m,children:_.map((e,t)=>ep.createElement(v5,{key:e,step:e,stepCounter:p>1?{stepNum:t+1,totalNumSteps:p}:void 0,isShowing:m,isFinalStep:t===_.length-1,next:g.next,complete:u}))})}function v5(e){let{step:t,stepCounter:a,isShowing:r,isFinalStep:n,next:l,complete:i}=e,s=n?{label:ep.createElement(e$.Tx,{id:"general.got_it"}),onClick:i,type:"button",ctaTrackingDescriptor:o3.c.GOT_IT}:{label:ep.createElement(e$.Tx,{id:"general.next"}),onClick:l,type:"button",ctaTrackingDescriptor:o3.c.NEXT};switch(t){case"SwitchWorkspacesBillingGroups":return ep.createElement(vI.rq,{isShowing:r,trackingContextName:"Multi Admin Walkthrough",userFlagOnShow:v4,onClose:i,stepCounter:a,targetKey:v1,title:ep.createElement(e$.Tx,{id:"multi_admin_onboarding.heading"}),description:ep.createElement(e$.Tx,{id:"multi_admin_onboarding.description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"AddMembersToBillingGroup":return ep.createElement(vI.rq,{isShowing:r,trackingContextName:v2,userFlagOnShow:v4,onClose:i,stepCounter:a,targetKey:vX,title:ep.createElement(e$.Tx,{id:"billing_group_admin_onboarding.step_one_heading"}),description:ep.createElement(e$.Tx,{id:"billing_group_admin_onboarding.step_one_description"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});case"UpdateRolesInBillingGroups":return ep.createElement(vI.rq,{isShowing:r,trackingContextName:v2,userFlagOnShow:v4,onClose:i,stepCounter:a,targetKey:v0,title:ep.createElement(e$.Tx,{id:"billing_group_admin_onboarding.step_two_heading.seat_rename"}),description:ep.createElement(e$.Tx,{id:"billing_group_admin_onboarding.step_two_description.seat_rename"}),primaryCta:s,emphasized:!0,clickOutsideToHide:!0});default:(0,eC.xb)(t)}}var v6=a(174424),v9=a(153382),v7=a(197124),be=a(181158);function bt(e,t){if(!t)return e;let a=new Set(t.map(e=>e.id)),r=e.filter(e=>!a.has(e));return r.length===e.length?e:r}function ba(e,t=50){let[a,r]=ep.useState([]),n=ep.useMemo(()=>bt(a,e),[e,a]);return ep.useEffect(()=>{r(n)},[n]),{optimisticIds:n,addOptimisticIds:ep.useCallback(e=>r(a=>{let r=[...a,...e];return r.length>t?r.slice(r.length-t):r}),[t]),setServerData:ep.useCallback(e=>{r(t=>bt(t,e))},[])}}var br=a(775824),bn=a(873136),bl=a(664888),bi=a(119095);let bs=new class{constructor(){this.OrgJoinRequestSchemaValidator=(0,rI.vh)()}getOrgJoinRequest(e){return this.OrgJoinRequestSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_join_request/${e.selectedOrgJoinRequest}`))}};var bo=a(477895),bc=a(703348),bd=a(921953),bm=a(578558);let bu="confirm_org_user_actions--bold--C7lE0",b_="confirm_org_user_actions--spacing--Qd7RS",bp="confirm_org_user_actions--link--58npm",bg="confirm_org_user_actions--learnMoreLink--Pc8hv confirm_org_user_actions--link--58npm blue_link--blueLink--9rlnd";var bE=a(207776),bf=a(169852);class bh extends ep.PureComponent{constructor(){super(...arguments),this.onHide=()=>{if(this.props.onHide){this.props.onHide();return}this.props.dispatch(e0.Lo())},this.deleteOrgUsers=()=>{this.props.dispatch(bl.IJ({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds},userInitiated:!0})),this.props.dispatch(e0.Ce())},this.shouldRenderDowngradeMessage=()=>{try{let e=this.props.orgUsers;if(e)return this.props.orgUserIds.some(t=>{let a=(0,uW.Aw)(e,t);if(a)return[uP.lM.DESIGN,uP.lM.FIGJAM,uP.lM.DEV_MODE].some(e=>(0,uJ.qu)(a,e))})}catch(e){console.warn("Failed determine whether we should display downgrade to viewer restricted message",e)}return!1}}render(){let e,t,a;let r=this.props.orgUserIds.length;if(this.props.orgUsers&&(e=(0,uW.Aw)(this.props.orgUsers,this.props.orgUserIds[0]),t=this.props.orgUserIds.filter(e=>{var t;return(null==(t=(0,uW.Aw)(this.props.orgUsers,e))?void 0:t.permission)===lB._D.GUEST})),(0,eh.kc)().org_confirm_user_delete_modal_v2){let a,n=(0,e$.t)("org_settings.remove_user_modal.users_and_guests_text",{userCount:r});void 0!==t&&t.length>0&&t.length===r?n=(0,e$.t)("org_settings.remove_user_modal.title.guests_only_text",{userCount:r}):void 0!==t&&0===t.length&&(n=(0,e$.t)("org_settings.remove_user_modal.title.users_only_text",{userCount:r}));let l=(0,e$.t)("org_settings.remove_user_modal.button");a=(null==e?void 0:e.user.handle)?(0,e$.t)("org_settings.remove_user_modal.warning_text",{userCount:r,userName:e.user.handle,orgName:this.props.org.name}):(0,e$.t)("org_settings.remove_user_modal.warning_no_username_text",{userCount:r,orgName:this.props.org.name});let i=ep.createElement(e$.Tx,{id:"org_settings.remove_user_modal.information_text",userCount:r,sharedProjects:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"org_settings.remove_user_modal.shared_projects"}))});return ep.createElement(eH.fu,{name:"Confirm Remove Modal",properties:{orgId:this.props.org.id,numUsers:r}},ep.createElement(bc.l,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:l,title:n,checkboxText:(0,e$.t)("org_settings.remove_user_modal.confirmation_checkbox_text"),makeButtonAppearNegative:!0},ep.createElement("div",null,ep.createElement("p",{className:bu},a),ep.createElement("p",{className:b_},i),this.shouldRenderDowngradeMessage()&&ep.createElement("div",{className:eT.cx.mt16.colorBgHover.$},ep.createElement("p",{className:eT.cx.px12.py8.$},ep.createElement(e$.Tx,{id:"org_settings.remove_user_modal.downgrade_instead",userCount:r,viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"org_settings.remove_user_modal.viewer_restricted"}))}))))))}let n=(0,e$.t)("org_settings.remove_user_modal.title",{userCount:r});void 0!==t&&t.length>0&&t.length===r?n=(0,e$.t)("org_settings.remove_user_modal.title.guests_only",{userCount:r}):void 0!==t&&0===t.length&&(n=(0,e$.t)("org_settings.remove_user_modal.title.members_only",{userCount:r}));let l=(0,e$.t)("org_settings.remove_user_modal.button");a=(null==e?void 0:e.user.handle)?(0,e$.t)("org_settings.remove_user_modal.warning",{userCount:r,userName:e.user.handle,orgName:this.props.org.name}):(0,e$.t)("org_settings.remove_user_modal.warning_no_username",{userCount:r,orgName:this.props.org.name});let i=(0,e$.t)("org_settings.remove_user_modal.info",{userCount:r});return ep.createElement(eH.fu,{name:"Confirm Remove Modal",properties:{orgId:this.props.org.id,numUsers:r}},ep.createElement(bc.l,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:l,title:n,checkboxText:(0,e$.t)("org_settings.remove_user_modal.confirmation_text"),makeButtonAppearNegative:!0},ep.createElement("div",null,ep.createElement("p",{className:bu},a),ep.createElement("p",{className:b_},i))))}}bh.displayName="OrgConfirmDeleteModal";let bv=(0,am.Ju)(bh,"OrgConfirmDeleteModal");function bb(e){let t;let a=(0,g7.SM)(e.org.id);function r(){let t=(0,uP.lh)(e.licenseType),r={org_user_ids:e.orgUserIds,paid_statuses:{[t]:e.accountType},entry_point:bo.h.MEMBERS_TAB};e.dispatch(bl.uo({orgId:e.org.id,lastUpdateTimestampOverride:e.lastUpdateTimestampIfUsingUnloadedOrgUsers,params:r,successCallback:()=>{if(e.dispatch(t6.F.enqueue({message:(0,e$.t)("confirm_account_change.account_type_successfully_updated.seat_rename",{numUsers:e.orgUserIds.length}),type:"paid-status-changed"})),a(),e.updateAccountTypeFilterCounts(),e.orgUsers){let t=e.orgUserIds.map(t=>(0,uW.Aw)(e.orgUsers,t));e.updateNewEditorBuffer(t,e.accountType,e.licenseType,e.orgUserIds)}}})),function(){if(e.onHide){e.onHide();return}e.dispatch(e0.Lo())}()}function n(e,t){return 1===e?t?ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.singular",userName:t,seatType:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.full_seat"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.singular.no_username",seatType:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.full_seat"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.all_licenses.description_p1.plural",numUsers:e,seatType:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.full_seat"}))})}function l(e,t){return 1===e?t?ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.singular",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},t),viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.singular.no_username",viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.all_licenses.description_p1.plural",numUsers:e,viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.seat_type.viewer_restricted"}))})}function i(e,t){return 1===e?t?ep.createElement(e$.Tx,{id:"confirm_account_change.remove_edit_access_description_single.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},t),viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.viewer_restricted"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.remove_edit_access_description_single_no_username.seat_rename",viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.viewer_restricted"}))}):ep.createElement(e$.Tx,{id:"confirm_account_change.remove_edit_access_description.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},t),numUsers:e,viewerRestricted:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"confirm_account_change.viewer_restricted"}))})}let s=e.orgUserIds.length;e.orgUsers&&(t=(0,uW.Aw)(e.orgUsers,e.orgUserIds[0]).user.handle);let o=e.accountType===lB.El.FULL,c=function(e,t,a,r){var s,o,c,d;if(e)switch(t){case uP.lM.DESIGN:return s=a,o=r,(0,eh.kc)().billing_dev_mode_customer_ui?ep.createElement(ep.Fragment,null,n(s,o),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.design.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.edit_share_or_create"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.give_access_to_drafts"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.access_all_templates_and_libraries"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement("span",{className:eT.cx.mr4.$},ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access"})),ep.createElement("a",{className:bg,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"}))))):ep.createElement(ep.Fragment,null,1===s?o?ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figma_design_access_description_single.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},o)}):ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figma_design_access_description_single_no_username.seat_rename"}):ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figma_design_access_description.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},o),numUsers:s}),ep.createElement("p",{className:b_},ep.createElement(eI.N_,{className:bp,target:"_blank",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,e$.t)("confirm_account_change.grant_edit_access_link.seat_rename"))));case uP.lM.FIGJAM:return c=a,d=r,(0,eh.kc)().billing_dev_mode_customer_ui?ep.createElement(ep.Fragment,null,n(c,d),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.design.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.edit_share_or_create"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.give_access_to_drafts"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.access_all_templates_and_libraries"})))):ep.createElement(ep.Fragment,null,1===c?d?ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figjam_access_description_single.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},d)}):ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figjam_access_description_single_no_username.seat_rename"}):ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figjam_access_description.seat_rename",userName:ep.createElement("span",{className:eT.cx.fontSemiBold.$},d),numUsers:c}),ep.createElement("p",{className:b_},ep.createElement(eI.N_,{className:bp,target:"_blank",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,e$.t)("confirm_account_change.grant_edit_access_link.seat_rename"))));case uP.lM.DEV_MODE:let m;return m=1===a?r?ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.singular",userName:r}):ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.singular.no_username"}):ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.dev_mode.another_option.plural"}),ep.createElement(ep.Fragment,null,n(a,r),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.dev_mode.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.advanced_inspect"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.integrations"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIcon.mr8.$,svg:bE.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.annotations"}))),ep.createElement("div",{className:eT.cx.flex.mt32.mb8.py8.px4.colorBgSecondary.$},ep.createElement("div",{className:eT.cx.w48.mr8.$},ep.createElement(_7.oS,{type:_7.y1.DESIGN_AND_DEV_MODE,size:_7.LE.SMALL})),ep.createElement("div",{className:eT.cx.flexGrow1.$},m,ep.createElement("br",null),ep.createElement("a",{className:bg,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"})))));default:(0,eC.xb)(t)}else switch(t){case uP.lM.DESIGN:return function(e,t){if((0,eh.kc)().billing_dev_mode_customer_ui)return ep.createElement(ep.Fragment,null,l(e,t),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.design.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.edit_share_or_create"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.give_access_to_drafts"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.access_all_templates_and_libraries"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.design.give_access_to_drafts"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement("span",{className:eT.cx.mr4.$},ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access"})),ep.createElement("a",{className:bg,target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/en-us/articles/19813618057623"},ep.createElement(e$.Tx,{id:"confirm_account_change.generic.design.free_dev_mode_access.learn_more"})))));{let a=u1.sx.ml16.mt4.add({listStyle:"disc"}).$;return ep.createElement(ep.Fragment,null,i(e,t),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figma_design_access_description_cant_edit_outside_drafts"})),ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figma_design_access_description_cant_share_new_draft_files"})),ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figma_design_access_description_shared_draft_files_no_longer_accessible"}))))}}(a,r);case uP.lM.FIGJAM:return function(e,t){if((0,eh.kc)().billing_dev_mode_customer_ui)return ep.createElement(ep.Fragment,null,l(e,t),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.design.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.edit_share_or_create"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.give_access_to_drafts"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.figjam.access_all_templates_and_libraries"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.design.give_access_to_drafts"}))));{let a=u1.sx.ml16.mt4.add({listStyle:"disc"}).$;return ep.createElement(ep.Fragment,null,i(e,t),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figjam_access_description_cant_edit_outside_drafts"})),ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figjam_access_description_cant_share_new_draft_files"})),ep.createElement("li",{style:a},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figjam_access_description_shared_draft_files_no_longer_accessible"}))))}}(a,r);case uP.lM.DEV_MODE:return ep.createElement(ep.Fragment,null,l(a,r),ep.createElement("span",{className:eT.cx.ml2.$},ep.createElement(e$.Tx,{id:"confirm_account_change.downgrade.dev_mode.description_p2"})),ep.createElement("ul",{className:eT.cx.mt8.$},ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.advanced_inspect"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.integrations"})),ep.createElement("li",{className:eT.cx.flex.ml2.mt8.$},ep.createElement(eL.B,{className:eT.cx.colorIconDanger.mr8.$,svg:bf.A}),ep.createElement(e$.Tx,{id:"confirm_account_change.generic.dev_mode.annotations"}))));default:(0,eC.xb)(t)}}(o,e.licenseType,s,t);return ep.createElement(eH.fu,{name:"Confirm Account Change Modal",properties:{targetRole:e.accountType,orgId:e.org.id,licenseType:e.licenseType,numUsers:s}},ep.createElement(au.Rw,{confirmationTitle:function(e,t,a){if(e)switch(t){case uP.lM.DESIGN:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figma_design_access_title.seat_rename",numUsers:a}));case uP.lM.FIGJAM:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.grant_figjam_access_title.seat_rename",numUsers:a}));case uP.lM.DEV_MODE:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.upgrade.dev_mode.title",numUsers:a}));default:(0,eC.xb)(t)}else switch(t){case uP.lM.DESIGN:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figma_design_access_title.seat_rename",numUsers:a}));case uP.lM.FIGJAM:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_figjam_access_title.seat_rename",numUsers:a}));case uP.lM.DEV_MODE:return ep.createElement("span",{className:bu},ep.createElement(e$.Tx,{id:"confirm_account_change.remove_dev_mode_access_title",numUsers:a}));default:(0,eC.xb)(t)}}(o,e.licenseType,s),confirmText:o?(0,e$.t)("confirm_account_change.grant_edit_access_confirm_text"):(0,e$.t)("confirm_account_change.remove_edit_access_confirm_text"),isLoading:!e.isDevModeOptInLoaded,onConfirm:()=>(function(t,a){if(!(t===uP.lM.DEV_MODE&&a&&e.isDevModeOptInRequired))return r();e.dispatch(e0.to({type:bm.OZ,data:{onOptInUpgrade:()=>{r()},source:En.J7.MEMBERS}}))})(e.licenseType,o),onCancel:e.onHide,onHide:e.onHide,destructive:!o,disableClickOutsideToHide:!0,dispatch:e.dispatch,popStack:!0,trackedConfirmationProperties:{productType:e.licenseType}},c))}let by=(0,am.Ju)(function(e){var t,a;let r=(0,t5.Rs)(ai.Z5M,{orgId:e.org.id}),n="loaded"===r.status,l=(0,uJ.CA)((null==(a=null==(t=r.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null);return ep.createElement(bb,{...e,isDevModeOptInLoaded:n,isDevModeOptInRequired:l})},"OrgConfirmAccountChangeModal");class bw extends ep.PureComponent{constructor(){super(...arguments),this.onHide=()=>{if(this.props.onHide){this.props.onHide();return}this.props.dispatch(e0.Lo())},this.updateLicenseGroup=()=>{let e;e=this.props.newLicenseGroup?{org_user_ids:this.props.orgUserIds,license_group_id:this.props.newLicenseGroup.id}:{org_user_ids:this.props.orgUserIds,license_group_id:null},this.props.dispatch(bl.uo({orgId:this.props.org.id,lastUpdateTimestampOverride:this.props.lastUpdateTimestampIfUsingUnloadedOrgUsers,params:e,successCallback:()=>{let e=this.props.orgUserIds.length;this.props.dispatch(t6.F.enqueue({message:(0,e$.t)("confirm_billing_group_change.success_message",{numUsers:e}),type:"license-group-changed"})),this.props.updateLicenseGroupFilterCounts()}})),this.onHide()}}renderModalContent(){var e,t,a;let r;let n=this.props.orgUserIds.length;this.props.orgUsers&&(r=null==(e=(0,uW.Aw)(this.props.orgUsers,this.props.orgUserIds[0]))?void 0:e.user.handle);let l=(0,bi.e)(null==(t=this.props.newLicenseGroup)?void 0:t.admin_users_metadata),i=!!(null==(a=this.props.newLicenseGroup)?void 0:a.is_orphaned);return!this.props.isCurrentUserOrgAdmin&&this.props.newLicenseGroup?r?ep.createElement(e$.Tx,{id:"confirm_workspace_change.confirmation_description",userName:r,numUsers:n,workspaceName:ep.createElement("span",{className:bu},this.props.newLicenseGroup.name)}):ep.createElement(e$.Tx,{id:"confirm_workspace_change.confirmation_description_no_username",numUsers:n,workspaceName:ep.createElement("span",{className:bu},this.props.newLicenseGroup.name)}):!this.props.newLicenseGroup||i?r?ep.createElement(e$.Tx,{id:"confirm_workspace_change.confirmation_description_with_organization_admin_warning",userName:r,numUsers:n,workspaceName:ep.createElement("span",{className:bu},this.props.newLicenseGroup?this.props.newLicenseGroup.name:(0,e$.t)("confirm_workspace_change.unassigned"))}):ep.createElement(e$.Tx,{id:"confirm_workspace_change.confirmation_description_with_organization_admin_warning_no_username",numUsers:n,workspaceName:ep.createElement("span",{className:bu},this.props.newLicenseGroup?this.props.newLicenseGroup.name:(0,e$.t)("confirm_workspace_change.unassigned"))}):r?ep.createElement(e$.Tx,{id:"confirm_billing_group_change.confirmation_description_with_billing_group_admin_warning",userName:r,numUsers:n,billingGroupName:ep.createElement("span",{className:bu},this.props.newLicenseGroup.name),listOfBillingGroupAdmins:ep.createElement("span",{className:bu},l)}):ep.createElement(e$.Tx,{id:"confirm_billing_group_change.confirmation_description_with_billing_group_admin_warning_no_username",numUsers:n,billingGroupName:ep.createElement("span",{className:bu},this.props.newLicenseGroup.name),listOfBillingGroupAdmins:ep.createElement("span",{className:bu},l)})}render(){return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("confirm_billing_group_change.title"),confirmText:(0,e$.t)("confirm_billing_group_change.confirm_button"),onConfirm:this.updateLicenseGroup,onCancel:this.props.onHide,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch,popStack:!0},this.renderModalContent())}}bw.displayName="ConfirmLicenseGroupChangeModal";let bT=(0,am.Ju)(bw,"OrgConfirmLicenseGroupChangeModal"),bx=(0,am.Ju)(function(e){let t=e.selectedOrgJoinRequest,a=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),r=(0,eg.d4)(e=>e.orgSamlConfig),n=(0,eg.wA)(),[l,i]=ep.useState(),s=`ORG_JOIN_REQUEST_APPROVE_${t}`,o=l&&l.requester_user.handle,c=l&&l.invite_level&&l.invite_level<=m5.e.VIEWER,d=!!(l&&l.deprovisioned_user);ep.useEffect(()=>{bs.getOrgJoinRequest({selectedOrgJoinRequest:t}).then(({data:e})=>{i(e.meta)}).catch(e=>{var t;let a=(null==(t=null==e?void 0:e.data)?void 0:t.message)||(0,e$.t)("org_join_request.generic_fetch_error");n(t6.F.enqueue({message:a,type:"org-join-request-get-error",error:!0}))})},[t,n]);let m=()=>{n(e0.Lo())};if(!l)return null;let u=null;if(l.inviter_user)switch(l.resource_type){case"file":case"file_repo":u=c?ep.createElement(e$.Tx,{id:"org_join_request.description_view_file",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):ep.createElement(e$.Tx,{id:"org_join_request.description_edit_file",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;case"folder":u=c?ep.createElement(e$.Tx,{id:"org_join_request.description_view_folder",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):ep.createElement(e$.Tx,{id:"org_join_request.description_edit_folder",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;case"team":u=c?ep.createElement(e$.Tx,{id:"org_join_request.description_view_team",inviterName:l.inviter_user.handle,resourceName:l.resource_name}):ep.createElement(e$.Tx,{id:"org_join_request.description_edit_team",inviterName:l.inviter_user.handle,resourceName:l.resource_name});break;default:console.error("Unhandled orgJoinRequest.resource_type")}return ep.createElement("div",null,ep.createElement(eH.fu,{name:"Handle Org Join Request Modal",properties:{deprovisionedUser:d}},ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("org_join_request.modal_title",{requesterName:o??""}),confirmText:d?(0,e$.t)("org_join_request.deprovisioned_confirmation_button_text"):(0,e$.t)("org_join_request.add_to_org_confirmation_button_text"),onConfirm:d?m:()=>{let e=ae.Ay.put(`/api/org_join_request/${t}/approve`,{source:"email"});(0,aa.N)(e,{dispatch:n},s),e.then(()=>{m(),n(t6.F.enqueue({message:(0,e$.t)("org_join_request.request_approved_message",{requesterName:o??""}),type:"org-join-request-approve-success"}))},e=>{var t;let a=e.message||(null==(t=null==e?void 0:e.data)?void 0:t.message)||(0,e$.t)("org_join_request.approve_error");n(t6.F.enqueue({message:a,type:"org-join-request-approve-failure",error:!0}))})},cancelText:(0,e$.t)("org_join_request.cancel_text"),hideCancel:d,disableClickOutsideToHide:!0,dispatch:n,hideOnConfirm:!1,isLoading:(0,e1.VP)(bd.D.getState().loadingState,s),loadingText:(0,e$.t)("org_join_request.loading_confirmation_button_text")},d&&ep.createElement("div",{className:"confirm_org_user_actions--alertBanner--8HDAR confirm_org_user_actions--banner--SQM4-"},ep.createElement(eL.B,{width:"16px",height:"16px",useOriginalSrcFills_DEPRECATED:!1,svg:Eo.A,style:{marginRight:14}}),ep.createElement(e$.Tx,{id:"org_join_request.user_deprovisioned_warning"})),ep.createElement("div",{className:"confirm_org_user_actions--flex--p71h4"},l.file&&ep.createElement(fw.N,{editor_type:null,client_meta:l.file.client_meta,thumbnail_url:l.file.thumbnail_url,additionalClassName:"confirm_org_user_actions--imagePreview--368C0",isLocked:!!l.file.has_file_link_password,fullWidth:!1}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_join_request.description_would_like_to_join",requesterNameAndEmail:ep.createElement("span",{className:bu},o," (",l.requester_user.email,")"),orgName:a.name})," ",u)),!d&&(0,dN.cg)(r)&&ep.createElement("div",{className:"confirm_org_user_actions--banner--SQM4-"},ep.createElement(e$.Tx,{id:"org_join_request.scim_enabled_banner"})))))},"HandleOrgJoinRequestModal");var bC=a(654875),bN=a(417534),bk=a(517799),bS=a(60237),bI=a(646121);function bA(e,t){switch(e){case En.J7.ACTIVITY:return(0,e$.t)("org_admin_tab.activity");case En.J7.DASHBOARD:return(0,e$.t)("org_admin_tab.dashboard");case En.J7.WORKSPACES:return(0,e$.t)("org_admin_tab.workspaces");case En.J7.TEAMS:return(0,e$.t)("org_admin_tab.teams");case En.J7.MEMBERS:return(0,e$.t)("org_admin_tab.members");case En.J7.BILLING:return(0,e$.t)("org_admin_tab.billing");case En.J7.RESOURCES:switch(t){case En._d.LIBRARIES:return(0,e$.t)("resources_tab.libraries");case En._d.SHARED_FONTS:return(0,e$.t)("resources_tab.fonts");case En._d.APPROVED_PLUGINS:return(0,e$.t)("resources_tab.approved_plugins");case En._d.APPROVED_WIDGETS:return(0,e$.t)("resources_tab.approved_widgets");default:return(0,e$.t)("org_admin_tab.resources")}case En.J7.SETTINGS:return(0,e$.t)("org_admin_tab.settings");default:(0,eC.xb)(e)}}var bL=a(16237),bR=a(329137),bO=a(683891),bF=a(76103),bM=a(874479),bD=a(75173),bP=a(141370);let bB="org_admin_settings_onboarding_pointers--keyboard--4G-Yb text--fontPos9--naThA text--_fontBase--QdLsd",bU="seen_org_admin_members_onboarding",bW=(0,bF.rn)("org_admin_members_onboarding",(0,bP.R)(t4.UmN)),bV=(0,tZ.r1)(bU),bG=[bD.JG,vH,vz,vj,vq],b$=[bD.JG,vH,vj,vq],bj={[bD.JG]:`${vR} Multi select`,[vH]:`${vR} Recent Activity`,[vz]:`${vR} Upgraded`,[vj]:`${vR} Account Type`,[vq]:`${vR} Search`},bH=(e,t)=>{switch(e){case bD.JG:return ep.createElement(e$.Tx,{id:"onboarding_pointers.multiple_select_onboarding",shiftKey:ep.createElement("kbd",{className:bB},ep.createElement(e$.Tx,{id:"onboarding_pointers.shift_key"}))});case vH:return ep.createElement(e$.Tx,{id:"onboarding_pointers.recent_activity_onboarding.seat_rename"});case vz:return ep.createElement(e$.Tx,{id:"onboarding_pointers.member_upgraded_onboarding"});case vj:if(t)return ep.createElement(e$.Tx,{id:"onboarding_pointers.account_type_filter_onboarding_for_workspace_admin"});return ep.createElement(e$.Tx,{id:"onboarding_pointers.account_type_filter_onboarding.seat_rename"});case vq:return ep.createElement(e$.Tx,{id:"onboarding_pointers.member_search_onboarding"})}};function bq({isWorkspaceAdminMembersTable:e=!1}){let t=(0,tY.md)(bV),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,tJ.e)({overlay:t4.UmN,priority:tQ.N.DEFAULT_MODAL},[t]),i=(0,eg.wA)(),s=(0,bO.zl)(bW),o=e?b$:bG,c=o.length,{next:d,reset:m}=(0,vN.A)({numSteps:c,onComplete:r});(0,tz.h)(()=>{"reset"===s.currentState?n():n({canShow:e=>!e})});let u=(0,ep.useCallback)(()=>{m(),n()},[m,n]);(0,tK.E)(l,"Reset Onboarding",u);let _=(0,ep.useCallback)(()=>{i(rc.b({[bU]:!0})),r()},[i,r]);return ep.createElement(bM.WZ,{steps:o.map((t,a)=>({key:t,isShowing:!0,trackingContextName:bj[t],targetKey:t,primaryCta:{label:a+1<c?ep.createElement(e$.Tx,{id:"general.next"}):ep.createElement(e$.Tx,{id:"general.done"}),type:"button",onClick:d,ctaTrackingDescriptor:a+1<c?o3.c.NEXT:o3.c.DONE},description:bH(t,e),onClose:_})),onComplete:_,isShowing:a})}let bz="seen_org_admin_selection_onboarding",bY=(0,bF.rn)("org_admin_selection_onboarding",(0,bP.R)(t4.nIZ)),bK=(0,tZ.r1)(bz);function bJ(e){let t=(0,tY.md)(bK),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,tJ.e)({overlay:t4.nIZ,priority:tQ.N.DEFAULT_MODAL},[t]),i=(0,bO.zl)(bY);return(0,tK.E)(l,"CTA Clicked",e=>{var t;(null==(t=e.properties)?void 0:t.trackingContext)===`${e4.e0.ORG_ADMIN_SETTINGS_PAGE} > MultiSelectList - Row`&&("reset"===i.currentState?n():n({canShow:e=>!e}))}),ep.createElement(vI.rq,{isShowing:a,trackingContextName:`${vA} Shift Select`,userFlagOnShow:bz,targetKey:"msl_selected_row_onboarding_key",onClose:r,primaryCta:{label:ep.createElement(e$.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.GOT_IT},description:ep.createElement(du.E,{i18nId:"onboarding_pointers.row_select_onboarding",i18nParams:{shiftKey:ep.createElement("kbd",{className:bB},ep.createElement(e$.Tx,{id:"onboarding_pointers.shift_key"}))}})})}var bZ=a(581656),bQ=a(553678),bX=a(560409),b0=a(861168),b1=a(3474),b2=a(297137),b4=a(591312),b3=a(886763),b8=a(321112);let b5="org_invite_modal--modalWrapper--oH5a6",b6="org_invite_modal--description--dT4ZB";function b9(e){return ep.createElement("div",null,e.token.content)}function b7({licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:r,canInviteMembers:n,dispatch:l,multiLineForm:i,buttonClassName:s,modalWrapperClassName:o,descriptionClassName:c}){var d;let m=(0,eg.d4)(e=>e.orgDomains.domains),u=(0,eg.d4)(({licenseGroups:t})=>e?t[e]:void 0),_=null==(d=(0,t5.Rs)(ai.s5A,{workspaceId:t},{enabled:!!t}).data)?void 0:d.workspace,p=(0,eg.d4)(e=>e.autocomplete),g=(0,eg.d4)(e=>e.dropdownShown),E=(0,eg.d4)(e=>e.idpUserById.isCreatingOrgInvite),f=a.invite_whitelist_enforced?lB.El.FULL:lB.El.STARTER,[h,v]=ep.useState(f),[b,y]=ep.useState(!1),w=()=>u&&_?ep.createElement(e$.Tx,{id:"org_invite.email_input_description.billing_group_and_workspace_disclaimer",billingGroupName:u.name,workspaceName:_.name}):u?ep.createElement(e$.Tx,{id:"org_invite.email_input_description.billing_group_disclaimer",billingGroupName:u.name}):_?ep.createElement(e$.Tx,{id:"org_invite.email_input_description.workspace_disclaimer",workspaceName:_.name}):null,T=a=>{l(b1.MB({emails:(0,b4.um)(a),licenseGroupId:e,workspaceId:t,accountType:h})),l(b0.cL())},x=e=>{let t=(0,i9.xf)(e)&&(0,dN.H_)(m,e)&&n,a=(0,i9.xf)(e)&&r;return{state:t||a?b2.d.OK:b2.d.ERROR,content:e}},C=e=>{if(m.length>=1){let t=(0,b4.um)(e).filter(e=>(0,i9.xf)(e)&&!(0,dN.H_)(m,e));if((t=[...new Set(t)]).length>0){l((0,e0.to)({type:yr,data:{emails:t,onConfirm:()=>{T(e)}}}));return}}T(e)};return a.invite_whitelist_enforced?ep.createElement("div",{className:eS()(b5,o)},ep.createElement("p",{className:eS()(b6,c)},ep.createElement(e$.Tx,{id:"org_invite.email_input_description.invite_allowlist_enforced"})," ",w()),ep.createElement(b3.e,{autocomplete:p,buttonText:(0,e$.t)("org_invite.invite_button"),dispatch:l,dropdownShown:g,dropdownKey:"org-invite-account-type-dropdown",getSelectText:ph.$K,inviteLevel:h,isSubmitting:E,onInviteLevelChange:v,options:[lB.El.FULL,lB.El.RESTRICTED],onSubmit:C,shouldAutoFocus:!0,validateToken:x,TokenComponent:b9,multiLineForm:!!i,buttonClassName:s})):ep.createElement("div",{className:eS()(b5,o)},ep.createElement("p",{className:eS()(b6,c)},(()=>{if(r)return ep.createElement(e$.Tx,{id:"org_invite.email_input_description.guest_invite_allow_list",orgName:a.name});let e=m.map(e=>`@${e.domain}`);if(b)return ep.createElement(e$.Tx,{id:"org_invite.email_input_description.multiple_domains.expanded",orgName:a.name,domainList:ep.createElement(bX.T,null,e.map(e=>ep.createElement("span",{key:e},e)))});let t=e[0],n=e.length-1;return 0===n?ep.createElement(e$.Tx,{id:"org_invite.email_input_description.single_domain",domain:t,orgName:a.name}):ep.createElement(e$.Tx,{id:"org_invite.email_input_description.multiple_domains.with_expand_link",orgName:a.name,domain:t,expandLink:ep.createElement(eI.CY,{onClick:()=>y(!0),trusted:!0},ep.createElement(e$.Tx,{id:"org_invite.email_input_description.multiple_domains.expand_link",remainingDomainCount:n}))})})()," ",w()),ep.createElement(b3.e,{autocomplete:p,buttonText:(0,e$.t)("org_invite.invite_button"),dispatch:l,dropdownShown:null,inviteLevel:h,isSubmitting:E,onSubmit:C,shouldAutoFocus:!0,validateToken:x,TokenComponent:b9,multiLineForm:!!i,buttonClassName:s}))}function ye(e,t){return(e.invite_whitelist_guest_invite_setting===mH.Gv.REQUIRE_APPROVAL||e.invite_whitelist_enforced_guests)&&"licenseGroup"!==t}function yt(e,t){return!e.invite_whitelist_member_allowlist_enabled||"orgAdminSettings"===t}let ya=(0,am.Ju)(function({licenseGroupId:e,workspaceId:t}){let a=(0,mV.sZ)(),r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.selectedView);if(!a)return ep.createElement(ep.Fragment,null);let l=ye(a,n.view),i=a.invite_whitelist_enforced||l?(0,e$.t)("org_invite.invite_users",{orgName:a.name}):(0,e$.t)("org_invite.invite_members",{orgName:a.name});return ep.createElement(eH.fu,{name:"Org Invite Modal"},ep.createElement(sn.XV,{title:i,onClose:()=>{r(e0.Lo()),r(b0.cL())}},ep.createElement(b7,{licenseGroupId:e,workspaceId:t,org:a,orgHasGuestsInviteAllowlist:l,canInviteMembers:yt(a,n.view),dispatch:r})))},"ORG_INVITE_MODAL"),yr=(0,am.Ju)(function(e){let t=(0,eg.wA)();return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("org_invite.pending_guest_confirmation.title"),confirmText:(0,e$.t)("org_invite.pending_guest_confirmation.button"),disableClickOutsideToHide:!0,dispatch:t,onConfirm:e.onConfirm,popStack:!0,size:"small"},ep.createElement("div",{className:b8.jE},ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"org_invite.pending_guest_confirmation.description",numEmails:e.emails.length,emailList:ep.createElement(bX.T,{className:"org_invite_modal--orgGuestEmails--JpKT2"},e.emails)}),ep.createElement("a",{className:"org_invite_modal--orgGuestLink--tugVV blue_link--blueLink--9rlnd",target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/4420557314967-Members-versus-guests"}," ",ep.createElement(e$.Tx,{id:"org_invite.pending_guest_confirmation.learn_more_link"})))))},"CONFIRM_WHITELIST_ORG_GUEST_INVITE_MODAL");var yn=((m=yn||{})[m.INVITE_USERS=0]="INVITE_USERS",m[m.ADD_MEMBERS=1]="ADD_MEMBERS",m);function yl(e){switch(e){case 1:return{name:(0,e$.t)("add_unassigned_members_modal.add_members_tab"),view:1};case 0:return{name:(0,e$.t)("add_unassigned_members_modal.invite_users_tab"),view:0}}}var yi=a(485463),ys=a(256296),yo=a(841563),yc=a.n(yo),yd=a(62229),ym=a(434756);let yu=(e=>{var t;return(t=class extends ep.PureComponent{constructor(){super(...arguments),this.onCopyEmailToClipboard=e=>{e.stopPropagation(),this.props.entity.email&&this.props.dispatch(rh.II({emailList:[this.props.entity.email]}))}}render(){return ep.createElement(e,{...this.props,onEmailClick:this.onCopyEmailToClipboard,emailLinkIcon:ym.A,includeUserEmailAddress:!0})}}).displayName="Copyable",t})(e7.az);var y_=a(736510);let yp="guest_resources--disclaimer--qWjKm",yg="guest_resources--row--E1C-K guest_resources--_row--zwYbD",yE="guest_resources--columnName--G2UHJ table--column--974RA",yf="guest_resources--columnNameAccessible--R-A1Y guest_resources--columnName--G2UHJ table--column--974RA",yh="guest_resources--columnMeta---3PoB table--column--974RA",yv="guest_resources--columnLevel--FiZId table--column--974RA",yb="guest_resources--sectionContainer--2n3-q",yy="guest_resources--sectionHeaderRow--TuN3y",yw="guest_resources--sectionBody--W78YJ";function yT(e){return ep.createElement("div",{style:{height:e.height}})}function yx(e){let t=(0,eg.wA)();return ep.createElement("div",{className:yg},(()=>{if(e.hasCheckedAccess&&e.resource.can_view){let a=e.resource.file;return ep.createElement("div",{className:yf},ep.createElement(eI.N_,{onClick:()=>{t(tL.$T({view:"fullscreen",fileKey:a.key,editorType:a.editor_type})),t(e0.Ce())},trusted:!0},a.name))}{let t=e.resource.file,a=`file_tooltip_${t.key}`,r=e.hasCheckedAccess?(0,e$.t)("members_tab.member_modal.file_no_access_tooltip"):void 0,n=e.hasCheckedAccess?"guest_resources--inaccessibleFileName--Ddabe guest_resources--fileName--0CWPm":"guest_resources--fileName--0CWPm";return ep.createElement("div",{className:yE,"data-tooltip-proxy-element-id":a},ep.createElement("div",{id:a,className:"guest_resources--inaccessibleFileIcon--N2pqG","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r}),ep.createElement("p",{className:n},t.name))}})(),ep.createElement("div",{className:yh},ep.createElement("div",null,e.resource.team?e.resource.team.name:"-")),ep.createElement("div",{className:yv},(0,ph.QN)(e.resource.level)))}function yC(e){let t=e.resource.folder,a=(0,eg.wA)(),r=e.hasCheckedAccess&&!!e.resource.can_view,n=r||!e.hasCheckedAccess?void 0:(0,e$.t)("members_tab.member_modal.not_project_member_tooltip"),l=`folder_tooltip_${e.resource.folder.id}`;return ep.createElement("div",{className:yg},r?ep.createElement("div",{className:yf},ep.createElement(eI.N_,{onClick:()=>{a(tL.$T({view:"folder",folderId:t.id})),a(e0.Ce())},trusted:!0},e.resource.folder.name)):ep.createElement("div",{className:yE,"data-tooltip-proxy-element-id":l},ep.createElement("p",{id:l,className:e.hasCheckedAccess?"guest_resources--inaccessibleName--FzTVE":void 0,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":n,"data-tooltip-max-width":200},e.resource.folder.name)),ep.createElement("div",{className:yh},ep.createElement(e$.Tx,{id:"members_tab.member_modal.file_count_label",fileCount:e.resource.file_count})),ep.createElement("div",{className:yv},(0,ph.QN)(e.resource.level)))}function yN(e){let t=e.resource.team,a=e.hasCheckedAccess&&!!e.resource.can_view,r=a||!e.hasCheckedAccess,n=(0,eg.wA)();return ep.createElement("div",{className:yg},ep.createElement("div",{className:a?yf:yE},ep.createElement(eI.N_,{onClick:a?()=>{n(tL.$T({view:"team",teamId:t.id})),n(e0.Ce())}:void 0,className:r?"":"guest_resources--inaccessibleTeamName--2Lcg4","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r?void 0:"You're not a member of this team","data-tooltip-max-width":200,"data-tooltip-proxy-element-id":`team_tooltip_${t.id}`,trusted:!0},t.name)),ep.createElement("div",{className:yh},ep.createElement(e$.Tx,{id:"members_tab.member_modal.project_count_label",projectCount:t.projects})),ep.createElement("div",{className:yv},(0,ph.QN)(e.resource.level)))}let yk=(0,eH.kp)(function(e){let[t,a]=ep.useState(null);if(ep.useEffect(()=>{bo.G.getGuestResources({orgUserId:e.orgUser.id}).then(e=>{a(e.data.meta)})},[e.orgUser.id]),!t)return ep.createElement("div",{className:"guest_resources--loadingState--oVOS3"},ep.createElement(e8.kt,null));let r=t.files,n=t.folders,l=t.teams,i=r.length+n.length+l.length>0;return ep.createElement(ep.Fragment,null,!(0,gZ.Bg)(e.org.shared_org_license_group_settings)&&ep.createElement("p",{className:yp},i?ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.can_also_view_public_links_label",name:e.user.handle}):ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.can_view_public_links_label",name:e.user.handle})),(0,gZ.Bg)(e.org.shared_org_license_group_settings)&&!i&&ep.createElement("p",{className:yp},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.no_access_label",name:e.user.handle})),l.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(yT,{height:16}),ep.createElement("div",{className:yb},ep.createElement("div",{className:yy},ep.createElement("div",{className:yE},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.teams_table.team_column"})),ep.createElement("div",{className:yh},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.teams_table.projects_column"})),ep.createElement("div",{className:yv},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.teams_table.permissions_column"}))),ep.createElement("div",{className:yw},l.map(e=>ep.createElement(yN,{key:e.team.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),n.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(yT,{height:16}),ep.createElement("div",{className:yb},ep.createElement("div",{className:yy},ep.createElement("div",{className:yE},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.projects_table.project_column"})),ep.createElement("div",{className:yh},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.projects_table.files_column"})),ep.createElement("div",{className:yv},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.projects_table.permissions_column"}))),ep.createElement("div",{className:yw},n.map(e=>ep.createElement(yC,{key:e.folder.id,resource:e,hasCheckedAccess:t.has_checked_access}))))),r.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(yT,{height:16}),ep.createElement("div",{className:yb},ep.createElement("div",{className:yy},ep.createElement("div",{className:yE},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.files_table.file_column"})),ep.createElement("div",{className:yh},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.files_table.team_column"})),ep.createElement("div",{className:yv},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access.files_table.permissions_column"}))),ep.createElement("div",{className:yw},r.map(e=>ep.createElement(yx,{key:e.file.key,resource:e,hasCheckedAccess:t.has_checked_access}))))))},"Guest Access Tab");function yS(e){let t=(0,eg.wA)(),a=(0,uW.t5)(e.orgUser);return ep.createElement("div",{className:"member_modal_user_details--modalHeader--OJmBQ"},ep.createElement(yu,{className:"member_modal_user_details--avatarWithHandle--WjLdI admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",defaultText:"",dispatch:t,entity:e.user,showTooltip:!0,size:32,badge:a}))}var yI=a(867158),yA=a(891097),yL=a(356367),yR=a(190026),yO=a(513),yF=a(347623);let yM=(e,t,a)=>a?e&&t?(0,e$.t)("activity_log.event.library_setting_all_files_org_setting"):t?(0,e$.t)("activity_log.event.library_setting_figjam_files_org_setting"):e?(0,e$.t)("activity_log.event.library_setting_figma_files_org_setting"):(0,e$.t)("activity_log.event.library_setting_off_org_setting"):e&&t?(0,e$.t)("activity_log.event.library_setting_all_files"):t?(0,e$.t)("activity_log.event.library_setting_figjam_files"):e?(0,e$.t)("activity_log.event.library_setting_figma_files"):(0,e$.t)("activity_log.event.library_setting_off");function yD({log:e}){let t=yM(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled);return null===e.metadata.old_figma_enabled?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_new_library_setting",libraryName:ep.createElement("b",null,e.metadata.library_file_name),orgName:ep.createElement("b",null,e.metadata.org_name),librarySetting:t})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_changed_library_setting",libraryName:ep.createElement("b",null,e.metadata.library_file_name),orgName:ep.createElement("b",null,e.metadata.org_name),oldLibrarySetting:yM(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled),newLibrarySetting:t}))}function yP({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_library_approved",libraryName:ep.createElement("b",null,e.metadata.library_file_name),orgName:ep.createElement("b",null,e.metadata.org_name)}))}function yB({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_library_unapproved",libraryName:ep.createElement("b",null,e.metadata.library_file_name),orgName:ep.createElement("b",null,e.metadata.org_name)}))}function yU({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_library_approved",libraryName:ep.createElement("b",null,e.metadata.library_file_name),workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}))}function yW({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_library_unapproved",libraryName:ep.createElement("b",null,e.metadata.library_file_name),workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}))}function yV({log:e}){if(null===e.metadata.old_use_org_settings)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_new_library_setting_off",libraryName:ep.createElement("b",null,e.metadata.library_file_name),workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}));let t=yM(e.metadata.new_figma_enabled,e.metadata.new_figjam_enabled,e.metadata.new_use_org_settings),a=yM(e.metadata.old_figma_enabled,e.metadata.old_figjam_enabled,e.metadata.old_use_org_settings);return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_changed_library_setting",libraryName:ep.createElement("b",null,e.metadata.library_file_name),workspaceName:ep.createElement("b",null,e.metadata.workspace_name),oldLibrarySetting:a,newLibrarySetting:t}))}function yG({log:e}){return ep.createElement(yV,{log:e})}function y$({log:e}){var t;return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_admins_add",adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.new_admin_names.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yj({log:e}){var t;return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_admins_remove.v2",adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.removed_admin_names.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yH({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_create",workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yq({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_delete",workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yz({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_rename",workspaceName:ep.createElement("b",null,e.metadata.old_name),newName:ep.createElement("b",null,e.metadata.name)}))}function yY({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_members_add",memberEmails:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.new_member_emails.map(e=>ep.createElement("span",{key:e},e)))),numMembers:e.metadata.new_member_emails.length,workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yK({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_members_remove",memberEmails:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.removed_member_emails.map(e=>ep.createElement("span",{key:e},e)))),numMembers:e.metadata.removed_member_emails.length,workspaceName:ep.createElement("b",null,e.metadata.name)}))}function yJ({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_member_add",memberEmail:ep.createElement("b",null,e.metadata.user_email),workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}))}function yZ({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_member_remove",memberEmail:ep.createElement("b",null,e.metadata.user_email),workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}))}function yQ({log:e}){return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}))}function yX({log:e}){let t=e.metadata.workspace_name,a=e.metadata.old_workspace_name;return t?ep.createElement("span",null,!a&&ep.createElement(e$.Tx,{id:"activity_log.teams.added_team_to_workspace",teamName:ep.createElement("b",null,e.metadata.team_name),newWorkspaceName:ep.createElement("b",null,t)}),a&&ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.added_team_to_workspace_and_removed_from_old_workspace",teamName:ep.createElement("b",null,e.metadata.team_name),newWorkspaceName:ep.createElement("b",null,t),oldWorkspaceName:ep.createElement("b",null,a)}))):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.removed_team_from_workspace",teamName:ep.createElement("b",null,e.metadata.team_name),oldWorkspaceName:ep.createElement("b",null,a)}))}function y0({log:e}){let t=e.metadata.old_org_access===lB.bU.PUBLIC?"visible":"hidden",a=e.metadata.new_org_access===lB.bU.PUBLIC?"visible":"hidden";return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.workspace_visibility_setting_changed",workspaceName:ep.createElement("b",null,e.metadata.name),oldOrgAccess:ep.createElement("b",null,t),newOrgAccess:ep.createElement("b",null,a)}))}function y1({log:e}){var t;return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_admins_add",adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.new_admin_names.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.new_admin_names)?void 0:t.length)??0,billingGroupName:ep.createElement("b",null,e.metadata.name)})):ep.createElement(y$,{log:e})}function y2({log:e}){var t;return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_admins_remove.v2",adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.removed_admin_names.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.removed_admin_names)?void 0:t.length)??0,billingGroupName:ep.createElement("b",null,e.metadata.name)})):ep.createElement(yj,{log:e})}function y4({log:e}){var t,a;return e.metadata.is_billing_group?e.metadata.admins?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_create_with_admins",billingGroupName:ep.createElement("b",null,e.metadata.name),adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.admins.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(t=e.metadata.admins)?void 0:t.length)??0})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_create",billingGroupName:ep.createElement("b",null,e.metadata.name)})):e.metadata.admins?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.license_group_create_with_admins",workspaceName:ep.createElement("b",null,e.metadata.name),adminNames:ep.createElement("b",null,ep.createElement(bX.T,null,e.metadata.admins.map(e=>ep.createElement("span",{key:e},e)))),numAdmins:(null==(a=e.metadata.admins)?void 0:a.length)??0})):ep.createElement(yH,{log:e})}function y3({log:e}){return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_delete",billingGroupName:ep.createElement("b",null,e.metadata.name)})):ep.createElement(yq,{log:e})}function y8({log:e}){return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_rename",billingGroupName:ep.createElement("b",null,e.metadata.old_name),newName:ep.createElement("b",null,e.metadata.name)})):ep.createElement(yz,{log:e})}function y5({log:e}){return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_membership_change",userEmail:ep.createElement("b",null,e.metadata.user_email),billingGroupName:ep.createElement("b",null,e.metadata.old_license_group_name),newName:ep.createElement("b",null,e.metadata.new_license_group_name)})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.license_group_membership_change",userEmail:ep.createElement("b",null,e.metadata.user_email),workspaceName:ep.createElement("b",null,e.metadata.old_license_group_name),newName:ep.createElement("b",null,e.metadata.new_license_group_name)}))}function y6({log:e}){return e.metadata.is_billing_group?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.billing_group_membership_self_select",billingGroupName:ep.createElement("b",null,e.metadata.license_group_name)})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.license_group_membership_self_select",workspaceName:ep.createElement("b",null,e.metadata.license_group_name)}))}function y9({log:e}){let t={...e.metadata,workspace_name:e.metadata.license_group_name,old_workspace_name:e.metadata.old_license_group_name};return ep.createElement(yX,{log:{metadata:t}})}let y7="activity_logs_table--actorColumn--rTH3F activity_logs_table--_actor--1Zwaa activity_logs_table--_columnVertical--QN693",we="activity_logs_table--tableCellSubtext--MF7-r";function wt(e,t){if(!t)return null;let a="activity_logs_table--upgradeReasonBoldedNoun--9fe4D",r=e=>{switch(e){case uP.oM.DESIGN:return(0,e$.t)("general.figma_design_short_lower");case uP.oM.WHITEBOARD:return(0,e$.t)("general.figjam");case uP.oM.DEV_MODE:return(0,e$.t)("general.dev_mode");default:return(0,e$.t)("general.figma_design_short_lower")}};switch(t.reason){case yR.U.ROLE_UPGRADE:case yR.U.INVITE_REDEEM:case yR.U.INVITE_AUTOUPGRADE:case yR.U.JOIN_TEAM_REQUEST:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.added_to_resource_with_product.seat_rename",actor_name:ep.createElement("span",{className:a},t.actor_name),upgrader_name:ep.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.ORG_INVITE_REDEEM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:ep.createElement("span",{className:a},e)}));case yR.U.ORG_MERGE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),child_org:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.PAID_STATUS_ON_ORG_CREATION:case yR.U.RESOURCE_MOVED_TO_ORG:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.resource_move_with_product.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),product:r(t.editor_type),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.DRAFTS_SHARE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.drafts_share",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name),actor_name:ep.createElement("span",{className:a},t.actor_name?t.actor_name:(0,e$.t)("activity_log.upgrade.drafts_share_anonymous"))}));case yR.U.CREATE_TEAM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.create_team",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.JOIN_TEAM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.join_team_with_product.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name),product:r(t.editor_type)}));case yR.U.ADMIN_UPGRADE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.admin_upgrade_with_product.seat_rename",actor_name:ep.createElement("span",{className:a},t.actor_name),upgrader_name:ep.createElement("span",{className:a},e),product:r(t.editor_type)}));case yR.U.SCIM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.scim_with_product.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),product:r(t.editor_type)}));case yR.U.FIGMA_ADMIN:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.figma_admin",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.DEPART_TEAM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.depart_team",upgrader_name:ep.createElement("span",{className:a},e)}));case yR.U.CREATE_FILE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.create_file",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.EDIT_REQUEST_AUTO_APPROVAL:case yR.U.EDIT_REQUEST_APPROVAL:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.edit_request_approval",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.RUN_PLUGIN:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.run_plugin",upgrader_name:ep.createElement("span",{className:a},e)}));case yR.U.ORG_INVITE_REDEEM:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.redeem_invite_to_org",upgrader_name:ep.createElement("span",{className:a},e)}));case yR.U.ORG_MERGE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.org_merge.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),child_org:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.RESOURCE_MOVED_FROM_ORG_DRAFTS:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.resource_moved_from_drafts",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.DEFAULT_PAID_STATUS:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.default_paid_status_with_product.seat_rename",upgrader_name:ep.createElement("span",{className:a},e),product:r(t.editor_type)}));case yR.U.FJ_GA_REUPGRADE:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.figjam_ga_reupgrade",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.EDIT_BUTTON:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.edit_button",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));case yR.U.ACCESS_EDIT_LINK:case yR.U.ACTIVE_EDIT_ACTION:case yR.U.EDIT_ACTION:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.upgrade.edit_action",upgrader_name:ep.createElement("span",{className:a},e),resource_name:ep.createElement("span",{className:a},t.resource_name)}));default:return null}}function wa(e,t){if(!t)return null;switch(t.reason){case yR.U.ROLE_UPGRADE:case yR.U.INVITE_REDEEM:case yR.U.INVITE_AUTOUPGRADE:case yR.U.JOIN_TEAM_REQUEST:return(0,e$.t)("activity_log.upgrade.added_to_resource.seat_rename",{actor_name:t.actor_name,upgrader_name:e,resource_name:t.resource_name});case yR.U.PAID_STATUS_ON_ORG_CREATION:case yR.U.RESOURCE_MOVED_TO_ORG:case yR.U.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN:return(0,e$.t)("activity_log.upgrade.resource_move.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case yR.U.ORG_INVITE_REDEEM:return(0,e$.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case yR.U.ORG_MERGE:return(0,e$.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case yR.U.DRAFTS_SHARE:return(0,e$.t)("activity_log.upgrade.drafts_share",{upgrader_name:e,resource_name:t.resource_name,actor_name:t.actor_name?t.actor_name:(0,e$.t)("activity_log.upgrade.drafts_share_anonymous")});case yR.U.CREATE_TEAM:return(0,e$.t)("activity_log.upgrade.create_team",{upgrader_name:e,resource_name:t.resource_name});case yR.U.JOIN_TEAM:return(0,e$.t)("activity_log.upgrade.join_team.seat_rename",{upgrader_name:e,resource_name:t.resource_name});case yR.U.ADMIN_UPGRADE:return(0,e$.t)("activity_log.upgrade.admin_upgrade.seat_rename",{actor_name:t.actor_name,upgrader_name:e});case yR.U.SCIM:return(0,e$.t)("activity_log.upgrade.scim.seat_rename",{upgrader_name:e});case yR.U.FIGMA_ADMIN:return(0,e$.t)("activity_log.upgrade.figma_admin",{upgrader_name:e,resource_name:t.resource_name});case yR.U.DEPART_TEAM:return(0,e$.t)("activity_log.upgrade.depart_team",{upgrader_name:e});case yR.U.CREATE_FILE:return(0,e$.t)("activity_log.upgrade.create_file",{upgrader_name:e,resource_name:t.resource_name});case yR.U.EDIT_REQUEST_AUTO_APPROVAL:case yR.U.EDIT_REQUEST_APPROVAL:return(0,e$.t)("activity_log.upgrade.edit_request_approval",{upgrader_name:e,resource_name:t.resource_name});case yR.U.RUN_PLUGIN:return(0,e$.t)("activity_log.upgrade.run_plugin",{upgrader_name:e});case yR.U.ORG_INVITE_REDEEM:return(0,e$.t)("activity_log.upgrade.redeem_invite_to_org",{upgrader_name:e});case yR.U.ORG_MERGE:return(0,e$.t)("activity_log.upgrade.org_merge.seat_rename",{upgrader_name:e,child_org:t.resource_name});case yR.U.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,e$.t)("activity_log.upgrade.resource_moved_from_drafts",{upgrader_name:e,resource_name:t.resource_name});case yR.U.DEFAULT_PAID_STATUS:return(0,e$.t)("activity_log.upgrade.default_paid_status.seat_rename",{upgrader_name:e});case yR.U.FJ_GA_REUPGRADE:return(0,e$.t)("activity_log.upgrade.figjam_ga_reupgrade",{upgrader_name:e,resource_name:t.resource_name});case yR.U.EDIT_BUTTON:return(0,e$.t)("activity_log.upgrade.edit_button",{upgrader_name:e,resource_name:t.resource_name});case yR.U.ACCESS_EDIT_LINK:case yR.U.EDIT_ACTION:return(0,e$.t)("activity_log.upgrade.edit_action",{upgrader_name:e,resource_name:t.resource_name});case yR.U.DEV_MODE_PRE_COMMIT_BETA_USE:return(0,e$.t)("activity_log.upgrade.dev_mode_pre_commit_beta_use",{upgrader_name:e});default:return null}}function wr(e,t,a,r){var n,l,i,s,o,c,d,m;let{internal_admin_event_not_configured:u}=e.metadata;if(u)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.internal_admin_event_not_configured",eventName:ep.createElement("b",null,e.event_name)}));let _=uD.JT.dict(e=>{switch(e){case uP.oM.DESIGN:return(0,e$.t)("general.figma_design");case uP.oM.WHITEBOARD:return(0,e$.t)("general.figjam");case uP.oM.DEV_MODE:return(0,e$.t)("general.dev_mode")}});switch(e.event_name){case"autogen_password_controls_setting_change":if(e.metadata.new_autogen_password_controls_setting)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.enabled_autogen_password_controls_for_the_org"}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.disabled_autogen_password_controls_for_the_org"}));case"community_hub_file_publish":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_hub_file_publish",fileName:e.metadata.file_name}));case"community_hub_file_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_hub_file_update",fileName:e.metadata.file_name}));case"community_hub_file_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_hub_file_delete",fileName:e.metadata.file_name}));case"community_plugin_publish":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_plugin_publish",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_plugin_update",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"community_plugin_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_plugin_delete",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"configurable_upgrade_request_message_change":if(e.metadata.new_configured_upgrade_request_message)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_updated_message"}));return null;case"configurable_upgrade_request_setting_change":if(e.metadata.new_configured_upgrade_request_setting){let t=e.metadata.old_configured_upgrade_request_setting,a=e.metadata.new_configured_upgrade_request_setting;if(t)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_changed",oldAudience:ep.createElement(e$.Tx,{id:t===lB.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"}),currentAudience:ep.createElement(e$.Tx,{id:a===lB.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"})}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_enabled",currentAudience:ep.createElement(e$.Tx,{id:a===lB.Sm.MEMBERS?"activity_log.event.configurable_upgrade_request_flow_members":"activity_log.event.configurable_upgrade_request_flow_all_users"})}))}return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.configurable_upgrade_request_flow_disabled"}));case"plugin_ownership_transfer":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_ownership_transfer",pluginName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"community_widget_publish":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_widget_publish",widgetName:ep.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_widget_update",widgetName:ep.createElement("b",null,e.metadata.plugin_name)}));case"community_widget_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.community_widget_delete",widgetName:ep.createElement("b",null,e.metadata.plugin_name)}));case"widget_ownership_transfer":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_ownership_transfer",widgetName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"fig_file_create":if(e.metadata.folder_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_create_folder_name",folder:ep.createElement("b",null,e.metadata.folder_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_create"}));case"fig_file_duplicate":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_duplicate",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_export":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_export",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_move":if(e.metadata.folder_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_move_folder_name",name:ep.createElement("b",null,e.metadata.name),folder:ep.createElement("b",null,e.metadata.folder_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_move",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_link_access_change":switch(e.metadata.link_access){case"edit":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.edit",name:ep.createElement("b",null,e.metadata.name)}));case"inherit":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.inherit",name:ep.createElement("b",null,e.metadata.name)}));case"org_edit":if(e.metadata.org_browsable)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit",name:ep.createElement("b",null,e.metadata.name),orgName:ep.createElement("b",null,t)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.org_edit.link",name:ep.createElement("b",null,e.metadata.name),orgName:ep.createElement("b",null,t)}));case"org_view":if(e.metadata.org_browsable)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view",name:ep.createElement("b",null,e.metadata.name),orgName:ep.createElement("b",null,t)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.org_view.link",name:ep.createElement("b",null,e.metadata.name),orgName:ep.createElement("b",null,t)}));case"view":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_access_change.view",name:ep.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.link_access)}case"fig_file_link_expiration_change":return ep.createElement("span",null,(null==(n=e.metadata)?void 0:n.old_expires_at)===null&&(null==(l=e.metadata)?void 0:l.new_expires_at)!==null?ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_expiration_change.add_expiration",name:ep.createElement("b",null,null==(i=e.metadata)?void 0:i.name)}):(null==(s=e.metadata)?void 0:s.old_expires_at)!==null&&(null==(o=e.metadata)?void 0:o.new_expires_at)!==null?ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_expiration_change.change_expiration",name:ep.createElement("b",null,null==(c=e.metadata)?void 0:c.name)}):ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_link_expiration_change.remove_expiration",name:ep.createElement("b",null,null==(d=e.metadata)?void 0:d.name)}));case"fig_file_proto_link_access_change":switch(e.metadata.proto_link_access){case"view":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.view",name:ep.createElement("b",null,e.metadata.name)}));case"org_view":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.org_view",name:ep.createElement("b",null,e.metadata.name),orgName:ep.createElement("b",null,t)}));case"inherit":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.inherit",name:ep.createElement("b",null,e.metadata.name)}));case null:return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_proto_link_access_change.null",name:ep.createElement("b",null,e.metadata.name)}));default:(e=>{throw Error(`Invalid link access ${e}`)})(e.metadata.proto_link_access)}case"fig_file_set_password":if(e.metadata.has_file_link_password)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_set_password.file",name:ep.createElement("b",null,e.metadata.name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_set_password.prototype",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_unset_password":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_unset_password",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_viewer_access_change":if(e.metadata.viewer_export_restricted)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_viewer_access_change.restricted",name:ep.createElement("b",null,e.metadata.name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_viewer_access_change",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_permanent_delete",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_permanent_undelete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_permanent_undelete",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_rename":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_rename",oldName:ep.createElement("b",null,e.metadata.old_name),name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_restore":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_restore",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_save_as":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_save_as",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_trash":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_trash",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_view":if(e.metadata.embed_location)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view.embedded",name:ep.createElement("b",null,e.metadata.name),location:ep.createElement("b",null,e.metadata.embed_location)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_view_external":if(e.metadata.external_org_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_external.org",orgName:ep.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_external.team",teamName:ep.createElement("b",null,e.metadata.external_team_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_external"}));case"fig_file_view_prototype":if(e.metadata.embed_location)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_prototype.embedded",name:ep.createElement("b",null,e.metadata.name),location:ep.createElement("b",null,e.metadata.embed_location)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_prototype",name:ep.createElement("b",null,e.metadata.name)}));case"fig_file_view_prototype_external":if(e.metadata.external_org_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_prototype_external.org",orgName:ep.createElement("b",null,e.metadata.external_org_name)}));if(e.metadata.external_team_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_prototype_external.team",teamName:ep.createElement("b",null,e.metadata.external_team_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.fig_file_view_prototype_external"}));case"folder_create":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_create",folderName:ep.createElement("b",null,e.metadata.name),teamName:ep.createElement("b",null,e.metadata.team_name)}));case"folder_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_delete",folderName:ep.createElement("b",null,e.metadata.name)}));case"folder_export":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_export",folderName:ep.createElement("b",null,e.metadata.name)}));case"folder_import":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_import",folderName:ep.createElement("b",null,e.metadata.name)}));case"folder_move":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_move",folderName:ep.createElement("b",null,e.metadata.name),teamName:ep.createElement("b",null,e.metadata.team_name)}));case"folder_rename":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_rename",folderName:ep.createElement("b",null,e.metadata.name),oldName:ep.createElement("b",null,e.metadata.old_name)}));case"folder_team_access_change":if(e.metadata.invite_only)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_team_access_change.invite_only",folderName:ep.createElement("b",null,e.metadata.name)}));if(e.metadata.view_only)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_team_access_change.view_only",folderName:ep.createElement("b",null,e.metadata.name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_team_access_change.edit",folderName:ep.createElement("b",null,e.metadata.name)}));case"folder_transfer_sent":return e.metadata.destination_team_name?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_sent",folderName:ep.createElement("b",null,e.metadata.folder_name),destinationTeam:ep.createElement("b",null,e.metadata.destination_team_name),destinationOrg:ep.createElement("b",null,e.metadata.destination_org_name)})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_sent_secret_teams",folderName:ep.createElement("b",null,e.metadata.folder_name),destinationOrg:ep.createElement("b",null,e.metadata.destination_org_name)}));case"folder_transfer_received":{let t=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_received_no_source_org",teamName:ep.createElement("b",null,e.metadata.team_name),folderName:ep.createElement("b",null,e.metadata.folder_name)})),a=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_received",teamName:ep.createElement("b",null,e.metadata.team_name),orgName:ep.createElement("b",null,e.metadata.source_org_name),folderName:ep.createElement("b",null,e.metadata.folder_name)})),r=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_received_no_source_team",orgName:ep.createElement("b",null,e.metadata.source_org_name),folderName:ep.createElement("b",null,e.metadata.folder_name)})),n=e.metadata.team_name?a:r;return e.metadata.source_org_name?n:t}case"folder_transfer_approved":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.folder_transfer_approved",folderName:ep.createElement("b",null,e.metadata.folder_name)}));case"google_sso_auth_change":return ep.createElement("span",null,e.metadata.google_sso_setting?ep.createElement(e$.Tx,{id:"activity_log.event.google_sso_auth_enable"}):ep.createElement(e$.Tx,{id:"activity_log.event.google_sso_auth_disable"}));case"idle_timeout_setting_change":{let t;let{old_idle_timeout_setting:a,new_idle_timeout_setting:r}=e.metadata;if(a&&r){let[e,n]=(0,yA.qr)(a),[l,i]=(0,yA.qr)(r),s=(0,e$.t)(`settings_tab.idle_session_timeout.time.${n}`,{duration:e}),o=(0,e$.t)(`settings_tab.idle_session_timeout.time.${i}`,{duration:l});t=ep.createElement(e$.Tx,{id:"activity_log.event.idle_timeout_setting_change",oldDuration:s,newDuration:o})}else if(r){let[e,a]=(0,yA.qr)(r),n=(0,e$.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:e});t=ep.createElement(e$.Tx,{id:"activity_log.event.idle_timeout_setting_enable",duration:n})}else t=ep.createElement(e$.Tx,{id:"activity_log.event.idle_timeout_setting_disable"});return ep.createElement("span",null,t)}case"ip_restriction_change":return ep.createElement("span",null,e.metadata.ip_restriction_setting?ep.createElement(e$.Tx,{id:"activity_log.event.ip_restriction_enable"}):ep.createElement(e$.Tx,{id:"activity_log.event.ip_restriction_disable"}));case"license_group_admins_add":return ep.createElement(y1,{log:e});case"license_group_admins_remove":return ep.createElement(y2,{log:e});case"license_group_create":return ep.createElement(y4,{log:e});case"license_group_delete":return ep.createElement(y3,{log:e});case"license_group_rename":return ep.createElement(y8,{log:e});case"license_group_library_setting_change":return ep.createElement(yG,{log:e});case"license_group_membership_change":return ep.createElement(y5,{log:e});case"license_group_membership_self_select":return ep.createElement(y6,{log:e});case"oauth_token_grant":if(e.metadata.app_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.oauth_token_grant",appName:ep.createElement("b",null,e.metadata.app_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.oauth_token_grant_unknown"}));case"oauth_token_revoke":if(e.metadata.app_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.oauth_token_revoke",appName:ep.createElement("b",null,e.metadata.app_name)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.oauth_token_revoke_unknown"}));case"open_sessions_setting_change":return ep.createElement("span",null,e.metadata.workshop_disabled?ep.createElement(e$.Tx,{id:"activity_log.disabled_open_sessions_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}):ep.createElement(e$.Tx,{id:"activity_log.enabled_open_sessions_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}));case"cursor_chat_setting_change":return ep.createElement("span",null,e.metadata.cursor_chat_disabled?ep.createElement(e$.Tx,{id:"activity_log.disabled_cursor_chat_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}):ep.createElement(e$.Tx,{id:"activity_log.enabled_cursor_chat_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}));case"open_sessions_start":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.open_sessions_start",name:ep.createElement("b",null,e.metadata.name)}));case"open_sessions_end":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.open_sessions_end",name:ep.createElement("b",null,e.metadata.name)}));case"org_default_license_type_change":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_default_license_type_change.seat_rename",role:ep.createElement("b",null,(0,bR.t)(e.metadata.new_paid_status)),product:ep.createElement("b",null,(m=e.metadata.editor_type)===lB._Y.SLIDES?_[lB._Y.DESIGN]:_[m])}));case"org_guest_invite_setting_change":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_guest_invite_setting_change",guestSetting:ep.createElement("b",null,(0,dN.W3)(e.metadata.guest_invite_setting))}));case"org_invite_create":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_invite_create",inviteeEmail:ep.createElement("b",null,e.metadata.invitee_email),orgName:ep.createElement("b",null,e.metadata.org_name)}));case"org_join_request_create":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_join_request_create",orgName:ep.createElement("b",null,e.metadata.org_name),resourceName:ep.createElement("b",null,e.metadata.resource_name)}));case"org_join_request_approve":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_join_request_approve",orgName:ep.createElement("b",null,e.metadata.org_name),resourceName:ep.createElement("b",null,e.metadata.resource_name),requesterEmail:ep.createElement("b",null,e.metadata.requester_email)}));case"org_library_approve":return ep.createElement(yP,{log:e});case"org_library_unapprove":return ep.createElement(yB,{log:e});case"org_library_setting_change":return ep.createElement(yD,{log:e});case"org_merge":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_merge",childOrgName:ep.createElement("b",null,e.metadata.child_org_name),orgName:ep.createElement("b",null,t)}));case"org_user_create":if(a===e.metadata.user_email)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_create_self",orgName:ep.createElement("b",null,t),permission:ep.createElement("b",null,(0,ph.z5)(e.metadata.permission))}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_create",orgName:ep.createElement("b",null,t),permission:ep.createElement("b",null,(0,ph.z5)(e.metadata.permission)),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"org_user_create_external":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_create_external",orgName:ep.createElement("b",null,e.metadata.org_name)}));case"org_user_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_delete",userEmail:ep.createElement("b",null,e.metadata.user_email),orgName:ep.createElement("b",null,t)}));case"org_user_delete_external":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_delete_external",orgName:ep.createElement("b",null,e.metadata.org_name)}));case"org_user_permission_change":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_permission_change",userEmail:ep.createElement("b",null,e.metadata.user_email),orgName:ep.createElement("b",null,t),permission:ep.createElement("b",null,(0,ph.z5)(e.metadata.permission))}));case"personal_access_token_create":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.personal_access_token_create"}));case"personal_access_token_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.personal_access_token_delete"}));case"org_user_account_type_change":if(e.metadata.old_account_type)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ep.createElement("b",null,e.metadata.user_email),oldAccountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.old_account_type)),accountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.account_type)),product:ep.createElement("b",null,(0,pD.E)(uP.oM.DESIGN))}));if(e.metadata.old_whiteboard_paid_status)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ep.createElement("b",null,e.metadata.user_email),oldAccountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.old_whiteboard_paid_status)),accountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.whiteboard_paid_status)),product:ep.createElement("b",null,(0,pD.E)(uP.oM.WHITEBOARD))}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_change.seat_rename",userEmail:ep.createElement("b",null,e.metadata.user_email),oldAccountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.old_dev_mode_paid_status)),accountType:ep.createElement("b",null,(0,ph.$K)(e.metadata.dev_mode_paid_status)),product:ep.createElement("b",null,(0,pD.E)(uP.oM.DEV_MODE))}));case"org_user_account_type_change_to_full":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.seat_rename",role:ep.createElement("b",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_change_to_full.editor.seat_rename"})),reason:wt(e.metadata.user_email,e.metadata)}));case"org_user_account_type_upgrade_requested":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_upgrade_requested",accountType:ep.createElement("b",null,(0,ph.$K)(lB.El.FULL)),product:ep.createElement("b",null,(0,pD.E)(e.metadata.editor_type))}));case"org_user_account_type_upgrade_approved":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_upgrade_approved",accountType:ep.createElement("b",null,(0,ph.$K)(lB.El.FULL)),product:ep.createElement("b",null,(0,pD.E)(e.metadata.editor_type)),userEmail:ep.createElement("b",null,e.metadata.requested_user_email)}));case"org_user_account_type_upgrade_denied":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.org_user_account_type_upgrade_denied",accountType:ep.createElement("b",null,(0,ph.$K)(lB.El.FULL)),product:ep.createElement("b",null,(0,pD.E)(e.metadata.editor_type)),userEmail:ep.createElement("b",null,e.metadata.requested_user_email)}));case"plugin_approvelist_enable":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_enable_org",org:ep.createElement("b",null,t)}));case"plugin_approvelist_disable":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_disable_org",org:ep.createElement("b",null,t)}));case"plugin_approvelist_add":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_add_org",pluginName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"plugin_approvelist_remove":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_remove_org",pluginName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"plugin_approvelist_add_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_add_workspace",pluginName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_remove_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_remove_workspace",pluginName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name)}));case"plugin_approvelist_request_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_request_org",plugin:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"plugin_approvelist_request_approve_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_org",pluginName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_org",pluginName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_approve_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_request_approve_workspace",pluginName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"plugin_approvelist_request_reject_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_approvelist_request_reject_workspace",pluginName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"plugin_publisher_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_publisher_invite",pluginName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_accept_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_publisher_accept_invite",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"plugin_publisher_remove_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_publisher_remove_invite",pluginName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"plugin_publisher_remove":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_publisher_remove",pluginName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_publisher_invite",widgetName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_accept_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_publisher_accept_invite",widgetName:ep.createElement("b",null,e.metadata.plugin_name)}));case"widget_publisher_remove_invite":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_publisher_remove_invite",widgetName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"widget_publisher_remove":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_publisher_remove",widgetName:ep.createElement("b",null,e.metadata.plugin_name),userEmail:ep.createElement("b",null,e.metadata.user_email)}));case"plugin_install":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_install",pluginName:e.metadata.plugin_name}));case"plugin_uninstall":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.plugin_uninstall",pluginName:e.metadata.plugin_name}));case"private_plugin_publish":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_plugin_publish",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_plugin_update",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"private_plugin_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_plugin_delete",pluginName:ep.createElement("b",null,e.metadata.plugin_name)}));case"widgets_enabled":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_disable_org",org:ep.createElement("b",null,t)}));case"widgets_disable":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_enable_org",org:ep.createElement("b",null,t)}));case"widget_approvelist_add":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_add_org",widgetName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"widget_approvelist_remove":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_remove_org",widgetName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"widget_approvelist_add_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_add_workspace",widgetName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_remove_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_remove_workspace",widgetName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name)}));case"widget_approvelist_request_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_request_org",widget:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t)}));case"widget_approvelist_request_approve_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_request_approve_org",widgetName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_approve_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_request_approve_workspace",widgetName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_workspace":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_request_reject_workspace",widgetName:ep.createElement("b",null,e.metadata.plugin_name),workspace:ep.createElement("b",null,e.metadata.workspace_name),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"widget_approvelist_request_reject_org":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_approvelist_request_reject_org",widgetName:ep.createElement("b",null,e.metadata.plugin_name),org:ep.createElement("b",null,t),requesterName:ep.createElement("b",null,e.metadata.requester_name)}));case"widget_install":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_install",widgetName:e.metadata.plugin_name}));case"widget_uninstall":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.widget_uninstall",widgetName:e.metadata.plugin_name}));case"private_widget_publish":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_widget_publish",widgetName:e.metadata.plugin_name}));case"private_widget_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_widget_update",widgetName:e.metadata.plugin_name}));case"private_widget_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.private_widget_delete",widgetName:e.metadata.plugin_name}));case"public_link_setting_change":case"workspace_public_link_setting_change":if(e.metadata.public_links_require_expiration)return function(e){let t="public_link_setting_change"===e.event_name?e.metadata.org_name:e.metadata.workspace_name,a=e.metadata.public_links_max_expiration_in_hours>=24;return e.metadata.public_links_require_password&&e.metadata.public_links_require_expiration?ep.createElement("span",null,a?ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_days_generic",resourceName:ep.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_expiration_and_password_for_the_blog_hours_generic",resourceName:ep.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours})):ep.createElement("span",null,a?ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_days_generic",resourceName:ep.createElement("b",null,t),maxDays:e.metadata.public_links_max_expiration_in_hours/24}):ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_expiration_for_the_blog_hours_generic",resourceName:ep.createElement("b",null,t),maxHours:e.metadata.public_links_max_expiration_in_hours}))}(e);if("public_link_setting_change"===e.event_name)return ep.createElement("span",null,e.metadata.public_links_banned?ep.createElement(e$.Tx,{id:"activity_log.disabled_public_links_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}):e.metadata.public_links_require_password?ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}):ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_for_the_blog",orgName:ep.createElement("b",null,e.metadata.org_name)}));return ep.createElement("span",null,e.metadata.public_links_banned?ep.createElement(e$.Tx,{id:"activity_log.disabled_public_links_for_the_blog_workspace",workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}):e.metadata.public_links_require_password?ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_require_password_for_the_blog_workspace",workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}):ep.createElement(e$.Tx,{id:"activity_log.enabled_public_links_for_the_blog_workspace",workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}));case"saml_sso_auth_change":return ep.createElement("span",null,e.metadata.saml_sso_setting?ep.createElement(e$.Tx,{id:"activity_log.event.saml_sso_auth_enable"}):ep.createElement(e$.Tx,{id:"activity_log.event.saml_sso_auth_disable"}));case"fig_file_member_add":case"file_repo_member_add":case"folder_member_add":case"team_member_add":{let t=e.metadata;if(t.user_email===a){if(t.level===m5.e.OWNER)return null;return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.joined_the_resource_name_resource",resourceName:ep.createElement("b",null,t.resource_name),resourceType:(0,yL.v)(t.resource_type)}))}return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.added_user_email_to_the_resource",userEmail:ep.createElement("b",null,t.user_email),resourceName:ep.createElement("b",null,t.resource_name),resourceType:(0,yL.v)(t.resource_type),level:ep.createElement("b",null,(0,ph.q9)(t.level))}))}case"team_member_add_external":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.team_member_add_external",teamName:ep.createElement("b",null,e.metadata.external_team_name)}));case"team_member_remove_external":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.team_member_remove_external",teamName:ep.createElement("b",null,e.metadata.external_team_name)}));case"fig_file_member_remove":case"file_repo_member_remove":case"folder_member_remove":case"team_member_remove":if("folder"===e.metadata.resource_type&&!e.metadata.team_name&&!e.metadata.resource_name)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.removed_user_email_from_org_draft",userEmail:ep.createElement("b",null,e.metadata.user_email)}));if(e.metadata.user_email===a)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.left_the_resource_name_resource",resourceName:ep.createElement("b",null,e.metadata.resource_name),resourceType:(0,yL.v)(e.metadata.resource_type)}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.removed_user_email_from_the_resource",userEmail:ep.createElement("b",null,e.metadata.user_email),resourceName:ep.createElement("b",null,e.metadata.resource_name),resourceType:(0,yL.v)(e.metadata.resource_type)}));case"fig_file_member_permission_change":case"file_repo_member_permission_change":case"folder_member_permission_change":case"team_member_permission_change":{let t=e.metadata,a=(0,ph.q9)(t.old_level),r=(0,ph.q9)(t.level);return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.changed_user_email",userEmail:ep.createElement("b",null,t.user_email),oldPermission:ep.createElement("b",null,a),newPermission:ep.createElement("b",null,r),resourceName:ep.createElement("b",null,t.resource_name),resourceType:(0,yL.v)(t.resource_type)}))}case"team_create":{let a=(0,ph.ZP)()[e.metadata.org_access];return r&&(a=(0,ph.Db)(t)[e.metadata.org_access]),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.created_the_team_name_team_with",teamName:ep.createElement("b",null,e.metadata.team_name),orgAccess:ep.createElement("b",null,a)}))}case"team_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.deleted_the_team_name_team",teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_export":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.exported_the_team_name_team_out",teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_import":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.imported_the_team_name_team_int",teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_transfer_sent":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.requested_to_transfer_the_team",teamName:ep.createElement("b",null,e.metadata.team_name),destinationOrg:ep.createElement("b",null," ",e.metadata.destination_org_name," ")}));case"team_transfer_received":return ep.createElement("span",null,e.metadata.source_org_name?ep.createElement(e$.Tx,{id:"activity_log.teams.org_name_wants_to_transfer_team_name",orgName:ep.createElement("b",null,e.metadata.source_org_name),teamName:ep.createElement("b",null,e.metadata.team_name)}):ep.createElement(e$.Tx,{id:"activity_log.teams.team_name_wants_to_transfer_their_team",teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_transfer_approved":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.approver_name_approved_the_transfer_of_team_name_team",approverName:ep.createElement("b",null,e.metadata.approver_name," "),teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_restore":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.restored_the_team_name_team",teamName:ep.createElement("b",null,e.metadata.team_name)}));case"team_rename":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.renamed_the_old_name_team",teamName:ep.createElement("b",null,e.metadata.team_name),oldName:ep.createElement("b",null,e.metadata.old_name)}));case"team_org_access_change":{let a=(0,ph.ZP)()[e.metadata.old_org_access],n=(0,ph.ZP)()[e.metadata.org_access];return r&&(a=(0,ph.Db)(t)[e.metadata.old_org_access],n=(0,ph.Db)(t)[e.metadata.org_access]),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.changed_the__team_from_old_access",oldAccess:ep.createElement("b",null,a),newAccess:ep.createElement("b",null,n)}))}case"team_license_group_change":return ep.createElement(y9,{log:e});case"team_workspace_change":return ep.createElement(yX,{log:e});case"org_team_creation_controls":return e.metadata.new_team_creation_controls_setting===yO.$q.TEAM_CREATION_CONTROLS_ANYONE?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_anyone"})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.changed_team_creation_controls_to_admins_only"}));case"user_idle_session_timeout":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.session_timed_out"}));case"user_sign_in":if("saml_sso"===e.metadata.source)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_in_saml"}));if("google_sso"===e.metadata.source)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_in_google"}));if("password_authn"===e.metadata.source)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_in_password"}));if("app_auth"===e.metadata.source)return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_in_app_auth"}));return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_in"}));case"user_sign_out":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.users.signed_out"}));case"voice_call_join_req":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.voice.joined_call_on_file_fig_file_key",figFileKey:ep.createElement("b",null,e.metadata.fig_file_key)}));case"roster_exported":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.exported_the_members_list_to_csv"}));case"org_team_csv_exported":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.exported_the_org_team_list_to_csv"}));case"workspace_team_csv_exported":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.teams.exported_the_workspace_team_list_to_csv",workspaceName:ep.createElement("b",null,e.metadata.workspace_name)}));case"scim_token_generate":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.scim_token_generate"}));case"scim_token_revoke":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.event.scim_token_revoke"}));case"repo_branch_create":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.created_branch_name_from_file_name",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.created_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"repo_merge_to_source":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.merged_branch_name_into_file_name",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.merged_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"repo_merge_from_source":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.updated_branch_name_from_file_name",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.updated_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"repo_branch_delete":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.deleted_branch_name_from_file_name",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.deleted_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"repo_branch_archive":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.archived_branch_name_from_file_name",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.archived_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"repo_branch_unarchive":return ep.createElement("span",null,e.metadata.source_file_name?ep.createElement(e$.Tx,{id:"activity_log.repo.unarchived_branch_name_from_file",name:ep.createElement("b",null,e.metadata.name),fileName:ep.createElement("b",null,e.metadata.source_file_name)}):ep.createElement(e$.Tx,{id:"activity_log.repo.unarchived_branch_name",name:ep.createElement("b",null,e.metadata.name)}));case"workspace_admins_add":return ep.createElement(y$,{log:e});case"workspace_admins_remove":return ep.createElement(yj,{log:e});case"workspace_create":return ep.createElement(yH,{log:e});case"workspace_delete":return ep.createElement(yq,{log:e});case"workspace_rename":return ep.createElement(yz,{log:e});case"workspace_members_add":return ep.createElement(yY,{log:e});case"workspace_members_remove":return ep.createElement(yK,{log:e});case"workspace_member_add":return ep.createElement(yJ,{log:e});case"workspace_member_remove":return ep.createElement(yZ,{log:e});case"workspace_membership_self_select":return ep.createElement(yQ,{log:e});case"workspace_library_approve":return ep.createElement(yU,{log:e});case"workspace_library_unapprove":return ep.createElement(yW,{log:e});case"workspace_library_setting_change":return ep.createElement(yV,{log:e});case"workspace_visibility_setting_change":return ep.createElement(y0,{log:e});case"webhook_create":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.webhooks.webhooks_created",webhookEvent:ep.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_delete":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.webhooks.webhooks_deleted",webhookEvent:ep.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));case"webhook_update":return ep.createElement("span",null,ep.createElement(e$.Tx,{id:"activity_log.webhooks.webhooks_updated",webhookEvent:ep.createElement("b",null,e.metadata.webhook_event_name),webhookEndpoint:e.metadata.webhook_endpoint}));default:return console.warn(`${e.event_name} is an unknown event name.`),null}}function wn(e){if(!["community_hub_file_publish","community_hub_file_update","community_hub_file_delete","fig_file_create","fig_file_duplicate","fig_file_link_access_change","fig_file_proto_link_access_change","fig_file_viewer_access_change","fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove","fig_file_move","fig_file_export","fig_file_permanent_delete","fig_file_permanent_undelete","fig_file_rename","fig_file_restore","fig_file_save_as","fig_file_set_password","fig_file_trash","fig_file_unset_password","fig_file_view","fig_file_view_prototype","repo_branch_archive","repo_branch_create","repo_branch_delete","repo_merge_to_source","repo_branch_unarchive","repo_merge_from_source","file_repo_member_add","file_repo_member_remove","file_repo_member_permission_change","org_user_account_type_change","org_user_account_type_change_to_full","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied","org_user_account_type_upgrade_requested"].includes(e.event_name))return"\u2013";{let t=null;return!e.metadata.editor_type||(t=(0,uP.px)(e.metadata.editor_type))||(0,lL.$D)(s6.e.SCALE,Error(`Unexpected editor_type '${e.metadata.editor_type}' encountered in event '${e.event_name}'`),{tags:{id:e.id}}),t?(0,pD.E)(t):(0,pD.E)(uP.oM.DESIGN)}}function wl(e){let t=!!e.hideIpColumn,a=e=>e.is_idp_action?(0,e$.t)("activity_log.actor.scim_provider"):e.is_figma_admin_action?(0,e$.t)("activity_log.actor.figma_support"):e.actor?e.actor.email?e.actor.name:(0,e$.t)("activity_log.actor.deleted_user"):(0,e$.t)("activity_log.actor.anonymous_user"),r=e=>e.is_figma_admin_action||!e.actor?null:e.actor.email?e.actor.email:e.actor.id.toString();return ep.createElement("div",{className:"activity_logs_table--table--ogxW7"},e.logs.map(n=>{var l;let i=wr(n,e.orgName,r(n),e.scTeamExperienceEnabled);if(i)return ep.createElement(yF.Hj,{key:n.id,className:"activity_logs_table--row--p3gUi",useAdminTableStyles:!0},ep.createElement("div",{className:"activity_logs_table--dateColumn--UxT90 activity_logs_table--date--TBO0x activity_logs_table--_columnVertical--QN693"},ep.createElement("div",null,(0,pN.A)(n.created_at).format("MMM D, YYYY")),ep.createElement("div",{className:we},(0,pN.A)(n.created_at).format("h:mma"))),!n.is_figma_admin_action&&(null==(l=n.actor)?void 0:l.email)?ep.createElement("div",{className:y7},ep.createElement(yu,{className:"activity_logs_table--avatarWithHandle--bfcoF admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",dispatch:e.dispatch,entity:{id:n.actor.id,name:n.actor.name,email:n.actor.email,img_url:n.actor.img_url},showTooltip:!0,size:24})):ep.createElement("div",{className:y7},ep.createElement("div",null,a(n)),ep.createElement("div",{className:we},r(n))),ep.createElement("div",{className:"activity_logs_table--eventDescriptionColumn--Vym3V"},i),ep.createElement("div",{className:"activity_logs_table--productColumn--5g20E"},wn(n)),ep.createElement("div",{className:"activity_logs_table--teamColumn--3HROl"},n.metadata.team_name||"\u2013"),!t&&ep.createElement("div",{className:"activity_logs_table--ipColumn--1N0HY"},n.ip_address))}))}let wi="recent_activity_modal--emptyModalState--e3KJw",ws="recent_activity_modal--headerRow--eLyMw",wo="recent_activity_modal--tableRow--jD3OM",wc="recent_activity_modal--columnUpgradeEvent--cIffc table--column--974RA",wd="recent_activity_modal--columnDate--OqtW1 table--column--974RA",wm="recent_activity_modal--columnEvent--RZTlQ table--column--974RA",wu="recent_activity_modal--columnTeam--NPY8O table--column--974RA",w_="recent_activity_modal--columnIp---cwX1 table--column--974RA",wp="recent_activity_modal--columnProduct--Mkj02 table--column--974RA";function wg(e){return ep.createElement("div",{style:{height:e.height}})}function wE(e){var t;let a=wt(e.displayName,e.upgradeReason),r=uD.JT.dict(e=>{switch(e){case uP.oM.DESIGN:return(0,e$.t)("recent_activity_modal.figma_design");case uP.oM.WHITEBOARD:return(0,e$.t)("recent_activity_modal.fig_jam");case uP.oM.DEV_MODE:return(0,e$.t)("recent_activity_modal.dev_mode");default:(0,eC.xb)(e)}});return e.upgradeReason&&a?ep.createElement("div",{key:`${e.upgradeReason.editor_type}-upgrade-event`,className:wo},ep.createElement("div",{className:wd},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"recent_activity_modal.upgrade_reason_created_at",creationDate:(0,pN.A)(e.upgradeReason.created_at).toDate()}))),ep.createElement("div",{className:wc},a),ep.createElement("div",{className:wp},e.upgradeReason.editor_type?(t=e.upgradeReason.editor_type)===lB._Y.SLIDES?r[lB._Y.DESIGN]:r[t]:"\u2013")):ep.createElement(ep.Fragment,null)}function wf(e){let t=e.user.handle||e.user.name||"",a=uD.JT.excludeUnlessFlag([uP.oM.DEV_MODE],"billing_dev_mode_customer_ui"),r=a.withSuffix("_paid_status").dict(t=>e.orgUser[t]===lB.El.FULL),n=a.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),l=a.toArray().some(e=>r[e]&&n[e]);return ep.createElement("div",null,l&&ep.createElement(ep.Fragment,null,ep.createElement(wg,{height:16}),ep.createElement("div",{className:"recent_activity_modal--recentActivityTable--OpIag"},ep.createElement("div",{className:ws},ep.createElement("div",{className:wd},ep.createElement(e$.Tx,{id:"column_header.upgrade_date"})),ep.createElement("div",{className:wc},ep.createElement(e$.Tx,{id:"column_header.event"})),ep.createElement("div",{className:wp},ep.createElement(e$.Tx,{id:"column_header.product"}))),ep.createElement("div",null,a.map(e=>r[e]?ep.createElement(wE,{key:`${e}-upgrade-event`,upgradeReason:n[e],displayName:t}):null)))),e.children)}let wh=(0,eH.kp)(function(e){return e.activityLogs?((0,eC.KF)(!!(e.user.handle||e.user.name),"Expected a user object with a handle or name"),0===e.activityLogs.length)?ep.createElement(wf,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ep.createElement("div",{className:wi},ep.createElement(e$.Tx,{id:"recent_activity_modal.no_activity_found"}))):ep.createElement(wf,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ep.createElement("div",null,ep.createElement(wg,{height:16}),ep.createElement("div",{className:"recent_activity_modal--activityTable--IFH-e recent_activity_modal--recentActivityTable--OpIag"},ep.createElement("div",{className:ws},ep.createElement("div",{className:wd},ep.createElement(e$.Tx,{id:"column_header.event_date"})),ep.createElement("div",{className:wm},ep.createElement(e$.Tx,{id:"column_header.event"})),ep.createElement("div",{className:wp},ep.createElement(e$.Tx,{id:"column_header.product"})),ep.createElement("div",{className:wu},ep.createElement(e$.Tx,{id:"column_header.team"})),ep.createElement("div",{className:w_},ep.createElement(e$.Tx,{id:"column_header.ip_address"}))),ep.createElement("div",null,e.activityLogs.map(t=>ep.createElement("div",{key:t.id,className:wo},ep.createElement("div",{className:wd},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"recent_activity_modal.activity_log_created_at",creationDate:(0,pN.A)(t.created_at).toDate()})),ep.createElement("span",{className:"recent_activity_modal--secondaryText--we-4I"},ep.createElement(e$.Tx,{id:"recent_activity_modal.activity_log_created_at_time",creationDate:(0,pN.A)(t.created_at).toDate()}))),ep.createElement("div",{className:wm},wr(t,e.org.name,e.user.email||"",(0,yI.D)(null,e.org.id))),ep.createElement("div",{className:wp},wn(t)),ep.createElement("div",{className:wu},ep.createElement("span",null,t.metadata.team_name||"\u2013")),ep.createElement("div",{className:w_},t.ip_address))))))):ep.createElement(wf,{onClose:e.onClose,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,dropdownShown:e.dropdownShown,activityLogs:e.activityLogs},ep.createElement("div",{className:wi},ep.createElement(e8.kt,null)))},"Recent Activity Tab");(0,am.Ju)(wh,"RecentActivityModal");var wv=((u=wv||{}).ACTIVITY_LOG="activity_log",u.GUEST_ACCESS="guest_access",u);class wb extends bQ.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"member_modal--baseTab--Q7kGE",selected:"member_modal--selectedTab--A6S3L member_modal--baseTab--Q7kGE"}),this.applyDefaultStyles=()=>!0}}let wy=(0,eg.Ng)(e=>({dropdownShown:e.dropdownShown,viewingUserId:e.user.id}))(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(e.selectedTab),[n,l]=ep.useState(null),i=(0,eg.d4)(e=>e.selectedView);ep.useEffect(()=>{y_.J.getRecent({orgUserId:e.orgUser.id}).then(e=>{l(e.data.meta.activity_logs)}).catch(e=>{var a;t(e5.s.error((null==(a=e.data)?void 0:a.message)||"An error occurred while fetching recent activity.")),console.error("Unable to load recent activity",e)})},[t,e.orgUser.id]);let s=e=>{r(e)};return(0,eH.T8)(ep.createElement(sn.XV,{maxWidth:740,minWidth:740,onClose:()=>{t(e0.Ce())},title:(()=>{let t=e.orgUser.permission===lB._D.GUEST;return ep.createElement("div",{className:"member_modal--tabs--u4uw-"},ep.createElement(wb,{tab:"activity_log",selectedTab:a,key:"activity_log",onClick:s},ep.createElement(e$.Tx,{id:"members_tab.member_modal.recent_activity_tab"})),t&&ep.createElement(wb,{tab:"guest_access",selectedTab:a,key:"guest_access",onClick:s},ep.createElement(e$.Tx,{id:"members_tab.member_modal.guest_access_tab"})))})()},ep.createElement(yS,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType}),ep.createElement("div",{className:"member_modal--content--jAL2Z"},(()=>{switch(a){case"activity_log":return ep.createElement(wh,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,org:e.org,onClose:e.onClose,onRemoveUser:e.onRemoveUser,onChangeAccountType:e.onChangeAccountType,activityLogs:n});case"guest_access":return ep.createElement(yk,{dropdownShown:e.dropdownShown,user:e.user,orgUser:e.orgUser,onRemoveUser:e.onRemoveUser,org:e.org,onChangeAccountType:e.onChangeAccountType})}})()),ep.createElement("div",{className:"member_modal--footer--Q4QXZ"},(0,br.fK)(i.view)&&ep.createElement(ep.Fragment,null,ep.createElement(eI.tM,{className:"member_modal--moreActivityButton--s1q7s",onClick:e.onRemoveUser},ep.createElement(e$.Tx,{id:"members_tab.member_modal.remove_user_button"})),ep.createElement(eI.vd,{onClick:()=>{let a;if(n&&n.length){let e=n[n.length-1].created_at;a=(0,pN.A)(e).subtract(3,"months").toString()}t(e0.Ce()),t(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.ACTIVITY,activityTabInitialEmail:e.user.email,activityTabInitialStartTime:a}))}},ep.createElement(e$.Tx,{id:"members_tab.member_modal.see_full_activity_button"}))))),"Guest Management Modal",{viewingUserId:e.viewingUserId,guestUserId:e.user.id,guestOrgUserId:e.orgUser.id,currentOrgId:e.orgUser.org_id})});wy.displayName="OrgMemberModal";let ww=(0,am.Ju)(wy,"OrgMemberModal");var wT=a(507468);let wx="last_edit_modal--emptyModalState--0pN7d",wC="last_edit_modal--columnProduct--CEW-1 table--column--974RA",wN="last_edit_modal--columnFile--DIwCp table--column--974RA",wk="last_edit_modal--emptyCell---QSQG",wS="last_edit_modal--columnLastEdit--vsyDv table--column--974RA";function wI(e){return ep.createElement("div",{key:`last-${e.editor_type}-edit-${e.user.id}`,className:"last_edit_modal--tableRow--j1xy-"},ep.createElement("div",{className:wC},ep.createElement("span",null,(0,pD.E)((0,uP.vc)(e.editor_type)))),(()=>{if(!e.editActivity)return ep.createElement("div",{className:wN},ep.createElement("span",{className:wk},"\u2013"));if(e.editActivity.can_view)return ep.createElement("div",{className:wN},ep.createElement(eI.N_,{className:"last_edit_modal--columnFileAccessible--Q2aig last_edit_modal--columnFile--DIwCp table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(tL.$T({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:e.editor_type})),e.dispatch(e0.Ce()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`,a=(0,e$.t)("members_tab.last_edit_modal.inaccessible_text");return ep.createElement("div",{className:wN,"data-tooltip-proxy-element-id":t},ep.createElement("div",{id:t,className:"last_edit_modal--inaccessibleFile--HBxZf","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":a},e.editActivity.file_name))}})(),ep.createElement("div",{className:wS},e.editActivity?ep.createElement(i7.h1,{capitalize:!0,date:e.actionAt}):ep.createElement("span",{className:wk},"\u2013")))}let wA=(0,eg.Ng)(e=>({viewingUserId:e.user.id}))(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState({}),[n,l]=ep.useState(!1);ep.useEffect(()=>{l(!0),y_.J.getLastEdit({orgUserId:e.orgUser.id}).then(e=>{r(e.data.meta)}).catch(e=>{var a;t(e5.s.error((null==(a=e.data)?void 0:a.message)||(0,e$.t)("members_tab.last_edit_modal.error_fetching_edits"))),console.error("Unable to load latest edits",e)}).finally(()=>l(!1))},[t,e.orgUser.id]);let i=e.user.handle||e.user.name;(0,eC.KF)(!!i,"Expected a user object with a handle or name");let s=i?(0,e$.t)("members_tab.last_edit_modal.title_with_name",{publicName:i}):(0,e$.t)("members_tab.last_edit_modal.title_generic");return ep.createElement(eH.fu,{name:"Org Last Edit Modal",properties:{viewingUserId:e.viewingUserId,currentOrgId:e.orgUser.org_id}},ep.createElement(sn.XV,{maxWidth:442,minWidth:442,onClose:()=>{t(e0.Ce())},title:s},ep.createElement("div",{className:"last_edit_modal--modalBody--V6kPv"},(()=>{if(n)return ep.createElement("div",{className:wx},ep.createElement(e8.kt,null));if(!e.lastDesignEdit&&!e.lastWhiteboardEdit)return ep.createElement("div",{className:wx},ep.createElement(e$.Tx,{id:"members_tab.last_edit_modal.no_activity"}));let r=e.lastDesignEdit&&(0,uW._3)(e.lastDesignEdit)?e.lastDesignEdit.action_at:e.lastDesignEdit,l=e.lastWhiteboardEdit&&(0,uW._3)(e.lastWhiteboardEdit)?e.lastWhiteboardEdit.action_at:e.lastWhiteboardEdit;return ep.createElement("div",{className:"last_edit_modal--lastEditTable--0exPw"},ep.createElement("div",{className:"last_edit_modal--headerRow---jReW"},ep.createElement("div",{className:wC},ep.createElement(e$.Tx,{id:"members_tab.last_edit_modal.product_column_header"})),ep.createElement("div",{className:wN},ep.createElement(e$.Tx,{id:"members_tab.last_edit_modal.file_column_header"})),ep.createElement("div",{className:wS},ep.createElement(e$.Tx,{id:"members_tab.last_edit_modal.last_edit_column_header"}))),ep.createElement(wI,{user:e.user,editor_type:lB._Y.DESIGN,actionAt:e.lastDesignEdit&&r||"\u2013",editActivity:a.design_file,dispatch:t}),ep.createElement(wI,{user:e.user,editor_type:lB._Y.WHITEBOARD,editActivity:a.whiteboard_file,actionAt:e.lastWhiteboardEdit&&l||"\u2013",dispatch:t}))})())))});wA.displayName="LastEditModal";let wL=(0,am.Ju)(wA,"LastEditModal");var wR=a(87823),wO=a(692665);let wF="members_table--avatarColumn--wIwso members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",wM="members_table--editorRoleColumn--jojHH members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",wD="members_table--columnMargin--DrBfe",wP="members_table--lockedAccountType--h-S1B members_table--columnMargin--DrBfe",wB="members_table--secondaryAccountType--zYSzk members_table--columnMargin--DrBfe",wU="members_table--accountTypeSubtitle--jgUQM",wW="members_table--menuIcon--VqOqK admin_settings_page--menuIcon--dMpHa",wV="members_table--permissionSelector--BXoRv",wG="members_table--permissionSelectorDisabled--q0c-n",w$="members_table--dropdown--z9bxW admin_settings_page--dropdown--BuB9-",wj="members_table--avatarWithHandle--Iqs4y admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",wH="members_table--batchActionsDropdownSelector--RWJzJ",wq="members_table--link--0oG5r admin_settings_page--link---XC61 blue_link--blueLink--9rlnd",wz="members_table--secondaryText--B-BXI",wY="members_table--dropdownColumn--P90T0 multi_select_list--dropdownColumn--n-MKQ table--column--974RA",wK="members_table--textWithTooltip--TrVEN";function wJ(e){var t,a;let r=(0,eg.wA)(),{orgUser:n,areDropdownsDisabled:l,onChangeLicenseGroup:i}=e,s=`LICENSE_GROUP_DROPDOWN-${n.user.email}`,o=e.groupsCanMoveUserTo.map(e=>({type:"option",key:e.id,text:(0,to.EJ)(e.name,75)}));return o.push({type:"separator",key:"separator"}),o.push({type:"option",key:"",text:(null==(t=n.license_group_member)?void 0:t.license_group_id)?(0,e$.t)("members_table.license_group_cell.unassign"):(0,e$.t)("license_group.unassigned")}),ep.createElement(ep.Fragment,null,l&&ep.createElement("div",{className:wD}),ep.createElement("div",{className:l?wO.eh:wY},ep.createElement("div",{className:l?wG:wV},ep.createElement(wR.H,{dispatch:r,dropdownShown:e.dropdownShown,value:(null==(a=n.license_group_member)?void 0:a.license_group_id)??"",options:o,onChange:e=>{i([n.id],e)},id:s,disabled:l}))))}var wZ=a(787337);let wQ=(e,t)=>{let a=[{type:"option",key:lB.El.FULL,text:(0,bR.t)(lB.El.FULL),selectedLabel:t?ep.createElement(w8,null):(0,bR.t)(lB.El.FULL)}];return e===lB.El.STARTER&&a.push({type:"option",key:lB.El.STARTER,text:(0,bR.t)(lB.El.STARTER)}),a.push({type:"option",key:lB.El.RESTRICTED,text:(0,bR.t)(lB.El.RESTRICTED)}),a},wX=e=>{var t;return(0,to.Ay)((0,i9.zN)((null==(t=e.user)?void 0:t.email)??"")??"")};function w0(e){let t=(0,eg.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l}=e,i=n?ep.createElement(w8,null):(0,bR.t)(a.design_paid_status);if(a.scim_account_type)return ep.createElement(w5,{label:i,icon:wZ.A,tooltipText:(0,e$.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ep.createElement(w5,{label:i,icon:sE.A,tooltipText:(0,e$.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:wX(a)})});let s=e.source?`ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ep.createElement("div",null,r&&ep.createElement("div",{className:wD}),ep.createElement("div",{className:r?wO.eh:wY},ep.createElement("div",{className:r?wG:wV},ep.createElement(wR.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.design_paid_status,options:wQ(a.design_paid_status,n),onChange:e=>{l([a.id],uP.lM.DESIGN,e)},id:s,disabled:r}))))}function w1(e){let t=(0,eg.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l}=e,i=n?ep.createElement(w8,null):(0,bR.t)(a.whiteboard_paid_status);if(a.scim_whiteboard_paid_status)return ep.createElement(w5,{label:i,icon:wZ.A,tooltipText:(0,e$.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ep.createElement(w5,{label:i,icon:sE.A,tooltipText:(0,e$.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:wX(a)})});let s=e.source?`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`FIGJAM_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ep.createElement("div",null,r&&ep.createElement("div",{className:wD}),ep.createElement("div",{className:r?wO.eh:wY},ep.createElement("div",{className:r?wG:wV},ep.createElement(wR.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.whiteboard_paid_status,options:wQ(a.whiteboard_paid_status,n),onChange:e=>{l([a.id],uP.lM.FIGJAM,e)},id:s,disabled:r}))))}function w2(e){let t=(0,eg.wA)(),{orgOrIdpUser:a,areDropdownsDisabled:r,isNewEditor:n,onChangeAccountType:l,cannotOptInToDevMode:i}=e;function s(){return ep.createElement("div",{className:wU,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("members_table.dev_mode_cell.included_with_design_tooltip"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev_mode-included-with-design-tooltip"},(0,bR.t)(lB.El.FULL))}if(!(0,eh.kc)().billing_dev_mode_customer_ui){let e=a.dev_mode_paid_status===lB.El.FULL||a.design_paid_status===lB.El.FULL?lB.El.FULL:lB.El.RESTRICTED;return e!==lB.El.FULL&&a.is_dev_mode_beta_user?ep.createElement("div",{className:wB,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("members_table.dev_mode_cell.beta_user_needs_upgrade"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-beta-needs-upgrade-tooltip"},ep.createElement("div",{className:"members_table--devModeIcon--yzntD"},ep.createElement(le.In,{icon:"file-devmode-16-file-type"})),(0,e$.t)("members_table.beta_participant")):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:wB},a.design_paid_status===lB.El.FULL?s():(0,bR.t)(e)))}if(a.design_paid_status===lB.El.FULL)return ep.createElement("div",{className:wP},s());let o=n?ep.createElement(w8,null):(0,bR.t)(a.dev_mode_paid_status);if(a.scim_dev_mode_paid_status)return ep.createElement(w5,{label:o,icon:wZ.A,tooltipText:(0,e$.t)("members_table.role_idp_tooltip.seat_rename")});if(a.ecc_upgrading_locked)return ep.createElement(w5,{label:o,icon:sE.A,tooltipText:(0,e$.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:wX(a)})});let c=a.dev_mode_paid_status===lB.El.RESTRICTED&&i?(0,e$.t)("members_table.dev_mode.requires_org_admin_opt_in"):"",d=e.source?`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}-${e.source}`:`DEV_MODE_ACCOUNT_TYPE_DROPDOWN-${a.user.email}`;return ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":c,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220,"data-testid":"dev-mode-role-cell"},r&&ep.createElement("div",{className:wD}),ep.createElement("div",{className:r?wO.eh:wY},ep.createElement("div",{className:r?wG:wV},ep.createElement(wR.H,{dispatch:t,dropdownShown:e.dropdownShown,value:a.dev_mode_paid_status,options:wQ(a.dev_mode_paid_status,n),onChange:e=>{l([a.id],uP.lM.DEV_MODE,e)},id:d,disabled:r}),a.dev_mode_paid_status===lB.El.RESTRICTED&&a.is_dev_mode_beta_user&&ep.createElement("div",{className:wU},(0,e$.t)("members_table.beta_participant")))))}function w4(e){let{idpUser:t,paidStatus:a}=e;return a&&!t.isOrgInvite?ep.createElement(w5,{label:(0,bR.t)(a),icon:wZ.A,tooltipText:(0,e$.t)("members_table.role_idp_tooltip.seat_rename")}):ep.createElement("div",{className:wD},ep.createElement(w3,null))}function w3(){return ep.createElement(ep.Fragment,null,"\u2013")}function w8(){return ep.createElement(ep.Fragment,null,(0,bR.t)(lB.El.FULL),ep.createElement(dd.Ex,{className:"members_table--badgeNew--DiMx2",color:dd.zE.SUCCESS,subtle:!0,text:(0,e$.t)("members_table.badge_new")}))}function w5(e){return ep.createElement("div",{className:wP},e.label,ep.createElement(eL.B,{className:"members_table--lockIcon--NX2xZ",svg:e.icon,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}function w6(e){var t;let a=(0,eg.wA)(),{orgUser:r,areDropdownsDisabled:n,onChangeWorkspace:l}=e,i=`WORKSPACE_DROPDOWN-${r.user.email}`,s=e.workspacesCanMoveTo.map(e=>({type:"option",key:e.id,text:(0,to.EJ)(e.name,75)}));return s.push({type:"separator",key:"separator"}),s.push({type:"option",key:"",text:(0,uW.Ad)(r)?(0,e$.t)("members_table.workspace_cell.unassign"):(0,e$.t)("workspace.unassigned")}),ep.createElement(ep.Fragment,null,n&&ep.createElement("div",{className:wD}),ep.createElement("div",{className:n?wO.eh:wY},ep.createElement("div",{className:n?wG:wV},ep.createElement(wR.H,{dispatch:a,dropdownShown:e.dropdownShown,value:(null==(t=(0,uW.Ad)(r))?void 0:t.workspace_id)??"",options:s,onChange:e=>{l([r.id],e)},id:i,disabled:n}))))}function w9(e){return"orgUser"in e&&void 0!==e.orgUser}let w7=(e,t)=>(t||(t=uP.oM.DESIGN),e[bL.L_[(0,uP.Td)(t)]]===lB.El.FULL);function Te(){return ep.createElement(ep.Fragment,null,"\u2013")}function Tt(e,t){var a,r,n;let l;switch(t){case uP.oM.DESIGN:l=null==(a=e.design_upgrade_reason)?void 0:a.created_at;break;case uP.oM.WHITEBOARD:l=null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at;break;case uP.oM.DEV_MODE:l=null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at;break;default:(0,eC.xb)(t)}return l??e.account_type_changed_at}let Ta=e=>(e&&(0,uW._3)(e)?e.action_at:e)||void 0,Tr=(e,t)=>t===uP.oM.DESIGN?Ta(e.last_design_seen):t===uP.oM.WHITEBOARD?Ta(e.last_whiteboard_seen):e.last_seen||void 0,Tn=(e,t)=>t===uP.oM.DESIGN?Ta(e.last_design_edit):t===uP.oM.WHITEBOARD?Ta(e.last_whiteboard_edit):e.last_edit;function Tl(e){return w9(e)?e.orgUser.scim_metadata?e.orgUser.scim_metadata[e.org.featured_scim_metadata]:void 0:e.idpUser.scim_metadata?e.idpUser.scim_metadata[e.org.featured_scim_metadata]:void 0}function Ti(e){let t=[];return e.orgUser.design_paid_status===lB.El.FULL&&t.push(ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("add_unassigned_members_modal.design_file_icon.tooltip.seat_rename"),key:`design-file-icon-${e.orgUser.id}`},ep.createElement(le.In,{icon:"file-design-16-file-type",dataTestId:`design-file-icon-${e.orgUser.id}`}))),(0,bL.x0)(e.orgUser,uP.lM.DEV_MODE)===lB.El.FULL&&t.push(ep.createElement("div",{key:`devmode-file-icon-${e.orgUser.id}`,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("add_unassigned_members_modal.dev_mode_file_icon.tooltip")},ep.createElement(le.In,{icon:"file-devmode-16-file-type",dataTestId:`devmode-file-icon-${e.orgUser.id}`}))),e.orgUser.whiteboard_paid_status===lB.El.FULL&&t.push(ep.createElement("div",{key:`figjam-file-icon-${e.orgUser.id}`,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("add_unassigned_members_modal.whiteboard_file_icon.tooltip.seat_rename")},ep.createElement(le.In,{icon:"file-figjam-16-file-type",dataTestId:`figjam-file-icon-${e.orgUser.id}`}))),ep.createElement(ej.Y,{spacing:4},t)}function Ts(e){if(!w9(e)){let t=e.idpUser.isOrgInvite?(0,e$.t)("members_table.org_user_name_cell.pending_badge"):(0,e$.t)("members_table.org_user_name_cell.pending_scim_badge");return ep.createElement(yu,{className:wj,defaultText:"",dispatch:e.dispatch,entity:e.idpUser,showTooltip:!0,size:24,badge:{color:dd.zE.DEFAULT,text:t}})}let t=e.isMe;return ep.createElement(To,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:t})}function To({orgUser:e,dispatch:t,isMe:a}){let r=(0,uW.t5)(e);return ep.createElement(yu,{className:wj,dispatch:t,entity:e.user,showIsMe:a,showTooltip:!0,size:24,badge:r,isScimUser:!!e.scim_metadata})}function Tc({hideTooltip:e,item:t,upgradeTimestamp:a,upgradeReason:r,children:n}){let l=wa(t.orgUser.user.handle||t.orgUser.user.name||"",r);if(e||!a||!l)return ep.createElement(ep.Fragment,null,n);let i=(0,e$.t)("members_table.user_upgrade_reason_and_date.tooltip",{upgradeReason:l,upgradeDate:new Date(a)});return ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":i,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":vz},n)}function Td(e,t,a){if(!t)return;let r=wa(e.orgUser.user.handle||e.orgUser.user.name||"",a);return r?ep.createElement("div",{className:wz,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":vz},ep.createElement(e$.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)})):ep.createElement("div",{className:wz},ep.createElement(e$.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(t)}))}function Tm(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return ep.createElement(wT.Ve,{className:wO.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ep.createElement(eL.B,{svg:rN.A,className:wW}),r&&ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:w$,style:e.dropdownShown.data.position},ep.createElement(pv.W.Option,{onClick:()=>{e.dispatch(b1.MB({emails:[e.idpUser.email],accountType:e.idpUser.account_type,isResentInvite:!0}))}},ep.createElement(e$.Tx,{id:"members_table.org_invite_menu.resend_invite"})),ep.createElement(pv.W.Option,{onClick:e.onCopyEmail},ep.createElement(e$.Tx,{id:"members_table.org_invite_menu.copy_email"})),ep.createElement(pv.W.Separator,null),ep.createElement(pv.W.Option,{onClick:()=>{e.dispatch(b1.Fb({idpUser:e.idpUser}))}},ep.createElement(e$.Tx,{id:"members_table.org_invite_menu.remove"}))))}function Tu(e){var t;let a=`MENU_DROPDOWN-${e.idpUser.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a;return ep.createElement(wT.Ve,{className:wO.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ep.createElement(eL.B,{svg:rN.A,className:wW}),r&&ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:w$,style:e.dropdownShown.data.position},ep.createElement(pv.W.Option,{onClick:e.onCopyEmail},ep.createElement(e$.Tx,{id:"members_table.scim_menu.copy_email"}))))}function T_(e){var t;let a=`MENU_DROPDOWN-${e.orgUser.user.email}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=e.orgUser.permission===lB._D.ADMIN,l=e.orgUser.permission===lB._D.MEMBER,i=t=>()=>{e.dispatch((0,e0.to)({type:ww,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(e0.Ce()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:t,onChangeAccountType:e.onChangeAccountType}}))},s=i(wv.ACTIVITY_LOG),o=i(wv.GUEST_ACCESS);return ep.createElement(wT.Ve,{className:wO.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ep.createElement(eL.B,{svg:rN.A,className:wW}),r&&ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:w$,style:e.dropdownShown.data.position},ep.createElement(ep.Fragment,null,ep.createElement(pv.W.Option,{onClick:s},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.view_user_activity"})),e.orgUser.permission===lB._D.GUEST&&!1!==e.orgUser.is_email_validated&&ep.createElement(pv.W.Option,{onClick:o},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.view_guest_access"}))),!!e.orgUser.user.email&&ep.createElement(pv.W.Option,{onClick:e.onCopyEmail},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.copy_email"})),!e.orgUser.is_email_validated&&ep.createElement(pv.W.Option,{onClick:()=>{e.onResendVerification([e.orgUser.id])}},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.resend_verification"})),!e.isMe&&(0,br.PI)(e.selectedViewName)&&ep.createElement(ep.Fragment,null,n&&ep.createElement(pv.W.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:lB._D.MEMBER},e.dispatch,e.queueFilterCountsRefetch)}},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.revoke_admin_access"})),l&&ep.createElement(pv.W.Option,{onClick:()=>{e.onChangeMemberPermission({id:e.orgUser.id,org_id:e.org.id,updated_at:e.orgUser.updated_at,permission:lB._D.ADMIN},e.dispatch,e.queueFilterCountsRefetch)}},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.grant_admin_access"}))),!e.isMe&&ep.createElement(ep.Fragment,null,ep.createElement(pv.W.Separator,null),ep.createElement(pv.W.Option,{onClick:()=>{e.onDelete([e.orgUser.id])}},ep.createElement(e$.Tx,{id:"members_table.org_user_menu.remove"})))))}let Tp="BATCH_CHANGE_ROLE_DROPDOWN";function Tg({selectedItems:e,orgUsersCurrentlyLoading:t,moreOrgUsersToFetch:a,loadingSelectableUsers:r,selectedAll:n,totalSelectableOrgUsers:l,rowItems:i,selectableOrgUsers:s}){let o=null,c=null,d=e.map(e=>e.orgUser),m=d.map(e=>e.id),u=new Set(m),_=m;if(n&&null===l)return ep.createElement(ej.Y,null,ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER,dataTestId:"loading-unassigned-select-all"}));let p=!1;if(n&&null!==l&&(p=t||a),p&&r)return ep.createElement(ej.Y,null,ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER,dataTestId:"loading-unassigned-select-all"}));if(p){let e=new Set(i.map(e=>e.orgUser).map(e=>e.id).filter(e=>!u.has(e)));_=s.filter(t=>!e.has(t.id)).map(e=>e.id)}let g=(e,t)=>ep.createElement("div",{className:"add_unassigned_members_modal--avatarPile--rJ86G"},ep.createElement("div",{className:"add_unassigned_members_modal--user1--tV7Tv add_unassigned_members_modal--userBase--6lin9"},ep.createElement(yd.H,{user:e.orgUser.user,size:dm.Pf.MEDIUM20})),ep.createElement("div",{className:"add_unassigned_members_modal--user2---enz4 add_unassigned_members_modal--userBase--6lin9"},ep.createElement(yd.H,{user:t.orgUser.user,size:dm.Pf.MEDIUM20})));if(0===_.length||0===e.length)return null;if(1===_.length)o=(0,e$.t)("add_unassigned_members_modal.user_selected",{userName:e[0].orgUser.user.handle}),c=ep.createElement(yd.H,{user:e[0].orgUser.user});else if(2===_.length)o=(0,e$.t)("add_unassigned_members_modal.user_a_and_user_b_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle}),c=g(e[0],e[1]);else{let t=_.length-2;o=(0,e$.t)("add_unassigned_members_modal.user_a_and_user_b_and_n_others_selected",{userName1:e[0].orgUser.user.handle,userName2:e[1].orgUser.user.handle,remainingCount:t}),c=g(e[0],e[1])}return ep.createElement(ej.Y,{spacing:8},c,ep.createElement(du.E,null,o))}function TE({org:e,licenseGroup:t,workspace:a,workspaceId:r,defaultFilters:n,queueOrgUsersRefetch:l,invoices:i,addPendingOrgUserIds:s}){let{properties:o}=(0,eH.j6)(),[c,d]=ep.useState(!1),[m,u]=ep.useState(vx.oU),_=ep.useCallback(e=>{u(t=>{let a=e===vx.Od.SEARCH_SCORE?vx.Od.SEARCH_SCORE:vx.Od.NAME;return{columnName:a,isReversed:t.columnName===a&&!t.isReversed}})},[u]),[p,g]=ep.useState(""),E=ep.useCallback(e=>{g(e),e?_(vx.Od.SEARCH_SCORE):""===e&&_(vx.oU.columnName)},[_,g]),f=ep.useMemo(()=>(0,s5.s)(E,300),[E]),[h,v]=ep.useState(n),b=e=>{v({...h,...e})},[y,w]=ep.useState(new Date().toISOString()),{sortedUsers:T,status:x,fetchMore:C}=(0,h2.oo)({searchQuery:""!==p?p:void 0,sort:m,filter:h}),{status:N,users:k,totalSelectable:S}=(0,h2.Ew)({searchQuery:""!==p?p:void 0,filter:h,selectedAll:c}),I=x!==ub.r.SUCCESS||!!C,A=(0,h2.a9)(),L=(0,eg.wA)(),R=ep.useMemo(()=>T.map(t=>({org:e,isMe:A.user_id===t.user_id,orgUser:t,dispatch:L})),[e,T,A,L]);if(ep.useEffect(()=>{0===R.length&&w(new Date().toISOString())},[R]),!t&&!a)return null;if(!p&&yc()(h,n)&&0===R.length&&!I)return ep.createElement(ej.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",height:160,spacing:0,dataTestId:"add-unassigned-modal-empty-content"},ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:"add_unassigned_members_modal.no_unassigned_users"})),ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:(null==t?void 0:t.id)?"add_unassigned_members_modal.all_users_have_been_assigned_billing_groups":"add_unassigned_members_modal.all_users_have_been_assigned_workspaces",orgName:e.name})));let O=!!t,F=function(e,t){let a=[];return a.push({name:(0,br.aM)(vx.Od.NAME,e.featured_scim_metadata),sorting_key:vx.Od.NAME,className:wF,getSortValue:e=>e.orgUser.user.handle||e.orgUser.user.email,cellComponent:e=>ep.createElement(To,{orgUser:e.orgUser,dispatch:e.dispatch,isMe:e.isMe})}),t&&a.push({name:(0,e$.t)("add_unassigned_members_modal.role_column.seat_rename"),className:"",cellComponent:Ti}),a}(e,O),M=O&&((null==i?void 0:i.length)||0)>0;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.p16.pb8.flex.flexColumn.$},ep.createElement(du.E,null,(null==t?void 0:t.id)?ep.createElement(e$.Tx,{id:"add_unassigned_members_modal.billing_group_description",licenseGroupName:null==t?void 0:t.name}):ep.createElement(e$.Tx,{id:"add_unassigned_members_modal.workspace_description",workspaceName:null==a?void 0:a.name})),ep.createElement(bk.y2,{styleOverrides:{width:"100%",marginTop:"16px",marginBottom:"8px"},onChange:f,focusOnMount:!1,query:p,clearSearch:()=>E(""),placeholder:(0,e$.t)("add_unassigned_members_modal.search_bar.placeholder")}),M&&ep.createElement("div",{className:"add_unassigned_members_modal--filters--20WXO","data-testid":"add-unassigned-members-tab-filters"},ep.createElement(yi.S,{checked:h.newEditorFilter,onChange:()=>{let e=!h.newEditorFilter;b({newEditorFilter:e}),(0,al.Cu)({...o,filterType:"NewEditorFilter",isFilterEnabled:e})},label:ep.createElement(ys.J,null,ep.createElement(e$.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))}))),ep.createElement(bD.Cj,{items:R,columns:F,itemTypeContext:{itemType:"user",getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_user",{numSelected:e})},getItemKey:e=>e.orgUser.user_id,emptyContent:ep.createElement("div",{className:eT.cx.mt24.$,"data-testid":"add-unassigned-modal-empty-search-content"},ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:"add_unassigned_members_modal.no_unassigned_users_found"}))),sortState:m,onSetSortState:_,scrollContainerInnerClassName:"add_unassigned_members_modal--scrollContainerInner--RDKqP",minContentWidth:448,isLoading:I,onFetchMore:C,styleOverrideClassNames:{header:"add_unassigned_members_modal--header--eVm5d add_unassigned_members_modal--extendedRow--pepxT",row:"add_unassigned_members_modal--row--c5OEj add_unassigned_members_modal--unassignedRowBackgroundStyles--5Z7vK add_unassigned_members_modal--extendedRow--pepxT",checkboxColumn:"add_unassigned_members_modal--checkboxColumn--022zc",selectedRow:"add_unassigned_members_modal--selectedRow--BI4N4 add_unassigned_members_modal--unassignedRowBackgroundStyles--5Z7vK add_unassigned_members_modal--extendedRow--pepxT",tableWrapper:"add_unassigned_members_modal--tableWrapper--VhH73"},paddingEnd:8,footer:a=>{let n=a.map(e=>e.orgUser.id),i=()=>{if(!r)return;let t=!!(0,eh.kc)().members_optimistic_create;L(bl.uo({orgId:e.id,lastUpdateTimestampOverride:y,successCallback:()=>{L(t6.F.enqueue({message:t&&n.length<=50?(0,e$.t)("add_unassigned_members_modal.workspaces_success_message.instant",{numUsers:n.length}):(0,e$.t)("add_unassigned_members_modal.workspaces_success_message",{numUsers:n.length}),type:"workspace-changed"}))},params:{org_user_ids:n,workspace_id:r}}))},o=()=>{let a=null==t?void 0:t.id;if(!a)return;let r=!!(0,eh.kc)().members_optimistic_create;L(bl.uo({orgId:e.id,lastUpdateTimestampOverride:y,params:{org_user_ids:n,license_group_id:a},successCallback:()=>{L(t6.F.enqueue({message:r&&n.length<=50?(0,e$.t)("add_unassigned_members_modal.billing_groups_success_message.instant",{numUsers:n.length}):(0,e$.t)("add_unassigned_members_modal.billing_groups_success_message",{numUsers:n.length}),type:"license-group-changed"}))}}))};return ep.createElement("div",null,ep.createElement(ej.Y,{padding:16},ep.createElement(Tg,{selectedItems:a,orgUsersCurrentlyLoading:x!==ub.r.SUCCESS,moreOrgUsersToFetch:!!C,loadingSelectableUsers:N===ub.r.LOADING,selectedAll:c,totalSelectableOrgUsers:S,rowItems:R,selectableOrgUsers:k}),ep.createElement(ej.M,null),ep.createElement(dD.$,{variant:"primary",disabled:!a.length,onClick:()=>{t?o():i(),L(e0.Lo()),n.length<=50&&s(n),l()},dataTestId:"assign-members-button"},ep.createElement(e$.Tx,{id:"add_unassigned_members_modal.add_members_button"}))))},onToggleSelectAll:e=>d(!e)}))}let Tf=(0,am.Ju)(function({licenseGroupId:e,workspaceId:t,queueOrgUsersRefetch:a,invoices:r,addPendingOrgUserIds:n}){var l;let i=(0,eg.wA)(),s=(0,mV.sZ)(),o=(0,eg.d4)(e=>e.selectedView),[c,d]=ep.useState(yn.ADD_MEMBERS),m=(0,eg.d4)(({licenseGroups:t})=>e?t[e]:void 0),u=null==(l=(0,t5.Rs)(ai.s5A,{workspaceId:t},{enabled:!!t}).data)?void 0:l.workspace;if(!s||e&&t)return null;let _={...vx.J0};e?_.licenseGroupFilter=f0.s:t&&(_.workspaceFilter=vd.O);let p=ye(s,o.view);return ep.createElement(eH.fu,{name:"Add Unassigned Members Modal"},ep.createElement(sn.XV,{title:e=>{let t=[yl(yn.ADD_MEMBERS),yl(yn.INVITE_USERS)],a=e=>{d(e.view)};return ep.createElement(ej.Y,null,t.map(e=>ep.createElement(bQ.o,{key:e.view,onClick:()=>a(e),tab:e.view,selectedTab:c},ep.createElement(du.E,{fontSize:11},e.name))),ep.createElement(ej.M,null),e)},maxWidth:480,onClose:()=>{i(e0.Lo())},containerClassName:c===yn.ADD_MEMBERS?"add_unassigned_members_modal--unassignedMembersTab--gWAtH":"add_unassigned_members_modal--inviteTab--dPRBa",innerContainerClassName:eT.cx.hFull.flex.flexColumn.$,fixedTop:!0},c===yn.ADD_MEMBERS?ep.createElement(TE,{org:s,licenseGroup:m,workspace:u,workspaceId:t,defaultFilters:_,queueOrgUsersRefetch:a,invoices:r,addPendingOrgUserIds:n}):ep.createElement(b7,{org:s,licenseGroupId:e,workspaceId:t,dispatch:i,orgHasGuestsInviteAllowlist:p,canInviteMembers:yt(s,o.view),multiLineForm:!0,buttonClassName:"add_unassigned_members_modal--multiLineButton--IdSKt",modalWrapperClassName:"add_unassigned_members_modal--inviteModalWrapper--IPw0O",descriptionClassName:"add_unassigned_members_modal--inviteDescription--iMS-D"})))},"ADD_UNASSIGNED_MEMBERS_MODAL"),Th="banner--bannerChildDefault--vclv7",Tv="banner--bannerChildWarning--HW-Yg",Tb={INFO:"info",WARN:"warning",SUCCESS:"success"},Ty={[Tb.INFO]:{borderColor:"default",bgColor:"secondary",textColor:"default",childClassName:"bannerChildDefault"},[Tb.WARN]:{borderColor:"warning",bgColor:"warning",textColor:"default",forceTheme:"light",childClassName:"bannerChildWarning"},[Tb.SUCCESS]:{borderColor:"default",bgColor:"success",textColor:"oninverse",forceTheme:"light",childClassName:"bannerChildDefault"}};function Tw({icon:e,title:t,subtitle:a,actions:r,variant:n=Tb.INFO,children:l,bannerPadding:i,dataTestId:s}){let{bgColor:o,borderColor:c,textColor:d,childClassName:m,forceTheme:u}=Ty[n],_=!!l,p=a?16:8;return ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",cornerRadius:6,strokeWidth:_?1:0,strokeColor:c,spacing:0,dataTestId:s},ep.createElement("div",{className:eT.cx.borderBox.wFull.hFull.$,"data-preferred-theme":u},ep.createElement(ej.Y,{direction:"horizontal",verticalAlignItems:"center",spacing:4,padding:i??p,cornerRadius:_?{topLeft:5,topRight:5}:5,backgroundColor:o},e&&ep.createElement("div",{className:eT.cx.w32.h32.flex.itemsCenter.justifyCenter.flexShrink0.$,style:a?{marginTop:"-16px"}:{}},ep.createElement(eL.B,{style:{fill:(0,c4.jk)(d)},svg:e})),ep.createElement(ej.Y,{spacing:0,direction:"vertical",height:"hug-contents"},ep.createElement(du.E,{fontSize:11,color:d},t),a&&ep.createElement(du.E,{fontSize:11,color:d},a)),ep.createElement(ej.M,null),r)),l&&ep.createElement("div",{style:{borderBottomLeftRadius:5,borderBottomRightRadius:5},className:eS()(eT.cx.borderBox.wFull.$,e_[m])},l))}function TT({title:e,value:t,info:a,tooltipData:r,isLoading:n,dataTestId:l}){return ep.createElement(ej.Y,{direction:"vertical",spacing:4,padding:20,dataTestId:l},ep.createElement(du.E,{color:"default"},e),ep.createElement("span",{"data-tooltip-type":null==r?void 0:r.type,"data-tooltip":null==r?void 0:r.contents,"data-tooltip-show-below":null==r?void 0:r.showBelow,"data-tooltip-timeout-delay":null==r?void 0:r.timeoutDelay},ep.createElement(du.E,{color:"default",fontWeight:"medium",fontSize:20},n?ep.createElement(bN.Wi,{className:eT.cx.w64.h32.$}):t)),a&&ep.createElement(du.E,{color:"secondary"},a))}let Tx=new class{constructor(){this.TeamsSchemaValidator=(0,rI.vh)()}getTeams(e){return this.TeamsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/license_group/${e.licenseGroupId}/teams`,rI.td.toAPIParameters({includeSecretTeams:e.includeSecretTeams})))}submitReview(e){return ae.Ay.post(`/api/license_group/${e.licenseGroupId}/review`)}},TC=(0,am.Ju)(function({licenseGroupId:e,licenseGroupName:t,orgId:a}){let r=(0,eg.wA)();return ep.createElement(sn.Eo,{headerClassName:"complete_license_group_review_modal--header--XWh1d",maxWidth:360,minWidth:360,fixedTop:!1,title:(0,e$.t)("license_group_admin.billing_banner.review.confirmation_modal.title.seat_rename",{billingGroupName:t}),confirmText:(0,e$.t)("general.confirm"),onConfirm:()=>{Tx.submitReview({licenseGroupId:e}).then(({data:e})=>r(Ee.yo({licenseGroup:e.meta,orgId:a}))).catch(e=>{r(t6.F.enqueue({error:!0,message:e.message}))})}},ep.createElement(du.E,{i18nId:"license_group_admin.billing_banner.review.confirmation_modal.body.seat_rename"}))},"CompleteLicenseGroupReviewModal");var TN=a(796597),Tk=a(510511),TS=a(168379);function TI({licenseGroupId:e,forceLoading:t}){let a=vk(e),r=t||"loading"===a.status,n=a.data,l=e=>{var t;let a=null==(t=null==n?void 0:n.fullPaidStatusCounts)?void 0:t.find(t=>t.licenseType===e);return Number((null==a?void 0:a.count)??0)},i=uD.JT.excludeUnlessFlag([uP.lM.DEV_MODE],"billing_dev_mode_customer_ui").sort(uD.AG).withOverrides({[uP.oM.DESIGN]:(0,e$.t)("license_group_admin.billing_banner.count_title.design.seat_rename"),[uP.oM.WHITEBOARD]:(0,e$.t)("license_group_admin.billing_banner.count_title.figjam.seat_rename"),[uP.oM.DEV_MODE]:(0,e$.t)("license_group_admin.billing_banner.count_title.dev_mode")}).dict((e,t)=>ep.createElement(TT,{key:t,title:e,isLoading:r,value:l(t),dataTestId:`${t}-count-cell`}));return ep.createElement(ej.Y,{direction:"horizontal"},Object.values(i))}function TA({licenseGroup:e,isLoadingInvoices:t,invoices:a,queueOrgUsersRefetch:r,addPendingOrgUserIds:n}){let l=(0,eg.wA)(),i=(0,mV.dq)(),s=e.last_reviewed_at;if(t)return ep.createElement(Tw,{variant:Tb.INFO,title:ep.createElement(bN.Wi,{className:eT.cx.w150.h12.$,dataTestId:"billing-banner-shimmer"})},ep.createElement(TI,{licenseGroupId:e.id,forceLoading:!0}));if(!a)return null;let o=ep.createElement(TI,{licenseGroupId:e.id});if(a&&(0,uJ.hX)(a))return(0,Ea.NV)(e,a)?ep.createElement("div",{className:eT.cx.wFull.$,style:{minWidth:493}},ep.createElement(Tw,{icon:TS.A,variant:Tb.WARN,bannerPadding:16,title:ep.createElement(du.E,{fontWeight:"semi-bold",i18nId:"license_group_admin.billing_banner.review.title.seat_rename"}),subtitle:ep.createElement(du.E,{i18nId:"license_group_admin.billing_banner.review.subtitle.seat_rename"}),actions:ep.createElement(ej.Y,{direction:"horizontal",spacing:24,width:"hug-contents",padding:{right:4}},ep.createElement("div",{className:eT.cx.colorText.underline.noWrap.cursorDefault.$,onClick:()=>{l((0,e0.to)({type:Tf,data:{licenseGroupId:e.id,queueOrgUsersRefetch:r,invoices:a,addPendingOrgUserIds:n}}))},role:"link",tabIndex:0},ep.createElement(du.E,{fontWeight:"medium",i18nId:"license_group_admin.billing_banner.review.add_members"})),ep.createElement(dD.$,{variant:"inverse",onClick:()=>{l((0,e0.to)({type:TC,data:{licenseGroupId:e.id,licenseGroupName:e.name,orgId:i}}))}},ep.createElement(du.E,{i18nId:"license_group_admin.billing_banner.review.confirm_editors.seat_rename"})))},o)):ep.createElement(Tw,{icon:Tk.A,variant:Tb.SUCCESS,bannerPadding:8,title:ep.createElement(du.E,{i18nId:"license_group_admin.billing_banner.completed_at_date",i18nParams:{date:ep.createElement(du.E,{fontWeight:"semi-bold"},(0,pN.A)(s).format("ll"))}})},o);let c=(0,uJ.C5)(a,"upcoming")||(0,uJ.C5)(a,"locked");return c?ep.createElement(Tw,{icon:TN.A,variant:Tb.INFO,bannerPadding:8,title:ep.createElement(du.E,{i18nId:"license_group_admin.billing_banner.default",i18nParams:{date:ep.createElement(du.E,{fontWeight:"semi-bold"},(0,pN.A)(c.due_at).format("ll"))}})},o):null}function TL({queueOrgUsersRefetch:e,addPendingOrgUserIds:t}){var a;let r=(0,eg.d4)(e=>e.selectedView),n=(0,mV.dq)(),l=(0,g7.Xf)(n),i=(0,eg.d4)(({licenseGroups:e})=>r.licenseGroupId?e[r.licenseGroupId]:void 0),s="loading"===l.status,o=null==(a=null==l?void 0:l.data)?void 0:a.invoices;return"licenseGroup"===r.view&&i&&(s||o)?ep.createElement(ej.Y,{height:"hug-contents",padding:{bottom:24,left:32,right:32},dataTestId:"license-group-billing-banner"},ep.createElement(TA,{licenseGroup:i,isLoadingInvoices:s,invoices:o,queueOrgUsersRefetch:e,addPendingOrgUserIds:t})):null}var TR=a(817701);function TO({selectedLicenseGroupId:e,onFilterUpdate:t,getCount:a}){let r=(0,eg.wA)(),n=(0,rE.U)(),l=(0,eg.d4)(({licenseGroups:e})=>e),i=(0,Ea.MX)(),s=(0,eg.d4)(({user:e})=>null==e?void 0:e.id),o=(0,h2.a9)(),c=!!(o&&o.permission===lB._D.ADMIN),d=(0,eg.d4)(({orgUsersByOrgId:e,currentUserOrgId:t})=>t&&Object.values(e.orgUsers[t])),m=(0,Ea.RG)(),u=(0,eg.d4)(({selectedView:e})=>"orgAdminSettings"===e.view);if(!s||!d||!m||!u)return null;let{groupsUserIsAdminOf:_,otherLicenseGroups:p}=(0,Ea.EQ)(i,s,!c);if(0===_.length&&0===p.length)return null;let g=_.concat(p).map(e=>e.id).concat(f0.s);return ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.billing_group"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_LICENSE_GROUP_DROPDOWN",values:g,selectedValue:e,getCount:a,getDisplayText:e=>(0,br.CC)(e,l),updateFilter:e=>t(e)})}function TF({selectedWorkspaceId:e,onFilterUpdate:t,getCount:a}){let r=(0,eg.wA)(),n=(0,rE.U)(),l=(0,eg.d4)(e=>e.currentUserOrgId),i=(0,pf.NJ)(l),s="loading"===i.status?[]:i.data??[],o={};if(s.forEach(e=>o[e.id]=e),!(0,eg.d4)(({selectedView:e})=>"orgAdminSettings"===e.view)||!s.length)return null;let c=s.map(e=>e.id).concat(vd.O);return ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.workspace"),dispatch:r,dropdownShown:n,dropdownType:"FILTER_WORKSPACE_DROPDOWN",values:c,selectedValue:e,getCount:a,getDisplayText:e=>{var t;return e===vd.O?(0,e$.t)("license_group.unassigned"):(null==(t=o[e])?void 0:t.name)??""},updateFilter:e=>t(e)})}let TM=(0,at.nF)((e,t,{liveStore:a})=>{let r=e.getState().currentUserOrgId;r&&a.getMutation(g7.QD)({orgId:r,licenseQuantities:t.licenseQuantities}).then(()=>{e.dispatch(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.BILLING,shouldShowLockedBanner:!0}))}).catch(t=>{var a;e.dispatch(e5.s.error((null==(a=t.data)?void 0:a.message)||"An error occurred while locking your invoice.",5e3)),console.error(t)})}),TD=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,uJ.e7)(e.invoice),r=function(){if(1===e.invoice.quarter){let t=[(0,e$.t)("members_table.true_up.freeze_invoice_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[uP.lM.DESIGN]}),(0,e$.t)("members_table.true_up.freeze_invoice_dev_mode_seat_text",{quantity:a[uP.lM.DEV_MODE]})];return t.push((0,e$.t)("members_table.true_up.freeze_invoice_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[uP.lM.FIGJAM]})),{title:(0,e$.t)("members_table.true_up.freeze_invoice_confirm_title.template",{seatsText:(0,to.Yx)(t)}),description:(0,e$.t)("members_table.true_up.freeze_invoice_confirm_description.seat_rename.template",{date:(0,pN.A)(e.invoice.due_at).format("MMMM D"),seatsText:(0,to.Yx)(t),lockedAmountToPay:new aQ.vr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}{let t=[(0,e$.t)("members_table.true_up.freeze_invoice_new_design_editor_text.seat_rename",{lockedQuantityDesignEditors:a[uP.lM.DESIGN]}),(0,e$.t)("members_table.true_up.freeze_invoice_new_dev_mode_seat_text",{quantity:a[uP.lM.DEV_MODE]})];return t.push((0,e$.t)("members_table.true_up.freeze_invoice_new_figjam_editor_text.seat_rename",{lockedQuantityFigJamEditors:a[uP.lM.FIGJAM]})),{title:(0,e$.t)("members_table.true_up.freeze_invoice_confirm_title_true_up.template",{seatsText:(0,to.Yx)(t)}),description:(0,e$.t)("members_table.true_up.freeze_invoice_confirm_description_true_up.seat_rename",{date:(0,pN.A)(e.invoice.due_at).format("MMMM D"),lockedAmountToPay:new aQ.vr(e.invoice.currency).formatMoney(e.invoice.amount_due)})}}}(),{groupsToReview:n}=(0,Ea.Cz)(e.licenseGroups,e.invoices),l=e.licenseGroupsEnabled&&n.length>0;return ep.createElement(eH.fu,{name:"Freeze Invoice Modal",properties:{numReviewsIncomplete:n.length,orgId:e.org.id}},ep.createElement(bc.l,{dispatch:t,checkboxText:(0,e$.t)("members_table.true_up.freeze_invoice_checkbox_text"),buttonText:(0,e$.t)("members_table.true_up.freeze_invoice_button_text"),onConfirm:function(){t(TM({licenseQuantities:a})),function(){if(e.onHide){e.onHide();return}t(e0.Ce())}()},title:(0,e$.t)("members_table.true_up.freeze_invoice_checkbox_title"),disableClickOutsideToHide:!0},ep.createElement("div",{className:eT.cx.lh16.font11.$},l&&ep.createElement(ep.Fragment,null,ep.createElement("p",{className:eT.cx.mb8.$},ep.createElement(e$.Tx,{id:"members_table.true_up.freeze_invoice_billing_group_info"})),ep.createElement("div",{className:eT.cx.maxH300.overflowAuto.$},ep.createElement("ul",{className:eT.cx.ml16.mb8.$},n.map(e=>ep.createElement("li",{style:u1.sx.add({listStyleType:"disc"}).$,key:e.id},e.name," ",!e.is_orphaned&&ep.createElement("span",{className:eT.cx.textFGBlack3__DEPRECATED.$},"("+(0,to.Yx)(e.admin_users_metadata.map(e=>e.email||""))+")")))))),ep.createElement("p",{className:eT.cx.mb8.mt8.$},r.description),ep.createElement("p",{className:eT.cx.fontSemiBold.$},r.title))))},"FREEZE_INVOICE_CONFIRM_MODAL"),TP="confirm_invoice_banner--bannerData--aN08j",TB="confirm_invoice_banner--mainTextContainer--dmqvY",TU="confirm_invoice_banner--subtextContainer--53OYu",TW="confirm_invoice_banner--subtext--EOjZv",TV="shared_banner--boldNumber--LZKNd",TG="shared_banner--infoIcon--BkfV9 shared_banner--badgeSpacing--gg2lx";function T$(e){var t,a;if(!e.invoices||(t=e.org,!((a=e.invoices).length>0&&(0,uJ.hX)(a))||!t.has_automatic_upcoming_invoice))return null;let r=(0,uJ.jk)(e.invoices,"upcoming");if(!r)return null;let n=(0,uJ.e7)(r),l=()=>ep.createElement(eL.B,{svg:sE.A,className:TG,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_COST_INFO,"data-tooltip-invoice-quarter":r.quarter,"data-tooltip-invoice-is-stub":r.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":r.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(r.amount_due_breakdown),"data-tooltip-invoice-quantity-added":i.licenseData[uP.lM.DESIGN].effectiveQuantityToBill,"data-tooltip-invoice-figjam-owed-seats":i.licenseData[uP.lM.FIGJAM].effectiveQuantityToBill,"data-tooltip-invoice-show-figjam-cost-breakdown":!e.org.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(r.license_type_configuration),"data-tooltip-invoice-billing-plan":e.org.plan,"data-tooltip-invoice-currency":r.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}),i=(0,uJ.HD)(r,{[uP.lM.DESIGN]:e.designBillableSeats,[uP.lM.FIGJAM]:e.figjamBillableSeats,[uP.lM.DEV_MODE]:0},e.org.plan),s=r.seat_floor.design>0||r.seat_floor.figjam>0;return ep.createElement(eH.fu,{name:"Review banner",properties:{notification:"Confirm invoice banner"}},ep.createElement("div",{className:"shared_banner--figjamReviewBanner--CKRgr","data-testid":"confirm-invoice-banner"},ep.createElement("div",{className:"confirm_invoice_banner--bannerDataContainer--Jta3l shared_banner--bannerDataSection--mWF52"},ep.createElement("div",{className:TP},ep.createElement("div",{className:TB},1===r.quarter?ep.createElement(e$.Tx,{id:"members_table.true_up.total_design_editors.seat_rename"}):ep.createElement(e$.Tx,{id:"members_table.true_up.new_design_editors.seat_rename"}),"\xa0",ep.createElement("span",{className:TV},i.licenseData[uP.lM.DESIGN].rawQuantityToBill)),s&&ep.createElement("div",{className:TU},ep.createElement("span",{className:TW},(0,e$.t)("members_table.true_up.seat_minimum",{seatMinimum:r.seat_floor.design})),ep.createElement(eL.B,{svg:sE.A,className:TG,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("members_table.true_up.minimum_design_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),null===e.org.figjam_disabled_at&&ep.createElement("div",{className:TP},ep.createElement("div",{className:TB},1===r.quarter?ep.createElement(e$.Tx,{id:"members_table.true_up.total_figjam_editors.seat_rename"}):ep.createElement(e$.Tx,{id:"members_table.true_up.new_figjam_editors.seat_rename"}),"\xa0",ep.createElement("span",{className:TV},i.licenseData[uP.lM.FIGJAM].rawQuantityToBill)),s&&ep.createElement("div",{className:TU},ep.createElement("span",{className:TW},(0,e$.t)("members_table.true_up.seat_minimum",{seatMinimum:r.seat_floor.figjam})),ep.createElement(eL.B,{svg:sE.A,className:TG,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("members_table.true_up.minimum_figjam_editors_tooltip.seat_rename"),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50}))),ep.createElement("div",{className:TP},ep.createElement("div",{className:TB},ep.createElement(e$.Tx,{id:"members_table.true_up.invoice_subtotal"}),"\xa0",ep.createElement("span",{className:TV},new aQ.vr(r.currency).formatMoney(i.amountToPay,{showCents:!1})),!s&&l()),s&&ep.createElement("div",{className:TU},ep.createElement("span",{className:TW},(0,e$.t)("members_table.true_up.see_breakdown")),l()))),ep.createElement(eI.vd,{className:"shared_banner--blackButton--EbYAl",onClick:()=>{Object.values(n).every(e=>0===e)?e.dispatch(TM({licenseQuantities:n})):e.dispatch((0,e0.to)({type:TD,data:{licenseGroupsEnabled:e.licenseGroupsEnabled,licenseGroups:e.licenseGroups,org:e.org,invoice:r,invoices:e.invoices}}))}},ep.createElement(e$.Tx,{id:"members_table.true_up.confirm_and_finalize_invoice"}))))}var Tj=a(983405);function TH({org:e,invoice:t}){let a=(0,g7.Xf)(e.id),r=new aQ.vr(t.currency).formatMoney(t.amount_due),n=1===t.quarter;return ep.createElement(Tj.Y1,{direction:"horizontal"},uD.kH.sort(uD.AG).map(e=>{let r=t.license_type_configuration[e],l=t.seat_floor[e],i=(null==r?void 0:r.added_quantity)??0,s=(()=>{var t,r,n;switch(e){case uP.lM.DESIGN:return(null==(t=null==a?void 0:a.data)?void 0:t.design_billable_seats)??0;case uP.lM.DEV_MODE:return(null==(r=null==a?void 0:a.data)?void 0:r.dev_mode_billable_seats)??0;case uP.lM.FIGJAM:return(null==(n=null==a?void 0:a.data)?void 0:n.figjam_billable_seats)??0}})(),o=(null==r?void 0:r.locked_quantity)===0&&"free_period"===(null==r?void 0:r.locked_quantity_source)?{type:tM.Ib.TEXT,contents:(0,e$.t)(`members_table.true_up.banner.free_period_zero.tooltip.${e}`),showBelow:!0,timeoutDelay:50}:void 0;return ep.createElement(TT,{key:`stat-${e}`,title:ep.createElement(e$.Tx,{id:`members_table.true_up.banner.new_seats.${e}`}),value:i,tooltipData:o,info:n&&l?ep.createElement(Tj.Y1,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"members_table.true_up.banner.total_seats",numSeats:`${s}/${l}`})),ep.createElement("span",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)(`members_table.true_up.banner.seat_floor.tooltip.${e}`),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},ep.createElement(le.In,{icon:"info-16",fill:"secondary"}))):(0,e$.t)("members_table.true_up.banner.total_seats",{numSeats:s})})}),ep.createElement(TT,{title:ep.createElement(e$.Tx,{id:"members_table.true_up.banner.projected_total"}),value:r,info:ep.createElement(Tj.Y1,{direction:"horizontal",horizontalAlignItems:"space-between",spacing:4},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"members_table.true_up.banner.see_breakdown"})),ep.createElement("span",{"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_COST_INFO,"data-tooltip-invoice-quarter":t.quarter,"data-tooltip-invoice-is-stub":t.is_stub,"data-tooltip-invoice-num-quarters-in-billing-period":t.num_quarters_in_billing_period,"data-tooltip-invoice-amount-due-breakdown":JSON.stringify(t.amount_due_breakdown),"data-tooltip-invoice-show-figjam-cost-breakdown":!e.figjam_disabled_at,"data-tooltip-invoice-license_type_configuration":JSON.stringify(t.license_type_configuration),"data-tooltip-invoice-billing-plan":e.plan,"data-tooltip-invoice-currency":t.currency,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},ep.createElement(le.In,{icon:"info-16",fill:"secondary"})))}))}function Tq({invoice:e,orgBillingPlan:t,showBreakdown:a=!0}){let r=e.currency,n=new aQ.vr(r),l=n.getPricesWithOverride(e,t),i=(0,uJ.K1)(e),s=(0,uJ.l)(e),o="annual"===i&&Object.values(uP.lM).some(t=>{var a;let r=e.seat_floor[t],n=(null==(a=e.license_type_configuration[t])?void 0:a.total_quantity)??0;return r&&r>n}),c=Object.fromEntries(Object.values(uP.lM).map(t=>[t,(0,uJ.ke)(t,e,l)]));return ep.createElement(ej.Y,{padding:{bottom:16},spacing:0},ep.createElement(ej.Y,{direction:"vertical",cornerRadius:6,strokeColor:"default",strokeWidth:1,padding:{horizontal:16},spacing:0},uD.kH.map(t=>{var i,o;let d=e.seat_floor[t],m=(null==(i=e.license_type_configuration[t])?void 0:i.added_quantity)??0,u=(null==(o=e.license_type_configuration[t])?void 0:o.total_quantity)??0,_=c[t],p=!!d&&d>u;return ep.createElement(ej.Y,{key:`invoice-details-${t}`,direction:"horizontal",horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",padding:{vertical:16},spacing:0},ep.createElement(ej.Y,{direction:"horizontal"},ep.createElement(le.In,{icon:function(e){switch(e){case uP.lM.DESIGN:return"file-design-16-file-type";case uP.lM.FIGJAM:return"file-figjam-16-file-type";case uP.lM.DEV_MODE:return"file-devmode-16-file-type"}}(t)}),ep.createElement(du.E,{color:"default",fontSize:11,fontWeight:"regular"},`${(0,e$.t)(`org_admin_settings.billing.finalize_invoice_modal.num_seats.${t}`,{seats:u})}${p?"*":""}`)),d&&d>u?ep.createElement(dd.Ex,{size:dd.vj.SMALL,color:dd.zE.BRAND,className:eT.cx.flexShrink0.$,text:(0,e$.t)("org_admin_settings.billing.finalize_invoice_modal.badge.not_yet_filled",{seats:d-u})}):m>0?ep.createElement(dd.Ex,{size:dd.vj.SMALL,color:dd.zE.SUCCESS,className:eT.cx.flexShrink0.$,text:(0,e$.t)("org_admin_settings.billing.finalize_invoice_modal.badge.new_seats",{seats:m})}):null,ep.createElement(ej.Y,{horizontalAlignItems:"end"},a?ep.createElement("div",{style:u1.sx.colorBorder.bb2.add({borderBottomStyle:"dashed"}).$,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.ORG_COST_INFO_LINE_ITEM,"data-tooltip-license-type":t,"data-tooltip-total-cost":_,"data-tooltip-added-quantity":m,"data-tooltip-currency":r,"data-tooltip-remaining-months":s,"data-tooltip-monthly-unit-price":l[t],"data-tooltip-should-show-breakdown":!0,"data-tooltip-should-show-cost":!1,"data-tooltip-light-mode":!0,"data-tooltip-interactive":!0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400},ep.createElement(du.E,null,n.formatMoney(_))):ep.createElement(du.E,null,n.formatMoney(_))))}),ep.createElement(ej.Y,{direction:"vertical",padding:{vertical:16}},ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"space-between"},ep.createElement(du.E,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.invoice_total",color:"default",fontWeight:"bold"}),ep.createElement(du.E,{color:"default",fontWeight:"bold"},n.formatMoney(e.amount_due))),o&&ep.createElement("span",null,ep.createElement(du.E,{color:"secondary",fontSize:11},`*${(0,e$.t)("org_admin_settings.billing.finalize_invoice_modal.disclaimer_minimum_seats")}`)))))}function Tz({invoiceType:e}){return ep.createElement(ej.Y,{direction:"horizontal",padding:{bottom:16}},ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(du.E,{i18nId:`org_admin_settings.billing.finalize_invoice_modal.title.${e}`,color:"default",fontWeight:"semi-bold",fontSize:20}),ep.createElement(du.E,{i18nId:"org_admin_settings.billing.finalize_invoice_modal.subtitle",color:"default",fontSize:13,fontWeight:"regular"})))}let TY=(0,am.Ju)(function({org:e,invoice:t,onConfirm:a}){let[r,n]=ep.useState(!1),l=(0,uJ.K1)(t),i=(0,eg.wA)(),s=()=>{i((0,e0.AS)())};return ep.createElement(eH.fu,{name:"Finalize Invoice Modal",properties:{orgId:e.id}},ep.createElement(sn.XV,{title:ep.createElement(Tz,{invoiceType:l}),innerContainerClassName:eT.cx.p16.$,disableHeaderBottomBorder:!0,onClose:s,maxWidth:380},ep.createElement(ej.Y,{direction:"vertical"},ep.createElement(Tq,{invoice:t,orgBillingPlan:e.plan}),ep.createElement(ej.Y,{padding:{bottom:16}},ep.createElement(uX.S,{checked:r,label:(0,e$.t)("org_admin_settings.billing.finalize_invoice_modal.checkbox"),onChange:()=>n(!r)}))),ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"end"},ep.createElement(dD.V,{variant:"secondary",onClick:s},ep.createElement(e$.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.cancel"})),ep.createElement(dD.V,{variant:"primary",disabled:!r,onClick:a},ep.createElement(e$.Tx,{id:"org_admin_settings.billing.finalize_invoice_modal.button.finalize_invoice"})))))},"FINALIZE_INVOICE_CONFIRM_MODAL");function TK({invoice:e,org:t}){let a=(0,eg.wA)(),r=()=>{a(TM({licenseQuantities:(0,uJ.e7)(e)})),a((0,e0.AS)())};return ep.createElement(eH.fu,{name:"Review banner"},ep.createElement(Tw,{variant:"warning",title:ep.createElement(du.E,{i18nId:"members_table.true_up.banner.title",fontWeight:"semi-bold"}),subtitle:ep.createElement(e$.Tx,{id:"members_table.true_up.banner.subtitle"}),icon:TS.A,actions:ep.createElement(dD.$,{variant:"inverse",onClick:()=>{a((0,e0.to)({type:TY,data:{org:t,invoice:e,onConfirm:r}}))}},ep.createElement(e$.Tx,{id:"members_table.true_up.banner.button"}))},ep.createElement(TH,{org:t,invoice:e})))}function TJ(e){let t=(0,Ea.RG)(),a=(0,uJ.jk)(e.invoices??[],"upcoming"),r=(0,uJ.hX)(e.invoices??[]);return!t&&a&&r&&e.currentOrgUser.permission===lB._D.ADMIN&&e.org.has_automatic_upcoming_invoice&&null!=e.designBillableSeats&&null!=e.figjamBillableSeats?ep.createElement(TK,{org:e.org,invoice:a}):!t&&e.currentOrgUser.permission===lB._D.ADMIN&&(e.designBillableSeats||0===e.designBillableSeats)&&(e.figjamBillableSeats||0===e.figjamBillableSeats)?ep.createElement(T$,{licenseGroupsEnabled:!1,licenseGroups:[],invoices:e.invoices,org:e.org,dispatch:e.dispatch,designBillableSeats:e.designBillableSeats,figjamBillableSeats:e.figjamBillableSeats}):null}var TZ=((_=TZ||{})[_.SEARCH=0]="SEARCH",_[_.FILTER=1]="FILTER",_);function TQ(e,t,a){t(bl.uo({orgId:e.org_id,params:{org_user_ids:[e.id],permission:e.permission},successCallback:()=>{t(t6.F.enqueue({message:(0,e$.t)("members_table.change_member_permission.success"),type:"member-permission-changed"})),(e.permission===lB._D.ADMIN||e.permission===lB._D.MEMBER)&&a()}}))}function TX(e,t,a){ae.Ay.post(`/api/orgs/${t}/resend_email_verifications`,{org_user_ids:e}).then(()=>{a(t6.F.enqueue({message:(0,e$.t)("members_table.verification_sent"),type:"orgRoster.resendVerification",icon:bS.zX.CHECK}))},()=>{a(t6.F.enqueue({message:(0,e$.t)("members_table.cannot_send_verification_email"),type:"orgRoster.resendVerification",icon:bS.zX.EXCLAMATION,error:!0}))})}function T0(e,t){t(rh.II({emailList:e}))}function T1(e,t,a,r,n,l,i,s,o){n((0,e0.to)({type:by,data:{org:r,orgUsers:l,orgUserIds:e,accountType:a,licenseType:t,dispatch:n,updateAccountTypeFilterCounts:i,updateNewEditorBuffer:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))}function T2(e,t,a,r,n,l,i,s,o){let c=a[t];i((0,e0.to)({type:bT,data:{org:n,orgUsers:l,orgUserIds:e,newLicenseGroup:c,isCurrentUserOrgAdmin:r,dispatch:i,updateLicenseGroupFilterCounts:s,lastUpdateTimestampIfUsingUnloadedOrgUsers:o}}))}function T4(e,t,a,r,n,l){let i;i=t?{org_user_ids:e,workspace_id:t}:{org_user_ids:e,workspace_id:null},r(bl.uo({orgId:a.id,lastUpdateTimestampOverride:l,params:i,successCallback:()=>{r(t6.F.enqueue({message:(0,e$.t)("confirm_workspace_change.success_message",{numUsers:e.length}),type:"workspace-changed"})),n()}}))}function T3(e,t,a,r){r((0,e0.to)({type:bv,data:{org:a,orgUsers:t,orgUserIds:e,dispatch:r}}))}function T8(e){return e.permissionFilter||e.newEditorFilter||e.lastEditFilter||e.roleFilter}function T5(e){let[t,a]=ep.useState(!1),[r,n]=ep.useState(!1),[l,i]=ep.useState(new Date().toISOString()),s=(0,h2.a9)(),o=!!(s&&s.permission===lB._D.ADMIN),c="provisional"===e.filters.permissionFilter,d=ep.useMemo(()=>"loaded"===e.filterCountsViewResult.status?e.filterCountsViewResult.data:(0,vx.MF)(),[e.filterCountsViewResult]);ep.useEffect(()=>{let t=Date.now()-e.startTime;e.isLoading||0===e.startTime||(0,tn.sx)("Org Admin Members Table V2 Load Succeeded",{orgId:e.org.id,durationMs:t},{forwardToDatadog:!0})},[e.startTime,e.org.id,e.isLoading]),ep.useEffect(()=>{0===e.sortedItems.length&&i(new Date().toISOString())},[e.sortedItems]);let m=(t,a,r,n)=>{T1(t,a,r,e.org,e.dispatch,n?null:e.allOrgUsersByUserId,e.queueFilterCountsRefetch,e.updateNewEditorBuffer,n)},{status:u,users:_,totalSelectable:p}=(0,h2.Ew)({searchQuery:e.searchQuery,filter:e.filters,selectedAll:r}),g=(t,a,r)=>T4(t,a,e.org,e.dispatch,e.queueFilterCountsRefetch,r),E=(t,a,r)=>T2(t,a,e.licenseGroupsById,o,e.org,r?null:e.allOrgUsersByUserId,e.dispatch,e.queueFilterCountsRefetch,r);function f(e,t){let a=new Set;return e.forEach(e=>{a.add(t(e))}),a}let h=(t,a,r)=>{let n=!1,l=!1,i=!1;if(a){let e=f(a,e=>e.design_paid_status),t=Array.from(e)[0];n=1===e.size&&t===lB.El.FULL,l=1===e.size&&t===lB.El.STARTER,i=1===e.size&&t===lB.El.RESTRICTED}let s=[ep.createElement(pv.W.CheckableOption,{key:"header",disabled:!0,checked:!1},ep.createElement(e$.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),ep.createElement(pv.W.CheckableOptionTrackable,{key:"editor",checked:n,onClick:n?void 0:()=>m(t,uP.G_.DESIGN,lB.El.FULL,r)},(0,bR.t)(lB.El.FULL))];return l&&s.push(ep.createElement(pv.W.CheckableOptionTrackable,{key:"starter",checked:!0,onClick:void 0},(0,bR.t)(lB.El.STARTER))),s.push(ep.createElement(pv.W.CheckableOptionTrackable,{key:"restricted",checked:i,onClick:i?void 0:()=>m(t,uP.G_.DESIGN,lB.El.RESTRICTED,r)},(0,bR.t)(lB.El.RESTRICTED))),ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--actionBarDropdown--3bR6p",style:e.dropdownShown.data.position},s)},v=(t,a,r,n)=>{var l,i;let s=n.dict(e=>!1);a&&(s=n.dict(e=>{let t=f(a,t=>t[bL.L_[e]]),r=Array.from(t)[0];return 1===t.size&&r===lB.El.STARTER}));let o=n.dict(e=>{let a=[],n=`Change ${e} role - Editor`;a.push({displayText:(0,bR.t)(lB.El.FULL),callback:()=>m(t,e,lB.El.FULL,r),trackingProperties:{text:n}});let l=`Change ${e} role - Viewer`;s[e]&&a.push({displayText:(0,bR.t)(lB.El.STARTER),trackingProperties:{text:l}});let i=`Change ${e} role - Viewer Restricted`;return a.push({displayText:(0,bR.t)(lB.El.RESTRICTED),callback:()=>m(t,e,lB.El.RESTRICTED,r),trackingProperties:{text:i}}),a}),c=n.dict(e=>{switch(e){case uP.lM.DESIGN:return(0,e$.t)("general.figma_design_short");case uP.lM.FIGJAM:return(0,e$.t)("general.figjam");case uP.lM.DEV_MODE:return(0,e$.t)("general.dev_mode");default:(0,eC.xb)(e)}}),d=n.map(e=>({displayText:c[e],children:o[e]}));return ep.createElement(ep.Fragment,null,e.dropdownShown&&(null==(i=null==(l=e.dropdownShown)?void 0:l.data)?void 0:i.targetRect)&&ep.createElement(eH.QE.Consumer,null,t=>ep.createElement(rw.j,{showPoint:!1,items:d,onSelectItem:a=>{a.callback&&a.callback("",null,e.dispatch),(0,al.Cu)({...t.properties,trackingContext:t.name,...a.trackingProperties})},parentRect:e.dropdownShown.data.targetRect,dispatch:e.dispatch})))},b=(t,a,r)=>{let n=a?f(a,e=>{var t;return null==(t=(0,uW.Ad)(e))?void 0:t.workspace_id}):new Set,l={type:wT.uw.NONE};if(1===n.size){let e=Array.from(n)[0];l=null==e?{type:wT.uw.UNASSIGNED}:{type:wT.uw.WORKSPACE,workspaceId:e}}return ep.createElement(wT.Vq,{workspaces:e.workspacesCanMoveTo,selectedWorkspace:l,onChange:e=>{g(t,(null==e?void 0:e.id)??"",r)}})},y=(t,a,r)=>{let n=e.licenseGroupsUserIsAdminOf.concat(e.licenseGroupsUserIsNotAdminOf),l=a?f(a,e=>{var t;return null==(t=e.license_group_member)?void 0:t.license_group_id}):new Set,i={type:wT.uw.NONE};if(1===l.size){let e=Array.from(l)[0];i=null==e?{type:wT.uw.UNASSIGNED}:{type:wT.uw.WORKSPACE,workspaceId:e}}return ep.createElement(wT.IV,{licenseGroups:n,selectedLicenseGroup:i,onChange:e=>{E(t,(null==e?void 0:e.id)??"",r)}})},w=()=>ep.createElement(ep.Fragment,null,ep.createElement(TJ,{currentOrgUser:e.myOrgUser,licenseGroupsUserIsAdminOf:e.licenseGroupsUserIsAdminOf,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch}),"licenseGroup"===e.selectedViewName&&ep.createElement("div",{className:eT.cx.pb12.$},ep.createElement(du.E,{fontWeight:"medium",fontSize:13},(0,bI.o9)(gh.RM.MEMBERS)))),T={productFilter:e.filters.productFilter,licenseGroupIdFilter:e.filters.licenseGroupFilter,permissionFilter:e.filters.permissionFilter,roleFilter:e.filters.roleFilter,lastEditFilter:e.filters.lastEditFilter,newEditorFilter:e.filters.newEditorFilter},x="workspace"===e.selectedViewName,C=ep.createElement(bZ.K,{isLoading:e.isTitleLoading,title:e.title??bA(En.J7.MEMBERS),hasHorizontalPadding:!0,rightActions:ep.createElement(ej.Y,{width:"hug-contents"},"orgAdminSettings"===e.selectedViewName?ep.createElement(dD.V,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===vd.O&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===f0.s&&(a=void 0),e.dispatch((0,e0.to)({type:ya,data:{workspaceId:t,licenseGroupId:a}}))},trackingProperties:{action:"Invite Users"}},ep.createElement(du.E,{i18nId:"members_table.invite_users_button"})):ep.createElement(dD.V,{icon:"plus-32",variant:"secondary",onClick:()=>{let t=e.filters.workspaceFilter??void 0;t===vd.O&&(t=void 0);let a=e.filters.licenseGroupFilter??void 0;a===f0.s&&(a=void 0),e.dispatch((0,e0.to)({type:Tf,data:{workspaceId:t,licenseGroupId:a,addPendingOrgUserIds:e.addPendingOrgUserIds||ev.lQ,queueOrgUsersRefetch:e.queueOrgUsersRefetch||ev.lQ,invoices:e.invoices}}))},trackingProperties:{action:"Add Members"},"data-onboarding-key":vX},ep.createElement(du.E,{i18nId:"members_table.add_members_button"})),(0,br.MX)(e.selectedViewName)&&ep.createElement(dD.V,{onClick:()=>{t||(a(!0),e.dispatch(t6.F.enqueue({message:(0,e$.t)("members_table.csv_export.preparing_request"),type:"orgRoster.exportCSV",icon:bS.zX.SPINNER})),ae.Ay.post(`/api/orgs/${e.org.id}/export_members`).then(()=>{e.dispatch(t6.F.enqueue({message:(0,e$.t)("members_table.csv_export.generating"),type:"orgRoster.exportCSV",icon:bS.zX.CHECK})),a(!1)},()=>{e.dispatch(t6.F.enqueue({message:(0,e$.t)("members_table.csv_export.error"),type:"orgRoster.exportCSV",icon:bS.zX.EXCLAMATION,error:!0})),a(!1)}))},trackingProperties:{action:"Export CSV"}},ep.createElement(du.E,{i18nId:"members_table.csv_export.get_csv"})))}),N=e.customEmptyState&&0===e.sortedItems.length&&!e.isLoading&&!T8(e.filters)&&!e.searchQuery;return ep.createElement("div",{className:eS()("members_table--container--Zgc1t admin_settings_page--membersContainer--T59Nq",{"members_table--workspaceAdminContainer--PQrRs":x})},C,ep.createElement(TL,{queueOrgUsersRefetch:e.queueOrgUsersRefetch||ev.lQ,addPendingOrgUserIds:e.addPendingOrgUserIds||ev.lQ}),!eb.rr&&e.sortedItems.length>0&&ep.createElement(ep.Fragment,null,ep.createElement(tq.p,null,ep.createElement(bq,{isWorkspaceAdminMembersTable:x})),ep.createElement(tq.p,null,ep.createElement(bJ,null))),N?ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",padding:{horizontal:32}},w(),e.customEmptyState):ep.createElement(bD.Cj,{hasNewScrollContext:!0,items:e.sortedItems,columns:e.columns,getItemKey:T6,stickyContent:ep.createElement("div",null,w(),(()=>{var t;let a;uD.JT.excludeUnlessFlag([uP.oM.DEV_MODE],"billing_dev_mode_customer_ui").withOverrides({[uP.oM.WHITEBOARD]:"figjam",[uP.oM.DEV_MODE]:"devMode"}).withSuffix("AccountType").forEach((t,r)=>{e.filters.productFilter===r&&(a=e=>d[t][e])});let r=uD.JT.excludeUnlessFlag([uP.oM.DEV_MODE],"billing_dev_mode_customer_ui").sort(uD.AG);return ep.createElement("div",{className:"members_table--menuBar--NOZw9 multi_select_list--menuBar--8xNGR"},ep.createElement("div",{className:wO.cE},ep.createElement(bk.y2,{"data-onboarding-key":vq,onChange:e.onSearch,focusOnMount:!1,query:e.searchQuery,clearSearch:e.onClearSearch,placeholder:(0,e$.t)("team_view.search_bar.search_members_with_ellipsis")}),ep.createElement("div",{className:eT.cx.pl8.$},ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.product"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_PRODUCT_TYPE_DROPDOWN",values:e.org.figjam_disabled_at?[...r.exclude([uP.oM.WHITEBOARD]).values()]:[...r.values()],selectedValue:e.filters.productFilter,getDisplayText:e=>(0,pD.$)(e),updateFilter:t=>e.onFilter({productFilter:t})})),(0,br.GK)(e.org.id,e.selectedViewName)&&ep.createElement(TF,{selectedWorkspaceId:e.filters.workspaceFilter,onFilterUpdate:t=>{e.onFilter({workspaceFilter:t})},getCount:e=>{var t;return(null==(t=d.workspaces)?void 0:t[e])??0}}),(0,br.PR)(e.org.id,e.selectedViewName)&&ep.createElement(TO,{selectedLicenseGroupId:e.filters.licenseGroupFilter,onFilterUpdate:t=>{e.onFilter({licenseGroupFilter:t})},getCount:e=>{var t;return(null==(t=d.licenseGroups)?void 0:t[e])??0}}),ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.account_type"),"data-onboarding-key":vj,dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ACCOUNT_TYPE_DROPDOWN",values:[lB._D.ADMIN,lB._D.MEMBER,lB._D.GUEST,vx.WH.IDP,vx.WH.UNVERIFIED],selectedValue:e.filters.permissionFilter,getCount:e=>d.permission[e],getDisplayText:e=>(0,br.zT)(e),updateFilter:t=>e.onFilter({permissionFilter:t})}),(0,br.XO)(e.selectedViewName)&&ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.role.seat_rename"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_ROLE_DROPDOWN",values:e.filters.productFilter===uP.oM.DEV_MODE?[lB.El.FULL,lB.El.RESTRICTED]:Object.values(lB.El),selectedValue:e.filters.roleFilter,getCount:a,getDisplayText:e=>(0,bR.t)(e),updateFilter:t=>e.onFilter({roleFilter:t})}),e.filters.productFilter!==uP.oM.DEV_MODE&&ep.createElement(wT.bv,{label:(0,e$.t)("members_table.menu_bar_filter.last_edit"),dispatch:e.dispatch,dropdownShown:e.dropdownShown,dropdownType:"FILTER_LAST_EDIT_DROPDOWN",values:Object.values(vx.rk),selectedValue:e.filters.lastEditFilter,getDisplayText:e=>(0,br.Mj)(e),getCount:e=>d.lastEdit[e],updateFilter:t=>e.onFilter({lastEditFilter:t})}),((null==(t=e.invoices)?void 0:t.length)||0)>0&&(0,br.RC)(e.selectedViewName)&&ep.createElement(eH.jm,{className:wO.$u,onClick:()=>e.onFilter({newEditorFilter:!e.filters.newEditorFilter}),trackingProperties:{filterType:"NewEditorFilter",isFilterEnabled:!e.filters.newEditorFilter}},ep.createElement(bC.y,{allChecked:e.filters.newEditorFilter,someChecked:!1,onChange:ev.lQ}),ep.createElement(e$.Tx,{id:"members_table.menu_bar_filter.new_since_last_invoice"}))))})()),emptyContent:ep.createElement(TR.p,null,(()=>{let t=()=>{e.onFilter({...vx.J0,licenseGroupFilter:e.filters.licenseGroupFilter})},a=ep.createElement(e$.Tx,{id:"members_table.no_members_to_show"}),r=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"members_table.no_members_to_show"})," ",ep.createElement("a",{className:wq,onClick:()=>t()},ep.createElement(e$.Tx,{id:"multi_select_list.reset_filters"}))),n=ep.createElement(e$.Tx,{id:"members_table.no_members_match_your_search_query"});return T8(e.filters)&&e.searchQuery?0===e.lastFilterAction?n:r:T8(e.filters)?r:e.searchQuery?n:a})()),actionBar:t=>{var a,n,i,s;let o=t.filter(w9).map(e=>e.orgUser),c=o.map(e=>e.id),d=new Set(c),m=c;if(r&&null===p)return ep.createElement("div",{style:u1.sx.w150.$},ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER_ON_MENU}));let g=!1;if(r&&null!==p&&(g=e.isLoading),g&&u===ub.r.LOADING)return ep.createElement("div",{style:u1.sx.w150.$},ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER_ON_MENU}));let E=o;if(g){let t=new Set(e.sortedItems.filter(w9).map(e=>e.orgUser).map(e=>e.id).filter(e=>!d.has(e)));m=(E=_.filter(e=>!t.has(e.id))).map(e=>e.id)}let w=f(o,e=>e.is_email_validated),T=!g&&1===w.size&&w.has(!1),x=-1!==m.indexOf(e.myOrgUser.id),C=o.some(e=>!!e.scim_account_type||!!e.scim_whiteboard_paid_status),N=E.map(e=>e.user.email).filter(e=>void 0!==e);if(0===m.length)return ep.createElement(ep.Fragment,null);let k=e.org.figjam_disabled_at?[uP.lM.FIGJAM]:[];(!(0,eh.kc)().billing_dev_mode_customer_ui||e.isDevModeOptInRequired&&e.myOrgUser.permission!==lB._D.ADMIN)&&k.push(uP.lM.DEV_MODE);let S=uD.kH.exclude(k),I=S.size()>1,A=o.filter(e=>e.ecc_upgrading_locked).length>0;return ep.createElement(ep.Fragment,null,(0,br.dL)(e.selectedViewName)&&I&&!C&&!A&&ep.createElement(wT.Ve,{className:wH,dispatch:e.dispatch,showingDropdown:(null==(a=e.dropdownShown)?void 0:a.type)===Tp,type:Tp,isMultilevelDropdown:!0,chevronClassName:"members_table--whiteChevron--5ZyoS"},(null==(n=e.dropdownShown)?void 0:n.type)===Tp&&v(m,g?null:o,g?l:null,S),ep.createElement(e$.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"})),(0,br.dL)(e.selectedViewName)&&!I&&!C&&ep.createElement(ep.Fragment,null,(null==(i=e.dropdownShown)?void 0:i.type)===Tp&&h(m,g?null:o,g?l:null),ep.createElement(wT.Ve,{className:wH,dispatch:e.dispatch,showingDropdown:(null==(s=e.dropdownShown)?void 0:s.type)===Tp,type:Tp},ep.createElement(e$.Tx,{id:"members_table.batch_actions_menu.role_change.seat_rename"}))),ep.createElement(wT.IU,{label:(0,e$.t)("members_table.copy_emails_button",{userCount:m.length}),onClick:()=>{T0(N,e.dispatch)}}),T&&ep.createElement(wT.IU,{label:(0,e$.t)("members_table.resend_verification_button"),onClick:()=>{TX(m,e.org.id,e.dispatch)}}),!!e.workspacesCanMoveTo.length&&(0,br.GK)(e.org.id,e.selectedViewName)&&b(m,g?null:o,g?l:null),e.isLicenseGroupsEnabled&&(0,br.PR)(e.org.id,e.selectedViewName)&&y(m,g?null:o,g?l:null),!x&&ep.createElement(wT.IU,{label:(0,e$.t)("members_table.remove_users_button",{userCount:m.length}),onClick:()=>T3(m,g?null:e.allOrgUsersByUserId,e.org,e.dispatch)}))},scrollAwayContent:e.additionalScrollAwayContent,onScroll:()=>e.dispatch(tL.oB()),onFetchMore:e.onFetchMore,selectAllDisabled:c,onToggleSelectAll:e=>e?n(!1):n(!0),unselectableItemKeys:e.unselectableItemKeys,itemTypeContext:{itemType:"user",getSelectedCountString:e=>r&&!p?"":(0,e$.t)("multi_select_list.selected_count_user",{numSelected:e})},minContentWidth:e.columns.length<=6?(0,ti.hG)(aE.fAD):(0,ti.hG)(aE.lRB),isBannerHeightDynamic:!0,isLoading:e.isLoading,sortState:e.sortState,onSetSortState:e.onSort,trackingProperties:{batchAction:T},getTotalSelected:r&&null!==p&&e.isLoading?(e,t)=>p-(t.length-e.length):void 0}))}let T6=e=>w9(e)?e.orgUser.id:e.idpUser.email,T9=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"user.handle",weight:1},{name:"user.name",weight:1},{name:"user.email",weight:1}]});function T7(e,t,a){var r;if(!a||!(0,uJ.qu)(e,t))return!1;let n=(t=>{var a,r,n;switch(t){case uP.lM.DESIGN:return(0,pN.A)((null==(a=e.design_upgrade_reason)?void 0:a.created_at)||e.account_type_changed_at);case uP.lM.FIGJAM:return(0,pN.A)(null==(r=e.whiteboard_upgrade_reason)?void 0:r.created_at);case uP.lM.DEV_MODE:return(0,pN.A)(null==(n=e.dev_mode_upgrade_reason)?void 0:n.created_at);default:(0,eC.xb)(t)}})(t);if(!(0,h2.B8)(a))return a.buffer<0&&(null==(r=a.orgUserIds)?void 0:r.indexOf(e.id))!==-1;{let t=(0,pN.A)(a.timestamp),r=n>=t,l=e.id>=a.org_user_id;return(null==n?void 0:n.isSame(t))?l:r}}let xe=(e,t,a,r,n,l,i,s,o,c,d,m)=>u=>({dispatch:e,dropdownShown:t,isMe:a.user_id===u.user_id,isNewEditorByLicenseType:{design:T7(u,uP.lM.DESIGN,c),figjam:T7(u,uP.lM.FIGJAM,d),dev_mode:T7(u,uP.lM.DEV_MODE,m)},isOrgGuest:u.permission===lB._D.GUEST,onChangeAccountType:(t,a,l)=>T1(t,a,l,n,e,r,s,o,null),onChangeLicenseGroup:(t,a)=>T2(t,a,l,i,n,r,e,s,null),onChangeWorkspace:(t,a)=>T4(t,a,n,e,s,null),onChangeMemberPermission:TQ,onCopyEmail:()=>{T0([u.user.email],e)},onDelete:t=>T3(t,r,n,e),onResendVerification:()=>{TX([u.id],n.id,e)},org:n,orgUser:u,updateNewEditorBuffer:o,queueFilterCountsRefetch:s}),xt=(e,t,a)=>r=>({dispatch:e,dropdownShown:t,idpUser:r,onCopyEmail:()=>{T0([r.email],e)},org:a,tooltipText:r.isOrgInvite?(0,e$.t)("members_table.idp_user.pending_invite"):(0,e$.t)("members_table.idp_user.user_provisioned")});function xa(e){var t,a,r;let{org:n,dropdownShown:l,invoices:i,searchQuery:s,setSearchQuery:o,filters:c,sort:d,designBillableSeats:m,figjamBillableSeats:u,devModeBillableSeats:_,startTime:p,isLoading:g}=e,E=(0,eg.wA)(),f=(0,eg.d4)(e=>e.selectedView),h=(0,eg.d4)(e=>{let t=e.currentUserOrgId;return e.orgUsersByOrgId.orgUsers[t]}),{sortedUsers:v,status:b,fetchMore:y,queueRefetch:w,newDesignEditorCutoff:T,newWhiteboardEditorCutoff:x,newDevModeEditorCutoff:C,updateNewEditorBuffer:N}=(0,h2.oo)({searchQuery:""!==s?s:void 0,sort:d,filter:c,setDesignEditorDiff:e.setDesignEditorDiff,setWhiteboardEditorDiff:e.setWhiteboardEditorDiff,setDevModeEditorDiff:e.setDevModeEditorDiff}),k=(0,t5.Rs)(ai.Z5M,{orgId:e.org.id}),S="loading"===k.status&&!n.is_dev_mode_opt_in_accepted||(0,uJ.CA)((null==(a=null==(t=k.data)?void 0:t.org)?void 0:a.devModeOptInPlanProperty)||null),{optimisticIds:I,addOptimisticIds:A}=ba(v),L=!!(0,eh.kc)().members_optimistic_create,R=(0,t5.Rs)(ai.oSh,{orgId:n.id,orgUserIds:I},{enabled:L&&I.length>0}),O=ep.useMemo(()=>{var e,t;return("loaded"===R.status?(null==(t=(0,v9.oA)(null==(e=R.data)?void 0:e.org))?void 0:t.baseOrgUserMembersById)??[]:[]).map(e=>(0,v7.fQ)(e))},[R.status,null==(r=R.data)?void 0:r.org]),F=ep.useMemo(()=>s&&0!==O.length?(T9.set(O),T9.search(s)):O,[s,O]),M=ep.useCallback(e=>(function(e,t,a,r,n,l){var i,s,o,c,d;let m=t[vx.e5.productFilter],u=t[vx.e5.licenseGroupFilter],_=t[vx.e5.workspaceFilter],p=t[vx.e5.permissionFilter],g=t[vx.e5.roleFilter],E=t[vx.e5.lastEditFilter],f=t[vx.e5.newEditorFilter];if(g){let t=(0,vx.wQ)(e)?e.design_paid_status:e.account_type,r=t===g,n=!a&&e.whiteboard_paid_status===g,l=(t===lB.El.FULL?lB.El.FULL:e.dev_mode_paid_status)===g;if(m===uP.oM.DESIGN&&!r||m===uP.oM.WHITEBOARD&&!n||m===uP.oM.DEV_MODE&&!l||!m&&!r&&!n&&!l)return!1}if(p===vx.WH.IDP&&(0,vx.wQ)(e)||p===vx.WH.UNVERIFIED&&(!(0,vx.wQ)(e)||!1!==e.is_email_validated)||p&&p!==vx.WH.IDP&&p!==vx.WH.UNVERIFIED&&((0,vx.wQ)(e)&&!1===e.is_email_validated||((0,vx.wQ)(e)?e.permission:null)!==p))return!1;if(E){let t;if((0,vx.wQ)(e)&&(t=m===uP.oM.DESIGN?"string"==typeof e.last_design_edit?e.last_design_edit:null==(i=e.last_design_edit)?void 0:i.action_at:m===uP.oM.WHITEBOARD?"string"==typeof e.last_whiteboard_edit?e.last_whiteboard_edit:null==(s=e.last_whiteboard_edit)?void 0:s.action_at:e.last_edit),!t)return!1;let a=null;if("3mo"===E?a=(0,pN.A)().subtract(3,"month"):"6mo"===E?a=(0,pN.A)().subtract(6,"month"):"1yr"===E&&(a=(0,pN.A)().subtract(1,"year")),(0,pN.A)(t).isAfter(a))return!1}if(f&&(!(0,vx.wQ)(e)||m===uP.oM.DESIGN&&!T7(e,uP.lM.DESIGN,r)||m===uP.oM.WHITEBOARD&&!T7(e,uP.lM.FIGJAM,n)||m===uP.oM.DEV_MODE&&!T7(e,uP.lM.DEV_MODE,l)))return!1;if(u){if(!(0,vx.wQ)(e))return!1;let t=null==(o=e.license_group_member)?void 0:o.license_group_id;if(!t&&u!==f0.s||t&&u!==t)return!1}if(_){if(!(0,vx.wQ)(e))return!1;let t=null==(d=null==(c=e.workspace_users)?void 0:c.find(e=>e.is_main_workspace))?void 0:d.workspace_id;if(!t&&_!==vd.O||t&&_!==t)return!1}return!0})(e,c,!!n.figjam_disabled_at,T,x,C),[c,n.figjam_disabled_at,T,x,C]),D=ep.useMemo(()=>F.filter(M),[F,M]),P=ep.useMemo(()=>L?v.filter(M):v,[L,v,M]),[B,U]=ep.useState(TZ.FILTER),W=(0,h2.a9)(),V=!!(W&&W.permission===lB._D.ADMIN),G=(0,Ea.MX)(),$=(0,eg.d4)(e=>e.licenseGroups),j=(0,Ea.RG)(),{filterCountsViewResult:H,queueFilterCountsRefetch:q}=(0,h2.vu)(n.id,s,c),{groupsUserIsAdminOf:z,otherLicenseGroups:Y}=(0,Ea.EQ)(G,W.user_id,!V),K=(0,pf.NJ)(n.id).data??[],J=ep.useCallback(e=>(0,vx.wQ)(e)?xe(E,l,W,h,n,$,V,q,N,T,x,C)(e):xt(E,l,n)(e),[E,l,W,h,n,$,V,q,N,T,x,C]),Z=ep.useMemo(()=>P.map(J),[P,J]),Q=ep.useMemo(()=>D.map(J),[D,J]),X=new Set([...P,...D].filter(e=>!(0,vx.wQ)(e)).map(e=>e.email)),ee={columnName:d.columnName===vx.Od.SEARCH_SCORE?vx.Od.SEARCH_SCORE:(0,br.aM)(d.columnName??vx.Od.NAME,n.featured_scim_metadata),isReversed:d.isReversed},et=function(e,t,a,r,n,l,i,s,o,c,d){let m=[],u=(0,br.dL)(d),_={design:vx.Od.DESIGN_UPGRADE_DATE,whiteboard:vx.Od.WHITEBOARD_UPGRADE_DATE,dev_mode:vx.Od.DEV_MODE_UPGRADE_DATE},p=t.permission!==lB._D.ADMIN&&!a;m.push({name:(0,br.aM)(vx.Od.NAME,e.featured_scim_metadata),sorting_key:vx.Od.NAME,className:wF,getSortValue:e=>w9(e)?e.orgUser.user.handle||e.orgUser.user.email:e.idpUser.email,cellComponent:Ts});let g=()=>{m.push({name:(0,br.aM)(vx.Od.DESIGN_ROLE,e.featured_scim_metadata),onboardingKey:v0,sorting_key:vx.Od.DESIGN_ROLE,className:wM,getSortValue:e=>w9(e)?e.orgUser.design_paid_status:e.idpUser.account_type||"zz-undefined",getSecondarySortValue:e=>{if(w9(e)&&e.orgUser.design_paid_status===lB.El.FULL)return Tt(e.orgUser,uP.oM.DESIGN)},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(!w9(e))return ep.createElement(w4,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.account_type});{let r=ep.createElement(w0,{key:`members_table_design_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.design,dropdownShown:e.dropdownShown});return(0,eh.kc)().billing_dev_mode_customer_ui?ep.createElement(Tc,{hideTooltip:e.orgUser.design_paid_status!==lB.El.FULL||!!a,item:e,upgradeTimestamp:Tt(e.orgUser,uP.oM.DESIGN),upgradeReason:e.orgUser.design_upgrade_reason},r):ep.createElement("div",null,r,e.orgUser.design_paid_status===lB.El.FULL&&!a&&Td(e,Tt(e.orgUser,uP.oM.DESIGN),e.orgUser.design_upgrade_reason))}})(e,!u||!!t,o),headerClassName:wD})},E=()=>{m.push({name:(0,br.aM)(vx.Od.WHITEBOARD_ROLE,e.featured_scim_metadata),sorting_key:vx.Od.WHITEBOARD_ROLE,className:wM,getSortValue:t=>e.figjam_disabled_at?"zz-undefined":w9(t)?t.orgUser.whiteboard_paid_status||"zz-undefined":t.idpUser.whiteboard_paid_status||"zz-undefined",getSecondarySortValue:e=>{var t;if(w9(e)&&e.orgUser.whiteboard_paid_status===lB.El.FULL)return null==(t=e.orgUser.whiteboard_upgrade_reason)?void 0:t.created_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a){if(e.org.figjam_disabled_at)return ep.createElement("span",{className:"members_table--figjamDisabledColumn--M5O2Y"},"\u2013");if(!w9(e))return ep.createElement(w4,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:e.idpUser.whiteboard_paid_status});{let r=ep.createElement(w1,{key:`members_table_figjam_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.figjam,dropdownShown:e.dropdownShown});return(0,eh.kc)().billing_dev_mode_customer_ui?ep.createElement(Tc,{hideTooltip:e.orgUser.whiteboard_paid_status!==lB.El.FULL||!!a,item:e,upgradeTimestamp:Tt(e.orgUser,uP.oM.WHITEBOARD),upgradeReason:e.orgUser.whiteboard_upgrade_reason},r):ep.createElement("div",null,r,e.orgUser.whiteboard_paid_status===lB.El.FULL&&!a&&Td(e,Tt(e.orgUser,uP.oM.WHITEBOARD),e.orgUser.whiteboard_upgrade_reason))}})(e,!u||!!t,o),headerClassName:wD})},f=()=>{let t=(0,eh.kc)().billing_dev_mode_customer_ui?e=>w9(e)?e.orgUser.dev_mode_paid_status||"zz-undefined":e.idpUser.dev_mode_paid_status||"zz-undefined":void 0,a=(0,eh.kc)().billing_dev_mode_customer_ui?e=>{var t;if(w9(e)&&e.orgUser.dev_mode_paid_status===lB.El.FULL)return null==(t=e.orgUser.dev_mode_upgrade_reason)?void 0:t.created_at}:void 0;m.push({name:(0,br.aM)(vx.Od.DEV_MODE_ROLE,e.featured_scim_metadata),sorting_key:vx.Od.DEV_MODE_ROLE,className:wM,getSortValue:t,getSecondarySortValue:a,sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(w9(e)){let n=ep.createElement(w2,{key:`members_table_dev_mode_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeAccountType:e.onChangeAccountType,orgOrIdpUser:e.orgUser,isNewEditor:e.isNewEditorByLicenseType.dev_mode||!1,dropdownShown:e.dropdownShown,cannotOptInToDevMode:r});return ep.createElement(Tc,{hideTooltip:e.orgUser.dev_mode_paid_status!==lB.El.FULL||!!a,item:e,upgradeTimestamp:Tt(e.orgUser,uP.oM.DEV_MODE),upgradeReason:e.orgUser.dev_mode_upgrade_reason},n)}{let t=e.idpUser.account_type===lB.El.FULL?lB.El.FULL:e.idpUser.dev_mode_paid_status;return ep.createElement(w4,{key:`members_table_role_cell_${e.idpUser.id}`,idpUser:e.idpUser,paidStatus:t})}})(e,!u||!!t||p,o,p),headerClassName:wD})},h=()=>{m.push({name:(0,br.aM)(vx.Od.DESIGN_UPGRADE_DATE,e.featured_scim_metadata),sorting_key:o?_[o]:vx.Od.DESIGN_UPGRADE_DATE,className:"members_table--upgradeDateColumn--YKiKy members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{if(w9(e)&&w7(e.orgUser,o))return Tt(e.orgUser,o??uP.oM.DESIGN)},sortReversed:!0,cellComponent:e=>(function(e,t){if(w9(e)&&w7(e.orgUser,t)){let a=Tt(e.orgUser,t??uP.oM.DESIGN),r=t===uP.oM.WHITEBOARD&&e.org.figjam_disabled_at;if(a&&!r)return ep.createElement("div",null,ep.createElement(e$.Tx,{id:"members_table.user_upgrade_date",upgradeDate:new Date(a)}))}return ep.createElement(Te,null)})(e,o)})},v=()=>{m.push({name:(0,br.aM)(vx.Od.DESIGN_UPGRADE_REASON,e.featured_scim_metadata),sorting_key:o===uP.oM.WHITEBOARD?vx.Od.WHITEBOARD_UPGRADE_REASON:vx.Od.DESIGN_UPGRADE_REASON,className:"members_table--upgradeReasonColumn--xsNPP members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{if(w9(e)&&w7(e.orgUser,o))return wa(e.orgUser.user.handle||e.orgUser.user.name||"",o===uP.oM.WHITEBOARD?e.orgUser.whiteboard_upgrade_reason:e.orgUser.design_upgrade_reason)||""},cellComponent:e=>(function(e,t){if(w9(e)&&w7(e.orgUser,t)){let a=e.orgUser.user.handle||e.orgUser.user.name||"",r=t===uP.oM.WHITEBOARD&&e.org.figjam_disabled_at,n=uD.JT.withSuffix("_upgrade_reason").dict(t=>e.orgUser[t]),l=wa(a,t?n[t]:e.orgUser.design_upgrade_reason);if(l&&!r)return ep.createElement("div",null,l)}return ep.createElement(Te,null)})(e,o)})},b=()=>{m.push({name:(0,br.aM)(vx.Od.LAST_ACTIVE,e.featured_scim_metadata),sorting_key:vx.Od.LAST_ACTIVE,className:"members_table--lastSeenColumn--6cD9- members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>w9(e)?Tr(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!w9(e))return ep.createElement(Te,null);let a=Tr(e.orgUser,t);return a?ep.createElement("span",{"data-onboarding-key":vH,onClick:t=>{t.stopPropagation(),e.dispatch((0,e0.to)({type:ww,data:{user:e.orgUser.user,orgUser:e.orgUser,org:e.org,onClose:()=>e.dispatch(e0.Ce()),onRemoveUser:()=>{e.onDelete([e.orgUser.id])},selectedTab:wv.ACTIVITY_LOG,onChangeAccountType:e.onChangeAccountType}}))},className:wq},ep.createElement(i7.h1,{capitalize:!0,date:a})):ep.createElement(Te,null)})(e,o)})},y=()=>{m.push({name:(0,br.aM)(vx.Od.LAST_EDIT,e.featured_scim_metadata),sorting_key:vx.Od.LAST_EDIT,className:"members_table--lastEditColumn--e8goq members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>w9(e)?Tn(e.orgUser,o):void 0,sortReversed:!0,cellComponent:e=>(function(e,t){if(!w9(e))return ep.createElement(Te,null);if((e.orgUser.last_design_edit||e.orgUser.last_whiteboard_edit)&&e.orgUser.last_edit){let a=Tn(e.orgUser,t);return a?ep.createElement(eI.N_,{onClick:t=>{t.stopPropagation(),e.dispatch((0,e0.to)({type:wL,data:{user:e.orgUser.user,orgUser:e.orgUser,lastDesignEdit:e.orgUser.last_design_edit||void 0,lastWhiteboardEdit:e.orgUser.last_whiteboard_edit||void 0}}))},trusted:!0},ep.createElement(i7.h1,{capitalize:!0,date:a})):ep.createElement(Te,null)}return e.orgUser.last_edit?ep.createElement(i7.h1,{capitalize:!0,date:e.orgUser.last_edit}):ep.createElement(Te,null)})(e,o)})};if((0,br.XO)(d)&&(o===uP.oM.DESIGN?(h(),v(),g()):o!==uP.oM.WHITEBOARD||e.figjam_disabled_at?(0,eh.kc)().billing_dev_mode_customer_ui&&o===uP.oM.DEV_MODE?(h(),v(),f()):(g(),(0,eh.kc)().billing_dev_mode_customer_ui&&f(),e.figjam_disabled_at||E()):(h(),v(),E())),i.length>0&&(0,br.GK)(e.id,d)){let t={};i.forEach(e=>{t[e.id]=e}),m.push({name:(0,br.aM)(vx.Od.WORKSPACE,e.featured_scim_metadata),sorting_key:vx.Od.WORKSPACE,className:"members_table--workspaceColumn--niXcB members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{var a;if(w9(e)){let r=(0,uW.Ad)(e.orgUser);return r?(null==(a=t[r.workspace_id])?void 0:a.name)??"aaa-unassigned":"aaa-unassigned"}return"zzz-idpUser"},getSecondarySortValue:e=>{var t;if(w9(e))return(null==(t=(0,uW.Ad)(e.orgUser))?void 0:t.assigned_at)??void 0},sortSecondaryReversed:!0,cellComponent:(e,t)=>(function(e,t,a,r){if(w9(e)){let n=(0,uW.Ad)(e.orgUser);return ep.createElement("div",{className:"members_table--workspaceCell--4-gO-"},ep.createElement(w6,{key:`members_table_workspace_cell_${e.orgUser.id}`,areDropdownsDisabled:t,onChangeWorkspace:e.onChangeWorkspace,workspacesCanMoveTo:a,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),n&&function(e,t){var a,r;let n=e.assigned_at,l=e.update_reason,i="";if(e.actor_user_id){let n=t[e.actor_user_id];i=(null==(a=null==n?void 0:n.user)?void 0:a.handle)||(null==(r=null==n?void 0:n.user)?void 0:r.name)||""}let s=function(e,t){switch(e){case lB.hh.SELF_SELECTED:return(0,e$.t)("members_table.workspace_update_description.self_selected");case lB.hh.MOVED_BY_ADMIN:return t?(0,e$.t)("members_table.workspace_update_description.moved_by_admin",{adminName:t}):(0,e$.t)("members_table.workspace_update_description.moved_by_admin_generic");case lB.hh.AUTO_ASSIGNED:return(0,e$.t)("members_table.workspace_update_description.auto_assigned");default:return null}}(l,i);return s?ep.createElement("div",{className:eS()(wz,wK),"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":s,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ep.createElement(e$.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)})):ep.createElement("div",{className:wz},ep.createElement(e$.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)}))}(n,r))}return ep.createElement("div",{className:wD},ep.createElement(Te,null))})(e,!!t,i,s),headerClassName:wD})}return r&&(0,br.PR)(e.id,d)&&m.push({name:(0,br.aM)(vx.Od.LICENSE_GROUP,e.featured_scim_metadata),sorting_key:vx.Od.LICENSE_GROUP,className:"members_table--licenseGroupColumn--wgaHP members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>{var t,a;return w9(e)?(null==(t=e.orgUser.license_group_member)?void 0:t.license_group_id)&&(null==(a=n[e.orgUser.license_group_member.license_group_id])?void 0:a.name)||"aaa-unassigned":"zzz-idpUser"},getSecondarySortValue:e=>{if(w9(e)&&e.orgUser.license_group_member)return e.orgUser.license_group_member.assigned_at},sortSecondaryReversed:!0,cellComponent:(e,t)=>{var a;return a=!!t,w9(e)?ep.createElement("div",{className:"members_table--licenseGroupCell--GtafP"},ep.createElement(wJ,{key:`members_table_license_group_cell_${e.orgUser.id}`,areDropdownsDisabled:a,onChangeLicenseGroup:e.onChangeLicenseGroup,groupsCanMoveUserTo:l,orgUser:e.orgUser,dropdownShown:e.dropdownShown}),e.orgUser.license_group_member&&function(e,t){var a,r;let n=e.assigned_at,l=e.update_reason,i="";if(e.actor_user_id){let n=t[e.actor_user_id];i=(null==(a=null==n?void 0:n.user)?void 0:a.handle)||(null==(r=null==n?void 0:n.user)?void 0:r.name)||""}let s=function(e,t){switch(e){case bL.kc.SELF_SELECTED:return(0,e$.t)("members_table.billing_group_update_description.self_selected");case bL.kc.SELF_SELECTED_NOT_LISTED:return(0,e$.t)("members_table.billing_group_update_description.self_selected_not_listed");case bL.kc.SELF_SELECTED_DONT_KNOW:return(0,e$.t)("members_table.billing_group_update_description.self_selected_dont_know");case bL.kc.MOVED_BY_ADMIN:return t?(0,e$.t)("members_table.billing_group_update_description.moved_by_admin",{adminName:t}):(0,e$.t)("members_table.billing_group_update_description.moved_by_admin_generic");case bL.kc.AUTO_ASSIGNED:return(0,e$.t)("members_table.billing_group_update_description.auto_assigned");default:return null}}(l,i);return s?ep.createElement("div",{className:eS()(wz,wK),"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":s,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},ep.createElement(e$.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)})):ep.createElement("div",{className:wz},ep.createElement(e$.Tx,{id:"members_table.license_group_update_date",updateDate:new Date(n)}))}(e.orgUser.license_group_member,s)):ep.createElement("div",{className:wD},ep.createElement(Te,null))},headerClassName:wD}),e.featured_scim_metadata&&m.push({name:(0,dN.du)(e.featured_scim_metadata),sorting_key:vx.Od.SCIM_DATA,className:"members_table--scimColumn--aXOD6 members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>Tl(e)?`a${Tl(e)}`:"z",cellComponent:e=>Tl(e)?ep.createElement("span",null,Tl(e)):ep.createElement(Te,null)}),(0,eh.kc)().billing_dev_mode_customer_ui?null===o?b():(o===uP.oM.DESIGN||o===uP.oM.WHITEBOARD)&&(b(),y()):(b(),y()),m.push({name:"",className:"members_table--iconColumn--DH8JC admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t)=>t?ep.createElement(ep.Fragment,null):w9(e)?ep.createElement(T_,{...e,selectedViewName:d,queueFilterCountsRefetch:c}):e.idpUser.isOrgInvite?ep.createElement(Tm,{...e}):ep.createElement(Tu,{...e})}),m}(n,W,!S,j,$,z.concat(Y),K,h,c.productFilter,q,f.view),[,ea]=ep.useState(ee),er=ep.useMemo(()=>{if(0===Q.length)return Z;let e=et.find(e=>e.name===d.columnName);return(0,be.m)(Z,Q,e||et[0],d)},[Z,Q,et,d]),[en,el]=ep.useState(!1);ep.useEffect(()=>{let e="membersTabOrgJoinRequest"in f?f.membersTabOrgJoinRequest:null;e&&!en&&(E(e0.to({type:bx,data:{selectedOrgJoinRequest:e}})),el(!0))},[E,en,f]);let ei=ep.useCallback(e=>{let t=!1;e===vx.Od.SEARCH_SCORE?t=!1:d.columnName===e&&(t=!d.isReversed);let a={isReversed:t,columnName:e};E(tL.$T({...f,orgAdminMembersTabSort:a,orgAdminMembersTabFilters:c}));let r=e===vx.Od.SEARCH_SCORE?vx.Od.SEARCH_SCORE:(0,br.aM)(e,n.featured_scim_metadata);ea(e=>({columnName:r,isReversed:e.columnName===r&&!e.isReversed}))},[E,c,n.featured_scim_metadata,ea,d.columnName,d.isReversed,f]),es=ep.useCallback(e=>{e!==s&&(0,tn.sx)("Org user search performed",{orgId:n.id,queryLength:e.length}),o(e),U(TZ.SEARCH),e?ei(vx.Od.SEARCH_SCORE):""===e&&ei(vx.oU.columnName)},[ei,n.id,s,o]),eo=ep.useMemo(()=>(0,s5.s)(es,300),[es]),ec=b!==ub.r.SUCCESS||!!y||g;return ep.createElement(T5,{allOrgUsersByUserId:h,dispatch:E,dropdownShown:l,filterCountsViewResult:H,filters:c,lastFilterAction:B,myOrgUser:W,onFilter:e=>{let t={...c,...e};E(tL.$T({...f,orgAdminMembersTabFilters:t,orgAdminMembersTabSort:d})),U(TZ.FILTER)},onSearch:eo,onClearSearch:()=>es(""),org:n,invoices:i,searchQuery:s,isCurrentUserOrgAdmin:V,licenseGroupsById:$,licenseGroupsUserIsAdminOf:z,licenseGroupsUserIsNotAdminOf:Y,isLicenseGroupsEnabled:j,workspacesCanMoveTo:K,designBillableSeats:m,figjamBillableSeats:u,devModeBillableSeats:_,isLoading:ec,unselectableItemKeys:X,columns:et,sortState:d,onSort:ei,onFetchMore:y,sortedItems:er,queueFilterCountsRefetch:q,updateNewEditorBuffer:N,startTime:p,selectedViewName:f.view,title:e.title,isTitleLoading:e.isTitleLoading,additionalScrollAwayContent:e.additionalScrollAwayContent,queueOrgUsersRefetch:w,customEmptyState:e.customEmptyState,isDevModeOptInRequired:S,addPendingOrgUserIds:A})}function xr(){var e;let t=(0,mG.usePermissionsState)(),a=t.orgById[t.currentUserOrgId],r=(0,mG.canAdminOrg)(t.currentUserOrgId,t),n=(0,Ea.MX)(),l=(0,Ea.RG)(),{groupsUserIsAdminOf:i}=(0,Ea.EQ)(n,null==(e=t.user)?void 0:e.id,!r),s=ep.useMemo(()=>l?i:[],[l,i]),o=(0,t5.Rs)(ai.$56,{orgId:a.id},{enabled:(0,dN.kA)(a)}),c=ep.useMemo(()=>{var e,t,a;let r=((null==(a=null==(t=null==(e=o.data)?void 0:e.currentUser)?void 0:t.baseOrgUser)?void 0:a.workspaceUsers)??[]).filter(e=>e.permission===lB.bp.ADMIN).map(e=>e.workspace);return(0,tl.KQ)(r,"name"),r},[o.data]);return{isOrgAdmin:r,licenseGroups:s,workspaces:"loading"===o.status||"disabled"===o.status?(0,t5.Xm)():(0,t5.gB)(c)}}function xn(){var e;let{isOrgAdmin:t,licenseGroups:a,workspaces:r}=xr();return(t?1:0)+a.length+((null==(e=r.data)?void 0:e.length)??0)}var xl=a(485188);let xi="admin_settings_selector_dropdown_options--yellowIcon---JAeY admin_settings_link--yellowIcon--bsDMr";function xs({isOrgAdmin:e,licenseGroups:t,workspaces:a}){var r;let n=(0,eg.wA)(),l=(0,eg.d4)(e=>e.orgById)[(0,mV.dq)()],i=(0,g7.Xf)(l.id),s=(0,eg.d4)(({selectedView:e})=>e);if("loaded"!==i.status)return null;let o=(null==(r=i.data)?void 0:r.invoices)||[],c=o&&(0,uJ.hX)(o),d=null;if("orgAdminSettings"===s.view?d=s.orgAdminSettingsViewTab:("licenseGroup"===s.view&&s.subView===gh.GN.ADMIN||"workspace"===s.view&&s.subView===gw.V0.ADMIN)&&(d=s.selectedTab),!l.bigma_enabled)return null;let m=t.length>0,u=a.length>0;return ep.createElement(ep.Fragment,null,e&&ep.createElement(ep.Fragment,null,ep.createElement(pv.W.Option,{key:"org-label",disabled:!0},ep.createElement(e$.Tx,{id:"admin_settings_selector.dropdown_title.organization"})),ep.createElement(pv.W.CheckableOption,{checked:"orgAdminSettings"===s.view,key:`org-${l.id}`,onClick:()=>{n(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:(0,xl.K)(En.J7,d||En.J7.DASHBOARD)||En.J7.DASHBOARD}))}},l.name,c&&ep.createElement(Er.YR,{className:xi})),(m||u)&&ep.createElement(pv.W.Separator,{key:"post-org-separator"})),m&&ep.createElement(ep.Fragment,null,(e||u)&&ep.createElement(pv.W.Option,{key:"license-group-label",disabled:!0},ep.createElement(e$.Tx,{id:"admin_settings_selector.dropdown_title.billing_groups"})),t.map(e=>ep.createElement(pv.W.CheckableOption,{checked:"licenseGroup"===s.view&&s.subView===gh.GN.ADMIN&&s.licenseGroupId===e.id,key:`license-group-${e.id}`,onClick:()=>{n(tL.$T({view:"licenseGroup",subView:gh.GN.ADMIN,licenseGroupId:e.id,selectedTab:(0,Et.g)(d)}))}},ep.createElement("div",{style:u1.sx.flex.add({maxWidth:"500px"}).$},ep.createElement(du.E,{truncate:!0},e.name)),(0,Ea.NV)(e,o)&&ep.createElement(Er.YR,{className:xi}))),u&&ep.createElement(pv.W.Separator,{key:"post-license-groups-separator"})),u&&ep.createElement(ep.Fragment,null,(e||m)&&ep.createElement(pv.W.Option,{key:"workspace-label",disabled:!0},ep.createElement(e$.Tx,{id:"admin_settings_selector.dropdown_title.workspaces"})),a.map(e=>ep.createElement(pv.W.CheckableOption,{checked:"workspace"===s.view&&s.subView===gw.V0.ADMIN&&s.workspaceId===e.id,key:`workspace-${e.id}`,onClick:()=>{n(tL.$T({view:"workspace",subView:gw.V0.ADMIN,workspaceId:e.id,selectedTab:(0,xl.K)(gw.m2,d||gw.rj[0])||gw.rj[0]}))}},ep.createElement("div",{style:u1.sx.flex.add({maxWidth:"500px"}).$},ep.createElement(du.E,{truncate:!0},e.name))))))}var xo=a(181686),xc=a(709592),xd=a(905647);let xm=(0,xc.rw)();function xu(e){var t,a;let r;let{isOrgAdmin:n,licenseGroups:l,workspaces:i}=xr(),s=(0,mV.sZ)(),o=xn(),c=dj(),d=(0,eg.d4)(({selectedView:e})=>e),m=!1,u=null;switch(d.view){case"orgAdminSettings":r=(null==s?void 0:s.name)??(0,e$.t)("admin_settings_selector.name.organization_fallback"),u=s?ep.createElement(e7.Ro,{entity:s,size:16}):null;break;case"workspace":let _=null==(t=i.data)?void 0:t.find(e=>e.id===d.workspaceId);r=(null==_?void 0:_.name)??(0,e$.t)("admin_settings_selector.name.workspace_fallback"),m="loading"===i.status,u=_?ep.createElement(e7.z6,{entity:_,size:16}):null;break;case"licenseGroup":r=(null==(a=l.find(e=>e.id===d.licenseGroupId))?void 0:a.name)??(0,e$.t)("admin_settings_selector.name.billing_group_fallback")}let p=o>1&&!m,g=ep.createElement(xm,{hideInMobileNav:!0,key:"ADMIN_SETTINGS_SELECTOR_TAB",tab:r,selectedTab:r,mobileNavTabTitle:r,chevronClassName:xd.vH,dropdownKey:"ADMIN_SETTINGS_SELECTOR","data-onboarding-key":v1,dropdownOptions:ep.createElement(xs,{isOrgAdmin:n,licenseGroups:l,workspaces:i.data??[]})},r),E=m?ep.createElement(bN.Wi,{className:eT.cx.pr12.h12.w100.$}):ep.createElement("div",{className:eT.cx.pr12.$},ep.createElement(du.E,{truncate:!0},r));return ep.createElement(xo.W,{left:ep.createElement(ej.Y,{width:"hug-contents"},c&&ep.createElement(dH,null),u,!p&&E),showDividerBeforeTabIndex:e.navTabs.length?p?1:0:void 0,hideToolBarOnDesktop:!1,tabs:p?[g,...e.navTabs]:e.navTabs,containerClassName:c?"admin_settings_view_toolbar--adminSettingsToolBarContainerWithChevrons--hpBtR admin_settings_view_toolbar--adminSettingsToolBarContainer--BwTGu desktop_tool_bar--pageViewToolBarContainer--4qHRW desktop_tool_bar--toolBarContainer--zDA63":"admin_settings_view_toolbar--adminSettingsToolBarContainer--BwTGu desktop_tool_bar--pageViewToolBarContainer--4qHRW desktop_tool_bar--toolBarContainer--zDA63"})}function x_(){let e=(0,eg.wA)(),t=xn(),{orgAdminOriginTab:a}=(0,eg.d4)(({selectedView:e})=>e),r=dj();return a?ep.createElement(ej.Y,{direction:"horizontal",padding:{horizontal:32},height:48},r&&ep.createElement(dH,null),ep.createElement(gN,{items:[{text:(0,e$.t)("sidebar.admin_dashboard"),onClick:()=>{e(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.DASHBOARD}))}},{text:bA(a),onClick:()=>{e(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:a}))}}]})):t<=1?null:ep.createElement(xu,{navTabs:[]})}let xp="org_admin_settings_page_view--container--f4h9e",xg="org_admin_settings_page_view--fileBrowserContentContainer--aH06-",xE="org_admin_settings_page_view--fileBrowserScrollableContainer--in4VL";function xf(){var e;let t=(0,eg.d4)(({dropdownShown:e})=>e),a=(0,eg.d4)(({loadingState:e})=>e),r=(0,eg.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),n=(0,eg.d4)(({selectedView:e})=>e),l=(0,Ea.MX)(),i=(0,eg.wA)(),s=(0,g7.Xf)(null==r?void 0:r.id),o=null==(e=null==s?void 0:s.data)?void 0:e.invoices,{selectedTab:c,licenseGroupId:d}=n,m=(0,Ea.EO)(r.id);ep.useEffect(()=>{i(Ee.Jt({forceRefetch:!0}))},[i,r.id]);let u=Date.now(),[_,p]=ep.useState(""),g=l.find(e=>e.id===d),E=(0,e1.VP)(a,(0,Ea.EO)(r.id));!g&&(0,e1.mn)(a,m)&&(0,e1.D2)(a,m)&&i(tL.$T(vC.o0));let f=null;if(c===gh.RM.MEMBERS){let e={...vx.J0,...n.orgAdminMembersTabFilters,licenseGroupFilter:d},a=n.orgAdminMembersTabSort||vx.oU;f=ep.createElement(xa,{invoices:o,org:r,dropdownShown:t,key:d,filters:e,sort:a,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:u,searchQuery:_,setSearchQuery:p,isLoading:E,title:null==g?void 0:g.name,isTitleLoading:E,customEmptyState:ep.createElement(ej.Y,{direction:"vertical",width:"fill-parent",height:"hug-contents",horizontalAlignItems:"center",verticalAlignItems:"center",strokeColor:"default",strokeWidth:1,padding:20},ep.createElement(du.E,{color:"secondary",fontWeight:"semi-bold",i18nId:"license_group_admin.members.no_members_yet"}),ep.createElement(du.E,{color:"secondary",i18nId:"license_group_admin.members.no_members_yet.subtitle"}))})}return ep.createElement(ep.Fragment,null,ep.createElement(tq.p,null,ep.createElement(v8,{licenseGroupId:d})),ep.createElement(v6.r,{containerClass:xg,scrollableContainerClass:xE,toolbar:ep.createElement(x_,null),content:f}))}var xh=a(89865),xv=a.n(xh),xb=a(497882);let xy=(0,h3.bt)(e=>"loaded"!==e.orgTeams.status?(0,t5.Xm)():(0,t5.gB)(e.orgTeams.teams)),xw=(0,tY.yu)(xy,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(xb.Jt({})),()=>{t.dispatch(xb.MT())}}),xT=(0,tY.yu)(xy,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(xb.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(xb.MT())}}),xx=(0,li.eU)(e=>{let t=e((0,tY.yu)(xy,({target:e})=>{let t=e.getStore();t.getState().orgTeams.status||t.dispatch(xb.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0}))}));return"loaded"!==t.status?t:(0,t5.gB)(xv()(t.data,e=>e.id))}),xC=(0,tY.yu)(xy,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(xb.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!0,includeSecretTeams:!0})),()=>{t.dispatch(xb.MT())}}),xN=(0,tY.Iz)(e=>(0,tY.yu)(xy,({target:t})=>{let a=t.getStore();return a.getState().orgTeams.status||a.dispatch(xb.Zi({workspaceId:e})),()=>{a.dispatch(xb.MT())}}));var xk=a(780583),xS=a(651863),xI=a(509926),xA=a(656979),xL=a(675363),xR=a(357224);let xO=(0,ti.jz)(aE.Ytf);function xF(){return(0,ll.N)(`(max-width: ${xO}px)`)}var xM=a(945196),xD=((p=xD||{}).CreateFirstWorkspace="CreateFirstWorkspace",p.CreateFirstBillingGroup="CreateFirstBillingGroup",p);let xP="seen_enterprise_org_admin_onboarding",xB=(0,tZ.r1)(xP);function xU(e){let{step:t,isOverlayShowing:a,next:r,complete:n}=e;switch(t){case"CreateFirstWorkspace":return ep.createElement(vI.rq,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:xM.EL.FALLBACK,stepCounter:{stepNum:1,totalNumSteps:2},isShowing:a,targetKey:vP,trackingContextName:`${vL} - create first workspace`,title:ep.createElement(du.E,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.title"}),description:ep.createElement(du.E,{i18nId:"org_admin_onboarding.tooltip.create_first_workspace.description"}),primaryCta:{label:ep.createElement(du.E,{i18nId:"general.next"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.NEXT},onClose:n,onTargetLost:n,userFlagOnShow:xP});case"CreateFirstBillingGroup":return ep.createElement(vI.rq,{emphasized:!0,clickOutsideToHide:!0,shouldCenterArrow:xM.EL.FALLBACK,stepCounter:{stepNum:2,totalNumSteps:2},isShowing:a,targetKey:vU,trackingContextName:`${vL} - create first billing group`,title:ep.createElement(du.E,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.title"}),description:ep.createElement(du.E,{i18nId:"org_admin_onboarding.tooltip.create_first_billing_group.description"}),primaryCta:{label:ep.createElement(du.E,{i18nId:"general.got_it"}),type:"button",onClick:n,ctaTrackingDescriptor:o3.c.DONE},onClose:n,onTargetLost:n,userFlagOnShow:xP});default:(0,eC.xb)(t)}}function xW(){let e=(0,mV.sZ)(),t=(null==e?void 0:e.id)??null,a=xF(),r=(0,tY.md)(xB),n=(0,t5.Rs)(ai.Iwl,{orgId:t},{enabled:(0,dN.kA)(e)}),{show:l,complete:i,isShowing:s}=(0,tJ.e)({overlay:t4.Msu,priority:tQ.N.DEFAULT_MODAL},[r,n]),o=["CreateFirstWorkspace","CreateFirstBillingGroup"],{currentStep:c,next:d}=(0,vN.A)({numSteps:o.length,onComplete:i});return(0,tz.h)(()=>{l({canShow:(t,r)=>{var n,l;if(!(0,dN.kA)(e)||t)return!1;let i=(null==(n=r.org)?void 0:n.workspaces)??[],s=(null==(l=r.org)?void 0:l.licenseGroups)??[];return 0===i.length&&0===s.length&&!a}})}),ep.createElement(vS.U,{currentStep:c,isShowing:s,children:o.map((e,t)=>ep.createElement(xU,{key:t,step:e,isOverlayShowing:s,next:d,complete:i}))})}var xV=a(905284),xG=a(259712),x$=a(757610);let xj="admin_onboarding_overlay--bold--FFVeT",xH="admin_onboarding_overlay--listItem--qXeo9",xq="seen_sharing_clarity_admin_onboarding_overlay",xz=(0,tZ.r1)(xq);function xY(){let e=(0,tY.md)(xz),{show:t,isShowing:a,complete:r}=(0,tJ.e)({overlay:t4.XIg,priority:tQ.N.SECONDARY_MODAL},[e]);(0,tz.h)(()=>{t({canShow:e=>!e})});let n=ep.createElement(ep.Fragment,null,ep.createElement("ul",{className:"admin_onboarding_overlay--list--00013"},ep.createElement("li",{className:xH},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_1",strongInviteOnly:ep.createElement("span",{className:xj},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.invite_only"}))})),ep.createElement("li",{className:xH},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_2",strongVisible:ep.createElement("span",{className:xj},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.visible"})),strongHidden:ep.createElement("span",{className:xj},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.hidden"}))})),ep.createElement("li",{className:xH},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_3",strongAnyoneInOrg:ep.createElement("span",{className:xj},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.anyone_in_the_org"}))})),ep.createElement("li",{className:xH},ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.bullet_4"}))));return ep.createElement(xG.X,{isShowing:a,title:ep.createElement(e$.Tx,{id:"rcs.sharing_clarity.admin_overlay.new_language_for_team_access"}),media:ep.createElement(xV.y,{src:"https://static.figma.com/uploads/8c4e048a40c1f12e59d2c74adf70bbcd3ded9bb1",alt:"",aspectRatio:600/208}),description:n,primaryCta:{label:ep.createElement(e$.Tx,{id:"rcs.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.DONE},secondaryCta:{label:ep.createElement(e$.Tx,{id:"rcs.rcs_shared.learn_more"}),type:"link",href:"https://help.figma.com/hc/en-us/articles/360040450293-Create-a-team-in-an-organization",ctaTrackingDescriptor:o3.c.LEARN_MORE},trackingContextName:"Sharing Clarity Admin Onboarding Overlay",userFlagOnShow:xq,position:x$.Q.BOTTOM_RIGHT,onClose:r})}var xK=a(416256),xJ=a(887573),xZ=a(922157),xQ=a(931105),xX=a(227843);function x0(e){let{filters:t,enabledFilterIds:a,onChange:r}=e,[n,l]=ep.useState(!1),i=(e,t)=>{let n=new Set([...a]);t.currentTarget.checked?n.add(e):n.delete(e),r(n)};return ep.createElement("div",{className:eT.cx.relative.$},ep.createElement(dD.$,{icon:"filter-32",variant:"secondary",onClick:()=>l(!n)},ep.createElement(ej.Y,{horizontalAlignItems:"space-between"},ep.createElement(du.E,{i18nId:"resources_tab.libraries.filters"}),a.size>0&&ep.createElement(ej.Y,{backgroundColor:"selected",cornerRadius:2,padding:{left:4,right:4}},ep.createElement(du.E,{color:"brand",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters_applied",i18nParams:{numActiveFilters:a.size}})))),n&&ep.createElement(ep.Fragment,null,ep.createElement(pv.W.DropdownModalScrim,{closeDropdown:()=>l(!1)}),ep.createElement("div",{className:"floating_filter--floatingFilterBody--E0xix _overlayBase--_overlayBase--Rkj8l"},ep.createElement(ej.Y,{direction:"vertical",backgroundColor:"default",cornerRadius:2,spacing:0},ep.createElement(ej.Y,{horizontalAlignItems:"space-between",strokeWidth:{bottom:1},strokeColor:"default",height:40,padding:{left:16,right:4}},ep.createElement(du.E,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.filters"}),ep.createElement(dD.$,{icon:"x-32",variant:"text",onClick:()=>l(!n)})),ep.createElement(ac.P,{className:"floating_filter--scrollContainer--Q0b20"},ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(ej.Y,{height:40,padding:{left:16,right:4},horizontalAlignItems:"space-between"},ep.createElement(du.E,{fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}),a.size>0&&ep.createElement(dD.$,{variant:"text",onClick:()=>{r(new Set),l(!1)}},ep.createElement(du.E,{color:"brand",i18nId:"resources_tab.libraries.clear_all"}))),ep.createElement(ej.Y,{direction:"vertical",spacing:16,padding:{top:4,left:16,right:16,bottom:16}},t.map(e=>ep.createElement(uX.S,{key:e.id,label:e.name,truncateLabel:{truncate:"end"},checked:a.has(e.id),onChange:t=>i(e.id,t)})))))))))}var x1=a(328830),x2=a(361849),x4=a(598118),x3=a(943882);let x8=(0,li.eU)(void 0);var x5=a(613557);function x6({label:e,children:t}){return ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",spacing:0},ep.createElement(du.E,{color:"secondary"},e),t)}let x9=function({libraryData:e,orgData:t}){var a,r;let n=(0,mV.sZ)(),l=(0,eg.d4)(e=>{var t;return null==(t=e.user)?void 0:t.id}),i=e.updatedAt,s="file"===e.type?e.repoOwner:void 0,o=e.owner??s,c=e.approvedLibraries??[],d=(0,tY.md)(x8),m=(0,dN.Oe)(n)&&!!d&&c.some(e=>e.resourceType===x3.Y.Workspace&&e.resourceId===d),u=(0,dN.Oe)(n)&&n&&c.some(e=>e.resourceType===x3.Y.Org&&e.resourceId===n.id),_=null==(r=null==(a=t.workspaces)?void 0:a.find(e=>e.id===d))?void 0:r.name,p=(0,tY.md)(xX.V),g=ep.useMemo(()=>"community"===e.type&&p.has((0,xK.l)(e.hubFileId)),[e,p]);return ep.createElement(ej.Y,{direction:"vertical",width:180,spacing:16},ep.createElement(ej.Y,{height:120},ep.createElement(fw.N,{editor_type:null,client_meta:"",thumbnail_url:e.thumbnailUrl,additionalClassName:eT.cx.wFull.hFull.bRadius4.$,isLocked:!1})),ep.createElement(x6,{label:(0,e$.t)("resources_tab.libraries.library_name")},ep.createElement("span",{className:eT.cx.maxWFull.overflowBreakWord.alignTop.$,"data-testid":"library-info-library-name"},e.name,(m||u)&&ep.createElement("div",{className:eT.cx.inlineBlock.$},ep.createElement(xJ.cX,{orgNameForTooltip:u?t.name:void 0,workspaceNameForTooltip:m?_:void 0})),g&&(0,eh.kc)().dse_preset_libraries&&ep.createElement("div",{className:eT.cx.inlineBlock.ml4.$},ep.createElement(xQ.B,null)))),i&&ep.createElement(x6,{label:(0,e$.t)("resources_tab.libraries.last_published")},ep.createElement(i7.h1,{date:i})),ep.createElement(x6,{label:(0,e$.t)("resources_tab.libraries.library_owner")},ep.createElement("div",{className:eT.cx.pt2.wFull.$},o?ep.createElement(e7.az,{includeUserEmailAddress:!0,size:24,entity:{imageUrl:o.imgUrl,name:o.name??void 0,email:o.email??void 0},showIsMe:o.id===l}):ep.createElement(du.E,{i18nId:"resources_tab.libraries.file_has_no_owner"}))),"file"===e.type&&ep.createElement("a",{className:eT.cx.cursorPointer.colorTextBrand.$,href:(0,uu.jN)({file:{key:e.fileKey,name:e.name}}),target:"_blank"},ep.createElement(ej.Y,{spacing:4},ep.createElement(du.E,{i18nId:"resources_tab.libraries.open_library_file"}),ep.createElement(eL.B,{svg:x5.A,className:eT.cx.colorIconBrand.$}))))};function x7(e){var t,a,r,n,l;let i=e.file?{type:"file",fileKey:e.file.key,name:e.file.name,thumbnailUrl:`/file/${e.file.key}/thumbnail`,updatedAt:null==(t=e.file.library)?void 0:t.updatedAt,owner:null==(a=e.file.ownerRole)?void 0:a.user,repoOwner:null==(n=null==(r=e.file.repo)?void 0:r.ownerRole)?void 0:n.user,permissions:{linkAccess:e.file.linkAccess,protoLinkAccess:e.file.protoLinkAccess,orgAudience:e.file.orgAudience,orgBrowsable:e.file.orgBrowsable,hasFileLinkPassword:e.file.hasFileLinkPassword,hasProtoLinkPassword:e.file.hasProtoLinkPassword},approvedLibraries:null==(l=e.file.library)?void 0:l.approvedLibraries,teamId:e.file.teamId}:null;return{org:e.org?{id:e.org.id,name:e.org.name,librarySubscription:e.org.librarySubscriptionByLibraryKey,sharedOrgLicenseGroupSetting:e.org.sharedOrgLicenseGroupSetting,workspaces:e.org.workspaces?e.org.workspaces.map(e=>({id:e.id,name:e.name,librarySubscription:e.librarySubscriptionByLibraryKey})):null}:null,library:i}}function Ce(e){var t;let a=(0,v9.oA)(e.communityLibraryByHubFileId),r=(0,v9.oA)(e.org),n=a?{type:"community",hubFileId:a.hubFile.id,name:(null==(t=a.hubFile.currentHubFileVersion)?void 0:t.name)??"",thumbnailUrl:a.hubFile.thumbnailUrl,updatedAt:a.updatedAt,owner:a.hubFile.publishedByUser}:null;return{org:r?{id:r.id,name:r.name,librarySubscription:r.librarySubscriptionByLibraryHubFileId,sharedOrgLicenseGroupSetting:r.sharedOrgLicenseGroupSetting,workspaces:r.workspaces?r.workspaces.map(e=>({id:e.id,name:e.name,librarySubscription:e.librarySubscriptionByLibraryHubFileId})):null}:null,library:n}}function Ct(e){return"file"===e.type?e.fileKey:e.hubFileId}var Ca=a(646240),Cr=a(317440),Cn=a(304935),Cl=a(769229),Ci=a(70649),Cs=a(813545),Co=a(51638),Cc=a(259169);function Cd({request:e,fileKey:t,resourceId:a,resourceType:r}){var n;let l=`optimistic-approved-library-create-${(0,e3.g)()}`;return null==(n=(0,vf.WB)())?void 0:n.optimisticallyCreate({ApprovedLibrary:{[l]:{fileKey:t,resourceId:a,resourceType:r}}},e)}function Cm({request:e,approvedLibraryId:t}){var a;return null==(a=(0,vf.WB)())?void 0:a.optimisticallyDelete({ApprovedLibrary:{[t]:null}},e)}let Cu=new class{constructor(){this.createWorkspaceApprovedLibrary=({workspaceId:e,fileKey:t,onfulfilled:a,onrejected:r})=>Cd({request:ae.Ay.post(`/api/workspace_approved_library/${t}`,{workspace_id:e}).then(a,r),fileKey:t,resourceId:e,resourceType:x3.Y.Workspace}),this.deleteWorkspaceApprovedLibrary=({approvedLibraryId:e,workspaceId:t,fileKey:a,onfulfilled:r,onrejected:n})=>Cm({request:ae.Ay.del(`/api/workspace_approved_library/${a}`,{workspace_id:t}).then(r,n),approvedLibraryId:e}),this.createOrgApprovedLibrary=({orgId:e,fileKey:t,onfulfilled:a,onrejected:r})=>Cd({request:ae.Ay.post(`/api/org_approved_library/${t}`,{org_id:e}).then(a,r),fileKey:t,resourceId:e,resourceType:x3.Y.Org}),this.deleteOrgApprovedLibrary=({approvedLibraryId:e,orgId:t,fileKey:a,onfulfilled:r,onrejected:n})=>Cm({request:ae.Ay.del(`/api/org_approved_library/${a}`,{org_id:t}).then(r,n),approvedLibraryId:e})}},C_=nk.M4.Mutation(async e=>{await Cu.createOrgApprovedLibrary(e)}),Cp=nk.M4.Mutation(async e=>{await Cu.deleteOrgApprovedLibrary(e)});function Cg({library:e,org:t}){let a=(0,eg.wA)(),r=(0,nk.n_)(C_),n=(0,nk.n_)(Cp),[l,i]=ep.useState(!1),[s,o]=ep.useState(!1),c=e.approvedLibraries??[],d=(0,Cc.XF)(c,t.id),m=null!=d,u=m&&!s?(0,Cc.wZ)({orgName:t.name}):{},_={libraryName:e.name,resourceName:t.name};return ep.createElement(ej.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{bottom:4}},ep.createElement("div",{className:eT.cx.minW0.wFull.fontMedium.$},ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ep.createElement(e$.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),ep.createElement("div",{...u},ep.createElement(Cs.l,{disabled:l,on:m,onChange:m?()=>{d&&"file"===e.type&&(i(!0),o(!0),n({approvedLibraryId:d.id,orgId:t.id,fileKey:e.fileKey,onfulfilled:()=>{i(!1),a(t6.F.enqueue({message:(0,e$.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",_)}))},onrejected:()=>{i(!1);let e=(0,e$.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",_);a(e5.s.error(e)),console.error(e)}}))}:()=>{"file"===e.type&&(i(!0),o(!0),r({orgId:t.id,fileKey:e.fileKey,onfulfilled:()=>{i(!1),a(t6.F.enqueue({message:(0,e$.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",_)}))},onrejected:()=>{i(!1);let e=(0,e$.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",_);a(e5.s.error(e)),console.error(e)}}))}})))}let CE=nk.M4.Mutation(async e=>{await Cu.createWorkspaceApprovedLibrary(e)}),Cf=nk.M4.Mutation(async e=>{await Cu.deleteWorkspaceApprovedLibrary(e)});function Ch({library:e,org:t,workspaceId:a,workspaceName:r}){let n=(0,eg.wA)(),l=(0,mV.sZ)(),i=(0,nk.n_)(CE),s=(0,nk.n_)(Cf),[o,c]=ep.useState(!1),[d,m]=ep.useState(!1),u=e.approvedLibraries??[],_=(0,Cc.CA)(u,a),p=(0,Cc.XF)(u,(null==l?void 0:l.id)??null),g=null!=_,E=(0,dN.Oe)(l)&&null!=p,f=E?{...(0,Cc.wZ)({orgName:t.name}),"data-tooltip-is-workspace-toggle-disabled":E}:g&&!d?(0,Cc.wZ)({workspaceName:r}):{},h={libraryName:e.name,resourceName:r};return ep.createElement(ej.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{bottom:4}},ep.createElement("div",{className:eT.cx.minW0.wFull.fontMedium.$},ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ep.createElement(e$.Tx,{id:"resources_tab.approved_libraries.set_as_approved"}))),ep.createElement("div",{...f},ep.createElement(Cs.l,{disabled:o||E,on:g||E,onChange:g?()=>{_&&"file"===e.type&&(c(!0),m(!0),s({approvedLibraryId:_.id,workspaceId:a,fileKey:e.fileKey,onfulfilled:()=>{c(!1),n(t6.F.enqueue({message:(0,e$.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_success",h)}))},onrejected:()=>{c(!1);let e=(0,e$.t)("resources_tab.approved_libraries_toggle.unmark_as_approved_error",h);n(e5.s.error(e)),console.error(e)}}))}:()=>{"file"===e.type&&(c(!0),m(!0),i({workspaceId:a,fileKey:e.fileKey,onfulfilled:()=>{c(!1),n(t6.F.enqueue({message:(0,e$.t)("resources_tab.approved_libraries_toggle.mark_as_approved_success",h)}))},onrejected:()=>{c(!1);let e=(0,e$.t)("resources_tab.approved_libraries_toggle.mark_as_approved_error",h);n(e5.s.error(e)),console.error(e)}}))}})))}var Cv=((g=Cv||{}).OFF="OFF",g.ALL_FILES="ALL_FILES",g.DESIGN_FILES="DESIGN_FILES",g.FIGJAM_FILES="FIGJAM_FILES",g);let Cb="use-org-setting-toggle",Cy={OFF:"visibility-off-radio",ALL_FILES:"visibility-all-radio",DESIGN_FILES:"visibility-design-radio",FIGJAM_FILES:"visibility-figjam-radio"},Cw=e=>{if(e){let{isSubscribed:t,figJamSubscribed:a}=e;if(t&&a)return"ALL_FILES";if(t)return"DESIGN_FILES";if(a)return"FIGJAM_FILES"}return"OFF"},CT=e=>{switch(e){case"ALL_FILES":return(0,e$.t)("resources_tab.libraries.subscription.all_files");case"DESIGN_FILES":return(0,e$.t)("resources_tab.libraries.subscription.design_files");case"FIGJAM_FILES":return(0,e$.t)("resources_tab.libraries.subscription.figjam_files");default:return(0,e$.t)("resources_tab.libraries.subscription.off")}},Cx=e=>{switch(e){case"ALL_FILES":return{designSubscribed:!0,figjamSubscribed:!0};case"DESIGN_FILES":return{designSubscribed:!0,figjamSubscribed:!1};case"FIGJAM_FILES":return{designSubscribed:!1,figjamSubscribed:!0};case"OFF":return{designSubscribed:!1,figjamSubscribed:!1}}};function CC({libraryData:e,orgData:t,selectedWorkspaceId:a}){var r,n,l,i,s,o;let c=(0,eg.wA)(),d=ep.useMemo(()=>{var e;if(!a)return{...t,type:x3.Y.Org};let r=null==(e=t.workspaces)?void 0:e.find(e=>e.id===a);return r&&{...r,type:x3.Y.Workspace}},[t,a]),m=(0,t5.Rs)(ai.efs,{fileKey:Ct(e)},{enabled:(0,eh.kc)().ds_workspace_team_default_modes&&"file"===e.type}),u=(0,mV.sZ)(),[_,p]=ep.useState({}),[g,E]=ep.useState(!1),[f,h]=ep.useState(null),[v,b]=ep.useState(!1),[y,w]=ep.useState(null),[T,x]=ep.useState(null),C=(0,dN.Oe)(u),N=function(e,t,a,r){let n=(0,h2.a9)(),l=(0,dN.Oe)(t),i=(0,Cr.kL)("file"===r.type?r.fileKey:void 0),s=(null==n?void 0:n.permission)===lB._D.ADMIN;return ep.useCallback(t=>{if("file"!==r.type||(null==e?void 0:e.type)!==x3.Y.Workspace||!l||!i||s||"ALL_FILES"===t)return!1;let n=a.librarySubscription;if(!n)return!1;let o={design:n.isSubscribed,figjam:n.figJamSubscribed},c=Cx(t);return(0,Cn.T4)(o,c)},[l,s,i,r,a,e])}(d,u,t,e);if(ep.useEffect(()=>{var e,t;f!==a&&(E(!1),h(a),(0,eh.kc)().ds_workspace_team_default_modes&&a&&(null==(e=m.data)?void 0:e.file)&&Cl.j.getDefaultModes({fileKey:null==(t=m.data)?void 0:t.file.key,entityType:"workspace",entityId:a}).then(e=>{p(e.data.meta),E(!0)}))},[f,null==(r=m.data)?void 0:r.file,a]),!d)return ep.createElement(ep.Fragment,null);let k=C&&a&&"file"===e.type,S=!a,I=!!a&&null===d.librarySubscription,A=I?Cw(t.librarySubscription):Cw(d.librarySubscription);return ep.createElement(ej.Y,{direction:"vertical",padding:16},!C&&ep.createElement(du.E,{i18nId:"resources_tab.libraries.manage_library_for",i18nParams:{orgOrWorkspaceName:d.name},fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),C&&S&&"file"===e.type&&ep.createElement(ep.Fragment,null,ep.createElement(Cg,{library:e,org:t}),ep.createElement(CN,null)),a&&ep.createElement(ep.Fragment,null,k&&a&&ep.createElement(ep.Fragment,null,ep.createElement(Ch,{library:e,org:t,workspaceId:a,workspaceName:d.name}),ep.createElement(CN,null)),v&&a&&y&&"file"===e.type&&ep.createElement(Co.X,{isShowing:!0,onCancel:()=>b(!1),onConfirm:()=>{T&&(c((0,xI.PP)({libraryWorkspaceSubscription:{workspaceId:a,resourceId:e.fileKey,isCommunityLibrary:!1,subscriptions:T},libraryName:e.name,workspaceName:d.name})),b(!1),x(null),w(null))},targetKey:y,fileKey:e.fileKey}),ep.createElement(ej.Y,{direction:"horizontal",width:"fill-parent",height:"hug-contents",verticalAlignItems:"start",padding:{vertical:k?4:8}},ep.createElement("div",{className:eT.cx.minW0.wFull.$},ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",width:"fill-parent",spacing:0},ep.createElement("div",{className:eT.cx.inlineFlex.pre.maxWFull.$},ep.createElement(e$.Tx,{id:"resources_tab.libraries.use_orgs_setting",orgName:ep.createElement(du.E,{truncate:!0},t.name)})),ep.createElement(du.E,{color:"secondary",i18nId:"resources_tab.libraries.current",i18nParams:{setting:CT(Cw(t.librarySubscription))}}))),ep.createElement("span",{"data-onboarding-key":Cb},ep.createElement(Cs.l,{on:I,onChange:()=>{a&&(d.librarySubscription?c((0,xI.oA)({libraryWorkspaceSubscription:{id:d.librarySubscription.id,workspaceId:a,resourceId:Ct(e),isCommunityLibrary:"community"===e.type},libraryName:e.name,workspaceName:d.name})):N("OFF")?(b(!0),w(Cb),x({design:!1,figjam:!1})):c((0,xI.PP)({libraryWorkspaceSubscription:{workspaceId:a,resourceId:Ct(e),isCommunityLibrary:"community"===e.type,subscriptions:{design:!1,figjam:!1}},libraryName:e.name,workspaceName:d.name})))}}))),!k&&ep.createElement("div",{className:eT.cx.bt1.bSolid.colorBorder.wFull.h1.mt8.$})),ep.createElement(cO.z,{value:A,onChange:r=>{var n,l;if(r===A)return;let i={figjam:"ALL_FILES"===r||"FIGJAM_FILES"===r,design:"ALL_FILES"===r||"DESIGN_FILES"===r};a?N(r)?(b(!0),w(Cy[r]),x(i)):c((0,xI.PP)({libraryWorkspaceSubscription:{id:d.librarySubscription.id,workspaceId:a,resourceId:Ct(e),isCommunityLibrary:"community"===e.type,subscriptions:i},libraryName:e.name,workspaceName:d.name})):c((0,xI.Sn)({libraryOrgSubscription:{orgId:t.id,resourceId:Ct(e),isCommunityLibrary:"community"===e.type,subscriptions:i},userInitiated:!0,libraryName:e.name,orgName:t.name,libraryTeamId:"file"===e.type?e.teamId??null:null,currentSubscription:{design:!!(null==(n=d.librarySubscription)?void 0:n.isSubscribed),figjam:!!(null==(l=d.librarySubscription)?void 0:l.figJamSubscribed)}}))}},["OFF","ALL_FILES","DESIGN_FILES","FIGJAM_FILES"].map(e=>ep.createElement(cO.Z,{dataOnboardingKey:Cy[e],key:e,value:e,disabled:I,className:eT.cx.mt8.mb8.h16.if(I,eT.cx.opacity0_5).$,labelClassName:eT.cx.font11.$},CT(e)))),a&&(0,eh.kc)().ds_workspace_team_default_modes&&((null==(l=null==(n=m.data)?void 0:n.file)?void 0:l.variableCollections.length)??0)>0&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.bt1.bSolid.colorBorder.wFull.h1.mt16.$}),ep.createElement(du.E,{i18nId:"resources_tab.libraries.default_modes",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}),g?null==(o=null==(s=null==(i=m.data)?void 0:i.file)?void 0:s.variableCollections)?void 0:o.map(e=>{var t,r;return e.modes&&e.modes.length>1&&a&&ep.createElement(ej.Y,{width:"fill-parent",height:"hug-contents",key:e.id,spacing:16,verticalAlignItems:"center"},ep.createElement("span",{className:"library_subscription_settings--name--nMhQm"},e.name),ep.createElement(Ci.fM,{variableSet:e,modeDropdownStyle:"library_subscription_settings--modeDropdown--ijTre",fileKey:null==(r=null==(t=m.data)?void 0:t.file)?void 0:r.key,entity:{entityType:"workspace",entityId:a},defaultModeId:_[e.key],isLibraryFileEnabled:"OFF"!==A}))}):ep.createElement(e8.qc,null)))}function CN(){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.bb1.bSolid.colorBorder.wFull.h1.mt8.mb8.$}),ep.createElement(du.E,{i18nId:"resources_tab.libraries.visibility_settings",fontWeight:"medium",truncate:"line-clamp",lineClamp:2}))}let Ck=eT.cx.lh32.h32.pl16.wFull.cursorDefault;function CS({content:e}){let[t,a]=ep.useState(!1);return ep.createElement(ep.Fragment,null,ep.createElement(tD.a,{onIntersectionChange:e=>{a(!e.isIntersecting)}}),ep.createElement("div",{className:Ck.sticky.top0.colorBg.zIndex1.pt8.bRadius4.if(t,eT.cx.bb1.bSolid.colorBorder).$},ep.createElement(du.E,{fontWeight:"medium"},e)))}function CI({text:e,subscribed:t,selected:a,onClick:r}){return ep.createElement("div",{onClick:r,className:eS()(Ck.borderBox.$,a?eT.cx.colorBgSelected.$:"library_subscription_settings--rowHover--ssDfP"),role:"link",tabIndex:0},ep.createElement(ej.Y,{width:"fill-parent",spacing:0},ep.createElement(du.E,{truncate:!0},e),ep.createElement(ej.M,{minSize:4}),t&&ep.createElement(du.E,{color:"success",i18nId:"resources_tab.libraries.on"}),ep.createElement(le.In,{icon:"chevron-right-32"})))}let CA=e=>!!(e&&(e.isSubscribed||e.figJamSubscribed)),CL=(e,t)=>e?CA(e):CA(t),CR=function({libraryData:e,orgData:t}){let[a,r]=ep.useState(null),n=(0,mG.usePermissionsState)(),l=(0,mG.canAdminOrg)(t.id,n),i=t.librarySubscription,s=ep.useMemo(()=>{let e=t.workspaces||[],a=l?e:e.filter(e=>(0,mG.canAdminWorkspace)(e.id,n));return null==a?void 0:a.sort((e,t)=>{let a=CL(e.librarySubscription,i),r=CL(t.librarySubscription,i);return a&&!r?-1:!a&&r?1:e.name&&t.name&&e.name.toLowerCase()<t.name.toLowerCase()?-1:1})},[l,t,n,i]),o=(null==s?void 0:s.length)>0,c=l&&o;ep.useEffect(()=>{o&&r(e=>l&&null===e||s&&s.some(t=>t.id===e)?e:!l&&s&&s.length?s[0].id:null)},[l,t,s,o]);let d=(0,Ca.Xr)(x8);return ep.useEffect(()=>(d(a),()=>{d(void 0)}),[a,d]),ep.createElement("div",{className:eT.cx.b1.bRadius4.colorBorder.wFull.hFull.minW0.$},ep.createElement(ej.Y,{spacing:0,height:"fill-parent"},ep.createElement(ac.P,{className:eT.cx.wHalf.hFull.$},l&&ep.createElement(ep.Fragment,null,ep.createElement(CS,{content:(0,e$.t)("resources_tab.libraries.organization")}),ep.createElement(CI,{text:t.name,subscribed:CA(i),selected:!a,onClick:()=>{r(null)}})),c&&ep.createElement(ej.Y,{padding:{left:16,right:16,top:8}},ep.createElement("div",{className:eT.cx.bt1.bSolid.colorBorder.wFull.h1.$})),o&&ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(CS,{content:(0,e$.t)("resources_tab.libraries.workspaces")}),s.map(e=>e.name&&ep.createElement(CI,{key:e.id,text:e.name,selected:!!a&&a===e.id,subscribed:CL(e.librarySubscription,i),onClick:()=>r(e.id)})))),ep.createElement("div",{className:eT.cx.wHalf.hFull.bl1.colorBorder.bSolid.$},(l||a)&&ep.createElement(ac.P,{className:eT.cx.wFull.hFull.$},ep.createElement(CC,{libraryData:e,orgData:t,selectedWorkspaceId:a})))))};var CO=a(696849);let CF=(0,am.Ju)(function({libraryResourceId:e}){var t,a;let r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.currentUserOrgId),l=(0,x1.l)(),i=(0,x2.wJ)(e),s=(0,t5.Rs)(ai.R1$,{fileKey:e,orgId:n},{enabled:!i}),o=(0,t5.Rs)(ai.sNP,{hubFileId:e,orgId:n},{enabled:i}),c=(0,ep.useMemo)(()=>i?o.transform(Ce):s.transform(x7),[s,o,i]),d=null==(t=c.data)?void 0:t.library,m=null==(a=c.data)?void 0:a.org,u=ep.useCallback(()=>r(e0.Lo()),[r]);ep.useEffect(()=>{let e="loaded"===c.status&&(!d||!m);("errors"===c.status||e&&!i)&&(r(t6.F.enqueue({error:!0,message:(0,e$.t)("resources_tab.libraries.couldnt_load_library_information")})),u())},[u,r,d,m,c.status,i]);let _=l.windowInnerWidth<=(0,ti.hG)(aE.tgj),p=d&&"file"===d.type&&d.permissions&&!(0,x4.Y)({org_browsable:d.permissions.orgBrowsable,link_access:d.permissions.linkAccess}),g=d&&m&&(()=>{if(!d||(null==d?void 0:d.type)!=="file"||!m)return null;let e={link_access:d.permissions.linkAccess,proto_link_access:d.permissions.protoLinkAccess,org_audience:d.permissions.orgAudience,org_browsable:d.permissions.orgBrowsable,has_file_link_password:d.permissions.hasFileLinkPassword,has_proto_link_password:d.permissions.hasProtoLinkPassword},t={name:m.name,id:m.id,shared_org_license_group_settings:(0,E3.Td)(m,m.sharedOrgLicenseGroupSetting)};return(0,E0.Ch)(e,t)})(),E=d&&m&&(()=>{if(!d||!m)return null;let e={link_access:lB.PQ.ORG_VIEW,proto_link_access:null,org_audience:!0,org_browsable:!0,has_file_link_password:!1,has_proto_link_password:!1},t={name:m.name,id:m.id,shared_org_license_group_settings:(0,E3.Td)(m,m.sharedOrgLicenseGroupSetting)};return(0,E0.Ch)(e,t)})();return ep.createElement(sn.XV,{title:d&&_?d.name:(0,e$.t)("resources_tab.libraries.manage_this_library"),maxWidth:648,onClose:u,customButton:(0,eh.kc)().library_modal_learn_more?ep.createElement(eI.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/21310245473815",className:eT.cx.flex.itemsCenter.fontNormal.$},ep.createElement(eL.B,{className:eT.cx.colorIconBrand.pr2.$,svg:CO.A}),ep.createElement(du.E,{color:"brand",i18nId:"general.learn_more"})):void 0},ep.createElement(ej.Y,{direction:"vertical",spacing:0},p&&ep.createElement(ej.Y,{height:"hug-contents",padding:8,spacing:4,verticalAlignItems:"start",backgroundColor:"warning","data-testid":"library-management-modal-permissions-warning"},ep.createElement("div",{className:"library_management_modal--permissionsWarningIcon--8159t"},ep.createElement(le.In,{icon:"info-32"})),ep.createElement(du.E,{color:"onwarning",fontSize:13,i18nId:"resources_tab.libraries.changing_permissions_warning",i18nParams:{currentPermissions:g,resultingPermissions:E}})),ep.createElement(ej.Y,{spacing:16,padding:16,verticalAlignItems:"start",width:"fill-parent",height:400},"loading"===c.status&&ep.createElement(e8.qc,null),"loaded"===c.status&&d&&m&&ep.createElement(ep.Fragment,null,!_&&ep.createElement(x9,{libraryData:d,orgData:m}),ep.createElement(CR,{libraryData:d,orgData:m})))))},"LIBRARY_MANAGEMENT_MODAL");var CM=((E=CM||{}).ORG="ORG",E.WORKSPACE="WORKSPACE",E),CD=((f=CD||{}).NAME="NAME",f.ENABLED_FOR="ENABLED_FOR",f.COMPONENTS="COMPONENTS",f.STYLES="STYLES",f);let CP=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"library_file_name",weight:1}]}),CB="NONE";function CU(e){var t,a,r,n,l,i,s,o;let c;let{org:d,workspaceId:m,libraryStats:u,communityLibraryStats:_}=e,p=(0,eg.wA)(),[g,E]=ep.useState(new Set(m?[m]:[])),[f,h]=ep.useState(""),v=(0,tY.md)(xX.V),b=(0,pf.NJ)(d.id),y=(0,t5.Rs)(ai.IhX,{orgId:d.id}),w=(0,mV.sZ)(),T=(0,dN.Oe)(w),x=(0,tY.md)(xZ.S0),C=(0,t5.Rs)(ai.EE2,{workspaceId:m},{enabled:!!m&&T}),N=new Set;(null==(t=C.data)?void 0:t.workspace.status)===t5.tT.Loaded&&(c=null==(a=C.data.workspace.data)?void 0:a.name,N=new Set(((null==(r=C.data.workspace.data)?void 0:r.approvedLibraries)??[]).map(e=>e.fileKey))),ep.useEffect(()=>{E(new Set(m?[m]:[])),h("")},[m]),ep.useEffect(()=>{("errors"===y.status||"errors"===b.status||"loaded"===y.status&&null===y.data.org)&&p(t6.F.enqueue({error:!0,message:(0,e$.t)("resources_tab.libraries.couldnt_load_library_information")}))},[y.status,null==(n=y.data)?void 0:n.org,b.status,p]);let k=null==(i=null==(l=y.data)?void 0:l.org)?void 0:i.librarySubscriptions,S=null==(o=null==(s=y.data)?void 0:s.org)?void 0:o.workspaces,I=ep.useMemo(()=>{let e={},t=new Set;null==k||k.forEach(a=>{(a.isSubscribed||a.figJamSubscribed)&&(t.add(a.fileKey),a.fileKey in e||(e[a.fileKey]=[]),e[a.fileKey].push({type:"ORG",id:d.id,name:d.name}),(b.data??[]).forEach(t=>e[a.fileKey].push({type:"WORKSPACE",id:t.id,name:t.name})))});let a=new Set((b.data??[]).map(e=>e.id));return null==S||S.forEach(r=>{var n;a.has(r.id)&&(null==(n=r.librarySubscriptions)||n.forEach(a=>{a.fileKey in e||(e[a.fileKey]=[]);let n=a.fileKey,l=t.has(n),i=a.isSubscribed||a.figJamSubscribed;i&&!l&&e[a.fileKey].push({type:"WORKSPACE",id:r.id,name:r.name||""}),!i&&l&&(e[a.fileKey]=e[a.fileKey].filter(e=>!("WORKSPACE"===e.type&&e.id===r.id)))}))}),e},[d.id,d.name,k,S,b]),A=ep.useMemo(()=>{let e=[],t=new Set((b.data??[]).map(e=>e.id));return null==S||S.forEach(a=>{t.has(a.id)&&a.name&&e.push({id:a.id,name:a.name})}),(0,tl.KQ)(e,"name"),[{id:CB,name:(0,e$.t)("resources_tab.libraries.none")},{id:"ORG",name:d.name},...e]},[d.name,S,b]),{sortState:L,updateSortState:R,sortedItems:O}=function(e,t,a){let[r,n]=ep.useState(e),l=ep.useMemo(()=>({NAME:e=>e.library_file_name,ENABLED_FOR:e=>{var t;return(null==(t=a[e.library_file_key])?void 0:t.map(e=>e.name).join(","))||""},COMPONENTS:e=>e.num_components,STYLES:e=>e.num_styles}),[a]),i=ep.useMemo(()=>{let e=[...t];return(0,tl.Tz)(e,l[r.column],r.isReversed,r.secondaryColumn&&(null==l?void 0:l[r.secondaryColumn]),r.isSecondaryReversed),e},[t,l,r]);return{sortState:r,updateSortState:e=>{r.column===e?n(e=>({...e,isReversed:!e.isReversed})):n(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortedItems:i}}({column:"NAME",isReversed:!1},ep.useMemo(()=>{let e=[...u.files];(0,eh.kc)().dse_preset_libraries&&_&&e.push(..._);let t=e.filter(e=>(function(e,t){if(0===t.size||t.has(CB)&&(!e||0===e.length))return!0;for(let a of e||[])if("ORG"===a.type){if(t.has("ORG"))return!0}else if(t.has(a.id))return!0;return!1})(I[e.library_file_key],g));return f?(CP.set(t),CP.search(f)):t},[u.files,I,f,g,_]),I),F=(0,eg.d4)(e=>e.fileByKey),M=ep.useCallback(e=>{let t=F[e];return(null==t?void 0:t.thumbnail_url)?t.thumbnail_url:`/file/${e}/thumbnail`},[F]),D=e=>{let t=I[e];if(!t||0===t.length)return ep.createElement(du.E,{color:"secondary",i18nId:"resources_tab.libraries.no_subscriptions"});let a=t.slice(0,2).map(e=>e.name).join(", ");return t.length>2?ep.createElement(du.E,{i18nId:"resources_tab.libraries.two_or_more_workspaces",i18nParams:{workspaceNames:a,extraWorkspaceNum:t.length-2},truncate:"line-clamp",lineClamp:2}):ep.createElement(du.E,{truncate:"line-clamp",lineClamp:2},a)},P=e=>{p((0,e0.to)({type:CF,data:{libraryResourceId:e.library_file_key}}))},B=ep.createElement(x0,{filters:A,enabledFilterIds:g,onChange:E}),U=ep.createElement("div",{style:u1.sx.add({minWidth:"800px"}).$,className:eT.cx.pb24.$},ep.createElement("div",{className:"libraries_section--tableRowHeader--kXqsc libraries_section--tableRow--oJooX"},ep.createElement("div",{className:eT.cx.pt8.pb8.colorBorder.bSolid.bt1.bb1.wFull.$},ep.createElement(bk.y2,{focusOnMount:!1,query:f,onChange:h,clearSearch:()=>{h("")},placeholder:(0,e$.t)("resources_tab.libraries.search.label_with_ellipsis")})),ep.createElement(yF.Hj,{header:!0,useAdminTableStyles:!0},ep.createElement(ej.Y,{spacing:0},ep.createElement(yF.A3,{style:u1.sx.add({width:"40%"}).$},ep.createElement(yF.tD,{className:eT.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("NAME"),field:"NAME",hasArrow:"NAME"===L.column},ep.createElement(du.E,{fontWeight:"semi-bold",color:"default",i18nId:"resources_tab.libraries.name"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"30%"}).$},ep.createElement(yF.tD,{className:eT.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("ENABLED_FOR"),field:"ENABLED_FOR",hasArrow:"ENABLED_FOR"===L.column},ep.createElement(du.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.enabled_for"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyEnd.$},ep.createElement(yF.tD,{rightAligned:!0,className:eT.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("COMPONENTS"),field:"COMPONENTS",hasArrow:"COMPONENTS"===L.column},ep.createElement(du.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.components"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyEnd.$},ep.createElement(yF.tD,{rightAligned:!0,className:eT.cx.colorText.$,isDescending:!L.isReversed,sortBy:()=>R("STYLES"),field:"STYLES",hasArrow:"STYLES"===L.column},ep.createElement(du.E,{color:"default",fontWeight:"semi-bold",i18nId:"resources_tab.libraries.styles"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).$},ep.createElement("span",null)," ")))),("loading"===y.status||"loading"===b.status)&&ep.createElement(yF.FO,null),"loaded"===y.status&&"loaded"===b.status&&!O.length&&ep.createElement(TR.p,null,f?ep.createElement(du.E,{i18nId:"resources_tab.libraries.search.no_results"}):g.size>0?ep.createElement(du.E,{i18nId:"resources_tab.libraries.filter.no_results"}):ep.createElement(du.E,{i18nId:"resources_tab.libraries.no_libraries_text"})),"loaded"===y.status&&"loaded"===b.status&&ep.createElement(ep.Fragment,null,O.map(e=>{let t=x.has(e.library_file_key),a=N.has(e.library_file_key),r=v.has((0,xK.l)(e.library_file_key)),n=t?ep.createElement(xJ.cX,{orgNameForTooltip:d.name}):a?ep.createElement(xJ.cX,{workspaceNameForTooltip:c}):r&&(0,eh.kc)().dse_preset_libraries?ep.createElement("div",{className:eT.cx.ml4.$},ep.createElement(xQ.B,null)):null;return ep.createElement(yF.Hj,{key:e.library_file_key,useAdminTableStyles:!0,className:"libraries_section--tableRowBody--e7bNv libraries_section--tableRow--oJooX",onClick:()=>P(e)},ep.createElement(ej.Y,{spacing:0},ep.createElement(ej.Y,{width:"40%",padding:{right:16},spacing:16},ep.createElement(ej.Y,{width:80,height:48},ep.createElement(fw.N,{editor_type:null,client_meta:"",thumbnail_url:"COMMUNITY_LIBRARY_FILE"===e.type?e.thumbnail_url:M(e.library_file_key),additionalClassName:eT.cx.wFull.hFull.bRadius4.$,isLocked:!1})),ep.createElement("div",{className:eT.cx.flex.alignCenter.$},ep.createElement(du.E,{truncate:!0},e.library_file_name),n)),ep.createElement(ej.Y,{width:"30%",padding:{right:16}},D(e.library_file_key)),ep.createElement(ej.Y,{width:"10%",horizontalAlignItems:"end"},ep.createElement(du.E,null,e.num_components)),ep.createElement(ej.Y,{width:"10%",horizontalAlignItems:"end"},ep.createElement(du.E,null,e.num_styles)),ep.createElement(ej.Y,{width:"10%",horizontalAlignItems:"end"},ep.createElement(le.In,{icon:"chevron-right-32"}))))}),(f||g.size>0)&&ep.createElement(yF.Hj,{useAdminTableStyles:!0,className:"libraries_section--showAllLibrariesRow--ML78L libraries_section--tableRow--oJooX",onClick:()=>{h(""),E(new Set([]))}},ep.createElement(ej.Y,{horizontalAlignItems:"center"},ep.createElement(du.E,{color:"brand",i18nId:"resources_tab.libraries.show_all_libraries_button"})))));return ep.createElement(ep.Fragment,null,ep.createElement(bZ.K,{hasHorizontalPadding:!0,title:(0,e$.t)("resources_tab.libraries"),rightActions:B}),ep.createElement("div",{className:eT.cx.overflowAuto.$},ep.createElement(ac.P,{className:eT.cx.wFull.hFull.$,minContentWidth:800},U)))}var CW=a(523293);let CV="seen_org_admin_teams_onboarding",CG=(0,tZ.r1)(CV),C$=(0,bF.rn)("org_admin_teams_onboarding",(0,bP.R)(t4.Ql8));function Cj(e){let t=(0,tY.md)(CG),{isShowing:a,complete:r,show:n,uniqueId:l}=(0,tJ.e)({overlay:t4.Ql8,priority:tQ.N.DEFAULT_MODAL},[t]),i=(0,bO.zl)(C$);return(0,tz.h)(()=>{"reset"===i.currentState?n():n({canShow:e=>!e})}),(0,tK.E)(l,"Reset Onboarding",()=>n()),ep.createElement(vI.rq,{isShowing:a,trackingContextName:`${vO} Org Access`,targetKey:"teams_table_onboarding_key",userFlagOnShow:CV,onClose:r,primaryCta:{label:ep.createElement(e$.Tx,{id:"onboarding_pointers.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.GOT_IT},description:ep.createElement(e$.Tx,{id:"onboarding_pointers.teams_access_onboarding"})})}let CH="seen_workspace_admin_onboarding",Cq=(0,tZ.r1)(CH);var Cz=((h=Cz||{}).AddTeamsToWorkspace="AddTeamsToWorkspace",h.CheckUnassignedTeams="CheckUnassignedTeams",h);function CY(){let e=(0,mV.dq)(),t=(0,t5.Rs)(ai.TKM,{orgId:e}),a=(0,tY.md)(Cq),{show:r,isShowing:n,complete:l}=(0,tJ.e)({overlay:t4.YHe,priority:tQ.N.DEFAULT_MODAL},[a,t]);(0,tz.h)(()=>{r({canShow:(e,t)=>{var a,r,n;return!eb.rr&&!e&&!!(null==(n=null==(r=null==(a=t.currentUser)?void 0:a.baseOrgUser)?void 0:r.workspaceUsers)?void 0:n.some(e=>e.permission===lB.bp.ADMIN))}})});let i=["AddTeamsToWorkspace","CheckUnassignedTeams"],s=(0,vN.A)({numSteps:i.length,onComplete:l});return ep.createElement(vS.U,{currentStep:s.currentStep,isShowing:n,children:i.map(e=>ep.createElement(CK,{key:e,step:e,isShowing:n,next:s.next,complete:l}))})}function CK(e){let{step:t,isShowing:a,next:r,complete:n}=e;switch(t){case"AddTeamsToWorkspace":return ep.createElement(vI.rq,{isShowing:a,trackingContextName:vQ,userFlagOnShow:CH,onClose:n,stepCounter:{stepNum:1,totalNumSteps:2},targetKey:vJ,title:ep.createElement(e$.Tx,{id:"workspace_admin.onboarding.step_one_heading"}),description:ep.createElement(e$.Tx,{id:"workspace_admin.onboarding.step_one_description"}),primaryCta:{label:ep.createElement(e$.Tx,{id:"general.next"}),onClick:r,type:"button",ctaTrackingDescriptor:o3.c.NEXT},emphasized:!0,clickOutsideToHide:!0});case"CheckUnassignedTeams":return ep.createElement(vI.rq,{isShowing:a,trackingContextName:vQ,userFlagOnShow:CH,onClose:n,stepCounter:{stepNum:2,totalNumSteps:2},targetKey:vZ,title:ep.createElement(e$.Tx,{id:"workspace_admin.onboarding.step_two_heading"}),description:ep.createElement(e$.Tx,{id:"workspace_admin.onboarding.step_two_description"}),primaryCta:{label:ep.createElement(e$.Tx,{id:"general.got_it"}),onClick:n,type:"button",ctaTrackingDescriptor:o3.c.GOT_IT},emphasized:!0,clickOutsideToHide:!0});default:(0,eC.xb)(t)}}var CJ=a(742176);function CZ(e){var t;let a=(0,eg.wA)(),r=(0,eg.d4)(({selectedView:e})=>e);if("workspace"!==r.view||r.subView!==gw.V0.ADMIN||!r.workspaceId)return null;let n=r.teamsTabViewingUnassigned?vd.O:null==(t=e.workspace)?void 0:t.id,l=e=>{a(tL.$T({...r,teamsTabViewingUnassigned:e===vd.O}))};return ep.createElement("div",{className:eT.cx.pb20.$},e.workspace&&ep.createElement(CJ.f,{tabs:[ep.createElement(CJ.r,{key:e.workspace.id,tab:e.workspace.id,isSelected:n===e.workspace.id,onClick:l,tabName:e.workspace.name}),ep.createElement(CJ.r,{key:vd.O,dataOnboardingKey:vZ,tab:vd.O,isSelected:n===vd.O,onClick:l,tabName:(0,e$.t)("workspace.unassigned")})]}))}var CQ=a(876982),CX=a(685004),C0=a(589171),C1=a(269068),C2=a(805558);let C4=(0,am.Ju)(function(e){var t;let a=(0,eg.wA)(),r=null==(t=(0,mG.usePermissionsState)().user)?void 0:t.id;return ep.createElement(eH.fu,{name:"Team Confirm Leave Modal",properties:{userId:r,teamId:e.team.id}},ep.createElement(sn.Eo,{title:(0,e$.t)("file_browser.team.change_to_secret_team_confirmation_title",{teamName:e.team.name}),destructive:!0,onConfirm:()=>{a((0,pE.Go)({team:e.team,orgAccess:lB.bU.SECRET}))},confirmText:(0,e$.t)("file_browser.team.change_to_secret_team_confirm")},ep.createElement(e$.Tx,{id:"file_browser.team.you_will_lose_access_to_secret_team_warning"})))},"TeamConfirmChangeToSecretOrgAccess");function C3(e,t,a,r,n,l){l((t!==lB.bU.SECRET||a?1:r&&n?1:0)?(0,pE.Go)({team:e,orgAccess:t}):(0,e0.to)({type:C4,data:{team:e}}))}var C8=a(590886),C5=a(795797),C6=((v=C6||{}).JOINED="JOINED",v.NOT_JOINED="NOT_JOINED",v);function C9(){let e=[];return[lB.bU.PUBLIC,lB.bU.PRIVATE,lB.bU.SECRET].forEach(t=>{e.push({type:"option",key:t,text:(0,ph.ZP)()[t]})}),e}function C7(e,t,a,r){let n=(0,eg.wA)(),l=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),i="orgAdminSettings"===(0,eg.d4)(({selectedView:e})=>e).view;return{onAddToWorkspace:(e,t,a)=>{n(xb.xM({teams:[e],workspaceId:t,workspaceName:a}))},onChangeOrgAccess:(e,t)=>{C3(e,t,(0,mG.hasAdminRoleAccessOnTeam)(e.id,l),i,!!e.orphaned,n)},onDeleteTeam:e=>{n((0,e0.to)({type:C2.H,data:{team:e,subscriptionStatus:!0}}))},onJoinRequest:e=>{n((0,e0.to)({type:C1.$S,data:{team:e}}))},onOpenTeam:e=>n(mB.dm(e)),onRenameTeam:e=>{n(m3.WC()),n((0,e0.to)({type:hd.hc,data:{team:e}}))},onTransferTeam:e=>{n((0,e0.to)({type:hd.Lg,data:{team:e,entryPoint:C5.Lq.ORG_ADMIN_TEAMS_TABLE,onRequestClose:a}}))},onRevokeTeamTransferRequest:e=>{var a;t&&t.get(e)&&ae.Ay.del(`/api/asset_transfer/${null==(a=t.get(e))?void 0:a.asset_transfer_request_id}`).then(()=>r(e),()=>{n(t6.F.enqueue({message:(0,e$.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},onViewTeamMembers:e=>n(tL.$T({teamId:e,view:"team",teamViewTab:pF.A.MEMBERS})),onWithdrawRequestForTeam:t=>{let a=e[t.id].id;n(C0.lT({requestId:a}))},onRemoveFromWorkspace:e=>{n(xb.c5({teams:[e]}))},onOpenAccessSettings:e=>{n((0,e0.to)({type:C8.dW,data:{team:e}}))}}}var Ne=((b=Ne||{}).MIXED_JOIN="MIXED_JOIN",b);let Nt=new Set([CQ.gO.CLICK_JOIN_AS_ADMIN,CQ.gO.BYPASS_REQUEST]);function Na({workspacesCanMoveTo:e,org:t,selectedTeams:a,teamRoleRequests:r,teamPendingTransfers:n,pendingTransferRequests:l,onRevokeTransferRequestSuccess:i,onViewerJoinTeam:s,onViewerLeaveTeam:o}){var c;let d;let m=(0,eg.wA)(),u=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),{onChangeOrgAccess:_,onDeleteTeam:p,onJoinRequest:g,onOpenTeam:E,onRenameTeam:f,onTransferTeam:h,onRevokeTeamTransferRequest:v,onViewTeamMembers:b,onWithdrawRequestForTeam:y,onOpenAccessSettings:w}=C7(r,n,l,i);if(0===a.length)return ep.createElement(ep.Fragment,null);let T=a.map(e=>e.id),x=new Map;a.forEach(e=>{let a=(0,CQ.YP)(e,r[e.id],u,t.id),n=x.get(a)||[];n.push(e),x.set(a,n)});let C=e=>x.get(e)||[],N=e=>C(e).map(e=>e.id),k=null;if(a.every(e=>(0,CQ.dP)(e,u,t.id))){let e=[...x.keys()];1===e.length?k=e[0]:e.every(e=>Nt.has(e))&&(k="MIXED_JOIN")}switch(k){case CQ.gO.CLICK_JOIN:case CQ.gO.CLICK_JOIN_AS_ADMIN:d=(0,e$.t)("teams_table.join");break;case CQ.gO.CLICK_LEAVE:d=(0,e$.t)("teams_table.leave");break;case CQ.gO.CLICK_WITHDRAW:d=(0,e$.t)("teams_table.cancel_join_request");break;case CQ.gO.BYPASS_REQUEST:d=(0,e$.t)("teams_table.join_team_as_owner");break;case CQ.gO.CLICK_REQUEST:d=(0,e$.t)("teams_table.request_to_join");break;default:d=(0,e$.t)("teams_table.join")}let S=null===k,I=!a.every(e=>(0,mG.hasAdminRoleAccessOnTeam)(e.id,u)),A=()=>{m(xb.ZT({teamIds:T})),s&&T.forEach(e=>{s(e)})},L=e=>{let t=e??T;m(xb.ZT({teamIds:t,level:m5.e.ADMIN})),s&&t.forEach(e=>{s(e)})},R=()=>{for(let e of T)m((0,e0.to)({type:CX.p,data:{teamId:e,onViewerLeaveTeam:o}}))},O=()=>{for(let e of a)g(e)},F=e=>{let t=e??T;m(xb.ZT({teamIds:t,level:m5.e.OWNER})),s&&t.forEach(e=>{s(e)})},M=()=>{for(let e of a)y(e)},D=e=>{for(let t of a)t.org_access!==e&&_(t,e)},P=e=>{e?m(xb.xM({teams:a,workspaceId:e.id,workspaceName:e.name})):m(xb.c5({teams:a}))},B=()=>{if(!S)switch(k){case CQ.gO.CLICK_LEAVE:R();return;case CQ.gO.CLICK_WITHDRAW:M();return;case CQ.gO.CLICK_JOIN:A();return;case CQ.gO.CLICK_JOIN_AS_ADMIN:L();return;case CQ.gO.BYPASS_REQUEST:F();return;case CQ.gO.CLICK_REQUEST:O();return;case"MIXED_JOIN":L(N(CQ.gO.CLICK_JOIN_AS_ADMIN)),F(N(CQ.gO.BYPASS_REQUEST));return;default:return}},U=e=>e?(0,e$.t)("teams_table.this_action_cannot_be_applied_to_all_selected_teams"):void 0,W=ep.createElement(wT.IU,{key:"join",disabled:S,tooltip:U(S),onClick:()=>{B()},label:d}),V=ep.createElement(wT.IU,{key:"delete",disabled:I,tooltip:U(I),onClick:()=>{if(!I)for(let e of a)p(e)},label:(0,e$.t)("teams_table.delete")}),G=new Set(a.map(e=>e.workspace_id)),$={type:wT.uw.NONE};if(1===G.size){let e=Array.from(G)[0];$=null==e?{type:wT.uw.UNASSIGNED}:{type:wT.uw.WORKSPACE,workspaceId:e}}let j=ep.createElement(wT.Vq,{key:"workspace-update-group",workspaces:e,selectedWorkspace:$,onChange:e=>P(e)}),H=[],q=1===a.length&&(0,mG.canViewTeam)(a[0].id,u)&&(a[0].org_access===lB.bU.PUBLIC||(0,mG.hasViewerRoleAccessOnTeam)(a[0].id,u)),z=1===a.length&&(0,mG.canViewTeam)(a[0].id,u),Y=1===a.length&&(0,mG.canManageOrgTeam)(a[0].id,u),K=T.every(e=>(0,mG.canManageOrgTeam)(e,u)),J=1===a.length&&(0,mG.canManageOrgTeam)(a[0].id,u),Z=new Set(a.map(e=>e.org_access)),Q=1===a.length&&(0,mG.canAdminOrg)(t.id,u)&&(0,mG.canManageOrgTeam)(a[0].id,u),X=(0,yI.D)((null==(c=a[0])?void 0:c.id)||null,(null==t?void 0:t.id)||null)?ep.createElement(wT.IU,{key:"change-access-settings",disabled:!J,tooltip:U(!J),onClick:J?()=>w(a[0]):void 0,label:(0,e$.t)("teams_table.manage_access_setting")}):ep.createElement(wT.gD,{key:"org-access-selector",disabled:!K,tooltip:U(!K),selectedOrgAccess:1===Z.size?[...Z][0]:null,orgAccessOptions:C9(),onChange:e=>D(e)});return H.push(ep.createElement(wT.IU,{key:"view-projects",disabled:!q,tooltip:U(!q),onClick:q?()=>E(a[0].id):void 0,label:(0,e$.t)("teams_table.view_projects")}),ep.createElement(wT.IU,{key:"view-members",disabled:!z,tooltip:U(!z),onClick:z?()=>b(a[0].id):void 0,label:(0,e$.t)("teams_table.view_team_members")}),ep.createElement(wT.IU,{key:"rename-team",disabled:!Y,tooltip:U(!Y),onClick:Y?()=>f(a[0]):void 0,label:(0,e$.t)("teams_table.rename")}),X,j,n&&n.get(a[0].id)?ep.createElement(wT.IU,{key:"revoke-team-transfer",disabled:!Q,tooltip:U(!Q),onClick:()=>v(a[0].id),label:(0,e$.t)("teams_table.revoke_transfer_request")}):ep.createElement(wT.IU,{key:"transfer-team",disabled:!Q,tooltip:U(!Q),onClick:Q?()=>h(a[0]):void 0,label:(0,e$.t)("teams_table.transfer")}),V,W),ep.createElement(ep.Fragment,null,H)}var Nr=a(279959),Nn=a(342771),Nl=a(364797),Ni=a(547621),Ns=a(121968),No=a(621848),Nc=a(888300);let Nd="members_list_row--column--ji9-s",Nm="members_list_row--permissionsColumnModal--NYsjV members_list_row--column--ji9-s",Nu="members_list_row--roleRowWithRequests--WuZtW members_list_row--_membersListRowGridWithRequests---zvdR members_list_row--_membersListRowGridWithRequestsBase--uY4GW",N_="members_list_row--roleRowWithRequestsModal--Kc5lP members_list_row--_membersListRowGridWithRequestsBase--uY4GW",Np="members_list_row--acceptDenyText--BbAA3 text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",Ng="members_list_row--nameAndEmailColumn--mVBHk members_list_row--column--ji9-s members_list_row--_showWhenNarrow--bbJ-Q",NE="members_list_row--nameColumn--E2JBO members_list_row--column--ji9-s members_list_row--_hideWhenNarrow--2CbBJ",Nf="members_list_row--emailColumn--3tSyU members_list_row--column--ji9-s members_list_row--_hideWhenNarrow--2CbBJ",Nh="members_list_row--fixedContextMenu--MAoT5",Nv="members_list_row--select--PLXXH members_list_row--column--ji9-s",Nb="members_list_row--dropdownIcon--RJ-cS",Ny="members_list_row--avatarWithHandle--4CFTa";var Nw=a(112512),NT=a(957412);class Nx extends ep.Component{constructor(){super(...arguments),this.TEAM_MEMBER_LIST_ROW_DROPDOWN="team-member-list-row-dropdown",this.levelsDivRef=e=>{e&&(this.levelsDiv=e)},this.isDropdownShown=()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_MEMBER_LIST_ROW_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id,this.toggleDropdown=e=>{var t;if(this.isDropdownShown())this.props.dispatch(tL.oB());else{if(!this.levelsDiv)return;let a=null==(t=this.levelsDiv)?void 0:t.getBoundingClientRect(),r=a.bottom+e>window.innerHeight,n=window.innerHeight-a.bottom;this.props.dispatch(tL.j7({type:this.TEAM_MEMBER_LIST_ROW_DROPDOWN,data:{roleId:this.props.role.id,position:{top:r?"auto":a.top,bottom:r?n:"auto",left:a.left-28,right:"auto"}}}))}},this.resendInvite=()=>{this.props.dispatch((0,m8.$S)({role:this.props.role}))},this.onChangeLevel=e=>{(0,eC.KF)(this.props.role.resource_type===lB.vt.TEAM,"MembersListRow is only for team roles");let t=()=>this.props.dispatch((0,Ni.yN)({role:this.props.role,level:e}));e===m5.e.OWNER?this.props.dispatch((0,e0.to)({type:No.b,data:{resourceType:this.props.role.resource_type,resourceName:this.props.resourceName,newOwnerName:this.props.role.user.handle,onConfirmTransfer:()=>{t()}}})):t()},this.getPendingEntity=e=>{let t=this.props.contacts?this.props.contacts.usersByEmail[e.user.email]:{},a={...e.user,id:e.user?e.user.id:void 0};return{...t,...a}},this.viewUser=(e,t)=>{var a;this.props.isModal&&this.props.dispatch(e0.Ce()),this.props.dispatch(tL.$T({view:"user",userId:t.id,userViewTab:Ns.o.INTERNAL_PROFILE,orgId:(null==(a=this.props.team)?void 0:a.org_id)||null}))}}getEmail(){if(this.props.role.user_id===this.props.user.id)return this.props.user.email;if(this.props.contacts){let e=Object.keys(this.props.contacts.usersByEmail).find(e=>this.props.role.user_id===this.props.contacts.usersByEmail[e].id);if(e)return e}return this.props.role.user.email}renderPermissionSelect(){let e;let t=[],a=!1;if(this.props.teamIsOrphaned&&this.props.canAdminOrg)t.push(m5.e.OWNER),t.push(m5.e.ADMIN),t.push(m5.e.EDITOR),t.push(m5.e.VIEWER),a=this.props.role.pending;else if(this.props.canManageOrgTeam&&this.props.role.user_id===this.props.user.id&&!this.props.isOwnerOfResource)t.push(m5.e.ADMIN),t.push(m5.e.EDITOR),t.push(m5.e.VIEWER),a=this.props.role.pending;else if(this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource){if(!this.props.canEditRole)return ep.createElement("span",{className:"members_list_row--nonDropdownPadding--gkPjE"},(0,ph.QN)(this.props.role.level));this.props.isOwnerOfResource&&!this.props.role.pending&&t.push(m5.e.OWNER),this.props.canMakeAdmin&&t.push(m5.e.ADMIN),t.push(m5.e.EDITOR),t.push(m5.e.VIEWER),a=this.props.role.pending}else t.push(this.props.role.level);let r=-24*Math.max(0,t.indexOf(this.props.role.level));return this.isDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(e={...this.props.dropdownShown.data.position},e.top+=r),ep.createElement("div",{ref:this.levelsDivRef},ep.createElement("div",{className:Nv,onClick:()=>this.toggleDropdown(120+r)},ep.createElement("span",null,(0,ph.QN)(this.props.role.level)),ep.createElement(eL.B,{svg:Nw.A,className:Nb})),this.isDropdownShown()&&ep.createElement(pv.W.Dropdown,{className:Nh,style:e},t.map(e=>ep.createElement(pv.W.CheckableOption,{key:e,onClick:this.props.role.level!==e?()=>this.onChangeLevel(e):void 0,checked:this.props.role.level===e},(0,ph.QN)(e))),ep.createElement(pv.W.Separator,null),a&&ep.createElement(pv.W.Option,{onClick:this.resendInvite},ep.createElement(e$.Tx,{id:"file_browser.team.resend_invite"})),ep.createElement(pv.W.Option,{onClick:()=>this.onChangeLevel(m5.e.NONE)},this.props.role.user_id!==this.props.user.id||this.props.isOwnerOfResource?ep.createElement(e$.Tx,{id:"file_browser.team.remove_confirm"}):ep.createElement(e$.Tx,{id:"file_browser.team.leave_confirm"}))))}renderAvatarWithHandle(e,t){let a;this.props.role.pending||(a=this.viewUser);let r=this.props.memberIsAdmin;return ep.createElement(e7.az,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,showIsMe:this.props.role.user_id===this.props.user.id,enabled:this.props.role.pending,defaultFallbackAvatarSvg:this.props.role.pending?pi.A:void 0,className:this.props.isModal?"members_list_row--avatarWithHandleModal--hz0hL admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa":Ny,onClick:a,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--",badge:r?{color:dd.zE.DEFAULT,text:(0,e$.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:t})}render(){let{isModal:e,role:t,warningTooltipId:a,restrictedText:r}=this.props,n=t.pending?this.getPendingEntity(t):t.user;return n.email=this.getEmail(),ep.createElement("div",{className:eS()({[Nu]:!e,[N_]:e})},e&&ep.createElement("div",{className:"members_list_row--nameColumnModal--a59IY members_list_row--column--ji9-s"},this.renderAvatarWithHandle(n,!0)),!e&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:NE},this.renderAvatarWithHandle(n,!1)),ep.createElement("div",{className:Ng},this.renderAvatarWithHandle(n,!0)),ep.createElement("div",{className:Nf},ep.createElement(du.E,{truncate:!0},n.email)),ep.createElement("div",null)),ep.createElement("div",{className:e?Nm:Nd},a&&ep.createElement(eL.B,{className:"members_list_row--warningIcon--hmNxW",svg:NT.A,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":a,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":r}),this.renderPermissionSelect()))}}Nx.displayName="MemberListRow";let NC=(0,eg.Ng)((e,t)=>{let a=null,r="",n=t.role.org_user,l=(0,ph.Jd)(n,lB._Y.DESIGN),i=(0,ph.Jd)(n,lB._Y.WHITEBOARD);if(n&&(l||i)){let s=e.currentUserOrgId&&!!e.orgById[e.currentUserOrgId].figjam_disabled_at;t.role.level!==m5.e.VIEWER&&(r=(0,Nc._r)(!!l,!!i),a=n.user_id===e.user.id?!l&&i&&s?null:tM.MW.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_SELF:tM.MW.PERMISSIONS_MODAL_RESTRICTED_USER_ORG_OTHER)}let s=(0,mG.getResourceTeamId)(t.role,e),o=s&&e.teams[s]||null,c=!!(t.role.user_id&&(0,mG.canAdminOrg)(e.currentUserOrgId,e,t.role.user_id)),d=!!(t.role.user_id&&o&&(0,mG.canAdminLicenseGroup)(o.license_group_id,e,t.role.user_id));return{user:e.user,contacts:e.contacts,currentOrgId:e.currentUserOrgId,orgById:e.orgById,orgDomains:e.orgDomains,modalShown:e.modalShown,dropdownShown:e.dropdownShown,team:o,canEditRole:(0,mG.canEditRole)(t.role,e),canAdminOrg:(0,mG.canAdminOrg)(e.currentUserOrgId,e),canMakeAdmin:(0,mG.canMakeAdmin)(t.role.resource_type,t.role.resource_id_or_key,e),canManageOrgTeam:(0,mG.canManageOrgTeam)(s,e),warningTooltipId:a,restrictedText:r,resourceName:(0,mG.getResourceName)(t.role,e),isOwnerOfResource:!!s&&(0,mG.isResourceOwner)(e.user.id,s,lB.vt.TEAM,e.roles),memberIsAdmin:c||d}})(Nx),NN="team-pending-member-role-request-dropdown",Nk=()=>{let e=(0,eg.d4)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===NN?e:null};function NS(e){let t=(0,eg.wA)(),a=Nk(),r=ep.useRef(null),[n,l]=ep.useState(e.request.level),i=(0,eg.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),s=ep.useMemo(()=>i?[m5.e.EDITOR]:[m5.e.VIEWER,m5.e.EDITOR],[i]),o={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},c=n=>{if(a)t(tL.oB());else{let a=r&&r.current&&r.current.getBoundingClientRect(),l=(null==a?void 0:a.bottom)??0+n>window.innerHeight,i=window.innerHeight-((null==a?void 0:a.bottom)??0);t(tL.j7({type:NN,data:{requestId:e.request.id,position:{top:l?"auto":null==a?void 0:a.top,bottom:l?i:"auto",left:(null==a?void 0:a.left)??-28,right:"auto"}}}))}},d=e=>{l(e),t(tL.oB())},m=ep.useMemo(()=>-24*Math.max(0,s.indexOf(n)),[n,s]),u=ep.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=m),e},[a,m]),_=(e,a)=>{t(tL.$T({view:"user",userId:a.id,userViewTab:Ns.o.INTERNAL_PROFILE}))},p=(e,t)=>ep.createElement(e7.az,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,className:Ny,onClick:_,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--"}),g={request_id:e.request.id,team_id:e.request.teamId,type:n,response:"accept",source:"TeamPendingMembersRow"};return ep.createElement("div",{className:e.isModal?N_:Nu},e.isModal&&ep.createElement("div",{className:Nd},p(o,!0)),!e.isModal&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:NE},p(o,!1)),ep.createElement("div",{className:Ng},p(o,!0)),ep.createElement("div",{className:Nf},o.email)),ep.createElement("div",{className:eS()({[Nd]:!0,"members_list_row--flexRight--fGq16":e.isModal})},ep.createElement("span",{onClick:()=>{g.response="deny",(0,tn.sx)("permission_request_responded",g),t(C0.UF({requestId:e.request.id}))},className:Np,role:"button",tabIndex:-1},ep.createElement(e$.Tx,{id:"file_browser.team.dismiss"})),ep.createElement("span",{onClick:()=>{(0,tn.sx)("permission_request_responded",g),t(C0.Jd({requestId:e.request.id,level:n,teamId:e.request.teamId,email:e.request.user.email??"",user:o}))},className:Np,role:"button",tabIndex:-1},ep.createElement(e$.Tx,{id:"file_browser.team.approve"}))),ep.createElement("div",{className:e.isModal?Nm:Nd},ep.createElement("div",{ref:r},ep.createElement("div",{className:Nv,role:"button",tabIndex:0,onClick:()=>{s.length>1&&c(120+m)}},ep.createElement("span",null,(0,ph.QN)(n)),s.length>1&&ep.createElement(eL.B,{svg:Nw.A,className:Nb})),a&&a.data.requestId===e.request.id&&s.length>1&&ep.createElement(pv.W.Dropdown,{className:Nh,style:u},s.map(e=>ep.createElement(pv.W.CheckableOption,{key:e,onClick:n!==e?()=>{d(e)}:void 0,checked:n===e},(0,ph.QN)(e)))))))}function NI(e){var t,a;let r=(0,t5.Rs)(ai.Cb9,{teamId:e.teamId});if("loaded"===r.status){let n=null==(a=null==(t=r.data.team)?void 0:t.pendingTeamRoleRequests)?void 0:a.map(t=>ep.createElement(NS,{request:t,key:t.id,isModal:e.isModal}));return n&&n.length>0?ep.createElement(ep.Fragment,null,n,ep.createElement("div",{className:e.isModal?"members_list_row--pendingRequestDividerModal--A6pGp members_list_row--pendingRequestDivider--ZPQTr":"members_list_row--pendingRequestDivider--ZPQTr"})):ep.createElement(ep.Fragment,null)}return ep.createElement(ep.Fragment,null)}function NA(e){let t=(0,eg.d4)(t=>t.roles.byTeamId[e.teamId]||{}),a=(()=>{let e=[],a={};Object.values(t).forEach(t=>{if(t.pending){e.push(t);return}a[t.user.id]=t});let r=e.filter(e=>!e.user.id||!a[e.user.id]);return Object.values(a).concat(...r).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),r=a.every(e=>e.level!==m5.e.OWNER&&e.level!==m5.e.ADMIN);return 0===a.length?ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team.no_members"})):ep.createElement("div",{className:e.isModal?"":"members_list--centeredContainer--3W-iQ text--fontPos13--xW8hS text--_fontBase--QdLsd"},!e.isModal&&ep.createElement("div",{className:"members_list--headerRowWithRequests--8ZDFy members_list_row--_membersListRowGridWithRequests---zvdR members_list_row--_membersListRowGridWithRequestsBase--uY4GW"},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team.member_list_name"})),ep.createElement("div",{className:"members_list--headerEmailColumn--2VdKO members_list_row--_hideWhenNarrow--2CbBJ"},ep.createElement(e$.Tx,{id:"file_browser.team.member_list_email"})),ep.createElement("div",null),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team.member_list_permissions"}))),ep.createElement(NI,{teamId:e.teamId,isModal:e.isModal??!1}),a.map(t=>ep.createElement("div",{key:t.id,className:e.isModal?"members_list--memberRowForModal--H2MTf":""},ep.createElement(NC,{role:t,key:`team-role-${t.id}`,teamIsOrphaned:r,isModal:e.isModal}))))}var NL=a(481904),NR=a(321669);let NO=(0,am.Ju)(function({team:e}){let t=(0,eg.wA)();return ep.createElement(NR.c,{title:(0,e$.t)("resource_rename_modal.team_description.title"),initialName:e.description??"",placeholder:(0,e$.t)("resource_rename_modal.team_description.placeholder"),submitText:(0,e$.t)("resource_rename_modal.team_description.submit"),onRename:a=>t(m3.ub({teamId:e.id,description:a}))})},"UpdateTeamDescriptionModal");function NF(e){let t="team-default-permission-dropdown",a=()=>e.dropdownShown&&e.dropdownShown.type===t;return ep.createElement("div",{className:"team_default_permission_dropdown--defaultPermission--KDT-i"},ep.createElement("button",{className:"team_default_permission_dropdown--select--pAQ0G",onClick:r=>{r.stopPropagation(),r.preventDefault(),a()?e.dispatch(tL.oB()):e.dispatch(tL.j7({type:t}))}},(0,ph.nx)()[e.defaultPermission],ep.createElement(eL.B,{svg:c5.A,className:"team_default_permission_dropdown--downCaret--umRYM"})),a()&&ep.createElement("div",{className:"team_default_permission_dropdown--defaultPermissionDropdownContainer--LXUX6"},ep.createElement(pv.W.Dropdown,{className:"team_default_permission_dropdown--defaultPermissionDropdown--QVwoW"},ep.createElement(pv.W.CheckableOption,{checked:e.defaultPermission===lB.sC.VIEW,onClick:()=>{e.onChangeDefaultPermission(lB.sC.VIEW)}},(0,ph.nx)()[lB.sC.VIEW]),ep.createElement(pv.W.CheckableOption,{checked:e.defaultPermission===lB.sC.EDIT,onClick:()=>{e.onChangeDefaultPermission(lB.sC.EDIT)}},(0,ph.nx)()[lB.sC.EDIT]))))}var NM=a(561306),ND=a(562150),NP=a(77554),NB=a(496580),NU=a(479137),NW=a(948825),NV=a(953357),NG=a(103146),N$=a(985608);let Nj="settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",NH="settings_view--redLink--w3H4t blue_link--blueLink--9rlnd",Nq="settings_view--section---YT0h",Nz="settings_view--sectionHeader--gETYS text--fontPos13--xW8hS text--_fontBase--QdLsd",NY="settings_view--upgradeBanner--p3nIo",NK="settings_view--upgrageBannerIcon--LwuU9",NJ="settings_view--upgradeBannerBody---s423",NZ="settings_view--blueLinkForBanner--v8CUg settings_view--blueLink--ypxB- blue_link--blueLink--9rlnd",NQ="settings_view--accessIcon--WbLrO";var NX=a(585101);function N0(e){let t=(0,eg.wA)(),a=e.team,r=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),n=(0,mG.hasAdminRoleAccessOnTeam)(a.id,r),l=(0,mG.canAdminTeam)(a.id,r),i=(0,mG.canAdminOrg)(a.org_id,r),s=(0,CQ.Xx)(e.team,r),o=(0,uW.xw)(r),c=!!(0,eg.d4)(e=>(0,NL.p)(e)),d=(0,eg.d4)(e=>e.dropdownShown),m=(0,NG.X8)(),u=(null==o?void 0:o.permission)===lB._D.GUEST,_=a.default_permission??lB.sC.VIEW,p=a.org_id?r.orgById[a.org_id]:null,g=e.billing.summary.annual_subscription,E=e.billing.summary.monthly_subscription,f=!!g&&!g.canceled_at,h=!!E&&!E.canceled_at,v=(0,pM.w5)(a)&&!a.org_id,b=(0,yI.D)((null==a?void 0:a.id)||null,(null==a?void 0:a.org_id)||null),y=(0,eh.kc)().enable_starter_team_transfers,w=y?!u:!u&&a.org_id||v,T=y?i||l:i||v&&l,x=y?i||l:i||v,C=(0,t5.Rs)(ai.vD4,{teamId:e.team.id}),N=ep.useMemo(()=>{if("loaded"===C.status&&C.data){let e=C.data.team&&"loaded"===C.data.team.status?C.data.team.data:null;return e&&"loaded"===e.workspace.status?e.workspace.data:null}},[C]),{pending:k,updatePending:S}=e;ep.useEffect(()=>{l&&S()},[null==k?void 0:k.id,S,l]);let I=async e=>{try{await pk.$.updateAiFeaturesDisabled({teamId:a.id,aiFeaturesDisabled:e}),t(m3.yJ({team:{id:a.id,ai_features_disabled:e},userInitiated:!0}))}catch{t(e5.s.error((0,e$.t)("file_browser.file_browser_actions.team_update_error")))}},A=()=>{if(!v){t((0,e0.to)({type:hc.V,data:{teamId:a.id,upsellSource:pZ.b.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0}}));return}ef.Ay.redirect("/purchase-organization","_blank")},L=e=>{t((0,e0.to)({type:C2.H,data:{team:a,subscriptionStatus:e}}))},R=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===lB.bU.PUBLIC&&"edit"===e.default_permission?lB.PQ.ORG_EDIT:e.org_access===lB.bU.PUBLIC?lB.PQ.ORG_VIEW:void 0:lB.PQ.INVITE_ONLY;return ep.createElement("div",null,ep.createElement("div",null,ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.team_settings.team_name"})),ep.createElement("div",null,a.name),l&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:hd.hc,data:{team:a}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.change_name"})))),(l||a.description)&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.about"})),ep.createElement("div",null,a.description),l&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:NO,data:{team:a}}))}},a.description?ep.createElement(e$.Tx,{id:"file_browser.team.change_description"}):ep.createElement(e$.Tx,{id:"file_browser.team.add_a_description"}))))),l&&a.org_access!==lB.bU.SECRET&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.community_profile"})),ep.createElement("div",null,a.community_profile_handle?(0,e$.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:a.community_profile_handle}):""),ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:NP.S3,data:{teamId:a.id,profileId:a.community_profile_id,profileHandle:a.community_profile_handle}}))}},a.community_profile_handle?(0,e$.t)("file_browser.team_settings.change_profile_handle"):(0,e$.t)("file_browser.team_settings.set_profile_handle"))),a.community_profile_handle&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{a.community_profile_id&&a.community_profile_handle&&t((0,e0.to)({type:NB.M,data:{dispatch:t,profileId:a.community_profile_id,handle:a.community_profile_handle}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.delete_profile"}))),a.community_profile_handle&&a.org_id&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{a.community_profile_id&&t((0,e0.to)({type:NW.J,data:{profileId:a.community_profile_id,profileHandle:a.community_profile_handle,emptyStateText:(0,e$.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:a.community_profile_handle})}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.manage_restricted_commenters"})))),ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},a.org_id?ep.createElement(e$.Tx,{id:"file_browser.team_settings.shared"}):ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.libraries"})),ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:ND.T,data:{teamId:a.id,entrypoint:NM.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.view_team_libraries"}))),c&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:ND.lN,data:{entrypoint:NM.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.view_team_fonts"}))),m&&ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:N$.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings"}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.view_team_figjam_palettes"})))),null!=a.org_id&&a.org_access&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.settings.access"})),ep.createElement("div",null,b?ep.createElement(ep.Fragment,null,(()=>{let e=R(a),t=N||null,r=ep.createElement(eL.B,{className:NQ,svg:NX.A});return(e===lB.PQ.ORG_EDIT||e===lB.PQ.ORG_VIEW)&&p?r=ep.createElement(e7.Ro,{size:20,className:NQ,entity:p}):(e===lB.PQ.WORKSPACE_EDIT||e===lB.PQ.WORKSPACE_VIEW)&&(r=ep.createElement("div",{className:NQ},t&&ep.createElement(e7.z6,{entity:t,size:20}))),ep.createElement("div",{className:"settings_view--accessDescription--M8-5K"},r,ep.createElement("div",null,(0,NU.wO)(lB.vt.TEAM,p,t,e)))})(),l&&p&&ep.createElement("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--baOXf modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,e0.to)({type:C8.dW,data:{team:a,goBack:()=>{t((0,e0.Lo)())}}}))}},ep.createElement(e$.Tx,{id:"team_view.team_permissions_modal.change"}))):ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"file_browser.team_settings.access_with_org"}),l&&ep.createElement(pw,{orgAccess:a.org_access,dropdownShown:d,onChangeOrgAccess:e=>{C3(a,e,n,i,s,t)}}),!l&&ep.createElement("span",null," ",(0,ph.ZP)()[a.org_access]))),p&&!b&&ep.createElement(du.E,{color:"secondary"},pb(p.name)[a.org_access]),!l&&ep.createElement("div",null,ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),null!=a.org_id&&a.org_access===lB.bU.PUBLIC&&!b&&ep.createElement("div",{className:Nq},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team_settings.default_permission"}),l&&ep.createElement(NF,{defaultPermission:_,dropdownShown:d,onChangeDefaultPermission:e=>{t((0,pE.Sb)({team:a,defaultPermission:e}))},dispatch:t}),!l&&ep.createElement("span",null," ",(0,ph.nx)()[_])),ep.createElement("div",null,ep.createElement(du.E,{color:"secondary"},{[lB.sC.EDIT]:ep.createElement(e$.Tx,{id:"team_creation.can_edit_description"}),[lB.sC.VIEW]:ep.createElement(e$.Tx,{id:"team_creation.can_view_description"})}[_])),!l&&ep.createElement("div",null,ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:"file_browser.team_settings.team_admins_and_owners_can_change"})))),!a.org_id&&l&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.team_settings.figma_and_figjam_ai"}),ep.createElement(dd.Ex,{text:(0,e$.t)("general.beta"),className:"settings_view--betaTag--kpVAI",color:dd.zE.DESIGN})),ep.createElement("div",{className:"settings_view--toggleSectionContainer--BPmF-"},ep.createElement("div",{className:"settings_view--toggleSectionContainerDescription--FW8Bn"},ep.createElement(e$.Tx,{id:"file_browser.team_settings.enable_ai_features",spaceChar:ep.createElement(ep.Fragment,null,"\xa0"),learnMoreLink:ep.createElement("a",{target:"_blank",rel:"noopener",className:Nj,href:NV.W9},ep.createElement(e$.Tx,{id:"file_browser.team_settings.learn_more"}))})),ep.createElement(Cs.l,{on:!a.ai_features_disabled,onChange:e=>{I(!e)}})),ep.createElement("div",{className:"settings_view--descriptionSecondary--vsf1-"},ep.createElement(e$.Tx,{id:"file_browser.team_settings.enable_ai_features_description"}))),v&&l&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"settings_table.plan_and_billing"})),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_nudge"})),ep.createElement("button",{className:Nj,onClick:()=>{t(tL.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:pF.I.BILLING})),t((0,e0.Lo)())}},ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.admin_console_billing_button"}))),w&&ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"file_browser.team_settings.transfer"})),ep.createElement("div",null,k?ep.createElement(ep.Fragment,null,ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",sourceUserEmail:k.source_user_email,destinationUserEmail:k.destination_user_email})),x&&ep.createElement("div",null,ep.createElement("button",{className:NH,onClick:e.onRevokeTransfer},ep.createElement(e$.Tx,{id:"file_browser.folder_settings.revoke"})))):T?ep.createElement(e$.Tx,{id:"file_browser.team_settings.transfer_team_link_to_an_external_organization",transferTeamLink:ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:hd.Lg,data:{team:a,entryPoint:C5.Lq.ORG_TEAM_SETTINGS,onRequestClose:e.updatePending}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.transfer_team"}))}):ep.createElement(ep.Fragment,null,ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",orgName:null==p?void 0:p.name})),ep.createElement("div",null,ep.createElement("button",{className:Nj,onClick:()=>{t((0,e0.to)({type:hd.Y4,data:{team:a,entryPoint:C5.Lq.ORG_TEAM_SETTINGS}}))}},ep.createElement(e$.Tx,{id:"file_browser.team_settings.see_who_can_help_with_transfers"})))))),!v&&!a.org_id&&l&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Nq},ep.createElement("div",{className:Nz},ep.createElement(e$.Tx,{id:"team_view.settings_table.delete_team"})),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"team_view.settings_table.delete_team_description"})),ep.createElement("div",null,ep.createElement("button",{className:NH,onClick:()=>L(f||h)},ep.createElement(e$.Tx,{id:"file_browser.team_settings.delete_team"})))),ep.createElement("div",{className:NY},ep.createElement(eL.B,{className:NK,svg:sE.A}),ep.createElement("div",{className:NJ},ep.createElement("strong",null,ep.createElement(e$.Tx,{id:"upgrade.ready_to_go_beyond_free_plan"})),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"upgrade.more_features"}),ep.createElement(eH.$z,{className:NZ,onClick:A,trackingProperties:{trackingDescriptor:o3.c.UPGRADE,upsellSource:pZ.b.TEAM_SETTINGS_MODAL}},ep.createElement(e$.Tx,{id:"upgrade.view_plans"})))))),v&&l&&ep.createElement("div",{className:NY},ep.createElement(eL.B,{className:NK,svg:sE.A}),ep.createElement("div",{className:NJ},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.upgrade_to_organization"}),ep.createElement(eH.$z,{className:NZ,onClick:A,trackingProperties:{trackingDescriptor:o3.c.UPGRADE_TO_ORGANIZATION,upsellSource:pZ.b.TEAM_SETTINGS_MODAL}},ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.upgrade"}))))))}var N1=a(499655);let N2=(0,xc.rw)();var N4=((y=N4||{}).SETTINGS="SETTINGS",y.MEMBERS="MEMBERS",y);let N3=(0,at.nF)(async(e,{teamId:t})=>{await gk.kb.promise;let a=e.getState();t&&(0,mG.canViewTeam)(t,a)&&(0,Nn.xN)(t,e)});function N8(e){let t={MEMBERS:(0,e$.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,e$.t)("file_browser.team_settings_modal.settings_tab")},a=(0,eg.d4)(t=>(0,mG.canEditTeam)(e.team.id,t)),r=ep.useRef(null),{setToolbarWidth:n}=e;ep.useEffect(()=>{var e;if(r){let t=null==(e=r.current)?void 0:e.offsetWidth;t&&n(t)}},[n]);let l=(0,yI.D)(e.team.id,e.team.org_id)&&e.team.org_id,i=l?[ep.createElement("div",{key:"SETTINGS",className:"team_settings_modal--settingsHeader--5x8ah"},t.SETTINGS)]:(0,tl.WI)(Object.entries(t).map(([t,r])=>{if("SETTINGS"===t&&a||"MEMBERS"===t)return ep.createElement(N2,{tab:t,mobileNavTabTitle:r,selectedTab:e.selectedTab,key:t,onClick:()=>e.setTab(t)},r)}));return e.isMobile?ep.createElement(Nl.F,{tabs:i,dispatch:e.dispatch,width:"100vw"}):ep.createElement("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--Ui-Tg",style:{minWidth:e.contentWidth},ref:r},ep.createElement(xo.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--fQyD4 team_settings_modal--toolBarContainer--uvT4G":"team_settings_modal--toolBarContainerFullWidth--UA2OT team_settings_modal--toolBarContainer--uvT4G"} team_settings_modal--borderRadius--7cvDS`,tabs:i,hideToolBarOnDesktop:!1}),ep.createElement(u7.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--Yix8f":"team_settings_modal--settingsCloseButton--sf3hL",onClose:()=>N6(e.dispatch,e.team,e.viewOnClose)}))}let N5="TEAM_SETTINGS_MODAL",N6=(e,t,a)=>{e(tL.$T(a))},N9=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=ep.useRef(null),[r,n]=ep.useState(-1),l=e.teamSettingsProps,i=e.canAdmin,s=e.entryView,o=(0,eg.d4)(e=>e.teams[l.team.id]),c=(0,eg.d4)(e=>e.avatarEditorState),d=(0,eg.d4)(e=>e.roles||{});if(ep.useEffect(()=>{t(Nr.um())},[t]),ep.useEffect(()=>{o&&t(N3({teamId:o.id}))},[t,o]),!o)return null;let m=eb.rr,u=m?window.innerWidth:Math.min(.7*window.innerWidth,650),_=m?window.innerWidth:Math.max(u,r),p=i?ep.createElement(fp.FL,{entity:o,entityType:f_.ck.TEAM,avatarEditorState:c,size:80,dispatch:t,avatarSvg:N1.A,svgSizeRatio:.6}):ep.createElement(dm.nl,{team:o,size:80,avatarSvg:N1.A,svgSizeRatio:.6});return ep.createElement(eH.fu,{name:"Team Settings Modal",properties:{teamId:o.id}},ep.createElement(au.aF,{popStack:!0,size:_,height:m?window.innerHeight:.8*window.innerHeight,className:m?"team_settings_modal--fullScreenModal--JpmRA team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--vTKGm team_settings_modal--modal--hXRLf modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",dispatch:t,modalRef:a,onHide:()=>N6(t,o,s)},ep.createElement(N8,{selectedTab:e.tab,setTab:e=>{t(e0.hm({type:N5,data:{tab:e,canAdmin:i,teamSettingsProps:l,entryView:s}}));let r="team"===s.view?{view:"team",teamId:o.id,teamViewTab:"SETTINGS"===e?pF.A.SETTINGS:pF.A.MEMBERS}:s;t(tL.$T(r));let n=a.current;n&&(n.scrollTop=0)},dispatch:t,isMobile:m,contentWidth:u,setToolbarWidth:n,team:o,viewOnClose:s}),ep.createElement("div",{className:"team_settings_modal--modalBody--1wz43"},ep.createElement("div",{className:"team_settings_modal--avatarContainer--mluVf"},p),"SETTINGS"===e.tab&&ep.createElement(eH.fu,{name:"Team Settings"},ep.createElement("div",{className:"team_settings_modal--settingsContainer--I6MhY"},ep.createElement(N0,{team:o,pending:l.pending,onRevokeTransfer:l.onRevokeTransfer,updatePending:l.updatePending,billing:l.billing}))),"MEMBERS"===e.tab&&ep.createElement("div",{className:"team_settings_modal--membersContainer--n-pMM"},ep.createElement("div",{className:"team_settings_modal--membersHeader--ZxZWg"},ep.createElement(du.E,{color:"secondary",fontSize:12},o.name,ep.createElement(e$.Tx,{id:"file_browser.team_settings_modal.members_tab_header",numMembers:(0,gg.pG)(d,o.id).length}))),ep.createElement(NA,{teamId:o.id,isModal:!0})))))},N5,am.ZU.YES);function N7(e,t,a,r){let n=(0,eg.wA)();return ep.useCallback(()=>{var l,i;void 0!==t&&((0,yI.D)((null==(l=t.team)?void 0:l.id)||null,(null==(i=t.team)?void 0:i.org_id)||null)&&e===N4.MEMBERS&&t.team.org_id?n(e0.to({type:hd.T9,data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):n(e0.to({type:N9,data:{tab:e,teamSettingsProps:t,canAdmin:a,entryView:r}})))},[e,t,a,r,n])}let ke="teams_table--menuBar--HgJZM multi_select_list--menuBar--8xNGR",kt="teams_table--teamNameColumn--shBNF teams_table--column--F5XKe table--column--974RA",ka="teams_table--workspaceColumn--PZLJb teams_table--column--F5XKe table--column--974RA",kr="teams_table--ownerColumn--AUoZk teams_table--column--F5XKe table--column--974RA",kn="teams_table--projectsColumn--xOqvQ teams_table--column--F5XKe table--column--974RA",kl="teams_table--membersColumn---Vt9A teams_table--column--F5XKe table--column--974RA",ki="teams_table--orgAccessColumn--PTlhV teams_table--column--F5XKe table--column--974RA",ks="teams_table--iconColumn--8sywl admin_settings_page--iconColumn--qxUMs",ko="teams_table--pendingIconColumn--DzFep admin_settings_page--iconColumn--qxUMs",kc="teams_table--blueLink--ppPnv blue_link--blueLink--9rlnd",kd="teams_table--actionBar--Z-EEc",km="teams_table--bannerWarningIcon--pg76-",ku="teams_table--warningIconContainer--Yi0NS",k_="teams_table--teamAvatarLabel--HDLkp";function kp({areDropdownsDisabled:e,dropdownShown:t,workspacesCanMoveTo:a,org:r,team:n,teamPendingTransfers:l,teamRoleRequests:i,onRevokeTransferRequestSuccess:s,pendingTransferRequests:o,onViewerJoinTeam:c,onViewerLeaveTeam:d}){var m;let u=(0,eg.wA)(),_=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),p=(0,eg.d4)(e=>e.teamBilling),g=(0,eg.d4)(e=>e.teams[n.id]),E=(0,d2._6)(),[f,h]=ep.useState(),{onChangeOrgAccess:v,onDeleteTeam:b,onJoinRequest:y,onOpenTeam:w,onRenameTeam:T,onTransferTeam:x,onRevokeTeamTransferRequest:C,onWithdrawRequestForTeam:N,onAddToWorkspace:k,onRemoveFromWorkspace:S,onOpenAccessSettings:I}=C7(i,l,o,s),A=e=>{u((0,e0.to)({type:CX.p,data:{teamId:e.id,onViewerLeaveTeam:d}}))},L=(0,xb.lH)(n.id,void 0,c),R=(0,xb.lH)(n.id,m5.e.ADMIN,c),O=(0,xb.lH)(n.id,m5.e.OWNER,c),F=ep.useCallback(()=>{ae.Ay.del(`/api/asset_transfer/${null==f?void 0:f.id}`).then(()=>{h(void 0),u(t6.F.enqueue({message:(0,e$.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{u(t6.F.enqueue({message:(0,e$.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==f?void 0:f.id,u]),M=ep.useMemo(()=>{if(g)return{team:g,pending:f,onRevokeTransfer:F,updatePending:o,billing:p}},[F,o,g,p,f]),D=N7(N4.MEMBERS,M,(0,mG.canAdminTeam)(n.id,_),E),P=N7(N4.SETTINGS,M,(0,mG.canAdminTeam)(n.id,_),E);if(e)return ep.createElement(ep.Fragment,null);let B=`MENU_DROPDOWN-${n.id}`,U=(null==t?void 0:t.type)===B,W=[];if((0,mG.canViewTeam)(n.id,_)&&((n.org_access===lB.bU.PUBLIC||(0,mG.hasViewerRoleAccessOnTeam)(n.id,_))&&W.push({displayText:(0,e$.t)("teams_table.view_projects"),callback:()=>w(n.id)}),M&&(W.push({displayText:(0,e$.t)("teams_table.view_team_members"),callback:D}),W.push({displayText:(0,e$.t)("teams_table.view_settings"),callback:P}))),W.push({displayText:"",separator:!0}),(0,mG.canManageOrgTeam)(n.id,_)){W.push({displayText:(0,e$.t)("teams_table.rename_team"),callback:()=>T(n)});let e=[lB.bU.PUBLIC,lB.bU.PRIVATE,lB.bU.SECRET].map(e=>({displayText:(0,ph.ZP)()[e],isChecked:n.org_access===e,callback:()=>v(n,e)}));(0,yI.D)((null==n?void 0:n.id)||null,(null==n?void 0:n.org_id)||null)?W.push({displayText:(0,e$.t)("teams_table.manage_access_setting"),callback:()=>I(n)}):W.push({displayText:"Edit org access",children:e})}a.length>0&&W.push({displayText:"Change workspace",children:((e,t)=>{let r=a.map(a=>({displayText:a.name,isChecked:t===a.id,callback:()=>k(e,a.id,a.name)}));return r.push({displayText:"",separator:!0}),r.push({displayText:t?(0,e$.t)("members_table.license_group_cell.unassign"):(0,e$.t)("license_group.unassigned"),isChecked:!t,callback:()=>S(e)}),r})(n,n.workspace_id)}),W.push({displayText:"",separator:!0}),(0,mG.canAdminOrg)(r.id,_)&&(0,mG.canManageOrgTeam)(n.id,_)&&(l&&l.get(n.id)?W.push({displayText:(0,e$.t)("teams_table.revoke_transfer_request"),callback:()=>C(n.id)}):W.push({displayText:(0,e$.t)("teams_table.transfer_team"),callback:()=>x(n)})),(0,mG.hasAdminRoleAccessOnTeam)(n.id,_)&&W.push({displayText:(0,e$.t)("teams_table.delete_team"),callback:()=>b(n)});let V=(e=>{let t=(0,CQ.YP)(e,i[e.id],_,r.id);return null===t?null:{displayText:(()=>{switch(t){case CQ.gO.CLICK_LEAVE:return(0,e$.t)("teams_table.leave_team");case CQ.gO.CLICK_WITHDRAW:return(0,e$.t)("teams_table.cancel_join_request");case CQ.gO.CLICK_JOIN:return(0,e$.t)("teams_table.join_team");case CQ.gO.CLICK_JOIN_AS_ADMIN:return(0,e$.t)("teams_table.join_team_as_admin");case CQ.gO.BYPASS_REQUEST:return(0,e$.t)("teams_table.join_team_as_owner");case CQ.gO.CLICK_REQUEST:return(0,e$.t)("teams_table.request_to_join")}})(),callback:(()=>{switch(t){case CQ.gO.CLICK_LEAVE:return()=>A(e);case CQ.gO.CLICK_WITHDRAW:return()=>N(e);case CQ.gO.CLICK_JOIN:return L;case CQ.gO.CLICK_JOIN_AS_ADMIN:return R;case CQ.gO.BYPASS_REQUEST:return O;case CQ.gO.CLICK_REQUEST:return()=>y(e)}})()}})(n);return(V&&(W.push({displayText:"",separator:!0}),W.push(V)),W.every(e=>e.separator))?ep.createElement(ep.Fragment,null):ep.createElement(wT.Ve,{className:wO.hP,dispatch:u,hideChevron:!0,showingDropdown:U,type:B,isRightAligned:!0,isMultilevelDropdown:!0},ep.createElement(eL.B,{svg:rN.A,className:"teams_table--menuIcon--9m-kB admin_settings_page--menuIcon--dMpHa"}),U&&t&&(null==(m=null==t?void 0:t.data)?void 0:m.targetRect)&&ep.createElement(rw.j,{showPoint:!1,items:W,onSelectItem:e=>{e.callback&&e.callback("",null,u)},parentRect:t.data.targetRect,dispatch:u}))}var kg=a(884459),kE=a(477236);let kf=e=>e.org_access===lB.bU.SECRET?"Secret teams can\u2019t be added as default teams.":null;function kh(e){let t;let a=e.token.content;switch(a.org_access){case lB.bU.PRIVATE:t="closed";break;case lB.bU.SECRET:t="secret"}return ep.createElement("div",{className:"default_teams_edit_modal--teamToken--4RNIJ default_teams_edit_modal--flexHorizontalGap8px--eMeii"},ep.createElement(dm.nl,{team:a,size:dm.Pf.SMALL,fallbackDisplay:fu.U.HIDDEN}),ep.createElement("span",null,a.name,t&&` (${t})`))}function kv(e){let t;let a=e.searchResult,r=(0,yI.D)((null==a?void 0:a.id)||null,(null==a?void 0:a.org_id)||null);switch(a.org_access){case lB.bU.PUBLIC:t="Open team";break;case lB.bU.PRIVATE:t="Closed team";break;case lB.bU.SECRET:t="Secret team"}return ep.createElement("div",{className:e.isSelected?"default_teams_edit_modal--teamRowSelected--TQOOW default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii":"default_teams_edit_modal--teamRow--bg9Zy default_teams_edit_modal--flexHorizontalGap8px--eMeii"},ep.createElement(dm.nl,{team:a}),ep.createElement("div",{className:"default_teams_edit_modal--teamRowInfo--97b0A"},ep.createElement("span",null,a.name),ep.createElement("div",{className:e.isSelected?"default_teams_edit_modal--teamRowDetailsSelected--gJQy- default_teams_edit_modal--teamRowDetails--fGrVt":"default_teams_edit_modal--teamRowDetails--fGrVt"},!r&&t&&ep.createElement(ep.Fragment,null,ep.createElement("span",null,t),ep.createElement("span",null,"\xa0\xb7\xa0")),r&&a.sharing_audience_control===lB.PQ.INVITE_ONLY&&a.org_browsable&&ep.createElement(ep.Fragment,null,ep.createElement("span",null,(0,e$.t)("teams_table.default_workspace_team.invite_only")),ep.createElement("span",null,"\xa0\xb7\xa0"),ep.createElement("span",null,(0,e$.t)("teams_table.default_workspace_team.visible")),ep.createElement("span",null,"\xa0\xb7\xa0")),a.workspaceName&&ep.createElement(ep.Fragment,null,ep.createElement("span",{className:eT.cx.maxW150.ellipsis.noWrap.overflowHidden.$},a.workspaceName),ep.createElement("span",null,"\xa0\xb7\xa0")),ep.createElement("span",null,(0,to.td)(a.member_count,"member")),ep.createElement("span",null,"\xa0\xb7\xa0"),ep.createElement("span",null,(0,to.td)(a.projects,"project")))))}let kb=(e,t)=>t?{...e,workspaceName:t}:e,ky=(0,am.Ju)(function(e){var t;let{workspaceId:a}=e,r=(0,eg.wA)(),n=(0,mV.dq)(),l=(0,tY.md)(xx),i=(0,t5.Rs)(ai.kC9,{workspaceId:a}),s=null==(t=null==i?void 0:i.data)?void 0:t.workspace,o=ep.useMemo(()=>(null==s?void 0:s.defaultTeams)||[],[s]),c=ep.useMemo(()=>{let e=new Map;return o.forEach(t=>{var a,r;e.set(t.teamId,null==(r=null==(a=t.team)?void 0:a.workspace)?void 0:r.name)}),e},[o]),[d,m]=ep.useState((0,b4.Rs)()),[u,_]=ep.useState(!1),p="loaded"!==l.status||"loaded"!==i.status;ep.useEffect(()=>{p||u||m({...(0,b4.Rs)(),tokens:o.filter(e=>e.teamId in l.data).map(function(e){return{state:b2.d.OK,content:kb(l.data[e.teamId],c.get(e.teamId))}})})},[p,u,o,l,c]);let g=()=>{(0,tn.sx)("CTA Clicked",{name:"Edit Default Teams Modal Cancel",workspaceId:a,orgId:n}),r(e0.Ce())},E=ep.createElement("span",{className:eT.cx.fontSemiBold.$},null==s?void 0:s.name),f=(null==s?void 0:s.name)?ep.createElement(e$.Tx,{id:"workspace.when_people_join_workspace_name",styledWorkspaceName:E}):ep.createElement(e$.Tx,{id:"workspace.when_people_join_this_workspace"}),h=(0,yI.D)(null,n);return ep.createElement(sn.XV,{title:(0,e$.t)("workspace.edit_default_teams"),onClose:g,minWidth:500},ep.createElement("div",{className:"default_teams_edit_modal--container--E3dQ8 default_teams_edit_modal--flexVerticalGap8px--Zmf4X"},p&&ep.createElement(e8.qc,null),!p&&ep.createElement(ep.Fragment,null,ep.createElement("span",null,f),ep.createElement("div",null,ep.createElement(kE.P,{autocompleteResultsClassName:"default_teams_edit_modal--autocompleteResults--fgiBu",autocomplete:d,placeholder:"Search for a team",onChange:e=>{let t="",a=[];e.tokens.forEach(e=>{let r=kf(e.content);r&&(t=r),a.push({...e,state:r?b2.d.ERROR:b2.d.OK})}),m({...e,tokens:a,errorMessage:t}),_(!0)},validateToken:ev.lQ,searchResults:e=>{let t=new bn.Ef([],{keys:["name"],threshold:0,tokenize:!0,matchAllTokens:!0}),a=d.tokens.map(e=>e.content.id);return t.set(Object.values(l.data||{}).filter(e=>!a.includes(e.id)).filter(e=>!e.hidden).map(function(e){var t;let a=o.find(t=>t.teamId===e.id),r=null==(t=null==a?void 0:a.team)?void 0:t.workspace;return kb(e,r?r.name:void 0)})),t.search(e.inputValue)},SearchResultComponent:kv,TokenComponent:kh})),d.errorMessage&&ep.createElement("span",{className:eT.cx.textRed__DEPRECATED.$,"data-testid":"error-label"},d.errorMessage),ep.createElement("span",null,ep.createElement("span",{className:eT.cx.fontSemiBold.$},(0,e$.t)("workspace.note")),h?(0,e$.t)("workspace.new_users_will_join_updated"):(0,e$.t)("workspace.new_users_will_join"))),ep.createElement("div",{className:"default_teams_edit_modal--buttonContainer---Ss5O default_teams_edit_modal--flexHorizontalGap8px--eMeii"},ep.createElement(eI.nR,{onClick:g},(0,e$.t)("workspace.cancel")),ep.createElement(eH.fu,{name:"Edit Default Teams Modal Submit",properties:{workspaceId:a,orgId:n}},ep.createElement(eI.vd,{onClick:()=>{if(s){let e={id:s.id,name:s.name,defaultTeams:s.defaultTeams||[]};r(kg.F({workspace:e,teamIds:d.tokens.map(e=>e.content.id)}))}r(e0.Ce())},disabled:p||!!d.errorMessage},(0,e$.t)("workspace.save"))))))},"WorkspaceDefaultTeamsEditModal");var kw=((w=kw||{})[w.SEARCH=0]="SEARCH",w[w.FILTER=1]="FILTER",w);let kT=()=>({[C6.JOINED]:(0,e$.t)("teams_table.membership_filter.my_teams_option"),[C6.NOT_JOINED]:(0,e$.t)("teams_table.membership_filter.not_my_teams_option")});function kx(e){let{dropdownShown:t,filterCounts:a,lastFilterAction:r,onFilter:n,onSearch:l,org:i,orphanedTeamFilter:s,searchQuery:o,selectedOrgAccessFilter:c,selectedTeamMembershipFilter:d,teamRoleRequests:m,teams:u,selectedWorkspaceFilter:_,selectedDiscoverabilityFilter:p}=e,[g,E]=ep.useState(!1),f=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),h=(0,eg.wA)(),[v,b]=ep.useState(new Map),y=ep.useCallback(()=>{CW.S.getOrgTeamTransfers({orgId:i.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)b(t=>new Map(t.set(e.source_team_id,e)))})},[i.id]),w=e=>{b(t=>new Map(t.set(e,null))),h(t6.F.enqueue({message:(0,e$.t)("asset_transfers.revoke.transfer_revoked")}))},{onChangeOrgAccess:T,onAddToWorkspace:x,onRemoveFromWorkspace:C}=C7(m,v,y,w),N=(0,eg.d4)(({selectedView:e})=>e),k="orgAdminSettings"===N.view,S="workspace"===N.view&&N.subView===gw.V0.ADMIN,I=(0,eg.d4)(({selectedView:e})=>"workspace"===e.view&&e.subView===gw.V0.ADMIN?e.workspaceId:null),A=!eb.rr&&k,L=(0,pf.NJ)(i.id),R=L.data||[],O={};R.forEach(e=>O[e.id]=e);let F=(0,yI.D)(null,(null==i?void 0:i.id)||null),M=JSON.stringify(v);ep.useEffect(()=>{y()},[M,y]);let D=()=>{let e;e=I||_||void 0,h(e0.to({type:gQ.Uc,data:{workspaceId:e}}))},P=I&&_!==vd.O,B=()=>{h((0,e0.to)({type:ky,data:{workspaceId:I}}))},U=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function W(e,a){return ep.createElement(kp,{org:i,team:e,areDropdownsDisabled:a,dropdownShown:t,teamRoleRequests:m,teamPendingTransfers:v,pendingTransferRequests:y,onRevokeTransferRequestSuccess:w,workspacesCanMoveTo:R})}function V(e){var t,a;if(v&&v.get(e.id)){let r=(0,e$.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=v.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=v.get(e.id))?void 0:a.destination_user_email});return ep.createElement("div",{className:ku,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},ep.createElement(eL.B,{svg:hE.A,className:km}))}return ep.createElement(ep.Fragment,null)}let G=e=>{let t=e&&O[e]?e:null,a=R.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:vd.O,text:t?(0,e$.t)("members_table.workspace_cell.unassign"):(0,e$.t)("workspace.unassigned"),selectedLabelClass:eT.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??vd.O}},$=()=>{let e=[];function a(){return ep.createElement(ep.Fragment,null,"\u2013")}return e.push({name:(0,e$.t)("teams_table.team_name"),className:kt,getSortValue:e=>e.name,cellComponent:e=>ep.createElement(ej.Y,null,ep.createElement(e7.rE,{entity:e,size:22,className:k_}),F&&(e.org_access===lB.bU.PRIVATE||e.org_access===lB.bU.SECRET)&&ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":e.org_access===lB.bU.PRIVATE?(0,e$.t)("teams_table.closed_team_tooltip_header"):(0,e$.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":e.org_access===lB.bU.PRIVATE?(0,e$.t)("teams_table.closed_team_tooltip_subtitle"):(0,e$.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ep.createElement(s7.I,{icon:"lock-16"})))}),e.push({name:(0,e$.t)("teams_table.owner"),className:kr,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?ep.createElement(yu,{entity:e.owner,size:22,dispatch:h}):ep.createElement(a,null)}),e.push({name:(0,e$.t)("teams_table.projects"),className:kn,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>ep.createElement(e$.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,e$.t)("teams_table.members"),className:kl,getSortValue:e=>e.member_count||0,sortNumerically:!0,cellComponent:e=>ep.createElement(e$.Tx,{id:"teams_table.member_count",numMembers:e.member_count})}),F||e.push({name:(0,e$.t)("teams_table.org_access"),className:ki,getSortValue:e=>{switch(e.org_access||lB.bU.PUBLIC){case lB.bU.PUBLIC:return`a${e.name}`;case lB.bU.PRIVATE:return`b${e.name}`;case lB.bU.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,mG.canManageOrgTeam)(e.id,f)?ep.createElement(wR.H,{dispatch:h,dropdownShown:t,value:e.org_access,options:C9(),onChange:t=>{T(e,t)},id:U(e),disabled:r}):ep.createElement(ep.Fragment,null,(0,ph.ZP)()[e.org_access]):ep.createElement(a,null)}),i.bigma_enabled&&R.length>0&&e.push({name:(0,e$.t)("teams_table.enterprise.workspace"),getSortValue:e=>{var t;return e.workspace_id&&(null==(t=O[e.workspace_id])?void 0:t.name)||""},className:ka,cellComponent:(e,a)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:l}=G(e.workspace_id);return ep.createElement("div",{className:eT.cx.maxWFull.$},"loaded"===L.status?ep.createElement(wR.H,{dispatch:h,dropdownShown:t,disabled:a,value:l,options:n,onChange:t=>{var a;t===vd.O?C(e):x(e,t,null==(a=O[t])?void 0:a.name)},id:r}):ep.createElement("div",{style:u1.sx.w64.$},ep.createElement(bN.Wi,{className:eT.cx.h24.w64.$,animationType:bN.JR.SHIMMER})))}}),e.push({name:" ",className:ko,cellComponent:V}),e.push({name:"",className:ks,cellComponent:W}),e},j=$(),[H,q,z]=(0,be.z)({columnName:(0,e$.t)("teams_table.team_name"),isReversed:!1},u,j);return ep.createElement(ep.Fragment,null,ep.createElement(bZ.K,{title:bA(En.J7.TEAMS),hasHorizontalPadding:!0,rightActions:ep.createElement(ej.Y,{width:"hug-contents"},ep.createElement(dD.$,{icon:"plus-32",onClick:D,"data-onboarding-key":vJ},ep.createElement(du.E,{i18nId:"teams_table.team"})),ep.createElement(dD.V,{onClick:()=>{if(g)return;E(!0),h(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:bS.zX.SPINNER}));let t=I?`/api/workspace/${I}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;ae.Ay.post(t).then(()=>{h(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:bS.zX.CHECK})),E(!1)},()=>{h(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:bS.zX.EXCLAMATION,error:!0})),E(!1)})},trackingProperties:{action:"Export CSV"}},ep.createElement(du.E,{i18nId:"teams_table.csv_export.get_csv"})))}),ep.createElement(bD.Cj,{hasNewScrollContext:!0,emptyContent:ep.createElement(TR.p,null,(()=>{let e=()=>{n({orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=_?ep.createElement(e$.Tx,{id:"teams_table.no_teams_to_show"}):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",ep.createElement("a",{className:kc,onClick:D},ep.createElement(e$.Tx,{id:"teams_table.create_one"}))),a=ep.createElement("span",null,(0,e$.t)("teams_table.no_teams_to_show")," ",ep.createElement("a",{className:kc,onClick:()=>e()},ep.createElement(e$.Tx,{id:"multi_select_list.reset_filters"}))),l=ep.createElement(e$.Tx,{id:"teams_table.no_search_results"}),i=c||d||s;return i&&o?0===r?l:a:i?a:o?l:t})()),items:z,getItemKey:e=>e.id,columns:$(),stickyContent:(()=>{let e=(0,E8.ZM)(u);return ep.createElement(ep.Fragment,null,S&&ep.createElement(tq.p,null,ep.createElement(CY,null)),!!I&&ep.createElement(CZ,{workspace:R.filter(e=>e.id===I)[0]}),ep.createElement("div",{className:ke},ep.createElement("div",{className:wO.cE},ep.createElement("div",{className:eT.cx.pr8.$},ep.createElement(bk.y2,{onChange:l,focusOnMount:!1,query:o,clearSearch:()=>{l("")},placeholder:(0,e$.t)("teams_table.search_teams_with_ellipsis")})),ep.createElement(TF,{selectedWorkspaceId:_,onFilterUpdate:e=>n({workspaceFilter:e}),getCount:t=>e[t]??0}),F?ep.createElement(wT.bv,{dropdownShown:t,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:p,getDisplayText:e=>(0,ph.e$)()[e],getSelectedDisplayText:e=>{switch(e){case E6.Fb.ORG_BROWSABLE:return(0,e$.t)("teams_table.discoverability_filter.visible");case E6.Fb.HIDDEN:return(0,e$.t)("teams_table.discoverability_filter.hidden");default:return(0,e$.t)("teams_table.discoverability_filter.all")}},getCount:e=>a.discoverabilityFilter[e],updateFilter:e=>n({discoverabilityFilter:e}),values:Object.values(E6.Fb),dispatch:h}):ep.createElement(wT.bv,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:t,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:c,getDisplayText:e=>(0,ph.ZP)()[e],getSelectedDisplayText:e=>{switch(e){case lB.bU.PUBLIC:return(0,e$.t)("teams_table.org_access_filter.open");case lB.bU.PRIVATE:return(0,e$.t)("teams_table.org_access_filter.closed");case lB.bU.SECRET:return(0,e$.t)("teams_table.org_access_filter.secret");default:return(0,e$.t)("teams_table.org_access_filter.all")}},getCount:e=>a.orgAccessFilter[e],updateFilter:e=>n({orgAccessFilter:e}),values:Object.values(lB.bU),dispatch:h}),ep.createElement(wT.bv,{dropdownShown:t,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:d,getDisplayText:e=>kT()[e],getSelectedDisplayText:e=>{switch(e){case C6.JOINED:return(0,e$.t)("teams_table.membership_filter.my_teams_label");case C6.NOT_JOINED:return(0,e$.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,e$.t)("teams_table.membership_filter.all")}},getCount:e=>a.teamMembershipFilter[e],updateFilter:e=>n({teamMembershipFilter:e}),values:Object.values(C6),dispatch:h}),ep.createElement(eH.jm,{className:wO.$u,onClick:()=>n({orphanedTeamFilter:!s}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!s}},ep.createElement(eI.tB,{checked:s,onChange:ev.lQ}),ep.createElement(e$.Tx,{id:"teams_table.teams_without_owners"}))),ep.createElement("div",{className:wO.ld},P&&ep.createElement("div",{className:wO.hP,onClick:B},ep.createElement(eL.B,{className:wO.gE,svg:hk.A}),ep.createElement(e$.Tx,{id:"teams_table.enterprise.edit_default_teams"})))))})(),actionBar:e=>ep.createElement(Na,{workspacesCanMoveTo:R,org:i,selectedTeams:e,teamRoleRequests:m,teamPendingTransfers:v,pendingTransferRequests:y,onRevokeTransferRequestSuccess:w}),actionBarClassName:kd,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,ti.hG)(aE.YEj),isBannerHeightDynamic:!0,sortState:H,onSetSortState:q}),A?ep.createElement(tq.p,null,ep.createElement(Cj,null)):null)}let kC=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function kN(e){let{dispatch:t,dropdownShown:a,teams:r,teamRoleRequests:n,user:l,selectedWorkspaceId:i}=e,s=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),[o,c]=ep.useState({workspaceFilter:i??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[d,m]=ep.useState(kw.FILTER),[u,_]=ep.useState(""),p=r.map(e=>({...e,owner:kk(e),userTeamMembership:(0,mG.hasViewerRoleAccessOnTeam)(e.id,s)?C6.JOINED:C6.NOT_JOINED}));ep.useEffect(()=>{t((0,pE.Rw)())},[t]),ep.useEffect(()=>{i&&c(e=>({...e,workspaceFilter:i}))},[i]);let g=[],E={orgAccessFilter:{[lB.bU.PUBLIC]:0,[lB.bU.PRIVATE]:0,[lB.bU.SECRET]:0},teamMembershipFilter:{[C6.JOINED]:0,[C6.NOT_JOINED]:0},discoverabilityFilter:{[E6.Fb.ORG_BROWSABLE]:0,[E6.Fb.HIDDEN]:0}},f=e=>e.hidden?E6.Fb.HIDDEN:e.org_browsable?E6.Fb.ORG_BROWSABLE:null,h=e=>{if(o.orgAccessFilter&&o.orgAccessFilter!==e.org_access||o.discoverabilityFilter&&o.discoverabilityFilter!==f(e)||o.teamMembershipFilter&&o.teamMembershipFilter!==e.userTeamMembership||o.orphanedTeamFilter&&e.owner)return!1;if(o.workspaceFilter){let t=o.workspaceFilter===vd.O;if(t&&null!==e.workspace_id||!t&&o.workspaceFilter!==e.workspace_id)return!1}return!0};return u&&(kC.set(p),p=kC.search(u)),p.forEach(e=>{if(h(e)){g.push(e),null!==e.org_access&&E.orgAccessFilter[e.org_access]++;let t=f(e);null!==t&&E.discoverabilityFilter[t]++,E.teamMembershipFilter[e.userTeamMembership]++}}),ep.createElement(kx,{dropdownShown:a,lastFilterAction:d,selectedOrgAccessFilter:o.orgAccessFilter,onFilter:e=>{c({...o,...e}),m(kw.FILTER)},onSearch:e=>{_(e),m(kw.SEARCH)},org:e.org,filterCounts:E,orphanedTeamFilter:o.orphanedTeamFilter,searchQuery:u,selectedTeamMembershipFilter:o.teamMembershipFilter,teams:g,teamRoleRequests:n,user:l,selectedWorkspaceFilter:o.workspaceFilter,selectedDiscoverabilityFilter:o.discoverabilityFilter})}let kk=e=>{var t,a;return e.orphaned||(null==(a=null==(t=e.top_members)?void 0:t[0])?void 0:a.level)!==m5.e.OWNER?null:e.top_members[0].user};var kS=a(169878);let kI="admin_banner--infoIcon--0MZLm";var kA=((T=kA||{})[T.BLUE=0]="BLUE",T[T.GREEN=1]="GREEN",T[T.LIGHT_BLUE=2]="LIGHT_BLUE",T[T.YELLOW=3]="YELLOW",T[T.RED=4]="RED",T[T.LIGHT_YELLOW=5]="LIGHT_YELLOW",T[T.LIGHT_GREEN=6]="LIGHT_GREEN",T);function kL(e){return({0:"admin_banner--blue--SXNxs",1:"admin_banner--green--oV1nT",2:"admin_banner--lightBlue--G5VVd",3:"admin_banner--yellow--nBPm4",4:"admin_banner--red--p4-kY",5:"admin_banner--lightYellow--fMCLU",6:"admin_banner--lightGreen--JXQv1"})[e]}function kR(e){return ep.createElement("div",{className:eS()(kL(e.color),"admin_banner--banner--3F4Yp",{"admin_banner--responsiveBanner--h-4nE":e.isResponsive,"admin_banner--noNegativeMargin--EA8b5":e.removeNegativeMargin})},e.children)}function kO(e){let t=kL(e.color??2);return ep.createElement(eH.fu,{name:e.trackingContext,properties:e.trackingProperties},ep.createElement("div",{className:eS()(e.className||"","admin_banner--dismissibleBanner--PHx0C admin_banner--banner--3F4Yp",t)},ep.createElement("div",{className:"admin_banner--dismissibleBannerMessage--95Vk9"},e.icon&&ep.createElement(eL.B,{className:kI,svg:e.icon}),ep.createElement("span",{className:eT.cx.wFull.$},e.children)),ep.createElement(u7.Jn,{className:eS()(t,"admin_banner--xIconWrapper--gtEAn"),onClick:e.onClose,innerText:"Banner dismissed"})))}let kF="admin_dev_mode_banner--stickyBanner--FeH08";var kM=a(411929);let kD="AdminDevModeOptInBanner";function kP(e){var t,a;let r=(0,h2.a9)(),n=(0,t5.Rs)(ai.lVt,{orgId:e.org.id}),[l,i]=ep.useState(!(r&&(0,gk.nA)(kD,r.id))),[s,o]=ep.useState(!1),{uniqueId:c}=(0,tJ.e)({overlay:t4.r3Y,priority:0});if((0,tK.E)(c,[bm.v5],()=>{[En.J7.DASHBOARD,En.J7.MEMBERS].includes(e.selectedTab)&&(o(!0),i(!1))}),ep.useEffect(()=>{o(!1)},[e.selectedTab]),!r||![En.J7.DASHBOARD,En.J7.MEMBERS].includes(e.selectedTab))return null;let d=e.selectedTab?e.selectedTab:"dashboard",m={orgId:e.org.id,source:d};if(s)return ep.createElement(kO,{color:kA.LIGHT_GREEN,onClose:()=>{o(!1)},className:kF,trackingContext:"DevMode Opt-in Success Banner",trackingProperties:m},ep.createElement(kU,{title:ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.title"}),secondaryText:ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in_success.secondary_text"}),icon:ep.createElement(eL.B,{svg:kM.A,className:eT.cx.p8.$})}));let u="loaded"===n.status&&!!n.data.org&&(0,uJ.CA)(n.data.org.devModeOptInPlanProperty);if(e.selectedTab===En.J7.MEMBERS&&l&&u){let l,s,o;let c=(null==(a=null==(t=n.data.org)?void 0:t.devModeAccountTypeRequests)?void 0:a.length)||0;return 0===c?(l=ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_no_requests"}),s=ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_no_requests"}),o=kA.LIGHT_BLUE):(l=c>99?ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_99_plus_requests"}):ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.title_with_requests",requestsCount:c}),s=ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.secondary_text_with_requests"}),o=kA.LIGHT_YELLOW),ep.createElement(kO,{color:o,onClose:()=>{i(!1),(0,gk.OU)(r.user_id,kD,r.id)},className:kF,trackingContext:"DevMode Opt-in Banner",trackingProperties:m},ep.createElement(kB,{title:l,secondaryText:s,button:ep.createElement(kV,{source:e.selectedTab}),icon:ep.createElement(kW,null)}))}return null}function kB(e){return ep.createElement(ej.Y,{horizontalAlignItems:"end",width:"fill-parent"},ep.createElement(kU,{title:e.title,secondaryText:e.secondaryText,icon:e.icon}),e.button)}function kU(e){return ep.createElement(ej.Y,{horizontalAlignItems:"start"},e.icon,ep.createElement("span",null,e.title),ep.createElement("span",{className:eT.cx.fontNormal.pl24.$},e.secondaryText))}function kW(){return ep.createElement(le.In,{icon:"devmode-32"})}function kV(e){let t=(0,eg.wA)();return ep.createElement(dD.V,{innerText:"Enable Dev Mode",onClick:()=>t(e0.to({type:bm.OZ,data:{source:e.source}}))},ep.createElement("span",{className:eT.cx.fontMedium.$},ep.createElement(e$.Tx,{id:"org_admin_settings.banners.dev_mode_opt_in.enable_button"})))}var kG=a(56718),k$=a(134199);let kj="seen_org_admin_activity_onboarding",kH=(0,bF.rn)("org_admin_activity_onboarding",(0,bP.R)(t4.Ql8)),kq=(0,tZ.r1)(kj);function kz(){let e=(0,tY.md)(kq),t=(0,tJ.e)({overlay:t4.Q16,priority:tQ.N.DEFAULT_MODAL},[e]),a=(0,eg.wA)(),r=(0,bO.zl)(kH);(0,tz.h)(()=>{"reset"===r.currentState?t.show():t.show({canShow:e=>!e})}),(0,tK.E)(t.uniqueId,"Reset Onboarding",()=>{t.show()});let n=[{description:ep.createElement(e$.Tx,{id:"onboarding_pointers.activity_filter_onboarding"}),trackingContextName:`${vF} Filter`,targetKey:vG},{description:ep.createElement(e$.Tx,{id:"onboarding_pointers.activity_csv_onboarding"}),trackingContextName:`${vF} CSV`,targetKey:v$}];return ep.createElement(bM.WZ,{isShowing:t.isShowing,steps:n,onComplete:()=>{a(rc.b({[kj]:!0})),t.complete()}})}let kY="activity_logs_section--dropdownScrollClip--sjbCz",kK="activity_logs_section--dropdown--nOl3y",kJ="activity_logs_section--eventDescriptionItem--9wX1l ellipsis--ellipsis--Tjyfa",kZ="HEADER",kQ={value:null,description:ep.createElement(e$.Tx,{id:"activity_log.filter.all"})},kX=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.branches"})},{value:["repo_branch_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.created_a_branch"})},{value:["repo_merge_to_source"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.merged_a_branch"})},{value:["repo_merge_from_source"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.updated_a_branch"})},{value:["repo_branch_archive"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.archived_a_branch"})},{value:["repo_branch_unarchive"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.unarchived_a_branch"})},{value:["repo_branch_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.deleted_a_branch"})},{value:["file_repo_member_add","file_repo_member_permission_change","file_repo_member_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.file_repo_membership_changed"})}],k0=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.sso_auth"})},{value:["google_sso_auth_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.google_sso_auth"})},{value:["saml_sso_auth_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.saml_sso_auth"})}],k1=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.external_access"})},{value:["org_guest_invite_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_guest_invite_setting"})},{value:["open_sessions_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_open_sessions_setting"})},{value:["public_link_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_public_link_setting"})},{value:["ip_restriction_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.network_restriction_change"})},{value:["org_user_create_external","org_user_delete_external"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.external_org_membership_changed"})},{value:["team_member_add_external","team_member_remove_external"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.external_team_membership_changed"})},{value:["autogen_password_controls_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_autogen_password_controls_setting"})},{value:["fig_file_view_external"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.viewed_external_file"})},{value:["fig_file_view_prototype_external"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.viewed_external_prototype"})}],k2=[{value:["license_group_library_setting_change","workspace_library_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.workspace_library_setting_changed"})}],k4=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.default_role.seat_rename"})},{value:["org_default_license_type_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_default_role.seat_rename"})}],k3=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.workspaces"})},{value:["license_group_admins_add","workspace_admins_add"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.added_workspace_admins"})},{value:["license_group_admins_remove","workspace_admins_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.removed_workspace_admins"})},{value:["license_group_create","workspace_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.created_a_workspace"})},{value:["license_group_delete","workspace_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.deleted_a_workspace"})},{value:["license_group_rename","workspace_rename"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.renamed_a_workspace"})},{value:["license_group_membership_change","workspace_members_add","workspace_members_remove","workspace_member_add","workspace_member_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_a_user_s_workspace"})},{value:["license_group_membership_self_select","workspace_membership_self_select"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.user_selected_their_own_workspace"})},{value:["workspace_visibility_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.workspace_visibility_setting_changed"})}],k8=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.header"})},{value:["license_group_admins_add"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.admins_added"})},{value:["license_group_admins_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.admins_removed"})},{value:["license_group_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.created"})},{value:["license_group_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.deleted"})},{value:["license_group_rename"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.renamed"})},{value:["license_group_membership_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.membership_changed"})},{value:["license_group_membership_self_select"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.billing_group.self_select"})}],k5=[{value:["org_join_request_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.requested_to_join_the_org"})},{value:["org_join_request_approve"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_join_request_approved"})}],k6=[{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.webhook_group_header"})},{value:["webhook_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.webhooks_created"})},{value:["webhook_update"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.webhooks_updated"})},{value:["webhook_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.webhooks_deleted"})}],k9=(e,t)=>{var a;return[kQ,{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.files"})},{value:["fig_file_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.created_a_file"})},{value:["fig_file_duplicate"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.duplicated_a_file"})},{value:["fig_file_export"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.exported_a_file"})},{value:["fig_file_link_access_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.file_link_access_changed"})},{value:["fig_file_link_expiration_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.file_link_expiration_changed"})},{value:["fig_file_viewer_access_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.viewer_permissions_changed"})},{value:["fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.file_membership_changed"})},{value:["fig_file_move"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.moved_a_file"})},{value:["fig_file_permanent_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.permanently_deleted_a_file"})},{value:["fig_file_permanent_undelete","fig_file_restore"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.restored_a_file"})},{value:["fig_file_set_password"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.fig_file_set_password"})},{value:["fig_file_unset_password"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.fig_file_unset_password"})},{value:["fig_file_rename"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.renamed_a_file"})},{value:["fig_file_save_as"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.saved_a_file"})},{value:["fig_file_trash"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.trashed_a_file"})},{value:["fig_file_view"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.viewed_a_file"})},{value:["fig_file_view_prototype"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.viewed_a_prototype"})},{value:["open_sessions_start"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.open_sessions_start"})},{value:["open_sessions_end"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.open_sessions_end"})},...kX,{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.projects"})},{value:["folder_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.created_a_project"})},{value:["folder_delete","folder_export"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.deleted_a_project"})},{value:["folder_member_add","folder_member_permission_change","folder_member_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.project_membership_changed"})},{value:["folder_move"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.moved_a_project"})},{value:["folder_rename"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.renamed_a_project"})},{value:["folder_team_access_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_the_team_access_of_a_project"})},{value:["folder_transfer_sent","folder_export"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["folder_transfer_received","folder_transfer_approved","folder_import"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.teams"})},{value:["team_create","team_import"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.created_a_team"})},{value:["team_delete","team_export"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.deleted_a_team"})},{value:["team_transfer_sent","team_export"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.outgoing_transfers"})},{value:["team_transfer_received","team_transfer_approved","team_import"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.incoming_transfers"})},{value:["team_restore"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.restored_a_team"})},{value:["team_member_add","team_member_permission_change","team_member_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.team_membership_changed"})},{value:["team_rename"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.renamed_a_team"})},{value:["team_org_access_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_the_org_access_of_a_team"})},{value:["team_license_group_change","team_workspace_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_the_workspace_of_a_team"})},{value:["org_team_creation_controls"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_team_creation_controls"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.organizations"})},{value:["org_merge"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_merged"})},{value:["org_user_create","org_user_permission_change","org_user_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_membership_changed"})},{value:["org_user_account_type_upgrade_requested","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.upgrade_requests_and_activity"})},{value:["org_user_account_type_change","org_user_account_type_change_to_full"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_role_changed.seat_rename"})},{value:["roster_exported"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.exported_the_members_list"})},{value:["org_team_csv_exported"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.exported_the_org_team_list"})},{value:["workspace_team_csv_exported"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.exported_the_workspace_team_list"})},...e?k5:[],{value:["org_invite_create"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_invite_created"})},{value:["cursor_chat_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.cursor_chat_setting_change"})},...e?[{value:["idle_timeout_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.idle_timeout_setting_change"})}]:[],...e&&(null==(a=t.shared_org_license_group_settings)?void 0:a.configured_upgrade_request_setting)?[{value:["configurable_upgrade_request_setting_change","configurable_upgrade_request_message_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.configurable_upgrade_request_flow_changed"})}]:[],{value:["scim_token_generate","scim_token_revoke"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.scim_token_generated_revoked"})},...e?(0,mw.ro)(t)?k1.concat({value:["workspace_public_link_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.changed_workspace_public_link_setting"})}):k1:[],...e?k4:[],...e?k3:[],...e?k8:[],{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.libraries"})},{value:["org_library_setting_change"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_library_setting_changed"})},...e?k2:[],...e&&(0,dN.Oe)(t)?[{value:["workspace_library_approve","workspace_library_unapprove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.workspace_library_approval_changed"})}]:[],...e&&(0,dN.Oe)(t)?[{value:["org_library_approve","org_library_unapprove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.org_library_approval_changed"})}]:[],{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.users"})},...e?[{value:["user_idle_session_timeout"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.user_session_timed_out"})}]:[],{value:["user_sign_in","user_sign_out"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.user_signed_in_signed_out"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.community"})},{value:["community_hub_file_publish","community_hub_file_update","community_hub_file_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.file_published_updated_deleted"})},{value:["community_plugin_publish","community_plugin_update","community_plugin_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_published_updated_deleted"})},{value:["community_widget_publish","community_widget_update","community_widget_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_published_updated_deleted"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.private_plugins"})},{value:["private_plugin_publish"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_published"})},{value:["private_plugin_update"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_updated"})},{value:["private_plugin_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_deleted"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_management"})},{value:["plugin_approvelist_enable","plugin_approvelist_disable"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_approve_list_setting_changed"})},{value:["plugin_approvelist_request_org"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_approve_list_requested"})},{value:["plugin_approvelist_request_approve_org","plugin_approvelist_request_reject_org","plugin_approvelist_request_approve_workspace","plugin_approvelist_request_reject_workspace","plugin_approvelist_add","plugin_approvelist_add_workspace","plugin_approvelist_remove","plugin_approvelist_remove_workspace"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.approve_list_plugins_reviewed"})},{value:["plugin_install","plugin_uninstall"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.install_plugins_org_wide"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_publishers"})},{value:["plugin_publisher_accept_invite","plugin_publisher_remove_invite"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_publisher_accept_remove_invite"})},{value:["plugin_publisher_invite"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_publisher_invite"})},{value:["plugin_publisher_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_publisher_remove"})},{value:["plugin_ownership_transfer"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.plugin_ownership_transfer"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.private_widgets"})},{value:["private_widget_publish"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_published"})},{value:["private_widget_update"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_updated"})},{value:["private_widget_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_deleted"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_management"})},{value:["widgets_enabled","widgets_disable"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_approve_list_setting_changed"})},{value:["widget_approvelist_request_org"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_approve_list_requested"})},{value:["widget_approvelist_request_approve_org","widget_approvelist_request_reject_org","widget_approvelist_request_approve_workspace","widget_approvelist_request_reject_workspace","widget_approvelist_add","widget_approvelist_add_workspace","widget_approvelist_remove","widget_approvelist_remove_workspace"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.approve_list_widgets_reviewed"})},{value:["widget_install","widget_uninstall"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.install_widgets_org_wide"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_publishers"})},{value:["widget_publisher_accept_invite","widget_publisher_remove_invite"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_publisher_accept_remove_invite"})},{value:["widget_publisher_invite"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_publisher_invite"})},{value:["widget_publisher_remove"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_publisher_remove"})},{value:["widget_ownership_transfer"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.widget_ownership_transfer"})},...k0,{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.audio"})},{value:["voice_call_join_req"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.user_joined_audio_call"})},{value:kZ,description:ep.createElement(e$.Tx,{id:"activity_log.filter.integrations"})},{value:["personal_access_token_create","personal_access_token_delete"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.personal_access_token_create_delete"})},{value:["oauth_token_grant","oauth_token_revoke"],description:ep.createElement(e$.Tx,{id:"activity_log.filter.oauth_token_grant_revoke"})},...k6]},k7=[{value:{start:(0,pN.A)().format("YYYY-MM-DD"),end:(0,pN.A)().format("YYYY-MM-DD")},description:ep.createElement(e$.Tx,{id:"activity_log.filter.today"})},{value:{start:(0,pN.A)().subtract(1,"days").format("YYYY-MM-DD"),end:(0,pN.A)().format("YYYY-MM-DD")},description:ep.createElement(e$.Tx,{id:"activity_log.filter.yesterday"})},{value:{start:(0,pN.A)().subtract(7,"days").format("YYYY-MM-DD"),end:(0,pN.A)().format("YYYY-MM-DD")},description:ep.createElement(e$.Tx,{id:"activity_log.filter.last_week"})},{value:{start:(0,pN.A)().subtract(30,"days").format("YYYY-MM-DD"),end:(0,pN.A)().format("YYYY-MM-DD")},description:ep.createElement(e$.Tx,{id:"activity_log.filter.last_month"})}];function Se(e){return ep.createElement("div",null,e.token.content)}class St extends ep.PureComponent{constructor(e){let t;if(super(e),this.fetchLogs=e=>{let t=e?this.displayedFilterParams():this.props.activityLogs.lastQuery;this.props.fetchLogs({newQuery:e,...t})},this.loadMore=()=>{this.fetchLogs(!1)},this.clearFilter=()=>{this.setState(this.initialFilterState())},this.showClearButton=()=>{let e=(({emails:e,team:t,event:a,date:r,showCustomDatePicker:n})=>({emails:e,team:t,event:a,date:r,showCustomDatePicker:n}))(this.state);return!yc()(e,this.initialFilterState())},this.filterLogs=()=>{let e=(0,k$.KJ)(this.state.date,(0,b4.um)(this.state.emails));if(e){this.setState(t=>({error:{message:e.message,field:e.field},emails:{...t.emails,errorMessage:"email"===e.field?e.message:""}}));return}this.setState(e=>({error:null,emails:{...e.emails,errorMessage:""}})),this.fetchLogs(!0)},this.onRequestCSV=()=>{var e;if(this.state.pendingRequest)return;let t=(0,k$.KJ)(this.state.date,(0,b4.um)(this.state.emails));if(t){this.setState(e=>({error:{message:t.message,field:t.field},emails:{...e.emails,errorMessage:"email"===t.field?t.message:""}}));return}this.setState(e=>({error:null,pendingRequest:!0,emails:{...e.emails,errorMessage:""}})),this.props.dispatch(t6.F.enqueue({message:(0,e$.t)("activity_log.table.preparing_request_for_csv"),type:"orgRoster.exportCSV",icon:bS.zX.SPINNER}));let a=this.displayedFilterParams();ae.Ay.post("/api/activity_logs/export",{org_id:this.props.org.id,emails:null==(e=a.emails)?void 0:e.join(),start_time:a.date.start,end_time:(0,k$.H3)(a.date.end)}).then(()=>{this.props.dispatch(t6.F.enqueue({message:(0,e$.t)("activity_log.table.activity_log.table.csv_requested_success"),type:"orgRoster.exportCSV",icon:bS.zX.CHECK}))},e=>{var t;this.props.dispatch(e5.s.error(e.message||(null==(t=e.data)?void 0:t.message)||(0,e$.t)("activity_log.table.csv_requested_error")))}).then(()=>{this.setState({pendingRequest:!1})})},this.onTeamClick=e=>{this.setState({team:e})},this.onEventClick=e=>{this.setState({event:e})},this.onEmailInputChange=e=>{this.setState({emails:e})},this.onDateOptionClick=e=>{if(null===e.value){this.setState({showCustomDatePicker:!0});return}this.setState({date:e.value,showCustomDatePicker:!1})},this.onStartDateChange=e=>{this.setState({date:{...this.state.date,start:e.target.value}})},this.onEndDateChange=e=>{this.setState({date:{...this.state.date,end:e.target.value}})},this.canLoadMore=()=>!(this.props.activityLogs.isLoading||0===this.props.activityLogs.logs.length||(0,kG.Im)(this.props.activityLogs.cursor)),this.handleScroll=()=>{!this.canLoadMore()||this.scrollContainerRef.getScrollHeight()-(this.scrollContainerRef.getScrollTop()+this.scrollContainerRef.getTrackHeight())>300||this.loadMore()},this.renderLogResults=()=>this.props.activityLogs.isLoading&&this.props.activityLogs.isNewQuery?ep.createElement(e8.qc,null):this.state.filteredActivityLogs.length>0?ep.createElement("div",null,ep.createElement(wl,{logs:this.state.filteredActivityLogs,orgName:this.getOrgName(),dispatch:this.props.dispatch,hideIpColumn:this.props.hideIpColumn,scTeamExperienceEnabled:(0,yI.D)(null,this.props.org.id)}),ep.createElement("div",{className:"activity_logs_section--tableNavigation---eC--"},this.props.activityLogs.isLoading&&!this.props.activityLogs.isNewQuery?ep.createElement(e8.qc,null):this.canLoadMore()&&ep.createElement(eI.$$,{onClick:this.loadMore},ep.createElement(e$.Tx,{id:"activity_log.table.load_more"})))):ep.createElement("div",{className:"activity_logs_section--emptyState--UI2wH"},ep.createElement(e$.Tx,{id:"activity_log.table.no_results_were_found"})),this.props.initialEventOptionId){let e=k9(this.props.org.bigma_enabled,this.props.org).find(e=>e.description.props.id===this.props.initialEventOptionId);e&&(t=e)}this.state={...this.initialFilterState(),error:null,pendingRequest:!1,filteredActivityLogs:[],event:t??kQ}}initialFilterState(){let e=this.props.initialStartTime?(0,pN.A)(this.props.initialStartTime):(0,pN.A)().subtract(30,"days"),t=(0,b4.Rs)();return this.props.initialEmail&&(t={...t,tokens:t.tokens.concat({state:b2.d.OK,content:this.props.initialEmail})}),{emails:t,team:null,event:kQ,date:{start:e.format("YYYY-MM-DD"),end:(0,pN.A)().format("YYYY-MM-DD")},showCustomDatePicker:!!this.props.initialStartTime}}componentDidMount(){this.fetchLogs(!0)}componentDidUpdate(e,t){let a=this.displayedFilterParams(t),r=this.displayedFilterParams(this.state);if(yc()(a,r)||this.filterLogs(),e.activityLogs.logs!==this.props.activityLogs.logs){let e=this.props.activityLogs.logs.filter(e=>(function(e,t){if(k3.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!e.metadata.is_billing_group;default:return!0}if(k8.includes(t))switch(e.event_name){case"license_group_create":case"license_group_rename":case"license_group_delete":case"license_group_admins_add":case"license_group_admins_remove":case"license_group_membership_change":case"license_group_membership_self_select":return!!e.metadata.is_billing_group}return!0})(e,this.state.event));this.setState({filteredActivityLogs:e})}}displayedFilterParams(e){var t;let a=e??this.state;return{teamId:(null==(t=a.team)?void 0:t.id)??"",emails:[...new Set((0,b4.N$)(a.emails))],eventName:a.event.value,date:{...a.date}}}getOrgName(){return this.props.org.name}render(){return ep.createElement(ep.Fragment,null,!this.props.hideHeader&&ep.createElement(bZ.K,{title:bA(En.J7.ACTIVITY),hasHorizontalPadding:!0,rightActions:ep.createElement(dD.$,{"data-onboarding-key":v$,onClick:this.onRequestCSV},ep.createElement(du.E,{i18nId:"activity_log.table.get_csv"}))}),ep.createElement("div",{className:eT.cx.wFull.hFull.overflowAuto.$},ep.createElement(ac.P,{horizontalScrollingDisabled:!0,className:eS()(wO.jG,eT.cx.wFull.hFull.$),innerClassName:this.props.hideHeader?void 0:wO.NM,onScroll:this.handleScroll,ref:e=>this.scrollContainerRef=e,minContentWidth:(0,ti.hG)(aE.URh)},ep.createElement("div",{className:wO.ln,style:{top:0}},ep.createElement(Sa,{filtersConfig:this.state,dropdownShown:this.props.dropdownShown,bigmaEnabled:this.props.org.bigma_enabled,orgTeams:this.props.orgTeams,onEmailInputChange:this.onEmailInputChange,onEventClick:this.onEventClick,onTeamClick:this.onTeamClick,onDateOptionClick:this.onDateOptionClick,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onRequestCSV:this.onRequestCSV,showClearButton:this.showClearButton(),clearFilter:this.clearFilter,dispatch:this.props.dispatch,org:this.props.org}),ep.createElement(yF.Hj,{useAdminTableStyles:!0,header:!0},ep.createElement("div",{className:"activity_logs_section--dateHeaderColumn--FlYXt activity_logs_table--dateHeaderColumn--bT0W- activity_logs_table--date--TBO0x"},ep.createElement(e$.Tx,{id:"activity_log.table.date"})),ep.createElement("div",{className:"activity_logs_section--actorHeaderColumn--YqTOd activity_logs_table--actorHeaderColumn--rgum5 activity_logs_table--_actor--1Zwaa"},ep.createElement(e$.Tx,{id:"activity_log.table.team_member"})),ep.createElement("div",{className:"activity_logs_section--eventDescriptionColumn--iK6zN activity_logs_table--eventDescriptionColumn--Vym3V"},ep.createElement(e$.Tx,{id:"activity_log.table.event"})),ep.createElement("div",{className:"activity_logs_section--productColumn--Vy1YA activity_logs_table--productColumn--5g20E"},ep.createElement(e$.Tx,{id:"activity_log.table.product"})),ep.createElement("div",{className:"activity_logs_section--teamColumn--ix-u0 activity_logs_table--teamColumn--3HROl"},ep.createElement(e$.Tx,{id:"activity_log.table.team"})),!this.props.hideIpColumn&&ep.createElement("div",{className:"activity_logs_section--ipColumn--yhoAb activity_logs_table--ipColumn--1N0HY"},ep.createElement(e$.Tx,{id:"activity_log.table.ip_address"})))),this.renderLogResults())))}}function Sa(e){var t;let a="activity-log-events-dropdown",r="activity-log-teams-dropdown",n="activity-log-date-dropdown",l=(e,t,a)=>{let{today:r,minDate:n}=(0,k$.Bd)();return ep.createElement(eI.ks,{type:"date",className:t?"activity_logs_section--dateErrorInput--wHr4O activity_logs_section--dateInput--QzUHJ activity_logs_section--errorBorder--Dk1UM":"activity_logs_section--dateInput--QzUHJ",onChange:a,value:e,min:n,max:r})},i=null==(t=e.filtersConfig.error)?void 0:t.field,s=i&&e.filtersConfig.error.message,o=!!e.dropdownShown&&e.dropdownShown.type===a,c=!!e.dropdownShown&&e.dropdownShown.type===r,d=!!e.dropdownShown&&e.dropdownShown.type===n,m=e.filtersConfig.showCustomDatePicker?void 0:k7.find(t=>yc()(t.value,e.filtersConfig.date));return ep.createElement("div",{className:eS()("activity_logs_section--menuBar--Gf3ku multi_select_list--menuBar--8xNGR",eT.cx.bt1.colorBorder.bSolid.$)},ep.createElement("div",{className:"activity_logs_section--menuBarLeft--8J-A7 multi_select_list--menuBarLeft--aUL8Q"},!eb.rr&&ep.createElement(tq.p,null,ep.createElement(kz,null)),ep.createElement(kE.P,{onboardingKey:vG,className:"activity_logs_section--emailInput--qrO3D",autocomplete:e.filtersConfig.emails,placeholder:(0,e$.t)("activity_log.table.member_email_addresses"),onChange:e.onEmailInputChange,validateToken:e=>({state:(0,i9.xf)(e)?b2.d.OK:b2.d.ERROR,content:e}),TokenComponent:Se}),ep.createElement("div",{className:"activity_logs_section--dateDropdownContainer--mOtRD"},ep.createElement(wT.Ve,{showingDropdown:d,type:n,dispatch:e.dispatch},m?m.description:(0,e$.t)("activity_log.filter.custom"),d&&ep.createElement("div",{className:kY,style:e.dropdownShown.data.position},ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:"activity_logs_section--dateDropdown--ycwTF activity_logs_section--dropdown--nOl3y"},k7.map(t=>ep.createElement(pv.W.CheckableOption,{key:`${t.value}-${t.description.props.id}`,checked:m===t,onClick:()=>e.onDateOptionClick(t)},t.description)),ep.createElement(pv.W.Separator,null),ep.createElement(pv.W.CheckableOption,{checked:!m,onClick:()=>e.onDateOptionClick({value:null,description:ep.createElement(e$.Tx,{id:"activity_log.filter.custom"})})},ep.createElement(e$.Tx,{id:"activity_log.filter.custom"})))))),e.filtersConfig.showCustomDatePicker?ep.createElement("div",{className:"activity_logs_section--datesContainer--TD-ga"},l(e.filtersConfig.date.start,"startDate"===i,e.onStartDateChange),ep.createElement("div",{className:"activity_logs_section--dateSeparator--VXpli"},"\u2013"),l(e.filtersConfig.date.end,"endDate"===i,e.onEndDateChange)):null,ep.createElement(wT.Ve,{showingDropdown:o,type:a,dispatch:e.dispatch},null===e.filtersConfig.event.value?(0,e$.t)("activity_log.table.events_all"):ep.createElement("span",{className:"activity_logs_section--eventSelector--d2BnL ellipsis--ellipsis--Tjyfa"},ep.createElement(e$.Tx,{id:"activity_log.table.event_selected",event:e.filtersConfig.event.description})),o&&ep.createElement("div",{className:kY,style:e.dropdownShown.data.position},ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:kK},k9(e.bigmaEnabled,e.org).map(t=>{let a=t.description.props.id,r=`${t.value}-${a}`;return t.value===kZ?ep.createElement(ep.Fragment,{key:r},ep.createElement(pv.W.Separator,null),ep.createElement(pv.W.CheckableOption,{disabled:!0,checked:!1,onClick:ev.lQ},ep.createElement("span",{className:kJ},t.description))):ep.createElement(pv.W.CheckableOption,{key:r,checked:e.filtersConfig.event.description.props.id===a,onClick:()=>e.onEventClick(t)},ep.createElement("span",{className:kJ},t.description))})))),ep.createElement(wT.Ve,{showingDropdown:c,type:r,dispatch:e.dispatch},null===e.filtersConfig.team?(0,e$.t)("activity_log.table.teams_all"):(0,e$.t)("activity_log.table.team_selected",{team:(0,to.EJ)(e.filtersConfig.team.name,21)}),c&&ep.createElement("div",{className:kY,style:e.dropdownShown.data.position},ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:kK},ep.createElement(pv.W.CheckableOption,{checked:null===e.filtersConfig.team,onClick:()=>e.onTeamClick(null)},ep.createElement(e$.Tx,{id:"activity_log.table.all"})),ep.createElement(pv.W.Separator,null),e.orgTeams.map(t=>ep.createElement(pv.W.CheckableOption,{key:t.id,checked:e.filtersConfig.team===t,onClick:()=>e.onTeamClick(t)},t.name))))),e.showClearButton&&ep.createElement(eI.nR,{className:"activity_logs_section--clearButton--KKjdl",onClick:()=>e.clearFilter()},ep.createElement(e$.Tx,{id:"activity_log.table.clear"})),s&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"activity_logs_section--flexBreak--LKSRe"}),ep.createElement("span",{className:"activity_logs_section--errorMessage--50Jgv"},s))))}function Sr(e){return ep.createElement("div",{className:eT.cx.overflowAuto.wFull.hFull.$},ep.createElement(ac.P,{className:eT.cx.wFull.hFull.$,innerClassName:eT.cx.px32.borderBox.hFull.$,minContentWidth:e.minContentWidth},e.scrollAwayContent,e.stickyContent&&ep.createElement("div",{className:eT.cx.sticky.top0.$},e.stickyContent),e.children))}St.displayName="ActivityLogsPage";var Sn=a(889012),Sl=a.n(Sn),Si=a(294615),Ss=a(447132);let So="org_user_autocomplete_input--input--Dm3Y1";function Sc(e){return ep.createElement("div",null,e.token.content.user.handle)}function Sd(e){let{user:t}=e.searchResult;return ep.createElement("div",{className:e.isSelected?"org_user_autocomplete_input--orgUserRowSelected--65mB0 autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"org_user_autocomplete_input--orgUserRow--IM-mB autocomplete_permissions--contactRow--DRMiv"},ep.createElement(e7.Ro,{className:"org_user_autocomplete_input--orgUserAvatar--kBaLv autocomplete_permissions--avatar--Hb2O-",entity:t}),ep.createElement("div",null,ep.createElement("div",{className:"org_user_autocomplete_input--name--0kk3D autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.handle),t.email&&ep.createElement("div",{className:"org_user_autocomplete_input--email--pplae autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}let Sm={columnName:vx.Od.SEARCH_SCORE,isReversed:!1},Su={...vx.J0,permissionFilter:"true_member"};function S_(e){let t=(0,eg.wA)(),a=(0,mV.sZ)(),[r,n]=ep.useState([]),l=Sl()(t=>{e.onAutocompleteChange(t)},300),i=(0,Ss.J)(()=>""===e.autocomplete.inputValue?Promise.resolve({users:[],newCursor:null,totalUserCount:0}):(0,h2.n)(t,a.id,{searchQuery:e.autocomplete.inputValue,sort:Sm,filter:Su,minimalFields:!0}),[e.autocomplete.inputValue,t,a]);return ep.useEffect(()=>{(0,Si.xj)(i)&&n(()=>{var t;let a=e.autocomplete.tokens.map(e=>e.content.id);return(null==(t=(0,Si.Cz)(i))?void 0:t.users.map(e=>e).filter(e=>!a.includes(e.id)))??[]})},[e.autocomplete.tokens,i]),ep.createElement(kE.P,{className:So,inviteInputClassName:So,autocompleteResultsClassName:"org_user_autocomplete_input--autocompleteResults--pKNN8",autocomplete:e.autocomplete,placeholder:e.placeholder,onChange:l,validateToken:ev.lQ,searchResults:()=>r,SearchResultComponent:Sd,TokenComponent:Sc})}let Sp="First License Group Created";function Sg({licenseGroup:e,autocomplete:t,name:a,setName:r,validateName:n,hasError:l,onClose:i,onAutocompleteChange:s,onSubmit:o}){let c=!!e;return ep.createElement(sn.XV,{title:c?(0,e$.t)("billing_groups_table.edit_billing_group_title"):(0,e$.t)("billing_groups_table.create_billing_group_title"),onClose:i,minWidth:500},ep.createElement(ej.Y,{direction:"vertical",spacing:16,padding:16},!c&&ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(du.E,{i18nId:"billing_groups_table.edit_billing_group_modal.add_people_to_a_billing_group.seat_rename"}),ep.createElement(eI.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},ep.createElement(du.E,{i18nId:"general.learn_more"}))),ep.createElement("label",{className:eT.cx.wFull.$},ep.createElement(ej.Y,{width:"fill-parent",direction:"vertical",spacing:8},ep.createElement(du.E,{i18nId:"billing_groups_table.name_input",fontWeight:"medium"}),ep.createElement(eI.ks,{autoFocus:!0,className:eS()("license_group_edit_modal--inputFieldFullWidth--Z3wkY license_group_edit_modal--inputField--xd-cD",{"license_group_edit_modal--inputFieldWithError--e3g5i":l}),placeholder:(0,e$.t)("billing_groups_table.name_input_placeholder"),onChange:e=>{r(e.currentTarget.value),n(e.currentTarget.value)},value:a,maxLength:eI.TA}),"unassigned"===l&&ep.createElement(du.E,{i18nId:"billing_groups_table.billing_group_name_unassigned_error",color:"danger"}),"duplicated"===l&&ep.createElement(du.E,{i18nId:"billing_groups_table.billing_group_name_already_exists_error",color:"danger"}))),ep.createElement("label",{className:eT.cx.wFull.$},ep.createElement("span",{className:"license_group_edit_modal--inputLabel--FI9O9"},ep.createElement(e$.Tx,{id:"billing_groups_table.admins_input"})),ep.createElement("div",null,ep.createElement(du.E,{i18nId:"billing_groups_table.admins_input_help_text",color:"secondary"})),ep.createElement("div",{className:eT.cx.mt8.relative.$},ep.createElement(S_,{placeholder:(0,e$.t)("billing_groups_table.admin_input_placeholder"),autocomplete:t,onAutocompleteChange:s}))),ep.createElement("div",{className:eT.cx.flex.justifyEnd.wFull.$},ep.createElement(eI.nR,{onClick:i},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(eH.fu,{name:"License Group Modal Submit",properties:{licenseGroupId:null==e?void 0:e.id}},ep.createElement(eI.vd,{className:"license_group_edit_modal--submitButton--kf4-y",onClick:o,disabled:!!l||!a.length||0===t.tokens.length},c?ep.createElement(e$.Tx,{id:"billing_groups_table.billing_group_edit_save_changes"}):ep.createElement(e$.Tx,{id:"billing_groups_table.create_billing_group_button"}))))))}let SE=(0,am.Ju)(function(e){var t;let a=(0,eg.wA)(),[r,n]=ep.useState(null),l=(0,mV.dq)(),i=(0,mV.sZ)(),s=(0,Ea.MX)(),o=!!e.licenseGroup,c=[];o&&!e.licenseGroup.is_orphaned&&(c=e.licenseGroup.admin_users_metadata.map(e=>({state:b2.d.OK,content:{id:"",user:e}})));let[d,m]=ep.useState(o?{...(0,b4.Rs)(),tokens:c}:(0,b4.Rs)()),u=ep.useCallback(t=>{var a;(0,tn.sx)("Workspace admin search performed",{orgId:null==i?void 0:i.id,licenseGroupId:null==(a=e.licenseGroup)?void 0:a.id,queryLength:t.inputValue.length}),m(t)},[null==i?void 0:i.id,null==(t=e.licenseGroup)?void 0:t.id]),[_,p]=ep.useState(o?e.licenseGroup.name:"");return ep.createElement(Sg,{autocomplete:d,name:_,setName:p,validateName:t=>{if(s.find(a=>{var r;return a.name.trim().toLowerCase()===t.trim().toLowerCase()&&(null==(r=e.licenseGroup)?void 0:r.id)!==a.id})){n("duplicated");return}if("unassigned"===t.trim().toLowerCase()){n("unassigned");return}n(null)},hasError:r,licenseGroup:e.licenseGroup,onClose:()=>{var t;(0,tn.sx)("CTA Clicked",{name:"License Group Modal Cancel",licenseGroupId:null==(t=e.licenseGroup)?void 0:t.id,orgId:l}),a(e0.Ce())},onSubmit:()=>{let t=({data:e})=>{var t;let r=!o&&0===s.length;a(t6.F.enqueue({type:"license-group-edit",message:o?(0,e$.t)("billing_groups_table.billing_group_edited_toast",{workspaceName:_}):(0,e$.t)("billing_groups_table.billing_group_created_toast",{workspaceName:_})})),a(e0.Ce()),a(Ee.yo({licenseGroup:e.meta,orgId:l})),r&&(0,tn.sx)(Sp,{licenseGroupId:null==(t=e.meta)?void 0:t.id,orgId:l})},r=e=>{a(t6.F.enqueue({error:!0,message:e.message}))};o?ae.Ay.put(`/api/license_group/${e.licenseGroup.id}`,{name:_,admin_user_ids:d.tokens.map(e=>e.content.user.id),showing_billing_groups:!0}).then(t).catch(r):ae.Ay.post(`/api/orgs/${l}/license_groups`,{name:_,admin_user_ids:d.tokens.map(e=>e.content.user.id),showing_billing_groups:!0}).then(t).catch(r)},onAutocompleteChange:u})},"LicenseGroupEditModal"),Sf="seen_org_admin_billing_groups_onboarding",Sh=(0,bF.rn)("org_admin_license_groups_onboarding",(0,bP.R)(t4.O5v)),Sv=(0,tZ.r1)(Sf);function Sb(e){let t=(0,tY.md)(Sv),{isShowing:a,show:r,complete:n,uniqueId:l}=(0,tJ.e)({overlay:t4.O5v,priority:tQ.N.DEFAULT_MODAL},[t]),i=(0,bO.zl)(Sh);(0,tz.h)(()=>{"reset"===i.currentState?r():r({canShow:t=>!t&&!eb.rr&&!!e.orgHasLicenseGroups})}),(0,tK.E)(l,"Reset Onboarding",()=>r());let s=[{title:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.title"}),description:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.create.description.seat_rename"}),trackingContextName:`${vM} - create`,targetKey:vY,emphasized:!0,clickOutsideToHide:!0},{title:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.title"}),description:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.add_admins.description.seat_rename"}),trackingContextName:`${vM} - add admins`,targetKey:vV,emphasized:!0,shouldCenterArrow:xM.EL.FALLBACK,clickOutsideToHide:!0},{title:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.title"}),description:ep.createElement(e$.Tx,{id:"org_admin_onboarding.billing_groups.tooltip.edit.description"}),trackingContextName:`${vM} - edit`,targetKey:vK,emphasized:!0,clickOutsideToHide:!0}];return ep.createElement(bM.WZ,{isShowing:a,userFlagOnShow:Sf,steps:s,onComplete:n})}let Sy=(0,tZ.r1)(Sf);function Sw(){let e=(0,tY.md)(Sy),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,tJ.e)({overlay:t4.pIP,priority:tQ.N.DEFAULT_MODAL},[e]);return(0,tK.E)(n,Sp,()=>{t({canShow:e=>!eb.rr&&!e})}),ep.createElement(vI.rq,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:vK,trackingContextName:`${vM} - Menu cell`,title:ep.createElement(e$.Tx,{id:"onboarding_pointers.manage_billing_group_overlay.title"}),description:ep.createElement(du.E,{i18nId:"onboarding_pointers.manage_billing_group_overlay.description",i18nParams:{optionName:ep.createElement(du.E,{fontWeight:"semi-bold",i18nId:"billing_groups_table.manage"})}}),primaryCta:{label:ep.createElement(e$.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.DONE},onClose:r,userFlagOnShow:Sf})}var ST=a(172e3);let Sx=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,Ea.MX)(),r=(0,mV.sZ)(),n=null==r?void 0:r.id,l=e.licenseGroups.map(e=>e.id),i=e.licenseGroups.map(e=>e.name),s=()=>{t(e0.Ce())},[o,c]=ep.useState(!1);return ep.createElement(eH.fu,{name:"Delete license group modal",properties:{numLicenseGroups:e.licenseGroups.length}},ep.createElement(sn.XV,{title:(0,e$.t)("billing_groups_table.delete_n_billing_groups",{licenseGroupsCount:e.licenseGroups.length}),maxWidth:372,onClose:s},ep.createElement("div",{className:"license_group_delete_modal--modalContainer--C9aZU modal--container--LVq8G"},ep.createElement(e$.Tx,{id:"billing_groups_table.delete_modal.deleting_the_billing_groups_will_cause",licenseGroupsCount:e.licenseGroups.length,licenseGroupsNames:ep.createElement(du.E,{fontWeight:"bold"},(0,to.Yx)(i))}),ep.createElement("div",null,ep.createElement("div",null,"\xa0"),ep.createElement("span",{className:b8.Vq},(0,e$.t)("billing_groups_table.delete_modal.are_you_sure_you_want_to_delete_these_billing_groups",{licenseGroupsCount:e.licenseGroups.length}))),ep.createElement("div",null,"\xa0"),ep.createElement("form",{onSubmit:r=>{r.preventDefault(),ae.Ay.del(`/api/orgs/${n}/license_groups`,{license_group_ids:l,showing_billing_groups:!0}).then(({data:r})=>{t(t6.F.enqueue({type:"license-group-delete",message:(0,e$.t)("billing_groups_table.billing_groups_deleted_toast",{licenseGroupsCount:e.licenseGroups.length,licenseGroupName:e.licenseGroups[0].name})})),t(e0.Ce()),t(Ee.w4({licenseGroups:r.meta,deletingAll:a.length===e.licenseGroups.length}))}).catch(e=>{t(t6.F.enqueue({error:!0,message:e.message??(0,e$.t)("billing_groups_table.delete_modal.an_error_occurred_while_deleting_billing_groups")}))})}},ep.createElement("label",null,ep.createElement(eI.tB,{checked:o,onChange:()=>c(!o)}),ep.createElement(e$.Tx,{id:"billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible"})),ep.createElement("div",{className:b8.v0},ep.createElement(eI.tM,{onClick:s},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(eI.qM,{type:"submit",className:b8.pL,disabled:!o},(0,e$.t)("billing_groups_table.delete_n_billing_groups",{licenseGroupsCount:e.licenseGroups.length})))))))},"LicenseGroupDeleteModal");function SC({selectedLicenseGroups:e}){let t=(0,eg.wA)();return 0===e.length?null:ep.createElement(ep.Fragment,null,1===e.length&&!!e[0].id&&ep.createElement(ep.Fragment,null,ep.createElement(wT.IU,{onClick:()=>{t((0,e0.to)({type:SE,data:{licenseGroup:e[0]}}))},label:(0,e$.t)("billing_groups_table.edit_details")}),ep.createElement(wT.IU,{onClick:()=>{t(tL.$T({view:"licenseGroup",subView:gh.GN.ADMIN,licenseGroupId:e[0].id,selectedTab:gh.RM.MEMBERS,orgAdminOriginTab:En.J7.BILLING}))},label:(0,e$.t)("billing_groups_table.manage")})),ep.createElement(wT.IU,{onClick:()=>t((0,e0.to)({type:Sx,data:{licenseGroups:e.filter(e=>!!e.id)}})),label:(0,e$.t)("general.delete")}))}function SN(e){let{licenseGroup:t,disableDropdown:a}=e,r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.dropdownShown);if(a||!t.id)return ep.createElement(ep.Fragment,null);let l=`MENU_DROPDOWN-${t.id}`,i=(null==n?void 0:n.type)===l;return ep.createElement(wT.Ve,{isRightAligned:!0,className:wO.hP,dispatch:r,hideChevron:!0,showingDropdown:i,type:l},ep.createElement(eL.B,{svg:rN.A,className:"license_groups_table--menuIcon--PsZKG admin_settings_page--menuIcon--dMpHa","data-onboarding-key":e.onboardingKey}),i&&ep.createElement(pv.W.DropdownWithScrim,{dispatch:r,className:"license_groups_table--dropdown--YSNYp",style:n.data.position},ep.createElement(pv.W.OptionTracked,{onClick:()=>{r((0,e0.to)({type:SE,data:{licenseGroup:t}}))}},(0,e$.t)("billing_groups_table.edit_details")),ep.createElement(pv.W.OptionTracked,{onClick:()=>{r(tL.$T({view:"licenseGroup",subView:gh.GN.ADMIN,licenseGroupId:t.id,selectedTab:gh.RM.MEMBERS,orgAdminOriginTab:En.J7.BILLING}))}},ep.createElement(du.E,{i18nId:"billing_groups_table.manage"})),ep.createElement(pv.W.OptionTracked,{onClick:()=>{r((0,e0.to)({type:Sx,data:{licenseGroups:[t]}}))}},(0,e$.t)("general.delete"))))}let Sk=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function SS({count:e}){return ep.createElement("div",{className:eT.cx.borderBox.minW16.px4.alignCenter.if(0===e,eT.cx.colorBgHover,eT.cx.colorBgWarning).$,style:{borderRadius:"100px"},"data-preferred-theme":"light","data-testid":"incomplete-groups-count-badge"},ep.createElement(du.E,{color:"default",fontWeight:"medium"},e))}let SI=(0,ti.hG)(aE.YEj),SA=e=>e.id??SL,SL="unassigned";function SR(e){let t=(0,eg.wA)(),a=xF(),[r,n]=ep.useState(""),[l,i]=ep.useState(!1),[s,o]=ep.useState(!1),c=(0,Ea.MX)(),d=[{name:(0,e$.t)("billing_groups_table.column_header.name"),className:"license_groups_table--nameColumn--lMjJn license_groups_table--column--XeFYP table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>e.id?ep.createElement(eH.fu,{name:"Billing group name",trackingTargets:ST.K.NONE},ep.createElement(eI.Ph,{trusted:!0,className:eT.cx.wFitContent.hFitContent.$,onClick:()=>{t(tL.$T({licenseGroupId:e.id,view:"licenseGroup",subView:gh.GN.ADMIN,selectedTab:gh.RM.MEMBERS,orgAdminOriginTab:En.J7.BILLING}))}},ep.createElement("div",{className:"license_groups_table--name--KSapP",onMouseOver:()=>o(!0),onMouseOut:()=>o(!1)},e.name))):ep.createElement(ej.Y,{spacing:4,padding:0},ep.createElement(du.E,{i18nId:"workspace_table.unassigned"}),ep.createElement(du.E,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}))},{name:(0,e$.t)("billing_groups_table.column_header.admins"),className:"license_groups_table--adminColumn---EUCv license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{let a=t.id?t.admin_users_metadata:[],r=a.length?a:e.orgAdmins.filter(e=>e.permission===lB._D.ADMIN).map(e=>e.user),n=(0,bi.e)(r);return ep.createElement(ep.Fragment,null,r.length>1?ep.createElement(ep.Fragment,null,ep.createElement(_6.f,{className:"license_groups_table--overflowTextAvatar---EE3k",text:`${r.length}`}),ep.createElement("p",{className:"license_groups_table--overflowTextList---88BW ellipsis--ellipsis--Tjyfa"},n)):ep.createElement(e7.az,{entity:r[0],size:22}))}},{name:(0,e$.t)("billing_groups_table.column_header.members"),className:"license_groups_table--membersColumn---ih79 license_groups_table--column--XeFYP table--column--974RA",cellComponent:a=>{var r;let n=(null==(r=e.licenseGroupMemberCounts[a.id??f0.s])?void 0:r.total_count)??0,l=a.id??f0.s;return ep.createElement(eI.N_,{onClick:()=>t(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.MEMBERS,licenseAdminSettingsMembersViewTab:l,orgAdminMembersTabFilters:{...e.currentFilters,licenseGroupFilter:l}})),trusted:!0},ep.createElement(e$.Tx,{id:"billing_groups_table.n_members",count:n}))},getSortValue:t=>{var a;return(null==(a=e.licenseGroupMemberCounts[t.id??f0.s])?void 0:a.total_count)??0},sortNumerically:!0},...Object.values(uD.JT.excludeUnlessFlag([uP.lM.DEV_MODE],"billing_dev_mode_customer_ui").sort(uD.AG).withOverrides({[uP.oM.DESIGN]:(0,e$.t)("billing_groups_table.column_header.design_editors.seat_rename"),[uP.oM.WHITEBOARD]:(0,e$.t)("billing_groups_table.column_header.figjam_editors.seat_rename"),[uP.oM.DEV_MODE]:(0,e$.t)("billing_groups_table.column_header.dev_mode_seats")}).dict((t,a)=>({name:t,className:"license_groups_table--licenseCountsColumn--G9Bmj license_groups_table--column--XeFYP table--column--974RA",cellComponent:t=>{var r;let n=(null==(r=e.licenseGroupMemberCounts[t.id??f0.s])?void 0:r.editor_counts[a])??0;return ep.createElement("div",null,ep.createElement(e$.Tx,{id:"billing_groups_table.n_editors.seat_rename",count:n}))},getSortValue:t=>{var r;return(null==(r=e.licenseGroupMemberCounts[t.id??f0.s])?void 0:r.editor_counts[a])??0},sortNumerically:!0}))),{name:"",className:"license_groups_table--iconColumn--w7qWK admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t,a)=>ep.createElement(SN,{licenseGroup:e,disableDropdown:t,onboardingKey:1===a?vK:void 0})}];e.invoices&&(0,uJ.hX)(e.invoices)&&d.splice(1,0,{name:"True-up status",className:"license_groups_table--trueUpColumn--GFQY2 license_groups_table--column--XeFYP table--column--974RA",getSortValue:t=>t.id?`${(0,Ea.NV)(t,e.invoices)?"c":"b"}${t.name}`:"a",cellComponent:t=>{if(!t.id)return ep.createElement(ep.Fragment,null,"\u2013");let a=!(0,Ea.NV)(t,e.invoices);return ep.createElement("span",{className:eT.cx.flex.itemsCenter.$},ep.createElement(e7.pw,{className:eT.cx.mr8.$,size:8,color:a?te.UGg:te.BYv}),a?(0,e$.t)("billing_groups_table.confirmed"):(0,e$.t)("billing_groups_table.unconfirmed"))}});let m=[{id:null},...c];r&&(Sk.set(m),m=Sk.search(r));let u=m.filter(t=>t.id&&(0,Ea.NV)(t,e.invoices)),_=u.length;l&&(m=u);let[p,g,E]=(0,be.z)({columnName:"Name",isReversed:!1},m,d);return ep.createElement(ep.Fragment,null,ep.createElement(bD.Cj,{hasNewScrollContext:!0,items:E,getItemKey:SA,columns:d,scrollAwayContent:e.scrollAwayContent,stickyContent:ep.createElement(ep.Fragment,null,!eb.rr&&!a&&ep.createElement(tq.p,null,ep.createElement(Sb,{orgHasLicenseGroups:c.length>0})),e.stickyContent,ep.createElement(ej.Y,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8},spacing:"24px"},ep.createElement(bk.y2,{onChange:n,focusOnMount:!1,query:r,clearSearch:()=>n(""),placeholder:(0,e$.t)("billing_groups_table.search.placeholder")}),e.invoices&&(0,uJ.hX)(e.invoices)&&ep.createElement(uX.S,{checked:l,onChange:()=>i(e=>!e),label:ep.createElement(ej.Y,{direction:"horizontal",width:"hug-contents",spacing:"4px"},ep.createElement(SS,{count:_}),ep.createElement(du.E,{i18nId:"billing_groups_table.unconfirmed_billing_groups"}))}))),actionBar:e=>ep.createElement(SC,{selectedLicenseGroups:e}),actionBarClassName:"license_groups_table--bulkActionsBar--q1TdV",itemTypeContext:{itemType:"billing group",getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_billing_groups",{numSelected:e})},minContentWidth:SI,unselectableItemKeys:new Set([SL]),isBannerHeightDynamic:!0,emptyContent:ep.createElement(TR.p,null,r?(0,e$.t)("billing_groups_table.search.no_results"):(0,e$.t)("billing_groups_table.filter.no_results")),sortState:p,onSetSortState:g,styleOverrideClassNames:{row:s?"license_groups_table--hoverDisabledRow--y0wbz":void 0,unselectedCheckbox:"license_groups_table--unselectedCheckbox--iP34r"}}))}function SO(e){let t=new aQ.vr(e.currency);return ep.createElement(kR,{color:kA.LIGHT_BLUE},ep.createElement(eL.B,{autosize:!0,width:"16px",height:"16px",svg:po.A,className:kI}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner_figjam.you_have_a_credit_amount",accountCredit:t.formatMoney(e.accountCredit,{showCents:!0})})))}let SF=eT.cx.cursorPointer.underline.textInherit__DEPRECATED.bgNone.$;function SM(e){switch((0,uJ.Fw)(e.invoices)){case uJ.$.DEFAULT:case uJ.$.REVIEW:case uJ.$.LOCKED:return null;case uJ.$.UNPAID:return ep.createElement(SD,{invoice:(0,uJ.jk)(e.invoices,"open")});case uJ.$.OVERDUE:return ep.createElement(SP,{invoice:(0,uJ.jk)(e.invoices,"open")})}}function SD(e){let t=e.invoice,a=new Date(t.past_due_at).getTime()-Date.now();return ep.createElement("div",{"data-testid":"pay-banner"},ep.createElement(kR,{color:kA.BLUE,removeNegativeMargin:!0},ep.createElement(eL.B,{autosize:!0,width:"16px",height:"16px",svg:po.A,className:kI}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner_figjam.due_date_message",dueDate:(0,pN.A)(t.due_at).format("MMM D"),pastDueDate:(0,pN.A)(t.past_due_at).format("MMM D"),differenceDays:Math.floor(a/1e3/60/60/24),payInvoiceLink:ep.createElement("button",{onClick:()=>{(0,l2.FJ)(t.invoice_url,"_blank","noopener")},className:SF},ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))}))))}function SP(e){let t=e.invoice,a=new aQ.vr(t.currency);return ep.createElement("div",{"data-testid":"past-due-banner"},ep.createElement(kR,{color:kA.RED,removeNegativeMargin:!0},ep.createElement(eL.B,{autosize:!0,width:"16px",height:"16px",useOriginalSrcFills_DEPRECATED:!1,svg:Eo.A,className:"admin_banner--iconOnWarning--SzXXU"}),ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner_figjam.invoice_overdue",dueDate:(0,pN.A)(t.due_at).format("MMM D"),amount:a.formatMoney(t.amount_due,{showCents:!1}),payInvoiceLink:ep.createElement("button",{onClick:()=>{(0,l2.FJ)(e.invoice.invoice_url,"_blank","noopener")},className:SF},ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner_figjam.pay_invoice"}))}))))}function SB({org:e,invoice:t}){return ep.createElement(Tw,{dataTestId:"default-billing-details-banner",icon:TS.A,title:ep.createElement(du.E,{color:"default",fontWeight:"regular"},ep.createElement(e$.Tx,{id:"org_admin_settings.billing_banner.details.upcoming_invoice",date:ep.createElement("strong",null,(0,pN.A)(t.due_at).format("LL"))}))},ep.createElement(TH,{org:e,invoice:t}))}function SU({org:e,invoice:t}){return ep.createElement(Tw,{dataTestId:"locked-invoice-billing-details-banner",variant:"success",icon:Tk.A,title:ep.createElement(du.E,{fontWeight:"regular"},(0,dN.tq)({org:e,invoice:t}))},ep.createElement(TH,{org:e,invoice:t}))}function SW({org:e,invoice:t,invoices:a}){let r=(0,eg.wA)(),n=(0,Ea.MX)(),l=(0,Ea.RG)();if(l)return ep.createElement(dD.$,{variant:"inverse",onClick:()=>r((0,e0.to)({type:TD,data:{licenseGroupsEnabled:l,licenseGroups:n,org:e,invoice:t,invoices:a}}))},ep.createElement(e$.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.billing_groups"}));{let a=()=>{r(TM({licenseQuantities:(0,uJ.e7)(t)})),r((0,e0.AS)())};return ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"end"},ep.createElement(dD.$,{onClick:()=>{r(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.MEMBERS,orgAdminMembersTabSort:{columnName:vx.Od.DESIGN_ROLE,isReversed:!0}}))}},ep.createElement(e$.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.manage_seats"})),ep.createElement(dD.$,{variant:"inverse",onClick:()=>{r((0,e0.to)({type:TY,data:{org:e,invoice:t,onConfirm:a}}))}},ep.createElement(e$.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.button.review_and_finalize_invoice"})))}}function SV({org:e,invoice:t,invoices:a}){let r=1===t.quarter,n=!!e&&e.has_automatic_upcoming_invoice,l=(0,Ea.RG)(),i=(0,pN.A)(t.due_at).format("ll"),s=r?n?ep.createElement(du.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.actionable",i18nParams:{date:i},fontWeight:"semi-bold"}):ep.createElement(du.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.renewal.not_actionable",i18nParams:{date:i}}):ep.createElement(du.E,{i18nId:"org_admin_details.billing_banner.details.upcoming_invoice.title.true_up",i18nParams:{date:i},fontWeight:"semi-bold"}),o=n?l?ep.createElement(e$.Tx,{id:"org_admin_details.billing_banner.upcoming_invoice.subtitle.true_up.billing_groups.seat_rename"}):ep.createElement(e$.Tx,{id:"org_admin_details.billing_banner.details.upcoming_invoice.subtitle"}):void 0;return ep.createElement(Tw,{dataTestId:"upcoming-invoice-billing-details-banner",variant:"warning",icon:TS.A,title:s,subtitle:o,actions:n&&ep.createElement(SW,{org:e,invoice:t,invoices:a})},ep.createElement(TH,{org:e,invoice:t}))}function SG(e){let t=(0,uJ.jk)(e.invoices,"upcoming")||(0,uJ.jk)(e.invoices,"locked");if(!t)return null;switch((0,uJ.Fw)(e.invoices)){case uJ.$.REVIEW:return ep.createElement(SV,{org:e.org,invoice:t,invoices:e.invoices});case uJ.$.LOCKED:return ep.createElement(SU,{org:e.org,invoice:t});default:return ep.createElement(SB,{org:e.org,invoice:t})}}let S$="invoices_table--colDate--tGVMj",Sj="invoices_table--colDescription--Oj0rr",SH="invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D",Sq="invoices_table--colSeatsText--xR2uV invoices_table--colSeats--Flxzs invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il",Sz="invoices_table--colStatus--lgsyl",SY="invoices_table--secondaryText--x9mlS",SK=nk.M4.Query({fetch:async e=>{var t;let a=await fetch(`/api/orgs/${e.orgId}/invoice/${e.invoiceId}/refresh_invoice_url`,{cache:"no-store",headers:{"X-Figma-User-ID":e.userId}});if(!a.ok)return null;let r=await a.json();return(null==(t=null==r?void 0:r.meta)?void 0:t.invoice_url)||null}});function SJ(e){let t=(0,tR.TA)(),[a]=(0,nk.IT)(SK({orgId:e.orgId,invoiceId:e.invoiceId,userId:t||""}));return"loading"!==a.status&&a.data&&t?ep.createElement(eI.Ph,{className:"invoices_table--link--Q7eFE blue_link--blueLink--9rlnd",href:a.data,target:"_blank",trusted:!0},e.chargesText):ep.createElement("span",{className:eT.cx.colorTextDisabled.$},e.chargesText)}function SZ(e){return ep.createElement("div",{"data-testid":"invoices-table"},ep.createElement("div",{className:eT.cx.sticky.top0.$},ep.createElement(ej.Y,{spacing:0,direction:"vertical",backgroundColor:"default"},e.stickyContent,ep.createElement("div",{className:"invoices_table--divider--tw9ff"}),ep.createElement(yF.Hj,{header:!0,useAdminTableStyles:!0,leftPadding:!0,className:"invoices_table--header--lKV8G"},ep.createElement("div",{className:S$},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.date"})),ep.createElement("div",{className:Sj},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.description"})),ep.createElement("div",{className:SH},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.design_editor_seats.seat_rename"})),(0,eh.kc)().billing_dev_mode_customer_ui&&ep.createElement("div",{className:SH},ep.createElement(e$.Tx,{id:"org_admin_settings.invoice_table.dev_mode_seats"})),!e.org.figjam_disabled_at&&ep.createElement("div",{className:SH},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.fig_jam_editor_seats.seat_rename"})),ep.createElement("div",{className:"invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D"},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.subtotal"})),ep.createElement("div",{className:Sz},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.status"}))))),e.invoices.map(t=>{var a,r,n,l;let i,s,o;let c=new Date(t.past_due_at)<new Date,d=new aQ.vr(t.currency);switch(t.status){case"locked":case"upcoming":return null;case"paid":i=ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.paid"}),s=ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.view_invoice"});break;case"open":c?(o="invoices_table--billingStatusOverdue--jeR8e",i=ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.overdue"})):i=ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.unpaid"}),s=ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.pay_invoice"});break;default:(0,eC.xb)(t.status)}return ep.createElement(yF.Hj,{useAdminTableStyles:!0,className:eS()({"invoices_table--noHover--m18a7":!0,"invoices_table--blueBorder--LED0z":"open"===t.status&&!c,"invoices_table--redBorder--MbN7r":"open"===t.status&&c}),leftPadding:!0,key:t.id},ep.createElement("div",{className:S$},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,pN.A)(t.due_at).toDate()}))),1===t.quarter&&ep.createElement("div",{className:Sj},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.annual_subscription"})),ep.createElement("div",{className:SY},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,pN.A)(t.due_at).toDate()}))),1!==t.quarter&&ep.createElement("div",{className:Sj},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.quarterly_true_up"})),ep.createElement("div",{className:SY},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,pN.A)(t.due_at).toDate()})," ","\u2013"," ",ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.mmmm_dd_yyyy",date:(0,pN.A)(t.period_end_at).toDate()}))),ep.createElement("div",{className:Sq},ep.createElement("div",null,t.quantity_added)),(0,eh.kc)().billing_dev_mode_customer_ui&&ep.createElement("div",{className:Sq},ep.createElement("div",null,(null==(a=t.license_type_configuration[uP.PE])?void 0:a.added_quantity)??0)),!e.org.figjam_disabled_at&&ep.createElement("div",{className:Sq},(null==(r=t.license_type_configuration[uP.tL])?void 0:r.added_quantity)!==null&&ep.createElement(ep.Fragment,null,!t.is_paid_figjam&&ep.createElement(dd.Ex,{className:"invoices_table--lowMargin--vYE1n",color:dd.zE.DEFAULT,text:(0,e$.t)("org_admin_settings.cost_breakdown.free_for_2021")}),ep.createElement("div",null,null==(n=t.license_type_configuration[uP.tL])?void 0:n.added_quantity)),(null==(l=t.license_type_configuration[uP.tL])?void 0:l.added_quantity)===null&&"\u2013"),ep.createElement("div",{className:"invoices_table--colChargesText--Z1Xld invoices_table--colCharges--65zI0 invoices_table--_rightAligned--Ep02D invoices_table--numeric--gE0il"},ep.createElement("div",null,d.formatMoney(t.amount_due,{showCents:!1}))),ep.createElement("div",{className:Sz},ep.createElement("div",{className:o},0===t.amount_due?"\u2013":i),t.amount_due>0&&ep.createElement(SJ,{invoiceId:t.id,chargesText:s,orgId:e.org.id})))}))}function SQ(e){let{"data-onboarding-key":t}=e,a=(0,eg.wA)();return ep.createElement(eH.fu,{name:"New billing group"},ep.createElement(dD.V,{icon:"plus-32","data-onboarding-key":t,onClick:()=>{a((0,e0.to)({type:SE}))}},(0,e$.t)("billing_groups_table.plus_billing_group")))}function SX({isFullPage:e}){return ep.createElement(ej.Y,{padding:8,direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center",width:"fill-parent",...e?{height:"fill-parent"}:{height:144,strokeWidth:1,strokeColor:"default"}},ep.createElement(du.E,{fontWeight:"semi-bold",color:"secondary",i18nId:"org_admin_settings.billing.no_billing_groups_yet"}),ep.createElement("div",{className:eT.cx.pb8.alignCenter.$,style:u1.sx.add({maxWidth:"540px"}).$},ep.createElement(du.E,{color:"secondary",i18nId:"org_admin_settings.billing.billing_groups_empty_text.seat_rename",i18nParams:{learnMoreLink:ep.createElement(eI.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/19100885191191"},ep.createElement(du.E,{i18nId:"general.learn_more"}))}})),ep.createElement(SQ,null))}var S0=((x=S0||{}).LICENSE_GROUPS="LICENSE_GROUPS",x.INVOICES="INVOICES",x);function S1(e){let t=xF(),a=(0,Ea.RG)(),r=(0,dN.kA)(e.org),n=(0,Ea.MX)(),[l,i]=ep.useState(r?"LICENSE_GROUPS":"INVOICES");if(e.isFetching)return ep.createElement(ep.Fragment,null,e.loadingContent);let s=e.invoices&&e.invoices.length>0&&e.invoices.some(e=>"locked"===e.status||"upcoming"===e.status)?e.invoices:null;if(!s&&!r)return null;let o=r&&s,c=s?ep.createElement(SG,{adminEmail:e.adminEmail,invoices:s,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,devModeBillableSeats:e.devModeBillableSeats,org:e.org,dispatch:e.dispatch,shouldShowLockedBanner:e.shouldShowLockedBanner,isLicenseGroupsEnabled:a,licenseGroups:n}):void 0,d=o?ep.createElement("div",{className:eT.cx.pb20.pt20.$,"data-testid":"billing-subtabs"},ep.createElement(CJ.f,{height:"auto",tabs:[ep.createElement(CJ.r,{key:"LICENSE_GROUPS",tab:"LICENSE_GROUPS",isSelected:"LICENSE_GROUPS"===l,onClick:()=>i("LICENSE_GROUPS"),tabName:(0,e$.t)("org_admin_settings.billing.billing_groups"),dataOnboardingKey:vV}),ep.createElement(CJ.r,{key:"INVOICES",tab:"INVOICES",isSelected:"INVOICES"===l,onClick:()=>i("INVOICES"),tabName:(0,e$.t)("org_admin_settings.billing.invoices")})]})):null,m=n.length>0,u=Math.max(1105,r&&m?SI:0),_=r&&!o&&0===n.length;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"billing_table_figjam--container--O7MoP admin_settings_page--container--qnrCG"},ep.createElement("div",{className:"billing_table_figjam--stickyBanner--y4P5o"},s&&ep.createElement(SM,{org:e.org,invoices:s,isLicenseGroupsEnabled:a}),e.accountCredit&&e.accountCredit>0&&e.currency?ep.createElement(SO,{accountCredit:e.accountCredit,currency:e.currency}):null),ep.createElement("div",{className:eT.cx.wFull.if(_,eT.cx.absolute.top0.zIndex1).$},ep.createElement(bZ.K,{hasHorizontalPadding:!0,title:bA(En.J7.BILLING),rightActions:r?ep.createElement(SQ,{"data-onboarding-key":vY}):void 0})),"LICENSE_GROUPS"===l&&ep.createElement(ep.Fragment,null,!eb.rr&&!t&&ep.createElement(tq.p,null,ep.createElement(Sw,null)),m?ep.createElement(SR,{org:e.org,orgAdmins:e.orgAdmins,invoices:e.invoices,figjamBillableSeats:e.figjamBillableSeats,designBillableSeats:e.designBillableSeats,currentFilters:vx.J0,licenseGroupMemberCounts:e.licenseGroupMemberCounts,scrollAwayContent:c,stickyContent:d||ep.createElement("div",{className:eT.cx.pb12.$},ep.createElement("span",{"data-onboarding-key":vV},ep.createElement(du.E,{i18nId:"org_admin_settings.billing.billing_groups",fontSize:13,fontWeight:"medium"})))}):ep.createElement(Sr,{minContentWidth:u,scrollAwayContent:c,stickyContent:d},ep.createElement(SX,{isFullPage:_}))),"INVOICES"===l&&ep.createElement(Sr,{minContentWidth:u,scrollAwayContent:ep.createElement(ep.Fragment,null,c,!o&&ep.createElement("div",{className:"billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--L83W3"},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.invoices"})))},ep.createElement(SZ,{invoices:s,org:e.org,stickyContent:d}))))}var S2=((C=S2||{})[C.DEFAULT=0]="DEFAULT",C[C.YELLOW=1]="YELLOW",C);function S4(e,t=!1){return eS()({0:null,1:"action_item_card--tileYellow--tHfxE"}[e]??void 0,"action_item_card--smoothText--izPuf",eT.cx.wFull.bRadius6.$,{"action_item_card--hoverTile--9vEnZ":t})}function S3({onClick:e,title:t,text:a,alertIcon:r,dataTestId:n,color:l=0}){return ep.createElement(eH.jm,{onClick:e,className:S4(l,!0),"data-testid":n},ep.createElement(ej.Y,{direction:"horizontal",spacing:8,padding:{top:12,right:16,bottom:12,left:24},cornerRadius:6,strokeWidth:0===l?1:void 0,strokeColor:0===l?"default":void 0},ep.createElement("div",{className:eT.cx.font13.fontMedium.lh24.cursorDefault.colorText.$},t),r,ep.createElement(ej.M,null),ep.createElement("div",{className:eT.cx.lh24.cursorDefault.colorText.$},a),ep.createElement(le.In,{icon:"chevron-right-32"})))}function S8({onClick:e,title:t,dataTestId:a,color:r=0,subText:n,buttonText:l}){return ep.createElement("div",{className:S4(r),"data-testid":a},ep.createElement(ej.Y,{direction:"horizontal",spacing:8,padding:{top:16,bottom:16,left:24,right:24},cornerRadius:6,strokeWidth:0===r?1:void 0,strokeColor:0===r?"default":void 0},ep.createElement("span",null,ep.createElement("div",{className:eT.cx.font13.fontMedium.lh24.cursorDefault.colorText.$},t),!!n&&ep.createElement("div",null,n)),ep.createElement(ej.M,null),ep.createElement(u9.tM,{className:eT.cx.cursorPointer.$,onClick:e},l)))}var S5=a(856405),S6=a(895834),S9=((N=S9||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",N.MEMBERS_TAB="members_tab",N);let S7=new class{updateTeamUsers(e){return rI._5.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/team_user_batch`,e))}declineDevModeSuggestedUpgrades(e){return rI._5.validate(async({xr:t})=>await t.del(`/api/teams/${e.team_id}/team_users/dev_mode_suggested_upgrades`,e))}dismissDevModeSuggestedUpgrades(e){return rI._5.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/dismiss_dev_mode_suggested_upgrades`))}},Ie=(0,am.Ju)(function({planId:e,planType:t,onNoUpgrades:a}){let r=(0,eg.wA)(),[n,l]=(0,ep.useState)([]),[i,s]=(0,ep.useState)(null),[o,c]=(0,ep.useState)(()=>new Set),[d,m]=(0,ep.useState)(!1),u=(0,t5.Rs)(ai.b2A,{planId:e},{enabled:t===El.ps.ORG}),_=(0,t5.Rs)(ai.ApF,{planId:e},{enabled:t===El.ps.TEAM}),p=(0,ep.useMemo)(()=>{if(t===El.ps.ORG){let e=function(e){l(t=>t.filter(t=>t.planUserId!==e))};return"loaded"===u.status&&u.data.devModeSuggestedUpgrades.status===t5.tT.Loaded&&u.data.devModeSuggestedUpgrades.data?u.data.devModeSuggestedUpgrades.data.reduce((t,a)=>{var r,n,l,i,s,c,d;return!(null==(r=a.orgUser)?void 0:r.user)||(null==(n=a.orgUser)?void 0:n.designPaidStatus)===lB.El.FULL||(null==(l=a.orgUser)?void 0:l.devModePaidStatus)===lB.El.FULL||o.has(a.orgUser.user.id)?e(a.id):t.push({userId:a.orgUser.user.id,planUserId:a.id,lastUsedDevMode:new Date(a.lastUsedAt),name:(null==(i=a.orgUser)?void 0:i.user.name)||(0,e$.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(s=a.orgUser)?void 0:s.user.imgUrl)??null,jobTitle:(null==(d=null==(c=a.orgUser)?void 0:c.user.profile)?void 0:d.jobTitle)??null}),t},[]):null}return"loaded"===_.status&&_.data.devModeSuggestedUpgrades.status===t5.tT.Loaded&&_.data.devModeSuggestedUpgrades.data?_.data.devModeSuggestedUpgrades.data.reduce((e,t)=>{var a,r,n,l,i,s;return(null==(a=t.teamUser)?void 0:a.designPaidStatus)===pO.Zf.FULL||!(null==(r=t.teamUser)?void 0:r.user)||o.has(t.teamUser.user.id)||e.push({userId:t.teamUser.user.id,planUserId:t.id,lastUsedDevMode:new Date(t.lastUsedAt),name:(null==(n=t.teamUser)?void 0:n.user.name)||(0,e$.t)("admin_dashboard.requests.no_name"),imgUrl:(null==(l=t.teamUser)?void 0:l.user.imgUrl)??null,jobTitle:(null==(s=null==(i=t.teamUser)?void 0:i.user.profile)?void 0:s.jobTitle)??null}),e},[]):null},[t,u.data,u.status,_.data,_.status,o]);(0,ep.useEffect)(()=>{(null==p?void 0:p.length)===0&&a&&a(),d&&(null==p?void 0:p.length)===0&&r(e0.AS())},[r,d,p,a]);let g=[{name:(0,e$.t)("admin_dashboard.requests.columns.name"),className:"dev_mode_suggested_upgrades_modal--avatarColumn--cxxpB dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:({name:e,imgUrl:t,userId:a})=>{let r=e||(0,e$.t)("admin_dashboard.requests.no_name");return ep.createElement(e7.az,{entity:{id:a,name:r,imgUrl:t},showTruncatedTextTooltip:!0,size:24})}},{name:(0,e$.t)("admin_dashboard.requests.details.job_title"),className:"dev_mode_suggested_upgrades_modal--jobTitleColumn--5sHQZ dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ep.createElement("div",null,e.jobTitle?(0,S6.lb)(e.jobTitle):El.Lv)},{name:(0,e$.t)("admin_dashboard.requests.columns.last_used_dev_mode"),className:"dev_mode_suggested_upgrades_modal--lastUsedDevModeColumn--vk57j dev_mode_suggested_upgrades_modal--column--8kG8j admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ep.createElement(e$.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.lastUsedDevMode})}],E=({isUpgrade:e,numSeats:t,planType:a})=>{let n=e?a===El.ps.ORG?(0,e$.t)("admin_dashboard.suggested.bell.assigned_org",{numSeats:t}):(0,e$.t)("admin_dashboard.suggested.bell.assigned_team",{numSeats:t}):a===El.ps.ORG?(0,e$.t)("admin_dashboard.suggested.bell.declined_org",{numSeats:t}):(0,e$.t)("admin_dashboard.suggested.bell.declined_team",{numSeats:t});r(t6.F.enqueue({message:n,type:e?"suggested-upgrades-assigned":"suggested-upgrades-declined"}))},f=()=>{r(t6.F.enqueue({message:(0,e$.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,e$.t)("admin_dashboard.requests.error_reload"),action:()=>{ef.Ay.reload("Dev mode suggested upgrades error")}}}))},h=a=>{if(0!==n.length&&null!==p){if(s(a?"upgrading":"denying"),t===El.ps.ORG){let r=n.map(e=>e.planUserId);(a?bo.G.updateOrgUsers({orgId:e,paid_statuses:{[uP.PE]:lB.El.FULL},showing_billing_groups:!1,org_user_ids:r,latest_ou_update:new Date().toISOString(),entry_point:bo.h.DEV_MODE_BETA_SUGGESTED_UPGRADES}):bo.G.declineDevModeSuggestedUpgrades({org_id:e,org_user_ids:r})).then(()=>{E({isUpgrade:a,numSeats:n.length,planType:t}),a||c(e=>{let t=new Set(e);return n.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{s(null),m(!0)})}else if(t===El.ps.TEAM){let r=n.map(e=>({user_id:e.userId,design_paid_status:pO.Zf.FULL}));(a?S7.updateTeamUsers({team_id:e,team_user_deltas:r,entry_point:S9.DEV_MODE_BETA_SUGGESTED_UPGRADES}):S7.declineDevModeSuggestedUpgrades({team_id:e,team_user_ids:n.map(e=>e.planUserId)})).then(()=>{E({isUpgrade:a,numSeats:n.length,planType:t}),a||c(e=>{let t=new Set(e);return n.forEach(e=>t.add(e.userId)),t})}).catch(()=>{f()}).finally(()=>{s(null),m(!0)})}}},v=ep.createElement("div",{style:u1.sx.add({height:"35vh"}).$},ep.createElement(ej.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",verticalAlignItems:"center"},ep.createElement("div",{className:eT.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.empty.primary_text"})),ep.createElement("div",{className:eT.cx.lh16.cursorDefault.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.secondary_text"})))),b=p&&0===p.length;return ep.createElement(eH.fu,{name:e4.e0.DEV_MODE_SUGGESTED_UPGRADES_MODAL,properties:{adminRequestsDashboard:!0,orgId:t===El.ps.ORG?e:void 0,teamId:t===El.ps.TEAM?e:void 0}},ep.createElement(au.aF,{dispatch:r,className:eT.cx.cursorDefault.selectNone.hFull.$,title:"",size:529,maxHeight:"700px",padding:0},ep.createElement(u7.i0,{customStyle:{top:12,right:12},onClick:()=>r(e0.AS())}),ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement("div",{style:u1.sx.add({margin:"40px 50px 16px 40px"}).$},ep.createElement("div",{className:eT.cx.font24.fontSemiBold.lh32.mb4.$},ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.title"})),ep.createElement(du.E,{fontSize:13,i18nId:"admin_dashboard.suggested.body_v2"}),ep.createElement(eI.CY,{className:eT.cx.font13.ml8.$,trusted:!0,target:"_blank",href:"https://help.figma.com/hc/en-us/articles/19813618057623-Dev-Mode-is-out-of-beta-what-admins-need-to-know"},ep.createElement(e$.Tx,{id:"general.learn_more"}))),ep.createElement(bD.Cj,{emptyContent:v,items:p??[],getItemKey:e=>e.userId,disabled:null!==i,columns:g,itemTypeContext:{itemType:"",getSelectedCountString:e=>""},sortState:{columnName:"",isReversed:!1},minContentWidth:439,onSetSortState:ev.lQ,scrollContainerInnerClassName:"dev_mode_suggested_upgrades_modal--tableScrollContainer--vkNcV",onSelectedItemsChange:l,isLoading:null===p,onFetchMore:null===p?ev.lQ:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0}),ep.createElement(ej.Y,{direction:"horizontal",padding:{vertical:12,horizontal:16},strokeWidth:{top:1},strokeColor:"default",horizontalAlignItems:"end",height:56},b?ep.createElement(dD.V,{variant:"primary",onClick:()=>r(e0.AS()),innerText:"Close",dataTestId:"empty-close-button"},ep.createElement(e$.Tx,{id:"general.close"})):ep.createElement(ep.Fragment,null,ep.createElement(dD.V,{variant:"secondary",onClick:()=>h(!1),innerText:"Decline",dataTestId:"decline-button",disabled:0===n.length||null!==i,trackingProperties:{selectedCount:n.length}},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===i})),ep.createElement(dD.V,{variant:"primary",onClick:()=>h(!0),innerText:"Upgrade",dataTestId:"upgrade-button",disabled:0===n.length||null!==i,trackingProperties:{selectedCount:n.length}},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.suggested.upgrade"),showSpinner:"upgrading"===i})))))))},"DevModeSuggestedUpgradesModal");function It(e,t,a){let r=(0,ep.useRef)(!1);(0,ep.useEffect)(()=>{!r.current&&a(t)&&(e(),r.current=!0)},[e,a,t])}var Ia=a(886116),Ir=a(774200);function In({refreshNonce:e,managedBillingGroupIds:t,planType:a,planId:r,managedRequests:n,processedRequestsCount:l,showAllOrgRequests:i,selectedRequestView:s}){var o,c,d,m,u;let _=(0,ep.useMemo)(()=>JSON.stringify({refreshNonce:e,billing_group_ids:n?[null,...t]:null}),[e,t,n]),p=(0,t5.Rs)(ai.KR2,{planType:a,planId:r,filterParams:_}),g="loaded"!==p.status||(null==(c=null==(o=null==p?void 0:p.data)?void 0:o.adminRequestDashboardTotalRowCount)?void 0:c.status)!==t5.tT.Loaded?null:(null==(u=null==(m=null==(d=null==p?void 0:p.data)?void 0:d.adminRequestDashboardTotalRowCount)?void 0:m.data)?void 0:u.rowCount)??null,E=null===g?null:g-l;return null!==E&&(E>0||i)&&ep.createElement(dd.Ex,{text:E.toString(),color:n&&s===El.V7.ALL_MANAGED_REQUESTS||!n&&s===El.V7.ALL_ORG_REQUESTS?dd.zE.LIGHT:dd.zE.DEFAULT,dataTestId:"table-row-count-badge"})||ep.createElement("div",null)}let Il=(0,am.Ju)(function({onConfirm:e,totalRequestCount:t,filteredRequestCount:a}){let r=(0,eg.wA)(),n=()=>{r(e0.Ce())},l=t!==a,i=l?ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.body_filtered",numTotalRequests:t,numHiddenRequests:t-a}):ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.body",numRequests:ep.createElement(du.E,{fontWeight:"semi-bold"},t)}),s=l?ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.title_filtered"}):ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.title"}),o=l?ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm_filtered",numRequests:t}):ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve_all_modal.confirm"});return ep.createElement(au.aF,{dispatch:r,className:eT.cx.cursorDefault.selectNone.$,title:"",size:360,padding:0},ep.createElement(ej.Y,{padding:{left:16,right:8,top:8,bottom:0},spacing:8},ep.createElement("div",{className:eT.cx.fontSemiBold.lh16.colorText.$},s),ep.createElement(ej.M,null),ep.createElement(u7.Jn,{onClick:n})),ep.createElement("div",{className:eT.cx.p16.$},ep.createElement(du.E,null,i)),ep.createElement(ej.Y,{direction:"horizontal",padding:{left:16,right:16,bottom:16,top:0},horizontalAlignItems:"end"},ep.createElement(dD.$,{variant:"secondary",onClick:n},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(dD.$,{variant:"destructive",onClick:()=>{n(),e()}},o)))},"ApproveAllUpgradeRequestsConfirmationModal");function Ii({text:e,linkText:t,onClickLink:a,textMaxWidth:r,textClassName:n}){let[l,i]=(0,ep.useState)(!1),s=(0,ep.useRef)(null),o=()=>{let e=s.current;e&&i(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight)};return(0,ep.useLayoutEffect)(()=>{o()},[e]),ep.createElement("div",{className:eT.cx.flex.flexRow.$},ep.createElement("div",{className:n??void 0,style:u1.sx.noWrap.overflowHidden.ellipsis.add({maxWidth:`${r}px`}).$,ref:s},e),l&&ep.createElement(eI.CY,{trusted:!0,onClick:e=>{e.stopPropagation(),a()}},t??ep.createElement(e$.Tx,{id:"admin_dashboard.requests.truncated_text_more"})))}function Is({label:e,contents:t}){return ep.createElement(ej.Y,{direction:"horizontal",spacing:16,verticalAlignItems:"start"},ep.createElement("div",{style:u1.sx.add({maxWidth:"60px",minWidth:"60px"}).colorText.fontSemiBold.lh16.$},e),t?ep.createElement("div",{style:u1.sx.add({maxWidth:"275px"}).$},t):ep.createElement("div",{className:eT.cx.colorTextTertiary.$},El.Lv))}let Io=(0,am.Ju)(function({request:e,planId:t,planType:a,onApprove:r,onDeny:n}){let l=(0,eg.wA)(),i=()=>{l(e0.Ce())};return ep.createElement(eH.fu,{name:e4.e0.UPGRADE_REQUESTS_DETAIL_MODAL,properties:{adminRequestsDashboard:!0,accountTypeRequestId:e.id,orgId:a===El.ps.ORG?t:void 0,teamId:a===El.ps.TEAM?t:void 0}},ep.createElement(au.aF,{dispatch:l,className:eT.cx.cursorDefault.selectNone.$,title:"",size:400,padding:0},ep.createElement(ej.Y,{padding:{left:16,right:4,top:4,bottom:4}},ep.createElement("div",{className:eT.cx.fontSemiBold.lh16.colorText.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.details.title"})),ep.createElement(ej.M,null),ep.createElement(u7.Jn,{onClick:i,innerText:"X"})),ep.createElement(ej.Y,{direction:"vertical",padding:{left:16,right:24,top:24,bottom:24},spacing:24,strokeWidth:{top:1,bottom:1},strokeColor:"default"},ep.createElement(Is,{label:(0,e$.t)("admin_dashboard.requests.details.name"),contents:ep.createElement(yu,{dispatch:l,entity:{id:e.userId,name:e.name??void 0,email:e.email??void 0,imgUrl:e.imgUrl},size:24,defaultText:El.Lv})}),ep.createElement(Is,{label:(0,e$.t)("admin_dashboard.requests.details.job_title"),contents:e.jobTitle?ep.createElement("div",null,(0,S6.lb)(e.jobTitle)):null}),ep.createElement(Is,{label:(0,e$.t)("admin_dashboard.requests.details.license_type"),contents:ep.createElement(El.yz,{licenseType:e.licenseType})}),ep.createElement(Is,{label:(0,e$.t)("admin_dashboard.requests.details.date"),contents:ep.createElement("div",null,ep.createElement(e$.Tx,{id:"admin_dashboard.requests.details.display_date",dateObject:e.createdAt}))}),ep.createElement(Is,{label:(0,e$.t)("admin_dashboard.requests.details.note"),contents:e.message?ep.createElement("div",null,`\u201C${e.message}\u201D`):null})),ep.createElement(ej.Y,{direction:"horizontal",padding:16,horizontalAlignItems:"end"},ep.createElement(dD.V,{variant:"secondary",onClick:()=>{i(),n()},innerText:"Decline"},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.decline"})),ep.createElement(dD.V,{variant:"primary",onClick:()=>{i(),r()},innerText:"Approve"},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.approve"})))))},"UpgradeRequestsDetailModal"),Ic="approving-all-requests";function Id({supportedLicenses:e,planType:t,planId:a,onClickViewHistory:r}){var n,l,i,s,o,c,d,m,u,_,p,g,E,f,h,v,b,y,w,T,x;let C;let N=(0,eg.wA)(),k=(0,rE.U)(),[S,I]=(0,ep.useState)(!1),[A,L]=(0,ep.useState)(""),[R,O]=(0,ep.useState)(null),[F,M]=(0,ep.useState)(El.i5.NEWEST_FIRST),[D,P]=(0,ep.useState)(!1),B=(0,ep.useRef)(0),[U,W]=(0,ep.useState)(0),[V,G]=(0,ep.useState)(window.innerHeight),$=(0,eg.d4)(({selectedView:e})=>e);(0,tz.h)(()=>{let e=()=>{G(window.innerHeight)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)});let[j,H]=(0,tY.fp)(S5.Y),[q,z]=(0,ep.useState)(new Set),[Y,K]=(0,ep.useState)(new Set),[J,Z]=(0,ep.useState)(0),[Q,X]=(0,ep.useState)(null),[ee,et]=(0,ep.useState)(0),[ea,er]=ep.useState(void 0),[en,el]=(0,ep.useState)(El.V7.ALL_MANAGED_REQUESTS),ei=(0,Ea.MX)(),es=(0,tR.TA)(),eo=t===El.ps.ORG,ec=(0,ep.useMemo)(()=>eo?(0,Ea.EQ)(ei,es,!1).groupsUserIsAdminOf.map(e=>e.id):[],[ei,eo,es]),ed=(0,ep.useMemo)(()=>en===El.V7.ALL_MANAGED_REQUESTS?[null,...ec]:null,[ec,en]),em=(0,ep.useMemo)(()=>JSON.stringify({editor_type:R,search_query:A,refreshNonce:ee,sortTypeNonce:F,billing_group_ids:ed}),[R,A,ee,F,ed]),eu=(0,ep.useMemo)(()=>JSON.stringify({billing_group_ids:ed}),[ed]),e_=(0,t5.Rs)(ai.EEx,{planType:t,planId:a,sortOrder:F===El.i5.NEWEST_FIRST?"desc":"asc",filterParams:em,firstPageSize:25}),eE=(0,t5.Rs)(ai.KR2,{planType:t,planId:a,filterParams:JSON.stringify({refreshNonce:em,billing_group_ids:en===El.V7.ALL_MANAGED_REQUESTS?[null,...ec]:null})}),eb=(0,t5.Rs)(ai.lVt,{orgId:a},{enabled:eo}),ew=null==(l=null==(n=eb.data)?void 0:n.org)?void 0:l.devModeAccountTypeRequests,ex=(0,ep.useMemo)(()=>new Set(null==ew?void 0:ew.map(e=>e.id)),[ew]),eC="loading"===eb.status,eN=(0,t5.Rs)(ai.HpJ,{orgId:a},{enabled:eo}),ek="loaded"===e_.status,eA="loaded"===eE.status,eL=ek&&!!(null==(s=null==(i=null==e_?void 0:e_.data)?void 0:i.adminRequestDashboardRows)?void 0:s.isLoadingNextPage),eR=ek&&!!(null==(c=null==(o=null==e_?void 0:e_.data)?void 0:o.adminRequestDashboardRows)?void 0:c.hasNextPage()),[eO,eF]=(0,ep.useState)({loading:!0,requestId:void 0,request:void 0}),eM=(0,ey.I7)("exp_all_admin_request_dash"),eD=eo&&(null==(m=null==(d=eN.data)?void 0:d.org)?void 0:m.status)===Ef.tT.Loaded&&(null==(p=null==(_=null==(u=eN.data)?void 0:u.org)?void 0:_.data)?void 0:p.bigmaEnabledAt)&&Ea.MX.length>0&&eM.getConfig().get("enabled",!1),eP=!ek||eL||eR||eC||eO.loading,eB=ek?(null==(E=null==(g=null==e_?void 0:e_.data)?void 0:g.adminRequestDashboardRowCount)?void 0:E.rowCount)??null:null,eU=eA&&(null==(h=null==(f=null==eE?void 0:eE.data)?void 0:f.adminRequestDashboardTotalRowCount)?void 0:h.status)===Ef.tT.Loaded?(null==(v=eE.data.adminRequestDashboardTotalRowCount.data)?void 0:v.rowCount)??null:null,eW=null===eB?null:eB-J,eV=null===eU?null:eU-J,eG=[t,a].toString(),eq=j[eG],ez=eV?Math.max(eV,0):0,eY=eU&&eq!==ez,eK=(0,eh.kc)().account_type_requests_async&&eo;ep.useEffect(()=>{if(eY){let e={...j};e[eG]=ez,H(e)}},[eY,eG,ez]);let eJ=S&&null===eW;(0,ep.useEffect)(()=>{ek&&X(new Date)},[ek]),(0,ep.useEffect)(()=>{let e=(0,mK.QL)("approvalRequestId");e&&(eF(t=>({...t,requestId:e})),Z(e=>e+1),(0,mK.EM)("approvalRequestId")),eF(e=>({...e,loading:!1}))},[]),It(()=>{if(eO.requestId){if(eO.request){let e=eO.request.name;te({approve:!0,selectedRequestIds:[eO.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:El.Xv.EMAIL,successHandler:e?()=>{e6({requesterName:e}),eF({loading:!1,requestId:void 0,request:void 0})}:e5})}else e9()}},eP,e=>!e);let eZ=(0,ep.useMemo)(()=>{var t;return(Z(0),(null==(t=null==e_?void 0:e_.data)?void 0:t.adminRequestDashboardRows)&&!eC)?e_.data.adminRequestDashboardRows.reduce((t,a)=>{var r;let n=a.id,l=a.request,i=a.user,s=a.userId;if(l.status!==Ef.tT.Loaded||i.status!==Ef.tT.Loaded)return Z(e=>e+1),t;let o=l.data,c=i.data;if(!o||!c)return Z(e=>e+1),t;let d=(0,El.JG)(o.licenseType);return e.includes(d)&&(Y.has(n)?Z(e=>e+1):"pending"!==o.status?Z(e=>e+1):n===eO.requestId?(Z(e=>e+1),eF(e=>{var t;return{...e,request:{id:n,createdAt:o.createdAt,name:c.name,email:c.email,licenseType:d,imgUrl:c.imgUrl,message:o.message&&o.message.trim().length>0?o.message:null,jobTitle:(null==(t=c.profile)?void 0:t.jobTitle)??null,userId:s}}})):t.push({id:n,createdAt:o.createdAt,name:c.name,email:c.email,licenseType:d,imgUrl:c.imgUrl,message:o.message&&o.message.trim().length>0?o.message:null,jobTitle:(null==(r=c.profile)?void 0:r.jobTitle)??null,userId:s})),t},[]).sort((e,t)=>F===El.i5.NEWEST_FIRST?t.createdAt.getTime()-e.createdAt.getTime():e.createdAt.getTime()-t.createdAt.getTime()):[]},[e_.data,F,e,eC,eO.requestId,Y]),eQ=(0,ep.useMemo)(()=>new Set(null==eZ?void 0:eZ.filter(e=>{var t;return e.licenseType===uP.oM.DESIGN&&(null==(t=e.message)?void 0:t.includes("Dev Mode"))}).map(e=>e.id)),[eZ]);It(()=>{let e=(0,mK.QL)("viewRequestId");if(!e)return;let t=eZ.find(t=>t.id===e);t?tn(t,El.Xv.DEEPLINK):e9(),(0,mK.EM)("viewRequestId")},eP,e=>!e);let eX=(0,ep.useMemo)(()=>{if(0===eZ.length)return null;let e=eZ.length*(0,ti.jz)(aE.B6G)+99+3*(0,ti.jz)(aE.B6G)/4,t=V-(0,ti.jz)(aE.XMZ)-2-48-24-24;return e<t?e:t},[eZ.length,V]),e1=(0,ep.useMemo)(()=>(0,s5.s)(L,300),[L]),e2=ep.createElement(ej.Y,{padding:{vertical:8},strokeColor:"default",strokeWidth:{top:1,bottom:1}},ep.createElement(bk.y2,{onChange:e=>e1((0,El.Bk)(e)),focusOnMount:!1,query:A,clearSearch:()=>L(""),placeholder:(0,e$.t)("admin_dashboard.requests.search.placeholder"),maxInputLength:El.MI}),e.length>1&&ep.createElement(wT.bv,{label:(0,e$.t)("admin_dashboard.requests.filter.type"),dispatch:N,dropdownShown:k,dropdownType:El.YC,values:e,selectedValue:R,getDisplayText:e=>(0,pD.$)(e),updateFilter:O}),ep.createElement(wT.bv,{label:(0,e$.t)("admin_dashboard.requests.filter.sort"),dispatch:N,dropdownShown:k,dropdownType:El.dC,values:[El.i5.NEWEST_FIRST,El.i5.OLDEST_FIRST],selectedValue:F,getDisplayText:e=>El.lJ[e](),updateFilter:M,hideDefaultOption:!0})),e3=()=>{N(t6.F.enqueue({message:(0,e$.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,e$.t)("admin_dashboard.requests.error_reload"),action:()=>{ef.Ay.reload("Admin requests dashboard error")}}}))},e8=({multiple:e})=>{N(t6.F.enqueue({message:e?(0,e$.t)("admin_dashboard.requests.error_multiple"):(0,e$.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,e$.t)("admin_dashboard.requests.error_reload"),action:()=>{ef.Ay.reload("Admin requests dashboard error")}}}))},e5=({approve:e,numRequests:t,asyncUpdate:a})=>{let r=e?(0,e$.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:t}):(0,e$.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:t});e&&a&&(r=(0,e$.t)("admin_dashboard.requests.success_approve_multiple_async",{numRequests:t})),N(t6.F.enqueue({message:r,type:e?"requests-approved":"requests-denied"}))},e6=({requesterName:e})=>{N(t6.F.enqueue({message:(0,e$.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:e}),type:"requests-approved"}))},e9=()=>{N(t6.F.enqueue({message:(0,e$.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},te=({approve:e,selectedRequestIds:a,approveAll:r=!1,shouldProcessAsSingleRequest:n=!1,singleRequestSelectionMethod:l,successHandler:i=e5,sprig:s})=>{var o,c;let d="dashDeepLinkEntryPoint"in $&&$.dashDeepLinkEntryPoint||El.uH,m=()=>{if(n){let t=l||El.Xv.SINGLE;tt({approve:e,requestId:a[0],selectionMethod:t,entryPoint:d,successHandler:i})}else ta({approve:e,selectedRequestIds:a,approveAll:r})};eo&&e&&(0,uJ.CA)((null==(c=null==(o=eb.data)?void 0:o.org)?void 0:c.devModeOptInPlanProperty)||null)&&(r&&0!==ex.size||a.some(e=>ex.has(e)))?N(e0.to({type:bm.OZ,data:{onOptInUpgrade:m,source:En.J7.DASHBOARD}})):m(),s&&t===El.ps.TEAM&&!e&&a.some(e=>eQ.has(e))&&s("track","admin-dashboard-dev-mode-decline")},tt=({approve:e,requestId:r,selectionMethod:n=El.Xv.SINGLE,entryPoint:l=El.uH,successHandler:i=e5})=>{z(e=>new Set(e).add(r)),(e?Ir.w.approveRequests.bind(Ir.w):Ir.w.denyRequests.bind(Ir.w))({plan_id:a,plan_type:t,included_request_ids:[r],selection_method:n,entry_point:l}).then(t=>{if(200!==t.status){e3();return}if(t.data.meta.failed_attempts>0){e8({multiple:!1});return}i({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{e3()}).finally(()=>{z(e=>{let t=new Set(e);return t.delete(r),t})})},ta=({approve:e,selectedRequestIds:r,approveAll:n,entryPoint:l=El.uH})=>{W(B.current),P(n?"approving_all_button":e?"approving":"denying"),n&&eV&&N(t6.F.enqueue({message:(0,e$.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eV}),type:Ic,timeoutOverride:1/0,icon:bS.zX.SPINNER,preventDismissal:!0,role:"status"}));let i=n||S,s=!!(e&&(i||r.length>5)&&eK),o=new Set(r),c=i?{plan_id:a,plan_type:t,subtractive:!0,excluded_request_ids:n?[]:eZ.map(e=>e.id).filter(e=>!o.has(e)),filter_params:n?eu:em,timestamp:(Q??new Date).toISOString(),selection_method:n?El.Xv.APPROVE_ALL:El.Xv.BULK_SELECT,entry_point:l,async_processing:s}:{plan_id:a,plan_type:t,included_request_ids:r,selection_method:El.Xv.BULK_SELECT,filter_params:eu,entry_point:l,async_processing:s},d=(t,a,r)=>{if(200!==t){e3();return}if(a>0){e8({multiple:!0});return}e5({approve:e,numRequests:r,asyncUpdate:s})},m=()=>{P(!1),W(0),i&&et(e=>e+1),S&&I(!1)};e?Ir.w.approveRequests.bind(Ir.w)(c).then(e=>{if(d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),s){let t=e.data.meta.processed_request_ids;K(e=>{let a=new Set(e);return t.forEach(e=>{a.add(e)}),a})}}).catch(()=>{e3()}).finally(()=>{n&&N(t6.F.dequeue({matchType:Ic})),m()}):Ir.w.denyRequests.bind(Ir.w)(c).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts)}).catch(()=>{e3()}).finally(()=>{m()})},{Sprig:tr}=(0,Ia.A)(),tn=(e,r=El.Xv.SINGLE)=>{N(e0.to({type:Io,data:{request:e,planId:a,planType:t,onApprove:()=>te({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:r}),onDeny:()=>te({approve:!1,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:r,sprig:tr})}}))},tl=[{name:(0,e$.t)("admin_dashboard.requests.columns.name"),className:"upgrade_requests_table--avatarColumn--wvdQd upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:({name:e,email:t,imgUrl:a,userId:r})=>{let n=e||t||(0,e$.t)("admin_dashboard.requests.no_name");return ep.createElement(e7.az,{entity:{id:r,name:n,imgUrl:a},size:24,defaultText:El.Lv})}},{name:(0,e$.t)("admin_dashboard.requests.columns.request"),className:"upgrade_requests_table--requestColumn--i5-ke upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>ep.createElement(El.yz,{licenseType:e.licenseType})},{name:(0,e$.t)("admin_dashboard.requests.columns.note"),className:"upgrade_requests_table--noteColumn--Do6gK upgrade_requests_table--column--46cLg admin_settings_page--membersColumn--0Pn0k table--column--974RA",cellComponent:e=>{let t=!!D||q.has(e.id);return ep.createElement(ej.Y,{spacing:8},ep.createElement(Ii,{text:e.message??El.Lv,textClassName:null===e.message?eT.cx.colorTextTertiary.$:void 0,textMaxWidth:200,onClickLink:()=>{tn(e)}}),ep.createElement(ej.M,null),0===B.current&&"approving_all_button"!==D&&ep.createElement(ep.Fragment,null,ep.createElement(dD.V,{variant:"secondary",disabled:t,onClick:t=>{t.stopPropagation(),te({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},innerText:"Approve",dataTestId:"approve-button-single",trackingProperties:{accountTypeRequestId:e.id}},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.requests.approve"),showSpinner:t})),ep.createElement("button",{className:"upgrade_requests_table--rowDetailButton--JHX1m",onClick:t=>{t.stopPropagation(),tn(e)}},ep.createElement(le.In,{icon:"chevron-right-32"}))))}}],ts=ep.createElement("div",{className:eT.cx.mx24.mb12.cursorDefault.selectNone.$},ep.createElement(ej.Y,{spacing:0},ep.createElement("div",{role:"button",tabIndex:0,className:en===El.V7.ALL_MANAGED_REQUESTS||ea===El.V7.ALL_MANAGED_REQUESTS?eT.cx.font13.fontMedium.lh24.colorText.mr8.py4.$:eT.cx.font13.fontMedium.lh24.colorTextSecondary.mr8.py4.$,onClick:()=>{el(El.V7.ALL_MANAGED_REQUESTS)},onMouseEnter:()=>{er(El.V7.ALL_MANAGED_REQUESTS)},onMouseLeave:()=>er(void 0),"data-testid":"your-requests-tab"},eD?ep.createElement(e$.Tx,{id:"admin_dashboard.managed_org_requests.title"}):ep.createElement(e$.Tx,{id:"admin_dashboard.requests.title"})),ep.createElement(In,{refreshNonce:ee,managedBillingGroupIds:ec,planType:t,planId:a,managedRequests:!0,processedRequestsCount:J,showAllOrgRequests:eD??!1,selectedRequestView:en}),eD&&ep.createElement("div",{className:eT.cx.pl24.$}),eD&&ep.createElement("div",{role:"button",tabIndex:0,className:en===El.V7.ALL_ORG_REQUESTS||ea===El.V7.ALL_ORG_REQUESTS?eT.cx.font13.fontMedium.lh24.colorText.mr8.py4.$:eT.cx.font13.fontMedium.lh24.colorTextSecondary.mr8.py4.$,onClick:()=>{el(El.V7.ALL_ORG_REQUESTS)},onMouseEnter:()=>{er(El.V7.ALL_ORG_REQUESTS)},onMouseLeave:()=>er(void 0),"data-testid":"all-org-requests-tab"},ep.createElement(e$.Tx,{id:"admin_dashboard.all_org_requests.title",orgName:(null==(y=null==(b=eN.data)?void 0:b.org)?void 0:y.status)===Ef.tT.Loaded?null==(x=null==(T=null==(w=eN.data)?void 0:w.org)?void 0:T.data)?void 0:x.name:"org"})),eD&&ep.createElement(In,{refreshNonce:ee,managedBillingGroupIds:ec,planType:t,planId:a,managedRequests:!1,processedRequestsCount:J,showAllOrgRequests:eD??!1,selectedRequestView:en}),ep.createElement(ej.M,null),r&&ep.createElement(eI.CY,{trusted:!0,onClick:r,className:eT.cx.fontMedium.$},ep.createElement(du.E,null,ep.createElement(e$.Tx,{id:"admin_dashboard.requests.view_history"}))),null!==eV&&eV>0&&ep.createElement("div",{className:eT.cx.pl16.$},ep.createElement(dD.V,{variant:"primary",onClick:()=>{if(null===eW||null===eV)return;let e=D?ev.lQ:()=>te({approve:!0,approveAll:!0,selectedRequestIds:[]});if(eV===eW&&eV<10){e();return}N(e0.to({type:Il,data:{onConfirm:e,totalRequestCount:eV,filteredRequestCount:eW}}))},innerText:"Approve all",dataTestId:"approve-all-button"},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all_button"===D})))));return ep.createElement(eH.fu,{name:e4.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:eo?a:void 0,teamId:t===El.ps.TEAM?a:void 0,entryPoint:"dashDeepLinkEntryPoint"in $?$.dashDeepLinkEntryPoint:""}},ep.createElement("div",{className:eS()("upgrade_requests_table--fontSmoothing--RQKgx",eT.cx.pt12.bRadius6.b1.colorBorder.$)},ts,ep.createElement("div",{style:u1.sx.add({width:"780px",height:eX?`${eX}px`:void 0}).$},ep.createElement(bD.Cj,{disabled:!!D,unselectableItemKeys:q,stickyContent:e2,emptyContent:(C=0===A.length&&null===R?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.primary_text"})),ep.createElement("div",{className:eT.cx.lh16.cursorDefault.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.secondary_text"}))):A.length>0&&null===R?ep.createElement("div",{className:eT.cx.lh16.cursorDefault.colorText.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.no_search_results"})):ep.createElement("div",{className:eT.cx.lh16.cursorDefault.colorText.$},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.no_filter_results",resetFiltersLink:ep.createElement(eI.CY,{trusted:!0,onClick:()=>{O(null),L("")}},ep.createElement(e$.Tx,{id:"admin_dashboard.requests.empty.reset_filters"}))})),ep.createElement(ej.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center"},C)),items:eZ,getItemKey:e=>e.id,columns:tl,itemTypeContext:{itemType:El.k_,getSelectedCountString:e=>eJ?"":"approving"===D?(0,e$.t)("admin_dashboard.requests.selected_count_approving",{numSelected:U}):"denying"===D?(0,e$.t)("admin_dashboard.requests.selected_count_denying",{numSelected:U}):(0,e$.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},getTotalSelected:eJ?void 0:(e,t)=>{let a;return a=S&&eW?Math.max(1,eW-(t.length-e.length)):e.length,B.current=a,a},actionBar:"approving_all_button"===D?void 0:e=>eJ?ep.createElement("div",{className:eT.cx.w150.$},ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER_ON_MENU})):ep.createElement("div",{className:"upgrade_requests_table--actionBarButtons--GFmxk"},ep.createElement(ej.Y,{spacing:8},ep.createElement(dD.V,{variant:"toolbar-secondary",disabled:!!D,onClick:D?ev.lQ:()=>te({approve:!1,selectedRequestIds:e.map(e=>e.id),sprig:tr}),innerText:"Decline",dataTestId:"decline-button-multiple"},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.requests.decline"),showSpinner:"denying"===D})),ep.createElement(dD.V,{variant:"primary",onClick:D?ev.lQ:()=>te({approve:!0,selectedRequestIds:e.map(e=>e.id)}),innerText:"Approve",dataTestId:"approve-button-multiple"},(0,El.Zm)({text:(0,e$.t)("admin_dashboard.requests.approve"),showSpinner:"approving"===D})))),actionBarClassName:eS()("upgrade_requests_table--actionBar--ooXSY",eJ?void 0:"upgrade_requests_table--actionBarHasContent--kJbMn"),sortState:{columnName:"",isReversed:!1},onSetSortState:ev.lQ,scrollContainerInnerClassName:"upgrade_requests_table--tableScrollContainer--ZezYu",minContentWidth:780,onToggleSelectAll:e=>{I(!e)},onSelectedItemsChange:e=>{0===e.length&&I(!1)},isLoading:eP,onFetchMore:eR?()=>{var e,t;ek&&!eL&&eR&&(null==(t=null==(e=null==e_?void 0:e_.data)?void 0:e.adminRequestDashboardRows)||t.loadNext(25))}:void 0,hasNewScrollContext:!0,scrollBarAlwaysVisible:!0}))))}function Im({org:e,onClickViewHistory:t}){return ep.createElement(Id,{supportedLicenses:[uP.oM.DESIGN,...e.figjam_disabled_at?[]:[uP.oM.WHITEBOARD],uP.oM.DEV_MODE],planType:El.ps.ORG,planId:e.id,onClickViewHistory:t})}let Iu="dashboard--overviewLabel--URDgp",I_="dashboard--overviewValue--3ivjL";function Ip(e){var t,a,r;let n;let l=(0,eg.wA)(),i=(0,eg.d4)(e=>e.avatarEditorState),s=(0,eg.d4)(e=>(0,uW.xw)(e)),o=(0,t5.Rs)(ai.Wt6,{orgId:e.org.id}),c="loaded"===o.status?null==(t=o.data.org)?void 0:t.taxIdVerificationStatus:null,d=(0,t5.Rs)(ai.lVt,{orgId:e.org.id}),m="loaded"===d.status,u=m&&(0,uJ.CA)((null==(r=null==(a=d.data)?void 0:a.org)?void 0:r.devModeOptInPlanProperty)||null),_=(0,El.Kb)(),p=(0,El.IA)({planType:El.ps.ORG,planId:e.org.id}),[g,E]=(0,tY.fp)(S5._),f=c===lB.kI.UNVERIFIED,[h,v]=ep.useState(u||p);n=u?p?(0,e$.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in"):(0,e$.t)("admin_dashboard.suggested.tile.body.dm_not_opted_in_no_beta_users"):(0,e$.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),ep.useEffect(()=>{if(m&&null!==p){v(u||p);let t=[El.ps.ORG,e.org.id].toString(),a={...g};a[t]=u||!!p,E(a)}},[m,p,e.org.id,u]);let b=()=>{v(!1);let t=[El.ps.ORG,e.org.id].toString(),a={...g};a[t]=!1,E(a)},y=()=>l(e0.to({type:Ie,data:{planId:e.org.id,planType:El.ps.ORG,onNoUpgrades:b}})),w=()=>{l(e0.to({type:bm.OZ,data:{onOptInShowModal:y,source:En.J7.DASHBOARD}}))};(0,tz.h)(()=>{!e.org.is_dev_mode_opt_in_accepted&&e.devModeOptInModalState&&e.devModeOptInModalState.shouldShowModal&&l((0,e0.to)({type:bm.$D,data:{emailRequestId:e.devModeOptInModalState.emailRequestId}})),_&&e.shouldShowDevModeSuggestedUpgradesModal&&(e.org.is_dev_mode_opt_in_accepted?y():w())});let T=(0,g7.SM)(e.org.id),x=e=>{l(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.ACTIVITY,activityTabInitialEventOptionId:e}))},C=(0,ep.useMemo)(()=>!!e.invoices&&e.invoices.length>0&&(0,uJ.Fw)(e.invoices)!==uJ.$.DEFAULT,[e.invoices]),N=ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.tile.subtext.main",dismissalLink:ep.createElement("span",{className:"dashboard--suggestedUpgradesDismissalLink--8SOU4",role:"button",onClick:()=>{bo.G.postOrgUserFlags({orgUserId:s.id,flags:{[El.NQ]:!0}}),v(!1)},tabIndex:0},ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.tile.subtext.dismissal_link"}))});return ep.createElement("div",{className:"dashboard--container--KKsGd admin_settings_page--container--qnrCG"},ep.createElement("div",{className:"dashboard--overview--ny1rm"},ep.createElement("div",{className:"dashboard--overviewLeft--wdTpo"},ep.createElement(fp.ER,{dispatch:l,entityType:f_.ck.ORG,entity:e.org,size:80,avatarEditorState:i}),ep.createElement("div",{className:"dashboard--handle--5rF0W"},ep.createElement(du.E,{fontWeight:"regular",fontSize:24},e.org.name),e.org.community_profile_handle&&ep.createElement("div",{className:"dashboard--communityProfile--1T3gQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{l(tL.$T({view:"communityHub",subView:"handle",handle:e.org.community_profile_handle}))}},"@",e.org.community_profile_handle))),ep.createElement("div",{className:"dashboard--overviewRight--bhW0U"},ep.createElement("div",null,ep.createElement("span",{className:Iu},ep.createElement(e$.Tx,{id:"org_dashboard.total_teams"})),ep.createElement("span",{className:I_},e.teams.length)),ep.createElement("div",null,ep.createElement("span",{className:Iu},ep.createElement(e$.Tx,{id:"org_dashboard.total_members"})),ep.createElement("span",{className:I_},e.orgUserCount)))),ep.createElement(ej.Y,{spacing:16,direction:"vertical"},h&&m&&ep.createElement(eH.fu,{name:e4.e0.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,orgId:e.org.id}},(0,eh.kc)().dev_mode_suggests_tile_dismissal?ep.createElement(S8,{onClick:()=>{u?w():y()},title:(0,e$.t)("admin_dashboard.suggested.tile.title",{dateObject:El.Se}),subText:u?void 0:N,buttonText:(0,e$.t)("admin_dashboard.suggested.button"),color:S2.YELLOW,dataTestId:`billing-highlight-${uJ.EZ.DEV_MODE_SUGGESTED_UPGRADES}`}):ep.createElement(S3,{onClick:()=>{u?w():y()},title:(0,e$.t)("admin_dashboard.suggested.tile.title",{dateObject:El.Se}),text:n,color:S2.YELLOW,dataTestId:`billing-highlight-${uJ.EZ.DEV_MODE_SUGGESTED_UPGRADES}`})),C&&ep.createElement(S3,{onClick:()=>{T(),l(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.BILLING}))},title:(0,e$.t)("org_dashboard.billing"),text:(0,uJ.XL)(e.org,e.invoices),alertIcon:ep.createElement(Er.YR,{faded:!0}),dataTestId:`billing-highlight-${uJ.EZ.BILLING_STATUS}`}),f&&ep.createElement(S3,{onClick:()=>{T(),l(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.SETTINGS}))},title:(0,e$.t)("org_dashboard.settings"),text:(0,e$.t)("billing_status.tax_id.invalid.v2"),alertIcon:ep.createElement(Er.YR,{faded:!0}),dataTestId:`billing-highlight-${uJ.EZ.TAX_ID_STATUS}`}),ep.createElement("div",{className:eT.cx.mb16.$},ep.createElement(Im,{org:e.org,onClickViewHistory:()=>x("activity_log.filter.upgrade_requests_and_activity")}))))}var Ig=a(667851),IE=a(502935);function If(e){return((0,Ig.P)("exp_teams_table_refactor",{type:IE.L4.ORG,id:e}).defaultValue(!1).treatment("variant",!0).disableTracking().get()||(0,Ig.P)("exp_teams_table_refactor",e).defaultValue(!1).treatment("variant",!0).get())&&(0,eh.kc)().teams_table_refactor_rollout}var Ih=a(819027);let Iv=(0,xc.rw)();function Ib(e){let t=null;if("getDisplayName"in e){let{getDisplayName:a,...r}=e,n=a(e.tab);t={...r,dataText:n,children:n}}else t=e;return ep.createElement(Iv,{...t,variant:xc.TN.ADMIN_SETTINGS})}let Iy={[En.J7.RESOURCES]:[En._d.LIBRARIES,En._d.SHARED_FONTS,En._d.APPROVED_PLUGINS,En._d.APPROVED_WIDGETS]};function Iw({tab:e,selectedSecondaryTab:t}){let a=(0,eg.wA)(),r=Iy[e]||[],n=ep.useCallback(t=>{a(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e,orgAdminSettingsViewSecondaryTab:t}))},[a,e]);if(!(r.length>1))return null;let l=t||r[0];return ep.createElement("div",{className:eT.cx.px32.pt16.$,"data-testid":"org-admin-settings-secondary-tabs"},ep.createElement(CJ.f,{tabs:r.map(t=>ep.createElement(CJ.r,{key:t,tab:t,isSelected:l===t,onClick:n,tabName:bA(e,t)}))}))}let IT=(0,xc.rw)(),Ix=e=>Object.values(En.J7).filter(t=>!En.eL.includes(t)&&(t!==En.J7.BILLING||!!e.length)),IC=()=>Object.values(En.J7);function IN(e){let t=(0,eg.wA)(),a=(0,eg.d4)(({currentUserOrgId:e})=>e),r=(0,um.FC)(),n=(0,Ih.W$)(),l=r.orgById[a].bigma_enabled,i=(0,g7.SM)(a),s=e=>{e===En.J7.BILLING&&n.length&&i(),t(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e}))},o=l?IC():Ix(n),c=o.map(t=>ep.createElement(Ib,{"data-onboarding-key":vW[t],tab:t,selectedTab:e.selectedTab,key:t,onClick:s,mobileNavTabTitle:bA(t),getDisplayName:bA})),d=bA(e.selectedTab),m=ep.createElement(IT,{key:"DESKTOP_SMALL_TABS_SELECTOR",tab:d,selectedTab:d,mobileNavTabTitle:d,dropdownKey:"DESKTOP_SMALL_TABS_SELECTOR",dropdownOptions:o.map(a=>ep.createElement(pv.W.CheckableOption,{checked:a===e.selectedTab,key:`desktop-small-tab-${a}`,onClick:()=>{t(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:a}))}},bA(a)))},d);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"org_admin_settings_view_toolbar--desktopAndMobile--2db6t"},ep.createElement(xu,{navTabs:c})),ep.createElement("div",{className:"org_admin_settings_view_toolbar--customDesktopSmall--Ojqyv"},ep.createElement(xu,{navTabs:[m]})),ep.createElement(Iw,{tab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}))}let Ik=new class{constructor(){this.OrgExtensionAnalyticsValidator=(0,rI.vh)(),this.getExtensionAnalyticsForOrg=async e=>{let{data:t}=await this.OrgExtensionAnalyticsValidator.validate(async({xr:t})=>await t.get(`/api/extension_analytics/v1/org/${e}`)),{meta:a}=t;return function(e){let t={};return e.org_analytics.forEach(e=>{let{plugin_id:a,extension_usage_window:r,workspaces_extensions_used_on:n,n_extension_actions:l,n_extension_users:i}=e,s={usage_windows:{[r]:{n_extension_actions:parseInt(l),n_extension_users:parseInt(i),workspaces_extensions_used_on:n,top_org_users:[]}}};t[a]?t[a]={...t[a],usage_windows:{...t[a].usage_windows,...s.usage_windows}}:t[a]=s}),e.top_org_users.forEach(e=>{let{org_id:a,plugin_id:r,extension_usage_window:n,org_rank:l,n_extension_actions:i,user_id:s,user_name:o,img_url:c}=e,d=t[r];if(!d){let e=Error(`Missing extension analytics data for org ${a} and plugin ${r}`);(0,lL.$D)(s6.e.EXTENSIBILITY,e);return}let m=d.usage_windows[n];if(!m)throw Error("Missing extension_usage_window from org analytics data");let u={user_id:s,user_name:o,img_url:c,org_rank:parseInt(l),n_extension_actions:parseInt(i)};m.top_org_users||(m.top_org_users=[]),m.top_org_users.push(u)}),t}(a)}}};var IS=a(530364);function II(e){let{extensionType:t,onGoToSettings:a}=e,r="plugin"===t?ep.createElement(e$.Tx,{id:"resources_tab.approved_plugins.plugin_approval_banner.text",settingName:ep.createElement(du.E,{i18nId:"settings_tab.plugin_approval_label",fontWeight:"medium"})}):ep.createElement(e$.Tx,{id:"resources_tab.approved_widgets.widget_approval_banner.text",settingName:ep.createElement(du.E,{i18nId:"settings_tab.widget_admin_approval_label",fontWeight:"medium"})}),n=e.settingsText??(0,e$.t)("resources_tab.approved_plugins.plugin_approval_banner.go_to_settings_button");return ep.createElement(IS.z,{orientation:"horizontal",variant:"warning",iconSrc:sE.A,action:{label:n,onClick:a},dataTestId:"allowlist-not-enforced-banner"},ep.createElement("div",{"data-testid":"banner-text"},r))}var IA=a(725356);let IL="allowlist_plugins_modals--allowListInputDescription--0nVJZ",IR="allowlist_plugins_modals--allowListInput--FWecp",IO="allowlist_plugins_modals--allowListInputButtonContainer--FrtJL",IF="allowlist_plugins_modals--allowListInputButton---NSIM",IM=ep.createElement(ep.Fragment,null,`AMENDMENT TO FIGMA MASTER SUBSCRIPTION AGREEMENT

This Amendment to the Figma Master Subscription Agreement (this \u201CAmendment\u201D) shall amend the Figma Master Subscription Agreement previously entered into and currently in effect between Figma, Inc. and Customer for use of the Figma Platform (the \u201CAgreement\u201D). Capitalized terms used and not defined herein will have the same meanings and definitions as set forth in the Agreement. In the event of a conflict or inconsistency between the terms of this Amendment and the Agreement, the terms of this Amendment will prevail. All provisions of the Agreement, except those which are explicitly changed below by this Third Amendment, shall remain in full force and effect.

WHEREAS, Figma grants to Customer access to and use of the Figma Platform;

WHEREAS, the parties wish to amend the Agreement in certain respects in accordance with the terms and conditions set forth herein;

NOW THEREFORE, Figma and Customer hereby agree as follows:`,ep.createElement("ol",{style:{listStyleType:"decimal",listStylePosition:"outside",paddingLeft:"20px"}},ep.createElement("li",null,`Section 1 of the Agreement is hereby amended by inserting the following definition as
        Section 1.H immediately after Section 1.G: \u201CApplications and Materials\u201D means any
        application(s) and/or material(s) that are developed by Customer, including, but not limited
        to, design files, plugins, component libraries, and code components that can be made
        available via, and published to, the Figma Platform for use by other Authorized users or
        other users of the Figma Platform outside of Customer\u2019s organization, in accordance with the
        functionality of the Figma Platform.`),ep.createElement("li",null,`Section 2 of the Agreement is hereby amended by inserting the following Section 2.E
        immediately after Section 2.D: Applications and Materials. Customer may submit Applications
        and Materials to the Figma Platform for publication to and to be made available via the
        Figma Platform. Such Applications and Materials can be made available to Authorized Users
        only or publicly to other users of the Figma Platform outside of Customer\u2019s organization,
        depending on the sharing permissions and designations selected by Customer at the time of
        submission of the Applications and Materials. The Figma Platform may also make available
        Applications and Materials that are created by third parties outside of Customer\u2019s
        organization, but can be installed by Authorized Users for use with the Figma Platform
        (\u201CThird-Party Applications and Materials\u201D). Subject to Customer\u2019s payment of all fees and
        compliance with the terms and conditions of this Agreement, Figma grants to Customer a
        limited, worldwide, non-exclusive, non-transferable, non-sublicensable right during the
        Order Term to install and use the Third-Party Applications and Materials and to permit its
        Authorized Users to install and use the Third-Party Applications and Materials, solely in
        connection with the functionality of the Figma Platform.`),ep.createElement("li",null,`Section 3.A of the Agreement is deleted in its entirety and replaced with the following: Use
        Restrictions. Except as otherwise explicitly provided in this Agreement or as may be
        expressly permitted by applicable law, Customer will not, and will not permit or authorize
        third parties to: (1) rent, lease, or otherwise permit third parties to use the Figma
        Platform, Third-Party Applications and Materials, or Documentation; (2) use the Figma
        Platform, Third-Party Applications and Materials, or Documentation to provide services to
        third parties (e.g., as a service bureau); (3) circumvent or disable any security or other
        technological features or measures of the Figma Platform; (4) reverse engineer, decompile,
        disassemble or otherwise attempt to discover the source code, object code or underlying
        structure, ideas, know-how or algorithms relevant to the Figma Platform or Third-Party
        Applications and Materials; (5) modify, translate, or create derivative works based on the
        Figma Platform, Third-Party Applications and Materials, or Documentation; or (6) remove any
        proprietary notices or labels from the Figma Platform, Third-Party Applications and
        Materials or Documentation.`),ep.createElement("li",null,`The first sentence of Section 3.B of the Agreement is deleted in its entirety and replaced
        with the following: Customer is responsible and liable for all actions and inactions by its
        Authorized Users or by any other person or entity to whom Customer or an Authorized User
        may, directly or indirectly, provide access to or permit to use the Figma Platform,
        Third-Party Applications and Materials or Documentation; in each case, as if such action or
        inaction were an action or inaction of Customer.`),ep.createElement("li",null,`Section 4 of the Agreement is hereby amended by inserting the following Section 4.C
        immediately after Section 4.B: Customer hereby grants Figma a worldwide, non-exclusive,
        royalty-free right and license (with the right to sublicense) to use, reproduce, distribute
        copies of, publicly perform, publicly display, use and make the Applications and Materials
        available via the Figma Platform for installation and use by Authorized Users or other users
        of the Figma Platform as permitted by the functionality of the Figma Platform.`),ep.createElement("li",null,`Section 5 of the Agreement is hereby amended by inserting the following Section 5.C
        immediately after Section 5.B: Subject to the rights granted to Figma under this Agreement,
        Customer owns all right, title, and interest in and to the Applications and Materials
        (excluding Third-Party Applications and Materials). No ownership rights in the Applications
        and Materials are transferred to Figma when Applications and Materials are published on the
        Figma Platform.`),ep.createElement("li",null,`Section 6.A of the Agreement is deleted in its entirety and replaced with the following: In
        addition to Third-Party Applications and Materials, third parties may make available
        third-party products or services, including, for example, mobile applications, integrations,
        and other services (\u201CThird-Party Services\u201D) that Customer may elect to purchase or use. Any
        acquisition by Customer of such Third-Party Services and any exchange of data between
        Customer and any Third-Party Service or Third-Party Service provider is solely between
        Customer and the applicable third-party provider. Figma does not warrant or provide support
        for Third-Party Services (including Third-Party Applications and Materials), whether or not
        they are designated by Figma as \u201Crecommended\u201D \u201Ccertified\u201D or otherwise.`),ep.createElement("li",null,`Section 10 of the Agreement is hereby amended by inserting the following sentence to the end
        of Section 10.B. Figma makes no warranties with respect to the Third-Party Applications and
        Materials or Third-Party Services, including whether they will perform their intended
        functions or deliver any expected results. Customer acknowledges that Customer assumes all
        risk arising from use of the Third-Party Applications and Materials and Third-Party
        Services.`),ep.createElement("li",null,`Section 10.C of the Agreement is deleted in its entirety and replaced with the following:
        Customer Warranties. Customer represents and warrants to Figma that: (1) Customer is the
        creator and owner of the Customer Data and any Applications and Materials that are submitted
        to the Figma Platform, or has the necessary licenses, rights, consents, and permissions to
        authorize Figma to use the Customer Data and Applications and Materials as necessary to
        exercise the licenses granted by Customer in this Agreement; (2) Customer Data and
        Applications and Materials, and the use of Customer Data and Applications and Materials, as
        contemplated by this Agreement, do not and will not: (a) infringe, violate, or
        misappropriate any third-party right, including any copyright, trademark, patent, trade
        secret, moral right, privacy right, right of publicity, or any other intellectual property
        or proprietary right; or (b) violate any applicable law or regulation; and (3) Customer will
        use the Figma Platform in compliance with the Documentation, any instructions provided by
        Figma, and all applicable laws and regulations.`),ep.createElement("li",null,`Section 11.B(2) of the Agreement is hereby amended by inserting the following item (vi)
        immediately after item (v): ; or (vi) use of Third-Party Services, the Applications and
        Materials or Third-Party Applications and Materials that are made available on the Figma
        Platform.`),ep.createElement("li",null,`Miscellaneous. This Amendment may be executed in counterparts, each of which shall be deemed
        to be an original and together shall be deemed to be one and the same document. The parties
        agree the electronic signatures appearing on this Agreement shall be treated, for purposes
        of validity, enforceability, as well as admissibility, the same as hand-written signatures.`)),ep.createElement("br",null),`Customer and Figma hereby acknowledge and agree that although Section 16 of the Agreement
    requires that all modifications to the Agreement be in a writing signed by both parties, Figma\u2019s
    presentation of this Amendment to Customer via the Figma Platform and Customer\u2019s action of
    clicking \u201CACCEPT & CONTINUE\u201D will satisfy the requirements for amending the Agreement and
    constitute such a writing signed by both parties. By clicking \u201CACCEPT & CONTINUE\u201D, Customer
    agrees to be bound by the Agreement as amended herein by this Amendment and will not assert that
    this Amendment is unenforceable in the future. Figma also agrees to be bound by the Agreement as
    amended and\xa0will not assert that this Amendment is unenforceable in the future.`),ID=(0,am.Ju)(function({org:e,extensionType:t}){let a=(0,eg.wA)();return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("allowlist_plugins_modals.msa_amendment_modal.title"),confirmText:(0,e$.t)("allowlist_plugins_modals.msa_amendment_modal.accept_button"),onConfirm:()=>{a(C0.xF({orgId:e.currentUserOrgId})),"plugin"===t?a(C0.yo({payload:{plugins_whitelist_enforced:!1},successMessage:(0,e$.t)("allowlist_plugins_modals.msa_amendment_modal.success_notification")})):a(C0.yo({payload:{widgets_whitelist_enforced:!1},successMessage:(0,e$.t)("allowlist_widgets_modals.msa_amendment_modal.success_notification")})),a(e0.Ce())},onCancel:()=>{a(e0.Ce())},dontClose:!0,disableClickOutsideToHide:!0,tintedModalBackground:!0,dispatch:a,size:"medium"},ep.createElement(ac.P,{className:"allowlist_plugins_modals--pluginsOptInModalText--EBF5b text--fontPos11--2LvXf text--_fontBase--QdLsd"},IM))},"AllowListPluginsMSAAmendmentModal"),IP=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(""),n=()=>{t(e0.Ce()),r("")};return ep.createElement(au.aF,{size:"small",dispatch:t,title:(0,e$.t)("allowlist_plugins_modals.add_plugin.title"),onHide:n},ep.createElement(u7.s_,{dispatch:t}),ep.createElement("div",{className:IL},ep.createElement(e$.Tx,{id:"allowlist_plugins_modals.add_plugin.details"})),ep.createElement("form",{onSubmit:r=>{r.preventDefault();let l=(0,tF.ZI)(a);if(l){n(),t((0,e0.to)({type:IA.WR,data:{mode:"review",extensionId:l,orgId:e.currentUserOrgId,extensionType:"plugin",isAllowed:!1}}));return}t(t6.F.enqueue({error:!0,message:(0,e$.t)("allowlist_plugins_modals.add_plugin.invalid_url_notification")}))}},ep.createElement(eI.ks,{onChange:e=>r(e.currentTarget.value),value:a,className:IR,autoFocus:!0}),ep.createElement("div",{className:IO},ep.createElement(eI.nR,{onClick:n,className:IF,type:"button"},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(eI.$$,{disabled:!(0,tF.ZI)(a),className:IF,type:"submit"},ep.createElement(e$.Tx,{id:"allowlist_plugins_modals.add_plugin.add_button"})))))},"AllowlistPluginsInputModal"),IB=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(""),n=()=>{t(e0.Ce()),r("")};return ep.createElement(au.aF,{size:"small",dispatch:t,title:(0,e$.t)("allowlist_widgets_modals.add_widget.title"),onHide:n},ep.createElement(u7.s_,{dispatch:t}),ep.createElement("div",{className:IL},ep.createElement(e$.Tx,{id:"allowlist_widgets_modals.add_widget.details"})),ep.createElement("form",{onSubmit:r=>{r.preventDefault();let l=(0,tF.yx)(a);if(l){n(),t((0,e0.to)({type:IA.WR,data:{mode:"review",extensionId:l,orgId:e.currentUserOrgId,extensionType:"widget",isAllowed:!1}}));return}t(t6.F.enqueue({error:!0,message:(0,e$.t)("allowlist_widgets_modals.add_widget.invalid_url_notification")}))}},ep.createElement(eI.ks,{onChange:e=>r(e.currentTarget.value),value:a,className:IR,autoFocus:!0}),ep.createElement("div",{className:IO},ep.createElement(eI.nR,{onClick:n,className:IF,type:"button"},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(eI.$$,{disabled:!(0,tF.yx)(a),className:IF,type:"submit"},ep.createElement(e$.Tx,{id:"allowlist_widgets_modals.add_widget.add_button"})))))},"AllowListWidgetsInputModal");var IU=((k=IU||{}).ALLOWLIST="allowlist",k.PUBLIC="public",k);class IW{constructor(e){this.extensionType=e}getWhitelistEnforcedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugins_whitelist_enforced:"allowlist"===e}:{widgets_whitelist_enforced:"allowlist"===e}}getSuccessMessage(e){if(e)return"plugin"===this.extensionType?"allowlist"===e?(0,e$.t)("settings_tab.enable_plugin_approval_success"):(0,e$.t)("settings_tab.disable_plugin_approval_success"):"allowlist"===e?(0,e$.t)("settings_tab.widget_admin_approval_enabled"):(0,e$.t)("settings_tab.widget_admin_approval_disabled")}getInitialExtensionAllowed(e){return"plugin"===this.extensionType?!e.publicPluginsAllowed||e.pluginsWhitelistEnforced?"allowlist":"public":!e.publicPluginsAllowed||e.widgetsWhitelistEnforced?"allowlist":"public"}getSettingsText(){let e={title:(0,e$.t)("resources_tab.approved_plugins.modal.plugin_approval"),permissionsText:(0,e$.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,e$.t)("resources_tab.approved_plugins.modal.all_plugins"),defaultRadioText:(0,e$.t)("resources_tab.approved_plugins.modal.default"),approvedRadioText:(0,e$.t)("resources_tab.approved_plugins.modal.approved_plugins_only"),requestCheckboxText:(0,e$.t)("resources_tab.approved_plugins.modal.request_plugins")},t={title:(0,e$.t)("resources_tab.approved_widgets.modal.widget_approval"),permissionsText:(0,e$.t)("resources_tab.approved_plugins.modal.org_members_can_use"),allRadioText:(0,e$.t)("resources_tab.approved_widgets.modal.all_widgets"),defaultRadioText:(0,e$.t)("resources_tab.approved_widgets.modal.default"),approvedRadioText:(0,e$.t)("resources_tab.approved_widgets.modal.approved_widgets_only"),requestCheckboxText:(0,e$.t)("resources_tab.approved_widgets.modal.request_widgets")};return"plugin"===this.extensionType?e:t}getExtensionRequestsAllowed(e){return"plugin"===this.extensionType?e.pluginRequestsAllowed:e.widgetRequestsAllowed}getExtensionRequestAllowedPayload(e){return void 0===e?{}:"plugin"===this.extensionType?{plugin_requests_allowed:e}:{widget_requests_allowed:e}}}function IV(e){let{modalCopy:t,extensionsAllowed:a,setExtensionsAllowed:r,extensionRequestsAllowed:n,setExtensionRequestsAllowed:l}=e;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.flex.flexColumn.$},ep.createElement("div",{className:eT.cx.mx8.my4.$},ep.createElement(du.E,{fontSize:11,fontWeight:"medium"},t.permissionsText)),ep.createElement(cO.z,{value:a,onChange:r,className:eT.cx.flex.flexColumn.py8.pl10.gap4.$},ep.createElement(cO.Z,{value:"public",dataTestId:"all-radio-option"},ep.createElement(du.E,{fontSize:11},t.allRadioText),ep.createElement(du.E,{fontSize:11,color:"secondary"},t.defaultRadioText)),ep.createElement(cO.Z,{value:"allowlist",dataTestId:"allowlist-radio-option"},ep.createElement(du.E,{fontSize:11},t.approvedRadioText)))),"allowlist"===a&&ep.createElement("div",{className:eT.cx.flex.flexColumn.pt8.mt8.bt1.colorBorder.bSolid.$},ep.createElement("div",{className:eT.cx.p8.$},ep.createElement(uX.S,{checked:n,label:t.requestCheckboxText,onChange:e=>{l(e.currentTarget.checked)}}))))}function IG({goBack:e,text:t}){return ep.createElement("div",{className:eT.cx.wFull.flex.itemsCenter.gap4.$},ep.createElement(dD.$,{icon:"chevron-left-32",onClick:e,variant:"text"}),ep.createElement(du.E,{truncate:!0,color:"default"},t))}let I$=(0,am.Ju)(function({orgId:e,extensionType:t,hasBackButton:a}){var r;let n=(0,t5.Rs)(ai.lgH,{orgId:e}),l=null==(r=n.data)?void 0:r.org,i=new IW(t),s=i.getSettingsText(),o=(0,eg.wA)(),c=()=>{a&&o(e0.Lo()),o(e0.Lo())},[d,m]=ep.useState(),[u,_]=ep.useState();if("loading"===n.status||"errors"===n.status||!l)return null;let p=i.getInitialExtensionAllowed(l),g=i.getExtensionRequestsAllowed(l);return ep.createElement(sn.XV,{title:a?ep.createElement(IG,{text:s.title,goBack:()=>o(e0.Lo())}):s.title,onClose:c,maxWidth:a?void 0:320,minWidth:a?void 0:320,fixedTop:!!a},ep.createElement("div",{className:eT.cx.flex.flexColumn.px8.py16.$},ep.createElement(IV,{modalCopy:s,extensionsAllowed:d??p,setExtensionsAllowed:m,extensionRequestsAllowed:u??g,setExtensionRequestsAllowed:_}),ep.createElement("div",{className:eT.cx.flex.flexRow.gap8.justifyEnd.mr8.mt8.$},ep.createElement(dD.$,{onClick:c},(0,e$.t)("general.cancel")),ep.createElement(dD.$,{onClick:()=>{if(l.publicPluginsAllowed){let e={...i.getWhitelistEnforcedPayload(d),...i.getExtensionRequestAllowedPayload(u)};o(C0.yo({payload:e,successMessage:i.getSuccessMessage(d??p)})),c()}else o((0,e0.to)({type:ID,data:{org:{currentUserOrgId:e},extensionType:t}}))},variant:"primary",dataTestId:"save-button"},(0,e$.t)("general.save")))))},"AllowlistSettingsModal");var Ij=a(219370),IH=a(287746);function Iq(e){let{onAddExtension:t,extensionType:a}=e,r="plugin"===a?ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.no_plugins.text"}):ep.createElement(du.E,{i18nId:"resources_tab.approved_widgets.no_widgets.text"}),n="plugin"===a?ep.createElement(e$.Tx,{id:"resources_tab.approved_plugins.no_plugins.add_plugins_button"}):ep.createElement(e$.Tx,{id:"resources_tab.approved_widgets.no_widgets.add_widgets_button"});return ep.createElement(ej.Y,{spacing:4,dataTestId:"allowlist-no-extensions-banner"},r,ep.createElement(IH.N,{onClick:t,trusted:!0},n))}let Iz="extension_allowlist_table--afterDivider--XU9gY";var IY=((S=IY||{}).NAME="name",S.APPROVED="approved",S);function IK({allowlistedExtensions:e,extensionToUsageData:t,orgId:a,extensionType:r,onAddExtension:n,selectedExtensionId:l}){let[i,s]=ep.useState({column:"name",isReversed:!1}),o=ep.useMemo(()=>({name:e=>e.name??"",approved:e=>e.approvedAt.getTime()}),[]),c=(0,eg.wA)(),d=function(e,t){let a=new Map;for(let r of e){let e=r.plugin;if(!e||"plugin"===t&&e.isWidget||"widget"===t&&!e.isWidget)continue;let n=e.currentPluginVersion;if(!n)continue;let{id:l}=e,{iconUrl:i,name:s,description:o,tagline:c}=n,{createdAt:d}=r,m=function(e){let{allowlistGroupType:t}=e;switch(t){case"Org":{let{allowlistedOrg:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}case"Workspace":{let{allowlistedWorkspace:a}=e;if(!a)return null;return{type:t,id:a.id,name:a.name}}default:return null}}(r);if(!m)continue;let u=a.get(l);if(u){u.allowlistGroups.push(m),u.approvedAt=d<u.approvedAt?d:u.approvedAt;continue}let _={extensionId:l,iconUrl:i,name:s,description:o,tagline:c,approvedAt:d,allowlistGroups:[m]};a.set(l,_)}return a}(e.filter(e=>e.plugin&&e.plugin.publishingStatus===lB.KB.APPROVED_PUBLIC),r),m=d.size>0,u=Array.from(d.values());return(0,tl.Tz)(u,o[i.column],i.isReversed,i.secondaryColumn&&(null==o?void 0:o[i.secondaryColumn]),i.isSecondaryReversed),ep.useEffect(()=>{if(l){let e=null==t?void 0:t[l];c((0,e0.to)({type:IA.WR,data:{mode:"manage",extensionId:l,orgId:a,usageData:e,extensionType:r,initialTab:"overview",isAllowed:!0}}))}},[c,t,r,a,l]),ep.createElement("div",{className:eT.cx.flex.flexColumn.$,"data-testid":"extension-allowlist-table"},ep.createElement("div",{className:eT.cx.pl32.$},ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.approved_header",fontSize:13,fontWeight:"medium"})),ep.createElement(IJ,{extensionType:r,updateSortState:e=>{i.column===e?s(e=>({...e,isReversed:!e.isReversed})):s(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:i}),m?u.map((e,n)=>{let l=n=>{let l=null==t?void 0:t[e.extensionId];c((0,e0.to)({type:IA.WR,data:{mode:"manage",extensionId:e.extensionId,orgId:a,usageData:l,extensionType:r,initialTab:n,isAllowed:!0}}))};return ep.createElement(yF.Hj,{key:e.extensionId,className:eS()(eT.cx.flex.itemsCenter.gap16.relative.$,Iz),style:u1.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:e=>{e.stopPropagation(),l("overview")},dataTestId:`extension-allowlist-table-row-${n}`},ep.createElement(IZ,{name:e.name,iconUrl:e.iconUrl}),ep.createElement(IQ,{description:e.description,tagline:e.tagline}),ep.createElement(IX,{entry:e}),ep.createElement(I0,{entry:e,openAllowlistModal:l}),ep.createElement(I1,null))}):ep.createElement("div",{className:eT.cx.mt32.mlAuto.mrAuto.$},ep.createElement(Iq,{extensionType:r,onAddExtension:n})))}function IJ({extensionType:e,updateSortState:t,sortState:a}){return ep.createElement(yF.Hj,{header:!0,useAdminTableStyles:!0,className:eS()(eT.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,Iz),style:u1.sx.add({border:"none"}).px32.py16.$},ep.createElement(yF.A3,{style:u1.sx.add({width:"20%"}).$},ep.createElement(yF.tD,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},ep.createElement(du.E,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"40%"}).$},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyStart.$},ep.createElement(yF.tD,{hasArrow:"approved"===a.column,field:"approved",sortBy:()=>t("approved"),isDescending:!a.isReversed},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_column"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"20%"}).justifyStart.$},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.approved_for_column"})),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyStart.$},ep.createElement("span",null)," "))}function IZ({name:e,iconUrl:t,numWorkspaces:a}){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.gap12.overflowHidden.$,style:u1.sx.add({width:"20%"}).$},ep.createElement("img",{src:t??"",alt:"approved for workspace",className:eT.cx.w24.h24.bRadius6.$}),ep.createElement(du.E,{truncate:!0},e),!!a&&a>0&&ep.createElement(eL.B,{width:"16px",height:"16px",svg:_X.A,className:"extension_allowlist_table--greenCheck--UQRQb","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("resources_tab.approved_plugins.table.already_approved",{numWorkspaces:a})}))}function IQ({description:e,tagline:t}){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.overflowHidden.$,style:u1.sx.add({width:"40%"}).$},ep.createElement(du.E,{truncate:!0,showTooltipWhenTruncated:!1},(0,Ij.$J)(t||e||"")))}function IX({entry:e}){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:u1.sx.add({width:"10%"}).$},ep.createElement(i7.h1,{date:e.approvedAt}))}function I0({entry:e,openAllowlistModal:t}){let a=ep.useMemo(()=>{if(e.allowlistGroups.some(e=>"Org"===e.type))return ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.entire_org"});let a=e.allowlistGroups[0];if(!a)return null;if(e.allowlistGroups.length>1){let a=e.allowlistGroups.map(e=>e.name).join("\n");return ep.createElement("button",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":a,"data-tooltip-text-left":!0,type:"button",className:eT.cx.bgTransparent.cursorPointer.$,onClick:e=>{e.stopPropagation(),t("edit")}},ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.n_workspaces_approved_for",i18nParams:{numberOfWorkspaces:e.allowlistGroups.length},color:"brand"}))}return a.name},[e.allowlistGroups,t]);return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:u1.sx.add({width:"20%"}).$},a)}function I1(){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:u1.sx.add({width:"10%"}).$},ep.createElement(le.In,{icon:"chevron-right-32"}))}var I2=a(851310);let I4=(0,am.Ju)(function({extension:e,isWidget:t,declineModalParams:a}){let{name:r,iconUrl:n}=e,[l,i]=ep.useState(void 0),s=(0,eg.wA)(),o=t?(0,e$.t)("extension_decline_modal.decline_widget_request"):(0,e$.t)("extension_decline_modal.decline_plugin_request"),c=()=>s(e0.Lo()),d=e=>{let t={orgId:e.orgId,extensionId:e.extensionId,extensionType:e.extensionType,declineNote:l};0===e.approvedWorkspaceIds.length?I2.J.rejectRequestForOrg(t):I2.J.updateRequestForWorkspaces({...e,declineNote:l}),s(e0.Lo()),c()},m=t?(0,e$.t)("extension_decline_modal.leave_widget_note"):(0,e$.t)("extension_decline_modal.leave_plugin_note");return ep.createElement(sn.XV,{title:o,maxWidth:360,onClose:c,disableClickOutsideToHide:!0},ep.createElement("div",{className:eT.cx.p16.$,"data-testid":"decline-extension-request-modal"},ep.createElement("div",{className:eT.cx.mb16.flex.itemsCenter.$},ep.createElement("img",{src:n??"",alt:"plugin icon",className:eT.cx.w24.h24.bRadius6.mr8.$}),ep.createElement(du.E,{fontWeight:"medium",truncate:!0},r)),ep.createElement("div",{className:eT.cx.mb16.$},ep.createElement(du.E,null,m)),ep.createElement("div",{className:eT.cx.mb16.$},ep.createElement("textarea",{className:eT.cx.wFull.borderBox.b1.h64.bRadius2.p8.resizeNone.colorBorder.$,value:l,onChange:e=>{i(e.target.value)}})),ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},ep.createElement(dD.$,{variant:"secondary",onClick:c},(0,e$.t)("general.cancel")),ep.createElement(dD.$,{variant:"primary",onClick:()=>d(a)},(0,e$.t)("resources_tab.approved_plugins.modal.decline")))))},"ExtensionDeclineModal"),I3=e=>{let t=new Map;for(let a of e){let{createdAt:e,orgUser:r,plugin:n}=a;if(!n||!r)continue;let{currentPluginVersion:l}=n;if(!l)continue;let i=n.id,{name:s,iconUrl:o,description:c,tagline:d}=l,{user:m}=r;if(!m.name||!m.email)continue;let u={userId:m.id,name:m.name,email:m.email,imgUrl:m.imgUrl},_={extensionId:n.id,name:s,iconUrl:o,description:c,tagline:d,lastRequestedDates:[e],requesters:[u],isAllowed:a.workspaceAllowlistedPlugins.length>0,numAllowedWorkspaces:a.workspaceAllowlistedPlugins.length},p=t.get(i);p?(p.lastRequestedDates.push(e),p.requesters.push(u)):t.set(i,_)}for(let e of t.values())e.lastRequestedDates.sort((e,t)=>t.getTime()-e.getTime());return t},I8=(e,t)=>e.filter(e=>{let{plugin:a}=e;return!!a&&("plugin"===t?!a.isWidget:a.isWidget)});var I5=((I=I5||{}).NAME="name",I.LAST_REQUESTED="last_requested",I);function I6({extensionType:e,updateSortState:t,sortState:a}){return ep.createElement(yF.Hj,{header:!0,useAdminTableStyles:!0,className:eS()(eT.cx.fontSemiBold.relative.flex.gap16.itemsBaseline.$,Iz),style:u1.sx.add({border:"none"}).px32.py16.$},ep.createElement(yF.A3,{style:u1.sx.add({width:"20%"}).$},ep.createElement(yF.tD,{hasArrow:"name"===a.column,field:"name",sortBy:()=>t("name"),isDescending:!a.isReversed},ep.createElement(du.E,{color:"default",i18nId:"plugin"===e?"resources_tab.approved_plugins.table.plugin_name_column":"resources_tab.approved_plugins.table.widget_name_column"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"40%"}).$},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.description_column"})),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyStart.$},ep.createElement(yF.tD,{hasArrow:"last_requested"===a.column,field:"last_requested",sortBy:()=>t("last_requested"),isDescending:!a.isReversed},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.last_requested_column"}))),ep.createElement(yF.A3,{style:u1.sx.add({width:"20%"}).justifyStart.$},ep.createElement(du.E,{color:"default",i18nId:"resources_tab.approved_plugins.table.requested_by_column"})),ep.createElement(yF.A3,{style:u1.sx.add({width:"10%"}).justifyStart.$},ep.createElement("span",null)," "))}function I9({lastRequestedDate:e}){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:u1.sx.add({width:"10%"}).$},ep.createElement(i7.h1,{date:e}))}function I7({requesters:e,onClick:t}){let a;if(1===e.length){let t=e[0];a=ep.createElement(ep.Fragment,null,ep.createElement(dm.H8,{size:dm.Pf.MEDIUM,user:t}),ep.createElement("div",{className:eT.cx.flex.flexColumn.ml8.$},ep.createElement(du.E,{color:"default",fontSize:11,fontWeight:"medium"},t.name),ep.createElement(du.E,{color:"secondary",fontSize:11},t.email)))}else{let r=e.map(e=>e.name).join("\n");a=ep.createElement("button",{onClick:t,style:u1.sx.add({backgroundColor:"inherit"}).$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r,"data-tooltip-text-left":!0},ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.members",i18nParams:{numberOfMembers:e.length},fontSize:11,color:"brand"}))}return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyStart.overflowHidden.$,style:u1.sx.add({width:"20%"}).$},ep.createElement("div",{className:eT.cx.flex.itemsCenter.$},a))}function Ae(){return ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyEnd.overflowHidden.$,style:u1.sx.add({width:"10%"}).$},ep.createElement(eI.$$,null,ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.review_button"})))}function At(e){let t=(0,eg.wA)(),{entry:a,orgId:r,extensionType:n,isAllowed:l,usageData:i,dataTestId:s}=e,{extensionId:o}=a,c=()=>{t((0,e0.to)({type:IA.WR,data:{mode:"review",extensionId:o,orgId:r,usageData:i,extensionType:n,isAllowed:l,openDeclineModal:d}}))},d=e=>{let l={extension:{pluginId:a.extensionId,iconUrl:a.iconUrl,name:a.name},isWidget:"widget"===n,orgId:r,workspaceDetails:void 0,declineModalParams:e};t((0,e0.to)({type:I4,data:l}))};return ep.createElement(yF.Hj,{className:eS()(eT.cx.flex.itemsCenter.gap16.relative.$,Iz),style:u1.sx.add({border:"none"}).px32.py12.$,useAdminTableStyles:!0,onClick:c,dataTestId:s},ep.createElement(IZ,{name:a.name,iconUrl:a.iconUrl,numWorkspaces:e.numAllowedWorkspaces}),ep.createElement(IQ,{description:a.description,tagline:a.tagline}),ep.createElement(I9,{lastRequestedDate:a.lastRequestedDates[0]}),ep.createElement(I7,{requesters:a.requesters,onClick:c}),ep.createElement(Ae,null))}function Aa(e){let{orgId:t,extensionToUsageData:a,extensionType:r}=e,[n,l]=ep.useState({column:"last_requested",isReversed:!0}),i=ep.useMemo(()=>({name:e=>e[1].name??"",last_requested:e=>e[1].lastRequestedDates[0].getTime()}),[]),s=(0,t5.Rs)(ai.QZ8,{orgId:t});if("loading"===s.status||"disabled"===s.status)return null;if("errors"===s.status)return(0,lL.$D)(s6.e.EXTENSIBILITY,Error("Failed to load plugin requests")),null;let o=(0,t5.oA)(s.data.org);if(!o)return null;let{pendingPluginRequests:c}=o;if(!c||0===c.length)return null;let d=I3(I8(c,r));if(0===d.size)return null;let m=Array.from(d.entries());return(0,tl.Tz)(m,i[n.column],n.isReversed,n.secondaryColumn&&(null==i?void 0:i[n.secondaryColumn]),n.isSecondaryReversed),ep.createElement("div",{className:eT.cx.pb32.$},ep.createElement("div",{className:eT.cx.pl32.$},ep.createElement(du.E,{i18nId:"resources_tab.approved_plugins.table.requested_header",fontSize:13,fontWeight:"medium"})),ep.createElement(I6,{extensionType:r,updateSortState:e=>{n.column===e?l(e=>({...e,isReversed:!e.isReversed})):l(t=>({column:e,isReversed:!1,secondaryColumn:t.column,isSecondaryReversed:t.isReversed}))},sortState:n}),ep.createElement("div",{className:eT.cx.flex.flexColumn.$,"data-testid":"extension-request-table"},m.map(([e,n],l)=>ep.createElement(At,{extensionType:r,orgId:t,entry:n,key:e,isAllowed:n.isAllowed,numAllowedWorkspaces:n.numAllowedWorkspaces,usageData:null==a?void 0:a[e],dataTestId:`extension-request-table-row-${l}`}))))}function Ar({orgId:e,extensionType:t,selectedExtensionId:a}){var r;let n=(0,eg.wA)(),l=(0,mV.sZ)(),i=(null==l?void 0:l.bigma_enabled)??!1,s=(0,t5.Rs)(ai.M9I,{orgId:e}),[o]=(0,nk.IT)(Ai(e),{enabled:i}),c=null==(r=s.data)?void 0:r.org,d=()=>{"plugin"===t?n((0,e0.to)({type:IP,data:{currentUserOrgId:e}})):n((0,e0.to)({type:IB,data:{currentUserOrgId:e}}))},m=()=>{n((0,e0.to)({type:I$,data:{orgId:e,extensionType:t}}))};if("loading"===s.status||"errors"===s.status||!c)return null;let u=Al(t,c);return ep.createElement(ep.Fragment,null,ep.createElement(bZ.K,{hasHorizontalPadding:!0,title:bA(En.J7.RESOURCES,An[t]),rightActions:ep.createElement("div",{className:eT.cx.flex.flexRow.gap8.$},ep.createElement(dD.$,{icon:"plus-32",disabled:!u,onClick:d},"plugin"===t&&ep.createElement(e$.Tx,{id:"resources_tab.approved_plugins.actions.plugin"}),"widget"===t&&ep.createElement(e$.Tx,{id:"resources_tab.approved_widgets.actions.widget"})),ep.createElement(dD.$,{icon:"adjust-32",onClick:m},ep.createElement(e$.Tx,{id:"resources_tab.approved_plugins.actions.settings"})))}),ep.createElement(ac.P,{className:eT.cx.wFull.hFull.$},!u&&ep.createElement("div",{className:eT.cx.ml32.mr32.mb24.$},ep.createElement(II,{extensionType:t,onGoToSettings:m,settingsText:(0,e$.t)("resources_tab.approved_plugins.plugin_approval_banner.open_settings")})),ep.createElement("div",{className:eT.cx.if(!u,eT.cx.opacity0_3.eventsNone).$},ep.createElement(Aa,{orgId:e,extensionToUsageData:o.data,extensionType:t}),ep.createElement(IK,{allowlistedExtensions:c.allowlistedPlugins,extensionToUsageData:o.data,orgId:e,extensionType:t,onAddExtension:d,selectedExtensionId:a}))))}let An={plugin:En._d.APPROVED_PLUGINS,widget:En._d.APPROVED_WIDGETS},Al=(e,t)=>"plugin"===e?!!(t.publicPluginsAllowed&&t.pluginsWhitelistEnforced):!!(t.publicPluginsAllowed&&t.widgetsWhitelistEnforced),Ai=nk.M4.Query({fetch:async e=>await Ik.getExtensionAnalyticsForOrg(e)});function As(e,t,a=!0){let r=new URLSearchParams(ef.Ay.location.search);if("true"===r.get(e)){if(a){r.delete(e);let t=r.toString().length>0?`?${r.toString()}`:"";ef.Ay.replace(`${ef.Ay.location.pathname}${t}`)}t()}}var Ao=a(337967),Ac=((A=Ac||{}).DAILY="daily",A.WEEKLY="weekly",A.MONTHLY="monthly",A),Ad=((L=Ad||{}).ALL_ADMINS="all_admins",L.SPECIFIC_ADMINS="specific_admins",L),Am=((R=Am||{}).TEAM="team",R.ORGANIZATION="organization",R),Au=((O=Au||{}).NEW_EDITOR_NOTIFICATION="new_editor_notification",O),A_=((F=A_||{}).VIEWER="viewer",F.VIEWER_RESTRICTED="viewer_restricted",F.FULL="full",F);let Ap=new class{constructor(){this.NotificationSettingsSchemaValidator=(0,rI.vh)(),this.PlanPropertiesSchemaValidator=(0,rI.vh)()}getNotificationSettings(e){return this.NotificationSettingsSchemaValidator.validate(async({xr:t})=>await t.get("/api/billing/notification_settings",rI.td.toAPIParameters({plan_id:e.planId,plan_type:e.planType,notification_type:e.notificationType}))??null)}getPlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/billing/${e.planType}/${e.planId}/plan_properties`,rI.td.toAPIParameters({desired_properties:["default_paid_status_design","default_paid_status_whiteboard"].toString()}))??null)}updatePlanProperties(e){return this.PlanPropertiesSchemaValidator.validate(async({xr:t})=>await t.put(`/api/billing/${e.planType}/${e.planId}/plan_properties`,e.properties)??null)}};var Ag=a(847624);let AE="settings_section--setting--lXEqH";var Af=a(598344);function Ah(e){return e.nullForEmptySettings&&0===e.settings.length?null:ep.createElement("div",{className:e.sectionClass?e.sectionClass:"settings_section--section--PRUcC",key:e.title},ep.createElement("div",{className:e.headerClass?e.headerClass:"settings_section--sectionTitle--nX1-P text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.icon&&ep.createElement(eL.B,{className:"settings_section--icon--ptsWc",svg:e.icon}),ep.createElement("p",null," ",e.title," ")),ep.createElement("div",{className:"settings_section--sectionItems--S6WLl"},e.description,e.settings.map((t,a)=>ep.createElement(ep.Fragment,{key:t.props.label+"-"+a},t,a<e.settings.length-1&&ep.createElement("div",{className:"settings_section--settingDivider--DQ6A1"})))))}function Av(e){return ep.createElement("div",{className:"settings_section--settingLabel--t6sSP"},ep.createElement("div",null,e.label),ep.createElement("div",{className:e.descriptionClassName||"settings_section--description--PU14T"},e.description))}function Ab(e){return ep.createElement(eH.jm,{className:"settings_section--actionSetting--zAm6q settings_section--setting--lXEqH",innerText:e.label,onClick:e.onClick,"data-testid":e.testId},ep.createElement(Av,{label:e.label,description:e.description}),ep.createElement("div",{className:"settings_section--action--2MtxM"},ep.createElement("div",null,e.currentValue),ep.createElement(eL.B,{className:"settings_section--caret--7vLfy",svg:Af.A})))}function Ay(e){return ep.createElement("div",{className:"settings_section--readonlySetting--tSU-O settings_section--setting--lXEqH"},ep.createElement(Av,{label:e.label,description:e.description}))}function Aw(e){return ep.createElement("div",{className:AE},ep.createElement(Av,{label:e.label,description:e.description}),ep.createElement("div",{className:"settings_section--contactSupport--wPR0L","data-tooltip":e.contactSupportTooltipCopy??"admin-support@figma.com","data-tooltip-type":tM.Ib.TEXT,"data-tooltip-show-above":!0},ep.createElement(eI.Ph,{trackingEventName:e.label,onClick:()=>{(0,Ag.ny)({name:e.user.name,email:e.user.email},{ticketForms:["account"],fields:[{id:"subject",value:e.label},{id:9792804686487,value:e.tag||""}],suppressAnswerBot:!0})},trusted:!0},e.contactSupportCopy??ep.createElement(e$.Tx,{id:"settings_tab.contact_support"}))))}function AT(e){return ep.createElement("div",{className:AE,"data-testid":e.testId},ep.createElement(Av,{label:e.label,description:e.description,descriptionClassName:e.descriptionClassName}),ep.createElement(Cs.l,{on:e.isActive,onChange:e.onToggle}))}var Ax=a(510240);let AC="configure_saml--container--Se3OF",AN="configure_saml--section--EbepM",Ak="configure_saml--h2--8LWL8",AS="configure_saml--idpMetadataUrlInput--iBzLx",AI="configure_saml--idpMetadata--3erxd";function AA(){return[{value:"okta",text:(0,e$.t)("org_settings.sso.okta"),placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:(0,e$.t)("org_settings.sso.microsoft_azure_active_directory"),placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"},{value:"onelogin",text:(0,e$.t)("org_settings.sso.one_login"),placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"},{value:"other",text:(0,e$.t)("org_settings.sso.other"),placeholder:""}]}class AL extends ep.PureComponent{constructor(e){super(e),this.onIdpNameChange=e=>{this.setState({idp_name:e})},this.onIdpMetadataUrlChange=e=>{this.setState({idp_metadata_url:e.currentTarget.value})},this.onIdpSSOEntityIDChange=e=>{this.setState({idp_entity_id:e.currentTarget.value})},this.onIdpSSOTargetURLChange=e=>{this.setState({idp_sso_target_url:e.currentTarget.value})},this.onCertificateChange=e=>{let t=e.target.files?e.target.files[0]:null;this.setState({certificate:t})},this.onCancel=()=>{this.props.dispatch(e0.Ce())},this.onConfirm=()=>{this.props.dispatch(e0.to({type:AO,data:{certificate:this.state.certificate,idp_entity_id:this.state.idp_entity_id,idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url,idp_sso_target_url:this.state.idp_sso_target_url}}))},this.onKeyDown=e=>{e.keyCode===ou.Uz.ENTER&&(e.preventDefault(),this.onConfirm())},this.state={certificate:null,idp_entity_id:"",idp_metadata_url:e.idp_metadata_url||"",idp_name:e.idp_name||null,idp_sso_target_url:""}}render(){let e;e="other"===this.state.idp_name?!this.state.idp_sso_target_url||!this.state.certificate||!this.state.idp_entity_id:!this.state.idp_metadata_url;let t=(AA().find(e=>e.value===this.state.idp_name)||AA()[0]).placeholder;return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:this.onCancel,fixedTop:!0},ep.createElement("div",{className:AC},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_settings.sso.saml_single_sign_on",helpArticle:ep.createElement("a",{className:"configure_saml--blueLink--etCgc blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040532333",target:"_blank",rel:"noopener"},ep.createElement(e$.Tx,{id:"org_settings.sso.help_article"}))})),ep.createElement("div",null,ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.identity_provider_id_p"})),ep.createElement(cO.z,{className:"configure_saml--radioGroup--BSmP7",value:this.state.idp_name,onChange:this.onIdpNameChange},AA().map(e=>ep.createElement(cO.Z,{key:e.value,value:e.value},e.text)))),ep.createElement("div",{className:AN},"other"===this.state.idp_name&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.idp_entity_id"})),ep.createElement(eI.ks,{type:"url",className:AS,placeholder:"https://idp.com/saml/metadata/abc123",onChange:this.onIdpSSOEntityIDChange,value:this.state.idp_entity_id,onKeyDown:this.onKeyDown}),ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.idp_sso_target_url"})),ep.createElement(eI.ks,{type:"url",className:AS,placeholder:"https://sso.idp.com/abc123/saml2",onChange:this.onIdpSSOTargetURLChange,value:this.state.idp_sso_target_url,onKeyDown:this.onKeyDown}),ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.signing_certificate"})),ep.createElement("input",{type:"file",onChange:this.onCertificateChange})),this.state.idp_name&&"other"!==this.state.idp_name&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.id_p_metadata_url"})),ep.createElement(eI.ks,{type:"url",className:AS,placeholder:`Eg: ${t}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown}))),this.props.error&&ep.createElement("div",{className:AN},ep.createElement("div",{className:"configure_saml--error--rcm0V"},this.props.error)),ep.createElement("div",{className:"configure_saml--buttonBox--d-Qhf"},ep.createElement(eI.nR,{onClick:()=>this.props.dispatch(e0.Lo())},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.$$,{disabled:e,onClick:this.onConfirm},ep.createElement(e$.Tx,{id:"org_settings.sso.review"})))))}}AL.displayName="ConfigureSAMLModal";let AR=(0,am.Ju)(AL,"EDIT_SAML_CONFIG_MODAL"),AO="CONFIGURE_SAML_CONFIRMATION_MODAL";function AF(e){let[t,a]=ep.useState(!1),r=()=>{e.dispatch(e0.Ce())},n=t=>{ae.Ay.post("/api/org_saml_config",{certificate:t,idp_entity_id:e.idp_entity_id,idp_name:e.idp_name,metadata_url:e.idp_metadata_url,org_id:e.currentUserOrgId,sso_target_url:e.idp_sso_target_url}).then(t=>{a(!1),e.dispatch(xL.h({orgSamlConfig:t.data.meta})),r()}).catch(t=>{var r;a(!1),e.dispatch((0,e0.to)({type:AR,data:{dispatch:e.dispatch,idp_name:e.idp_name,idp_metadata_url:e.idp_metadata_url,error:(null==(r=t.data)?void 0:r.message)||(0,e$.t)("org_settings.sso.an_error_occurred_while_configuring_saml_sso")}}))})},l=AA().reduce((e,t)=>(e[t.value]=t.text,e),{});return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.sso.configure_saml_sso"),maxWidth:459,onClose:r,disableClickOutsideToHide:t,isCloseHidden:t},ep.createElement("div",{className:AC},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_settings.sso.please_review_the_information_you_entered"})),ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.identity_provider_id_p"})),ep.createElement("div",{className:AI},l[e.idp_name]),ep.createElement("div",{className:"configure_saml--lastSection--2hcks"},"other"===e.idp_name&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.idp_entity_id"})),ep.createElement("div",{className:AI},e.idp_entity_id),ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.idp_sso_url"})),ep.createElement("div",{className:AI},e.idp_sso_target_url),ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.signing_certificate"})),ep.createElement("div",{className:AI},e.certificate.name)),"other"!==e.idp_name&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Ak},ep.createElement(e$.Tx,{id:"org_settings.sso.id_p_metadata_url"})),ep.createElement("div",{className:AI},e.idp_metadata_url)))),t&&ep.createElement("div",{className:"configure_saml--spinnerContainer--1ZwP3"},ep.createElement(e8.kt,null)),!t&&ep.createElement(bc.d,{onConfirm:()=>{if(a(!0),"other"===e.idp_name){let t=new FileReader;t.addEventListener("load",()=>{n(t.result)}),t.readAsText(e.certificate)}else n(null)},onCancel:()=>{e.dispatch(e0.Lo()),e.dispatch(e0.Lo()),e.dispatch((0,e0.to)({type:AR,data:{dispatch:e.dispatch,idp_name:e.idp_name,idp_metadata_url:e.idp_metadata_url}}))},confirmButtonText:(0,e$.t)("org_settings.sso.configure_saml_sso"),cancelButtonText:(0,e$.t)("org_settings.sso.edit")},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_settings.sso.this_information_is_correct"}))))}(0,am.qK)(AO,e=>ep.createElement(AF,{dispatch:e.dispatch,currentUserOrgId:e.currentUserOrgId,...e.modalShown.data}));let AM="configure_sso--sectionInstruction--BJqP9",AD="configure_sso--important--qIpJg modal--important--qfd6R",AP="configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",AB="configure_sso--table--Cp6vD",AU="configure_sso--modalContent--glIRT",AW="configure_sso--modalDone--YLR5E";function AV(e){let t=(0,eg.wA)(),a=ep.useCallback(()=>{t((0,e0.to)({type:AR,data:{dispatch:t}}))},[t]),r=ep.useCallback((e,a)=>{(0,Ax.Dk)(e).then(()=>{t(t6.F.enqueue({type:a,message:(0,e$.t)("org_settings.sso.copied")}))})},[t]),n=ep.useCallback(()=>{let t=e.orgDomains.map(e=>e.domain);return ep.createElement("p",{className:AM},ep.createElement(e$.Tx,{id:"org_settings.sso.domain_requirement",domains:ep.createElement(bX.T,{formatType:"disjunction"},t.map(e=>ep.createElement("span",{key:e,className:AD},e))),contactSupport:ep.createElement("a",{className:AP,href:"mailto:support@figma.com"},ep.createElement(e$.Tx,{id:"org_settings.sso.contact_support"}))}))},[e.orgDomains]),l=ep.useCallback(()=>{let t=e.orgSamlConfig,a=document.queryCommandSupported("copy")&&t&&ep.createElement("a",{className:"configure_sso--copyTenantId--DbECD configure_sso--blueLink--yQaB8 blue_link--blueLink--9rlnd",onClick:()=>r(t.id,"saml_tenant_id_copied_to_clipboard")},ep.createElement(e$.Tx,{id:"org_settings.sso.copy"})),n=[{rowName:(0,e$.t)("org_settings.sso.tenant_id"),value:t.id,action:a},{rowName:(0,e$.t)("org_settings.sso.sp_entity_id"),value:t.sp_entity_id},{rowName:(0,e$.t)("org_settings.sso.sp_acs_url"),value:t.sp_acs_target_url}];return ep.createElement("table",{className:AB},ep.createElement("tbody",null,n.map(e=>ep.createElement("tr",{key:`row-${e.rowName}`},ep.createElement("th",null,e.rowName),ep.createElement("td",null,e.value||"Not configured",e.action)))))},[r,e.orgSamlConfig]),i=!!e.orgSamlConfig.idp_name,s=ep.useCallback(()=>{let t=(0,dN._g)(e.org)===mH.Ct.SAML;return ep.createElement(eI.$$,{className:"configure_sso--configureButton--AnOM7",disabled:t,onClick:a},i?"Edit configuration":"Configure SAML")},[i,a,e.org]),o=ep.useCallback(()=>{let t={okta:(0,e$.t)("org_settings.sso.okta"),azure:(0,e$.t)("org_settings.sso.azure"),onelogin:(0,e$.t)("org_settings.sso.one_login"),other:(0,e$.t)("org_settings.sso.other")},a=(0,e$.t)("org_settings.sso.not_configured"),r=e.orgSamlConfig.idp_name,n=[{rowName:(0,e$.t)("org_settings.sso.idp"),value:r&&t[r]||r},{rowName:(0,e$.t)("org_settings.sso.idp_entity_id"),value:e.orgSamlConfig.idp_entity_id},{rowName:(0,e$.t)("org_settings.sso.idp_sso_url"),value:e.orgSamlConfig.idp_sso_target_url}];return ep.createElement("div",null,ep.createElement("p",{className:"configure_sso--sectionInstructionMarginTop--z91SA configure_sso--sectionInstruction--BJqP9"},ep.createElement(e$.Tx,{id:"org_settings.sso.your_configuration_details"})),ep.createElement("table",{className:AB},ep.createElement("tbody",null,n.map(e=>ep.createElement("tr",{key:`row-${e.rowName}`},ep.createElement("th",null,e.rowName),ep.createElement("td",null,e.value||a,e.action))))))},[e.orgSamlConfig.idp_entity_id,e.orgSamlConfig.idp_name,e.orgSamlConfig.idp_sso_target_url]);return ep.createElement(ep.Fragment,null,ep.createElement("p",{className:AM},ep.createElement(e$.Tx,{id:"org_settings.sso.saml_sso_description",helpArticle:ep.createElement("a",{className:AP,href:"https://help.figma.com/hc/articles/360040532333",target:"_blank"},ep.createElement(e$.Tx,{id:"org_settings.sso.help_article"}))})),ep.createElement("div",null,n(),l(),o(),!e.hideEditButton&&s()))}let AG=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,eg.d4)(e=>e.orgSamlConfig),r=(0,eg.d4)(e=>e.orgDomains),n=!a.config||0==r.domains.length,l=()=>e(e0.Lo());return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.sso.saml_sso"),onClose:l,maxWidth:536,minWidth:536},ep.createElement("div",{className:AU},n&&ep.createElement(e8.kt,null),!n&&ep.createElement(ep.Fragment,null,ep.createElement(AV,{hideEditButton:!0,org:t,orgDomains:r.domains,orgSamlConfig:a.config}),ep.createElement("div",{className:AW},ep.createElement(eI.cw,{onClick:()=>{e((0,e0.to)({type:AR,data:{dispatch:e}}))}},ep.createElement(e$.Tx,{id:"org_settings.sso.edit_configuration"})),ep.createElement(eI.$$,{onClick:l},ep.createElement(e$.Tx,{id:"org_settings.sso.done"}))))))},"VIEW_SAML_CONFIG_MODAL");var A$=a(729074),Aj=a(854009),AH=a(507333),Aq=a(624048),Az=a(405822),AY=a(883261),AK=a(912086),AJ=a(580237),AZ=a(881434),AQ=a(584728),AX=a(100546),A0=a(205497),A1=a(855984),A2=a(606607),A4=a(876537),A3=a(527609),A8=a(894373);function A5({onClick:e,onChange:t,value:a,error:r,buttonText:n}){let l=(0,mV.sZ)(),i=(0,eg.wA)(),s=ep.createElement(eI.CY,{onClick:()=>{if(eE.eD)i(tL.$T({view:"org",orgId:(null==l?void 0:l.id)??"",orgViewTab:gv.X.PLUGINS})),i(e0.Ce());else{let e=`/files/${null==l?void 0:l.id}/plugins`;i(mB.V3({url:e}))}},trusted:!0},null==l?void 0:l.name),o=ep.createElement(eI.CY,{onClick:()=>{i(mB.V3({url:"/community/plugins/devmode"}))},trusted:!0},(0,e$.t)("community.community"));return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.flex.flexColumn.gap8.py8.$},ep.createElement(du.E,{i18nId:"settings_tab.paste_plugin_link",i18nParams:{orgLink:s,communityLink:o}}),ep.createElement("div",{className:eT.cx.flex.$},ep.createElement(eI.ks,{className:eT.cx.flexGrow1.mr8.$,onChange:t,value:a,placeholder:(0,ry.Nz)(),recordingKey:"devRelatedLinkUrlInput"}),ep.createElement(dD.$,{onClick:e},n))),r&&ep.createElement("div",{className:eT.cx.colorTextDanger.$},r))}function A6(){return ep.createElement("div",{className:eT.cx.colorBorder.bSolid.bt1.$})}var A9=a(244510);let A7=(0,li.eU)(!1),Le=(0,li.eU)(!1),Lt=(0,li.eU)(!1),La=(0,li.eU)(""),Lr=(0,li.eU)(null),Ln=(0,li.eU)(null),Ll=(0,li.eU)(""),Li=(0,li.eU)(null);var Ls=((M=Ls||{}).AUTO_RUN="auto-run",M.PINNED_PLUGINS="pinned-plugins",M.CODEGEN="codegen",M);async function Lo(e,t,a){var r,n;let l;let i=(0,ry.Yp)(e),s={errorMessage:(0,e$.t)("settings_tab.pinned_plugins_invalid_url")};if(null==i)return s;try{l=await (0,vf.Ek)(ai.k_1,{pluginId:i,orgId:t.id})}catch(e){return s}if("loaded"!==l.status||!(null==(r=l.data)?void 0:r.plugin))return s;let o=(0,AJ.mf)(null==(n=l.data)?void 0:n.plugin,t.id,null,null);return o?t.plugins_whitelist_enforced&&!a[o.plugin_id]&&o.org_id!==t.id?{errorMessage:(0,e$.t)("settings_tab.invalid_url_allowlist")}:o&&!(0,tF.M5)(o)?s:{pluginId:i,plugin:o}:s}function Lc({text:e}){return ep.createElement("div",{className:eT.cx.mx8.$},ep.createElement(du.E,{color:"default"},e))}function Ld({preferences:e}){return ep.createElement(A$._.Group,{axis:"y",onReorder:t=>{e.updatePrefs(t)},values:e.pinnedPlugins,role:"button",tabIndex:0,translate:"no"},e.pinnedPlugins.map(t=>ep.createElement(A$._.Item,{value:t,id:t.plugin_id,key:t.plugin_id,translate:"no"},ep.createElement("div",{className:eT.cx.justifyBetween.flex.h32.alignCenter.$},ep.createElement("div",{className:eT.cx.flex.itemsCenter.$},ep.createElement(sx.V,{className:eT.cx.w16.h16.br2.$,plugin:t}),ep.createElement("div",{className:eT.cx.h32.flex.itemsCenter.mx4.alignLeft.$},t.name)),ep.createElement("div",{className:eT.cx.justifyEnd.$},ep.createElement(dD.$,{icon:"minus-32",onClick:()=>{e.unpinPlugin(t.plugin_id)},onMouseDown:dC.dG,recordingKey:"overflow_pins","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("settings_tab.pinned_plugins_remove"),variant:"text",dataTestId:"remove-pinned-plugin-button"}))))))}function Lm(e){let t=(0,mV.sZ)()||null;return ep.createElement("div",{className:eT.cx.flex.justifyBetween.py8.$},ep.createElement("div",null,ep.createElement("div",{className:eT.cx.mb4.$},ep.createElement(du.E,{fontWeight:"bold"},e.label)),ep.createElement(du.E,null,e.description)),ep.createElement(Cs.l,{on:e.isActive,onChange:a=>{e.onToggle(a),(0,tn.sx)("Dev Mode Setting Toggled",{orgId:(null==t?void 0:t.id)??"",setting:e.sectionName,value:a?"on":"off"})},disabled:!(0,dN.kA)(t)&&!e.isActive,dataTestId:`dev-mode-setting-toggle-${e.label.split(" ").map(e=>e.toLowerCase()).join("-")}`}))}function Lu({preferences:e}){let t=(0,mV.sZ)()||null,a=(0,eg.d4)(e=>e.whitelistedPlugins),[r,n]=ep.useState(!1),[l,i]=(0,tY.fp)(A7),[s,o]=(0,tY.fp)(Ll),[c,d]=(0,tY.fp)(Li),m=(0,eh.kc)().dev_mode_org_pinned_plugins_ent&&(0,dN.kA)(t)||!(0,eh.kc)().dev_mode_org_pinned_plugins_ent,u=()=>{n(!r)},_=e=>{o(e.target.value)},p=async()=>{if(!t)return;let r=await Lo(s,t,a);"plugin"in r?r.plugin?(0,tF._V)(r.plugin)?d((0,e$.t)("settings_tab.pinned_plugins_invalid_url_codegen")):"pluginId"in r&&(e.pinPlugin(r.pluginId),d(null),o(""),u()):d((0,e$.t)("settings_tab.pinned_plugins_invalid_url")):"errorMessage"in r&&d(r.errorMessage)};return ep.createElement("div",{className:eT.cx.m16.$,"data-testid":"dev-mode-settings-modal-pinned-plugins"},(0,eh.kc)().dev_mode_org_pinned_plugins_ent?ep.createElement("div",{className:eT.cx.mb8.$},ep.createElement("div",{className:eT.cx.if(!(0,dN.kA)(t)&&!l,eT.cx.opacity0_5).$},ep.createElement(Lm,{label:(0,e$.t)("settings_tab.pinned_plugins_label"),description:(0,e$.t)("settings_tab.pinned_plugins_description"),isActive:l,sectionName:"pinned-plugins",onToggle:()=>{i(!l)}})),!(0,dN.kA)(t)&&e&&e.pinnedPlugins.length>0&&ep.createElement(L_,null)):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.mb4.$},ep.createElement(du.E,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_label"})),ep.createElement("div",null,ep.createElement(du.E,{i18nId:"settings_tab.pinned_plugins_description"}))),l&&!e.loaded?ep.createElement(e8.kt,{className:eT.cx.pt8.flex.alignCenter.justifyCenter.$}):(0,eh.kc)().dev_mode_org_pinned_plugins_ent?l&&ep.createElement(ep.Fragment,null,ep.createElement(Ld,{preferences:e}),ep.createElement("div",{className:eT.cx.flex.bSolid.b1.bRadius3.colorBorder.h40.my16.$},ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},ep.createElement("div",{className:eT.cx.flex.$},ep.createElement("div",{className:eT.cx.flex.mx8.$},ep.createElement(du.E,{i18nId:"settings_tab.pinned_plugins_inspect",color:"secondary",fontWeight:"medium"})),ep.createElement("div",{className:eT.cx.flex.mx8.$},ep.createElement(du.E,{i18nId:"settings_tab.pinned_plugins_plugins",color:"secondary",fontWeight:"medium"}))),ep.createElement("div",{className:eT.cx.flex.itemsCenter.$},m&&ep.createElement("div",{className:eT.cx.mr1.$},ep.createElement(dD.$,{icon:"plus-32",variant:r?"primary":"text",onClick:u,ariaLabel:(0,e$.t)("settings_tab.pinned_plugins_add_label")})),e.pinnedPlugins.length>0&&ep.createElement(A2.pG,{...e})))),r&&ep.createElement(A5,{value:s,onClick:p,onChange:_,error:c,buttonText:(0,e$.t)("settings_tab.pinned_plugins_add")})):ep.createElement(ep.Fragment,null,m&&ep.createElement("div",{className:eT.cx.flex.py12.$},ep.createElement(eI.ks,{className:eT.cx.flexGrow1.mr8.$,onChange:_,value:s,placeholder:(0,ry.Nz)(),recordingKey:"devRelatedLinkUrlInput"}),ep.createElement(dD.$,{onClick:p},ep.createElement(e$.Tx,{id:"settings_tab.pinned_plugins_add"}))),c&&ep.createElement("div",{className:eT.cx.colorTextDanger.$},c),ep.createElement(Ld,{preferences:e}),ep.createElement("div",{className:eT.cx.flex.bSolid.b1.bRadius3.colorBorder.h32.my12.$},ep.createElement("div",{className:eT.cx.flex.itemsCenter.justifyBetween.wFull.px8.$},ep.createElement("div",{className:eT.cx.flex.mx8.$},ep.createElement(du.E,{fontWeight:"bold",i18nId:"settings_tab.pinned_plugins_inspect"})),ep.createElement("div",{className:eT.cx.flex.mx8.$},ep.createElement(du.E,{i18nId:"settings_tab.pinned_plugins_plugins",fontWeight:"regular"})),ep.createElement("div",{className:eT.cx.flexGrow1.$},e.pinnedPlugins.length>0&&ep.createElement(A2.pG,{...e}))))))}function L_(){return ep.createElement(IS.z,{variant:"warning",orientation:"vertical",iconSrc:A9.A},ep.createElement(e$.Tx,{id:"settings_tab.pinned_plugins_downgrade_warning",noteLabel:ep.createElement(du.E,{fontWeight:"semi-bold",i18nId:"settings_tab.pinned_plugins_dowgrade_warning.note"})}))}function Lp({onCodeLanguageChange:e,addCodegenPluginCallback:t,currentSavedCodeLanguage:a}){let r=(0,Aj.v4)(),n=(0,AH.V0)({codeLanguage:r,onChange:e,showAddInsteadOfBrowse:!0,addCodegenPluginCallback:t,currentSavedCodeLanguage:a});return ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-language-row"},ep.createElement(du.E,{i18nId:"settings_tab.codegen_language_dropdown_label",fontWeight:"medium"}),ep.createElement("div",{className:eT.cx.flex.justifyEnd.$},ep.createElement(AH.ls,{dropdownId:"ORG_ADMIN_SETTINGS_CODE_LANGUAGE_DROPDOWN",codeLanguageApi:n,parentElementId:"org-admin-codegen-settings"})))}function Lg({currentUnit:e,onCodeLanguageUnitChange:t}){return(0,AY.Em)()?ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-unit-row"},ep.createElement(du.E,{i18nId:"settings_tab.codegen_language_unit_dropdown_label",fontWeight:"medium"}),ep.createElement("div",{className:eT.cx.flex.justifyEnd.mr4.$},ep.createElement(Aq.gn,{currentUnit:e||AQ.tKW.PIXEL,onChangeUnit:t}))):null}function LE({codeExtensionPreferences:e,onCustomSettingsChange:t}){let a=(0,Aj.v4)(),r=(0,Aj.QN)(),n=(0,AY.Ke)({codeLanguage:a,plugin:r,codeExtensionPreferences:e,onChangePreferences:t});return 0===n.length?null:ep.createElement(ep.Fragment,null,n.map(e=>ep.createElement(Lf,{key:e.name,item:e})))}function Lf({item:e}){return ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.wFull.$,"data-testid":"org-admin-codegen-plugin-settings-row"},ep.createElement(du.E,{fontWeight:"medium"},e.displayText),ep.createElement("div",{className:eT.cx.flex.justifyEnd.$},ep.createElement(Aq.jp,{item:e})))}function Lh({preferences:e}){var t,a;let r=(0,mV.sZ)()||null,n=(0,eg.wA)(),[l,i]=(0,tY.fp)(Lt),[s,o]=ep.useState(null),[c,d]=ep.useState(!1),[m,u]=ep.useState(!1),[_,p]=ep.useState(""),[g,E]=ep.useState(void 0);ep.useEffect(()=>{(null==e?void 0:e.loaded)&&(null==e?void 0:e.localCodegenSettings)&&!c&&d(()=>{var t;return(null==(t=e.localCodegenSettings)?void 0:t.language.type)==="published-plugin"&&(E(e.localCodegenSettings.language),n((0,AK.gU)({storeInRecentsKey:A0.$A.Handoff,id:e.localCodegenSettings.language.id,version:void 0,currentUserId:void 0,skipPluginRun:!0}))),!0})},[null==e?void 0:e.loaded,null==e?void 0:e.localCodegenSettings,c,n]),ep.useEffect(()=>{n((0,AK.HQ)({storeInRecentsKey:A0.$A.Handoff}))},[n]);let f=(0,eg.d4)(e=>e.whitelistedPlugins);return ep.createElement("div",{className:eT.cx.m16.if(!(0,dN.kA)(r),eT.cx.opacity0_5).$,id:"org-admin-codegen-settings","data-testid":"org-admin-codegen-settings"},ep.createElement(Lm,{label:(0,e$.t)("settings_tab.codegen_language_label"),description:(0,e$.t)("settings_tab.codegen_language_description"),isActive:l,sectionName:"codegen",onToggle:()=>{i(!l)}}),l&&(0,dN.kA)(r)&&((null==e?void 0:e.loaded)?ep.createElement("div",{className:eT.cx.flexColumn.py8.$},ep.createElement(Lp,{onCodeLanguageChange:t=>{null==e||e.setCodegenSettingsLanguage(t),u(!1)},addCodegenPluginCallback:()=>{u(!0)},currentSavedCodeLanguage:g}),m&&ep.createElement(A5,{value:_,onClick:()=>{if(!r||!(0,dN.kA)(r)){o((0,e$.t)("settings_tab.plugin_not_enterprise_err"));return}Lo(_,r,f).then(t=>{if("pluginId"in t&&t.plugin){let a=t.plugin;if((0,tF.pk)(a)){o(null);let t=(0,Az.$n)(a);null==e||e.setCodegenSettingsLanguage(t),n((0,AK.gU)({storeInRecentsKey:A0.$A.Handoff,id:a.plugin_id,version:a.version,currentUserId:void 0,skipPluginRun:!0})),u(!1),p("");return}o((0,e$.t)("settings_tab.plugin_not_codegen_err"))}if("errorMessage"in t){o(t.errorMessage);return}o((0,e$.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{p(e.target.value)},error:s,buttonText:(0,e$.t)("settings_tab.dev_mode_setting_set")}),!m&&ep.createElement("div",null,ep.createElement(Lg,{currentUnit:null==(t=null==e?void 0:e.localCodegenSettings)?void 0:t.preferences.unit,onCodeLanguageUnitChange:t=>{null==e||e.setCodegenSettingsUnit(t)}}),ep.createElement(LE,{codeExtensionPreferences:(null==(a=null==e?void 0:e.localCodegenSettings)?void 0:a.preferences)??{},onCustomSettingsChange:(t,a,r)=>{null==e||e.setCodegenSettingsCustomSettings(t,r)}}))):ep.createElement(e8.kt,{className:eT.cx.m16.pt8.flex.alignCenter.justifyCenter.$})))}function Lv({plugin:e}){return e?ep.createElement("div",{className:eT.cx.flex.py8.itemsCenter.$},ep.createElement(sx.V,{className:eT.cx.w24.h24.br2.$,plugin:e}),ep.createElement("div",{className:eT.cx.mx8.$},ep.createElement(du.E,{fontWeight:"semi-bold"},e.name))):null}function Lb(){let e=(0,mV.sZ)()||null,t=(0,A1.JA)(),a=(0,eg.d4)(e=>e.whitelistedPlugins),[r,n]=(0,tY.fp)(Le),[l,i]=(0,tY.fp)(La),[s,o]=(0,tY.fp)(Lr),[c,d]=(0,tY.fp)(Ln),[m,u]=ep.useState(!1);return ep.useEffect(()=>{t.loaded&&!m&&(o(t.plugin),u(!0))},[t.loaded,t.plugin,o,m,u]),ep.createElement("div",{className:eT.cx.m16.if(!(0,dN.kA)(e),eT.cx.opacity0_5).$,"data-testid":"dev-mode-settings-modal-auto-run"},ep.createElement(Lm,{label:(0,e$.t)("settings_tab.auto_run_label"),description:(0,e$.t)("settings_tab.auto_run_description"),isActive:r,sectionName:"auto-run",onToggle:()=>{n(!r)}}),r&&(0,dN.kA)(e)&&ep.createElement("div",null,m?ep.createElement(ep.Fragment,null,s?ep.createElement(ep.Fragment,null,ep.createElement(Lv,{plugin:s}),ep.createElement("div",{className:eT.cx.py8.$},ep.createElement(eI.CY,{trusted:!0,onClick:()=>o(null)},ep.createElement(e$.Tx,{id:"settings_tab.auto_run_remove_plugin"})))):ep.createElement(A5,{value:l,onClick:()=>{if(!e||!(0,dN.kA)(e)){d((0,e$.t)("settings_tab.plugin_not_enterprise_err"));return}Lo(l,e,a).then(t=>{if("pluginId"in t&&t.plugin){if((0,A1.aY)(t.plugin)){d(null),o(t.plugin),i(""),(0,tn.sx)("Dev Mode Auto Run Plugin Set",{orgId:e.id,pluginId:t.plugin.plugin_id});return}d((0,e$.t)("settings_tab.plugin_not_autorun_err"));return}if("errorMessage"in t){d(t.errorMessage);return}d((0,e$.t)("settings_tab.plugin_invalid_err"))}).catch(e=>{console.error("Error:",e)})},onChange:e=>{i(e.target.value)},error:c,buttonText:(0,e$.t)("settings_tab.dev_mode_setting_set")})):ep.createElement(e8.kt,{className:eT.cx.pt8.flex.alignCenter.justifyCenter.$})))}let Ly=(0,am.Ju)(function(){let e=(0,mV.sZ)()||null,t=(0,eg.wA)(),a=(0,A4.IE)(),[r,n]=(0,tY.fp)(Le),[l,i]=(0,tY.fp)(A7),[s,o]=(0,tY.fp)(Lt),c=(0,Ca.Xr)(Ln),d=(0,Ca.Xr)(Li),m=(0,Ca.Xr)(La),u=(0,Ca.Xr)(Lr),_=(0,Ca.Xr)(Ll);ep.useEffect(()=>()=>{c(null),d(null),m(""),u(null),_("")},[m,c,u,_,d]);let p=(0,tY.md)(Lr),g=(0,t5.Rs)(ai.tgK,{targetOrgId:(null==e?void 0:e.id)??"",targetUserId:null});ep.useEffect(()=>{var e,t,a,r,l,s;"loaded"===g.status&&(i((null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.pinnedPluginsEnabled)||!1),n((null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.autoRunEnabled)||!1),o((null==(s=null==(l=g.data)?void 0:l.pluginPreferences)?void 0:s.codegenEnabled)||!1))},[g.status,g.data,i,n,o]);let E=(0,A4.IE)().serialize(),f=(0,A1.JA)(),h=ep.useMemo(()=>{var e,t,a,r,n,l;return{preferences:E,autoRunPlugin:f.plugin,autoRunEnabled:null==(t=null==(e=g.data)?void 0:e.pluginPreferences)?void 0:t.autoRunEnabled,codegenEnabled:null==(r=null==(a=g.data)?void 0:a.pluginPreferences)?void 0:r.codegenEnabled,pinnedPluginsEnabled:null==(l=null==(n=g.data)?void 0:n.pluginPreferences)?void 0:l.pinnedPluginsEnabled}},[g.data,f,E]),v=(0,gg.ol)(),b=(0,f1.iT)(),y=()=>{null==a||a.setCodegenSettings(null),t(e0.Lo())},w=async()=>{if(e){b("Dev Handoff Org Commit Plugin Changes",{});let n=null==a?void 0:a.serialize();!(0,dN.kA)(e)&&n&&(n.codegenSettings=null,n.removedInheritedPins=[]);try{await A3.s.updateOrgPreferences(e,{preferences:n,auto_run_plugin_id:p?p.plugin_id:null,auto_run_enabled:!!p&&r,codegen_enabled:s,pinned_plugins_enabled:a.pinnedPlugins.length>0&&l})}catch(e){t(t6.F.enqueue({message:"Failed to save dev mode preferences",error:!0}))}}t(e0.Lo())};return ep.createElement(sn.XV,{title:ep.createElement(Lc,{text:(0,e$.t)("settings_tab.dev_mode_label")}),onClose:y,fixedTop:!0},ep.createElement(Lu,{preferences:a}),(0,eh.kc)().dev_mode_default_codegen&&ep.createElement(A6,null),(0,eh.kc)().dev_mode_default_codegen&&ep.createElement(Lh,{preferences:a}),(0,eh.kc)().dev_mode_auto_run_plugin&&ep.createElement(A6,null),(0,eh.kc)().dev_mode_auto_run_plugin&&ep.createElement(Lb,null),!(0,dN.kA)(e)&&(0,eh.kc)().dev_mode_org_pinned_plugins_ent&&ep.createElement("div",{className:eT.cx.m16.$},ep.createElement(IS.z,{orientation:"vertical",iconSrc:sE.A,variant:"gray"},ep.createElement(du.E,{fontWeight:"bold"},ep.createElement(e$.Tx,{id:"settings_tab.customize_dev_mode"})),ep.createElement(du.E,null,ep.createElement(e$.Tx,{id:"settings_tab.upgrade_to_enterprise_plan_text"})),ep.createElement(eI.CY,{onClick:()=>{t((0,e0.to)({type:A8.DV,data:{team:v,resource:AX.Bi.DEV_MODE_ADMIN_SETTINGS,currentPlan:AZ.F.Plan.ORG,upsellPlan:AZ.F.Plan.ENTERPRISE}}))},trusted:!0},ep.createElement(du.E,{i18nId:"settings_tab.upgrade_to_enterprise_learn_more_link"})))),ep.createElement("div",{className:eT.cx.flex.flexRow.gap8.justifyEnd.m16.$},ep.createElement(dD.$,{onClick:y},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(dD.$,{variant:"primary",onClick:w,disabled:!(!(yc()(h.preferences,a.serialize())&&yc()(h.autoRunPlugin,p))||h.autoRunEnabled!==r||h.codegenEnabled!==s||h.pinnedPluginsEnabled!==l)},ep.createElement(e$.Tx,{id:"general.save"}))))},"DEV_MODE_MODAL"),Lw="default_paid_status--inputRow--5Uarh",LT="default_paid_status--inputLabel--gGP5B",Lx="default_paid_status--subText--ltbsS",LC=e=>{switch(e){case A_.FULL:return(0,e$.t)("general.editor.seat_rename");case A_.VIEWER:return(0,e$.t)("general.viewer");case A_.VIEWER_RESTRICTED:return(0,e$.t)("general.viewer_restricted")}},LN=nk.M4.Query({fetch:async e=>{var t;return(null==(t=(await Ap.getPlanProperties({planId:e.planId,planType:e.planType})).data)?void 0:t.meta)??null},output:({data:e})=>({default_paid_status_design:(null==e?void 0:e.default_paid_status_design)??A_.VIEWER,default_paid_status_whiteboard:(null==e?void 0:e.default_paid_status_whiteboard)??A_.VIEWER})}),Lk=nk.M4.Mutation(async(e,{query:t})=>{let{planId:a,planType:r,defaultPaidStatusDesign:n,defaultPaidStatusWhiteboard:l}=e;t.mutate(LN({planId:a,planType:r}),e=>{null!=e&&(e.default_paid_status_design=n,e.default_paid_status_whiteboard=l)}),await Ap.updatePlanProperties({planId:e.planId,planType:e.planType,properties:{default_paid_status_design:n,default_paid_status_whiteboard:l}})}),LS=(0,am.Ju)(function(e){let t=(0,eg.wA)(),{planId:a,planType:r}=e,[n,l]=(0,nk.IT)(LN({planId:a,planType:r}));(0,ep.useEffect)(()=>{n.data&&(s(n.data.default_paid_status_design),c(n.data.default_paid_status_whiteboard))},[n]);let[i,s]=(0,ep.useState)(A_.VIEWER),[o,c]=(0,ep.useState)(A_.VIEWER),[d,m]=(0,ep.useState)(!1),u=(0,nk.n_)(Lk),_=(0,eg.d4)(({dropdownShown:e})=>e),p=(e,a)=>{let r=[{displayText:LC(A_.VIEWER_RESTRICTED),subText:(0,e$.t)("default_paid_status_modal_v2.viewer_restricted_subtext.seat_rename"),subTextClassname:Lx,isChecked:e===A_.VIEWER_RESTRICTED,optionHeight:40,callback:()=>a(A_.VIEWER_RESTRICTED)},{displayText:LC(A_.VIEWER),subText:(0,e$.t)("default_paid_status_modal_v2.viewer_subtext.seat_rename"),subTextClassname:Lx,isChecked:e===A_.VIEWER,optionHeight:40,callback:()=>a(A_.VIEWER)},{displayText:LC(A_.FULL),displayTextClassname:"default_paid_status--displayText--Hf1lS",subText:(0,e$.t)("default_paid_status_modal_v2.editor_subtext.seat_rename"),subTextClassname:Lx,isChecked:e===A_.FULL,optionHeight:40,callback:()=>a(A_.FULL),displayTextBadge:ep.createElement(dd.Ex,{className:"default_paid_status--badge--r6VCf",text:(0,e$.t)("default_paid_status_modal_v2.paid"),color:dd.zE.BRAND,size:dd.vj.LARGE})}],n=_.data.targetRect,l=8;switch(e){case A_.VIEWER:l+=48;break;case A_.FULL:l+=96}let i={bottom:n.bottom,height:n.height,left:n.left,right:n.right,top:n.top-l,width:n.width};return ep.createElement(ep.Fragment,null,ep.createElement(rw.j,{minWidth:310,lean:"right",showPoint:!1,items:r,displayOverTarget:!0,onSelectItem:e=>{e.callback("",null,t)},parentRect:i,dispatch:t}))},g="DESIGN_DEFAULT_PAID_STATUS_DROPDOWN",E=(null==_?void 0:_.type)===g,f="WHITEBOARD_DEFAULT_PAID_STATUS_DROPDOWN",h=(null==_?void 0:_.type)===f;return ep.createElement(eH.fu,{name:"Default License Type Setting Modal"},ep.createElement(sn.XV,{title:(0,e$.t)("default_paid_status_modal_v2.manage_default_roles.seat_rename"),onClose:()=>t(e0.Ce()),maxWidth:310,minWidth:310},"loaded"!==n.status?ep.createElement(e8.kt,{className:"default_paid_status--loading_spinner--QKHjF"}):ep.createElement("div",{className:"default_paid_status--modalContainer--PEJw8 modal--container--LVq8G"},ep.createElement("span",{className:"default_paid_status--textContainer--WVFxT"},ep.createElement(e$.Tx,{id:"default_paid_status_modal_v2.description.seat_rename",plan_type:r===Am.ORGANIZATION?(0,e$.t)("default_paid_status_modal_v2.organization"):(0,e$.t)("default_paid_status_modal_v2.team")})),ep.createElement("label",{className:Lw},ep.createElement("span",{className:LT},ep.createElement(e$.Tx,{id:"default_paid_status_modal.figma_design"})),ep.createElement(wT.Ve,{showingDropdown:E,type:g,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},LC(i),E&&p(i,s))),ep.createElement("label",{className:Lw},ep.createElement("span",{className:LT},ep.createElement(e$.Tx,{id:"default_paid_status_modal.figjam"})),ep.createElement(wT.Ve,{showingDropdown:h,type:f,isMultilevelDropdown:!0,dispatch:t,isDisabled:d},LC(o),h&&p(o,c))),ep.createElement("div",{className:b8.v0},ep.createElement(eI.$$,{onClick:async()=>{m(!0);try{await u({planId:e.planId,planType:e.planType,defaultPaidStatusDesign:i,defaultPaidStatusWhiteboard:o}),m(!1),t(e5.s.flash((0,e$.t)("default_paid_status_modal.updated_default_roles.seat_rename"))),t(e0.Ce())}catch(e){m(!1),t(e5.s.flash("An error has occured. Please try again"))}}},ep.createElement(e$.Tx,{id:"general.save"}))))))},"DefaultPaidStatusModalV2"),LI=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]);return ep.createElement(au.aF,{title:(0,e$.t)("settings_tab.delete_org_modal.are_you_sure_you_d_like_to_delete_figma"),dispatch:e,size:364},ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.please_confirm_that_you_wish_to_permanently_delete_the_org",orgName:t.name}),ep.createElement("div",{className:b8.v0},ep.createElement(eI.nR,{onClick:()=>{e(e0.Lo())},className:b8.pL},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.qZ,{onClick:()=>{e(e0.Lo()),e((0,C0.q4)({orgId:t.id}))},className:b8.pL},ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.request_to_delete_organization"}))))},"DELETE_ORG_MODAL"),LA=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,mV.sZ)(),[a,r]=ep.useState((0,b4.Rs)()),n=ep.useCallback(e=>{(0,tn.sx)("Delete user search performed",{orgId:null==t?void 0:t.id,queryLength:e.inputValue.length}),r(e)},[null==t?void 0:t.id]),l=0===a.tokens.length;return ep.createElement(au.aF,{title:(0,e$.t)("settings_tab.delete_org_modal.delete_users_from_this_organization"),dispatch:e,size:364,className:"delete_org_modal_autocomplete--deleteOrgUserModal--e7aS8"},ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.enter_names_or_emails_of_users_that_you_d_like_to_delete"}),ep.createElement("div",{className:"delete_org_modal_autocomplete--autocompleteDiv--XcvHs"},ep.createElement(S_,{placeholder:(0,e$.t)("settings_tab.delete_org_modal.email_or_names_of_org_members"),autocomplete:a,onAutocompleteChange:n})),ep.createElement("div",{className:b8.v0},ep.createElement(eI.nR,{onClick:()=>{e(e0.Lo())},className:b8.pL},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.qZ,{onClick:()=>{e(e0.Lo()),e((0,e0.to)({type:LL,data:{orgUsers:a.tokens.map(e=>e.content)}}))},disabled:l,className:b8.pL},ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.delete"}))))},"DELETE_ORG_USER_MODAL"),LL=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]);return ep.createElement(au.aF,{title:(0,e$.t)("settings_tab.delete_org_modal.delete_users_and_their_data"),dispatch:t,size:364},ep.createElement("p",null,ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.you_re_deleting_figma_data_and_access_for_the_following_user"})),ep.createElement("ul",{className:"delete_org_modal_autocomplete--orgUserList--PhNTi"},e.orgUsers.map(e=>ep.createElement("li",{key:e.user.email},e.user.handle," (",e.user.email,")"))),ep.createElement("br",null),ep.createElement("p",null,ep.createElement(e$.Tx,{id:"settings_tab.delete_org_modal.this_action_can_t_be_undone"})),ep.createElement("div",{className:b8.v0},ep.createElement(eI.nR,{onClick:()=>{t(e0.Lo())},className:b8.pL},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.qZ,{onClick:()=>{t(e0.Lo()),t((0,C0.ye)({orgId:a.id,orgUserIds:e.orgUsers.map(e=>e.id)}))},className:b8.pL},ep.createElement(e$.Tx,{id:"modal.confirm"}))))},"CONFIRM_DELETE_ORG_USER_MODAL");function LR(e){return ep.createElement("div",null,e.token.content)}let LO=e=>({state:(0,i9.xf)(e.trim())?b2.d.OK:b2.d.ERROR,content:e}),LF=(0,am.Ju)(function(e){let[t,a]=(0,ep.useState)(e.currentContacts),[r,n]=(0,ep.useState)({inputValue:"",tokens:e.currentContacts.split(",").map(e=>LO(e)),errorMessage:""}),l=(0,eg.wA)(),i=()=>l(e0.Lo()),s=()=>r.tokens.filter(e=>e.state===b2.d.OK).map(e=>e.content).join(","),o=()=>r.tokens.filter(e=>e.state===b2.d.ERROR).length>0;return ep.createElement(sn.XV,{onClose:i,title:(0,e$.t)(e.isOrg?"payments.org_change_billing_contact":"payments.pro_change_billing_contact"),minWidth:341,maxWidth:341},ep.createElement("div",{className:"billing_contact_modal--container--CgvAc"},ep.createElement("div",{className:"billing_contact_modal--secondary--L8-Mz"},ep.createElement(e$.Tx,{id:e.isOrg?"payments.org_enter_an_email_address":"payments.pro_enter_an_email_address"})),e.isOrg?ep.createElement(kE.P,{autocomplete:r,onChange:n,validateToken:LO,TokenComponent:LR,autoFocus:!1,placeholder:(0,e$.t)("payments.change_billing_contact_placeholder")}):ep.createElement(eI.ks,{value:t,onChange:e=>a(e.target.value)}),ep.createElement("div",{className:"billing_contact_modal--buttons--o9Grb"},ep.createElement(eI.tM,{onClick:i},ep.createElement(e$.Tx,{id:"payments.cancel"})),ep.createElement(eI.vd,{type:"submit",onClick:()=>{if(e.isOrg&&o()){l(e5.s.error((0,e$.t)("payments.invalid_billing_contact_error"),5e3));return}let a=e.isOrg?s():t;if(!a){l(e5.s.error((0,e$.t)("payments.missing_billing_contact_error"),5e3));return}e.onSubmit(a).then(i).catch(e=>{console.error(e)})}},ep.createElement(e$.Tx,{id:"payments.save"})))))},"ChangeBillingContact");function LM(e){let t=e.searchResult;return ep.createElement("div",{className:e.isSelected?"admin_search_input--userRowSelected--jfVgG autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"admin_search_input--userRow--ingGG autocomplete_permissions--contactRow--DRMiv"},ep.createElement("div",{className:"admin_search_input--userAvator--FG3LO autocomplete_permissions--avatar--Hb2O-"},ep.createElement(dm.H8,{user:t,size:dm.Pf.MEDIUM})),ep.createElement("div",null,ep.createElement("div",{className:"admin_search_input--name--s2UoA autocomplete_permissions--name--62sCS ellipsis--ellipsis--Tjyfa"},t.name),ep.createElement("div",{className:"admin_search_input--email--DzKVd autocomplete_permissions--email--HCICx ellipsis--ellipsis--Tjyfa"},t.email)))}function LD(e){return ep.createElement("div",null,e.token.content.name)}function LP(e){let t=(0,eg.wA)(),{planId:a,planType:r,initialEmails:n,autocomplete:l,setAutocomplete:i,initialEmailsLoaded:s,setInitialEmailsLoaded:o}=e,[c,d]=(0,ep.useState)([]);(0,ep.useEffect)(()=>{r===Am.TEAM?t(uy.Xw({teamId:a})):t(bl.Pg({orgId:a}))},[t,a,r]);let m=(0,ep.useCallback)(({data:e})=>{let t=e.meta;d(t);let a=t.filter(e=>null!=e.email&&n.includes(e.email));!1===s&&(i({...(0,b4.Rs)(),tokens:a.map(e=>({state:b2.d.OK,content:e}))}),o(!0))},[n,s,i,o]);return((0,ep.useEffect)(()=>{r===Am.ORGANIZATION?uG.Eh.getOrgAdmins({orgId:a}).then(m):pk.$.getTeamAdmins({teamId:a}).then(m)},[n,s,m,a,r,i]),s)?ep.createElement("div",{className:"admin_search_input--admin_search_container--sLx7z"},ep.createElement(kE.P,{autocomplete:l,autocompleteResultsClassName:"admin_search_input--autocompleteResults--N5LMj",onChange:i,validateToken:ev.lQ,searchResults:e=>{let t=new bn.Ef([],{keys:["name","email"],threshold:0,tokenize:!0,matchAllTokens:!0});return t.set(c.filter(t=>!e.tokens.map(e=>e.content.id).includes(t.id))),t.search(e.inputValue)},SearchResultComponent:LM,TokenComponent:LD}),ep.createElement("div",{className:""!==l.errorMessage?"admin_search_input--errorMessage--NDiHB":"admin_search_input--message--Tk5jH"},0===l.tokens.length?ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.error_message_for_empty_admins"}):null)):ep.createElement(bN.Wi,{className:"admin_search_input--loadingText---G5Vg"})}function LB(e){switch(e){case Ac.DAILY:return{label:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.daily_option_label"}),description:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.daily_option_description.seat_rename"})};case Ac.WEEKLY:return{label:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.weekly_option_label"}),description:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.weekly_option_description.seat_rename"})};case Ac.MONTHLY:return{label:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.monthly_option_label"}),description:ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.monthly_option_description.seat_rename"})}}}let LU=nk.M4.Query({fetch:async e=>{var t;return(null==(t=(await Ap.getNotificationSettings({planId:e.planId,planType:e.planType,notificationType:Au.NEW_EDITOR_NOTIFICATION})).data)?void 0:t.meta)??null},output:({data:e})=>e&&0!==e.frequencies.length?e:{frequencies:[],recipient_settings:Ad.SPECIFIC_ADMINS,recipients:[]}}),LW=nk.M4.Mutation(async(e,{query:t,xr:a})=>{let{planId:r,planType:n,frequencies:l,recipientSettings:i,recipients:s}=e;t.mutate(LU({planId:r,planType:n}),e=>{null!=e&&(e.frequencies=l,e.recipient_settings=i,e.recipients=s)}),await a.put("/api/billing/notification_settings",{plan_id:r,plan_type:n,notification_type:Au.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(l),recipient_settings:i,recipients:s})}),LV=(0,am.Ju)(function(e){let t=(0,eg.wA)(),{planId:a,planType:r}=e,[n,l]=(0,nk.IT)(LU({planId:a,planType:r}));(0,ep.useEffect)(()=>{n.data&&(o(new Set(n.data.frequencies)),m(n.data.recipient_settings))},[n]);let i=function(e){switch(e){case Am.TEAM:return[Ac.DAILY,Ac.WEEKLY];case Am.ORGANIZATION:return[Ac.DAILY,Ac.MONTHLY]}}(e.planType),[s,o]=(0,ep.useState)(new Set),c=(0,r2.n_)(LW),[d,m]=(0,ep.useState)(Ad.SPECIFIC_ADMINS),[u,_]=(0,ep.useState)((0,b4.Rs)()),[p,g]=(0,ep.useState)(!1),[E,f]=(0,ep.useState)(!1),h="loaded"!==n.status?ep.createElement(e8.kt,{className:"new_editor_notification_modal--loading_spinner--ExRoZ"}):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"new_editor_notification_modal--notification_type_container--YIJoo"},ep.createElement("div",{className:"new_editor_notification_modal--notification_type_question---7lMW"},ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.which_notifications_would_you_like_to_get"})),ep.createElement("div",{className:"new_editor_notification_modal--notification_type_options_container--WYoj5"},i.map(e=>ep.createElement("div",{className:"new_editor_notification_modal--notification_type_option_container--O0EWC",key:e,"data-testid":e+" option"},ep.createElement("div",{className:"new_editor_notification_modal--notification_type_checkbox_container--Vt-U-"},ep.createElement(uX.S,{checked:s.has(e),onChange:t=>{let a=t.currentTarget.checked,r=new Set(s);a?r.add(e):r.delete(e),o(r)},disabled:p||"loaded"!==n.status})),ep.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label_container--eVYg6"},ep.createElement("div",{className:"new_editor_notification_modal--notification_type_option_label--UonZh"},LB(e).label),ep.createElement("div",{className:"new_editor_notification_modal--notification_type_option_description--Xs-Mg"},LB(e).description)))))),ep.createElement("div",null),0===s.size?null:ep.createElement("div",{className:"new_editor_notification_modal--notification_recipient_container--hhRtK"},ep.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question_container--AxG9T"},ep.createElement("div",{className:"new_editor_notification_modal--notification_recipient_question--mFHGL"},ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.who_should_get_notified"})),ep.createElement("div",{className:"new_editor_notification_modal--notification_recipient_recommendation--DgOZr"},ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.who_should_get_notified_recommendation"}))),ep.createElement(cO.z,{value:d,className:"new_editor_notification_modal--notification_recipient_options_container--FxRER",onChange:e=>{m(e)}},[Ad.ALL_ADMINS,Ad.SPECIFIC_ADMINS].map(e=>ep.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_container--v-Ijl",key:e},ep.createElement(cO.Z,{value:e,className:"new_editor_notifications_modal.notification_recipient_option",_isChecked:e===d,_onChange:e=>{m(e)}},ep.createElement("div",{className:"new_editor_notification_modal--notification_type_radio_option_label--NYyos"},function(e){switch(e){case Ad.ALL_ADMINS:return ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.all_admins"});case Ad.SPECIFIC_ADMINS:return ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.specific_admins"})}}(e)))))),d===Ad.SPECIFIC_ADMINS&&ep.createElement("div",{className:"new_editor_notification_modal--admin_search_input--mVTSB"},ep.createElement(LP,{planType:e.planType,planId:e.planId,autocomplete:u,setAutocomplete:e=>{_({...e,errorMessage:""})},initialEmails:n.data.recipients??[],initialEmailsLoaded:E,setInitialEmailsLoaded:f}))),ep.createElement("div",null));return ep.createElement(sn.Eo,{onClose:()=>t(e0.Lo()),confirmText:(0,e$.t)("general.save"),disabled:p||"loaded"!==n.status||""!==u.inputValue,onSubmit:async()=>{if(d===Ad.SPECIFIC_ADMINS&&0===u.tokens.length&&0!==s.size){_(e=>({...u,errorMessage:"Add the name of at least on admin"}));return}g(!0);try{let a=d===Ad.ALL_ADMINS?[]:u.tokens.map(e=>e.content.email).filter(e=>void 0!==e);await c({planId:e.planId,planType:e.planType,notificationType:Au.NEW_EDITOR_NOTIFICATION,frequencies:Array.from(s),recipientSettings:d,recipients:a}),g(!1),t(e5.s.flash((0,e$.t)("new_editor_notifications_modal.confirmation"))),t(e0.Lo())}catch(e){g(!1),(0,pM.UE)("An error has occured. Please try again.",t)}},title:(0,e$.t)("new_editor_notifications_modal.header.seat_rename"),maxWidth:420,minWidth:420},ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.summary.seat_rename"})," ",e.planType!==Am.TEAM&&ep.createElement(e$.Tx,{id:"new_editor_notifications_modal.disclaimer_for_orgs"}),h)},"NewEditorNotificationSettingsModal"),LG="billing_emails_modal--secondary--qI6PP",L$="billing_emails_modal--full_width--IcYZO",Lj="billing_emails_modal--icon--7bno5",LH="billing_emails_modal--description_section--tlEG6",Lq="billing_emails_modal--subtitle--u1LWC";var Lz=a(872515),LY=a(192182);let LK=(0,am.Ju)(function(e){let t=(0,eg.wA)(),r=()=>t(e0.Lo());var n=a(791617);return pN.A.extend(n),(0,pN.A)(e.subscriptionStart).format("Do"),ep.createElement(sn.XV,{onClose:r,title:(0,e$.t)("billing_emails_modal.billing_emails_info.what_billing_emails"),minWidth:341,maxWidth:341},ep.createElement("div",{className:"billing_emails_modal--container--47cge"},ep.createElement("div",{className:LG},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.about_billing_emails"})),ep.createElement("div",{className:L$},ep.createElement("div",{className:Lj},ep.createElement(eL.B,{svg:Lz.A})),ep.createElement("div",{className:LH},ep.createElement("div",{className:Lq},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscriptions_and_renewals"})),ep.createElement("div",{className:LG},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.annual_subscription_renews_on_description",date:ep.createElement("strong",null,ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.subscription_date",subscriptionStart:e.subscriptionStart}))})))),ep.createElement("div",{className:L$},ep.createElement("div",{className:Lj},ep.createElement(eL.B,{svg:LY.A})),ep.createElement("div",{className:LH},ep.createElement("div",{className:Lq},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups"})),ep.createElement("div",{className:LG},ep.createElement("div",{className:"billing_emails_modal--padding_below--0rcQb"},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_1.seat_rename"})),ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.quarterly_true_ups_description_2",more:ep.createElement("a",{className:"billing_emails_modal--link--sDtp9 blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/360040328293-Manage-billing-on-the-Organization-and-Enterprise-plans"},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.more"}))})))),ep.createElement("div",{className:"billing_emails_modal--buttons--IIxMO"},ep.createElement(eI.vd,{onClick:r},ep.createElement(e$.Tx,{id:"billing_emails_modal.billing_emails_info.close"})))))},"BillingEmailsInfo"),LJ=(0,am.Ju)(function(e){let t=e.dispatch,a=ep.useCallback(e=>{(0,Ax.Dk)(e).then(()=>{t(t6.F.enqueue({type:"scim_api_token_copied_to_clipboard",message:(0,e$.t)("org_settings.sso.copied")}))})},[t]);if(e.provisioningApiToken){let r;return ep.createElement(bc.l,{disableClickOutsideToHide:!0,dispatch:t,onConfirm:e.onConfirm,onHide:e.onCancel,buttonText:(0,e$.t)("modal.close"),title:(0,e$.t)("org_settings.scim.your_provisioning_api_token"),hideCancelButton:!0,checkboxText:ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_settings.scim.i_understand_that_this_is_the_only_time_i_will_see_this_token"}))},ep.createElement("div",{className:"configure_sso--token--dRmJj"},ep.createElement("span",null,e.provisioningApiToken),(r=e.provisioningApiToken,document.queryCommandSupported("copy")&&ep.createElement(eI.N_,{className:AP,onClick:()=>a(r),trusted:!0},ep.createElement(e$.Tx,{id:"org_settings.sso.copy"})))))}return ep.createElement(bc.l,{dispatch:t,onConfirm:e.onConfirm,onHide:e.onCancel,buttonText:(0,e$.t)("org_settings.scim.revoke_access"),title:(0,e$.t)("org_settings.scim.revoke_token_access_title"),size:"small",checkboxText:ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_settings.scim.revoke_token_confirmation",willBeDenied:ep.createElement("span",{className:AD},ep.createElement(e$.Tx,{id:"org_settings.scim.will_be_denied"}))}))})},"PROVISIONING_API_TOKEN_MODAL"),LZ=(0,at.nF)((e,{orgSamlConfigId:t})=>{ae.Ay.post(`/api/org_saml_config/${t}/scim_api_token`).then(t=>{e.dispatch((0,e0.to)({type:LJ,data:{dispatch:e.dispatch,provisioningApiToken:t.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(e0.Ce())},onCancel:()=>{e.dispatch(e0.Ce())}}})),e.dispatch(xL.h({orgSamlConfig:t.data.meta.org_saml_config}))}).catch(t=>{var a;e.dispatch(e5.s.flash((null==(a=t.data)?void 0:a.message)||(0,e$.t)("orgs_middleware.an_error_occurred_while_generating_scim"),5e3)),console.error(t)})}),LQ=(0,at.nF)((e,{orgSamlConfigId:t})=>{ae.Ay.del(`/api/org_saml_config/${t}/scim_api_token`).then(({data:t})=>{e.dispatch(xL.h({orgSamlConfig:t.meta}))}).catch(t=>{var a;e.dispatch(e5.s.flash((null==(a=t.data)?void 0:a.message)||(0,e$.t)("orgs_middleware.an_error_occurred_while_revoking_scim"),5e3)),console.error(t)})});function LX(e){let t=e.dispatch,a=ep.useCallback(()=>{t(LQ({orgSamlConfigId:e.orgSamlConfig.id}))},[t,e.orgSamlConfig.id]),r=ep.useCallback(()=>{t((0,e0.to)({type:LJ,data:{dispatch:t,onConfirm:()=>{t(e0.Ce()),a()},onCancel:()=>{t(e0.Ce())}}}))},[a,t]),n=!!e.orgSamlConfig.idp_name,l=e.orgSamlConfig.sp_scim_bearer_token_at,i=e.orgSamlConfig.has_scim_token;return ep.createElement(ep.Fragment,null,ep.createElement("p",{className:AM},ep.createElement(e$.Tx,{id:"org_settings.scim.scim_description",helpArticle:ep.createElement("a",{className:AP,href:"https://help.figma.com/hc/articles/360040532333-Getting-Started-with-SAML-SSO#h_d0220c93-18fa-4c1f-b965-69a5c8113f05",target:"_blank"},ep.createElement(e$.Tx,{id:"org_settings.sso.help_article"}))})),ep.createElement("table",{className:AB},ep.createElement("tbody",null,ep.createElement("tr",null,ep.createElement("th",null,ep.createElement(e$.Tx,{id:"org_settings.scim.api_token"})),l&&ep.createElement("td",null,ep.createElement(e$.Tx,{id:"org_settings.scim.api_token_generated_at",timestamp:ep.createElement(i7.h1,{date:l})})),ep.createElement("td",null,!n&&(0,e$.t)("org_settings.scim.saml_sso_must_be_configured"),n&&i&&ep.createElement(eI.N_,{onClick:r,className:AP,trusted:!0},ep.createElement(e$.Tx,{id:"org_settings.scim.revoke_token_access"})),n&&!i&&ep.createElement(eI.N_,{onClick:()=>{t(LZ({orgSamlConfigId:e.orgSamlConfig.id}))},className:AP,trusted:!0},ep.createElement(e$.Tx,{id:"org_settings.scim.generate_api_token"})))))))}let L0=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgSamlConfig),a=!t.config,r=()=>e(e0.Lo());return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.scim.scim_provisioning"),onClose:r,maxWidth:492,minWidth:492},ep.createElement("div",{className:AU},a&&ep.createElement(e8.kt,null),!a&&ep.createElement(ep.Fragment,null,ep.createElement(LX,{dispatch:e,orgSamlConfig:t.config}),ep.createElement(eI.cw,{className:AW,onClick:r},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.done"})))))},"EDIT_SCIM_MODAL"),L1=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=null;return(e.signInMethod===mH.Ct.GOOGLE?a=(0,e$.t)("org_settings.sso.google"):e.signInMethod===mH.Ct.SAML&&(a=(0,e$.t)("org_settings.sso.saml_sso")),a)?ep.createElement(bc.l,{dispatch:t,onConfirm:e.onConfirm,buttonText:(0,e$.t)("org_settings.sign_in_method.change_log_in"),title:(0,e$.t)("org_settings.sign_in_method.change_log_in"),checkboxText:(0,e$.t)("org_settings.sign_in_method.i_understand_that_members_must_log_in_with_label_after_confirming",{label:a})}):null},"REQUIRE_SSO_MODAL");function L2(e){let t=(0,dN._g)(e.org),a=a=>{a===mH.Ct.GOOGLE?e.dispatch(C0.Xw({orgId:e.org.id,googleSsoOnly:!0})):a===mH.Ct.SAML?e.dispatch(C0.hi({orgId:e.org.id,samlSsoOnly:!0})):t===mH.Ct.GOOGLE?e.dispatch(C0.Xw({orgId:e.org.id,googleSsoOnly:!1})):e.dispatch(C0.hi({orgId:e.org.id,samlSsoOnly:!1}))};return ep.createElement(ep.Fragment,null,eE.eD&&ep.createElement("div",{className:AM},ep.createElement(e$.Tx,{id:"org_settings.sso.you_must_use_a_web_browser"})),ep.createElement(cO.z,{value:t,onChange:r=>{r!==t&&(r===mH.Ct.ANY?a(r):e.dispatch((0,e0.to)({type:L1,data:{signInMethod:r,onConfirm:()=>{e.dispatch(e0.Lo()),a(r)}}})))}},ep.createElement(cO.Z,{value:mH.Ct.ANY,disabled:!!eE.eD},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.any",default:ep.createElement("span",{className:"configure_sso--secondary--a3feh"},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.default"}))})),ep.createElement(cO.Z,{value:mH.Ct.GOOGLE,disabled:!!eE.eD},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_a_google_account"})),ep.createElement(cO.Z,{tooltipText:e.orgSamlConfig.idp_name?void 0:(0,e$.t)("org_settings.sign_in_method.you_need_to_configure_saml_sso_first"),value:mH.Ct.SAML,disabled:!!eE.eD||!e.orgSamlConfig.idp_name},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.members_must_log_in_with_saml_sso"}))))}let L4=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,eg.d4)(e=>e.orgSamlConfig),r=()=>e(e0.Lo());return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.sign_in_method.authentication"),onClose:r,maxWidth:560,minWidth:560},ep.createElement("div",{className:AU},!a.config&&ep.createElement(e8.kt,null),a.config&&ep.createElement(ep.Fragment,null,ep.createElement(L2,{dispatch:e,org:t,orgSamlConfig:a.config}),ep.createElement(eI.cw,{onClick:r,className:AW},ep.createElement(e$.Tx,{id:"org_settings.sign_in_method.done"})))))},"SIGN_IN_METHOD_MODAL"),L3="autogen_password_controls_modal--radioLabel--Gkka8",L8=e=>e?"autogen":"custom",L5=(0,am.Ju)(function(){var e,t,a;let r=(0,eg.wA)(),n=(0,e$.t)("org_settings.autogen_password_controls.success"),l=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),i=(0,t5.Rs)(ai.RcX,{orgId:l.id}),s=()=>r(e0.Lo()),[o,c]=ep.useState("loaded"===i.status?L8(null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls):null);return ep.useEffect(()=>{var e,t,a;"loaded"===i.status&&c(L8(null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.autogenPasswordControls))},[i]),ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.autogen_password_controls.title"),onClose:s,maxWidth:380,minWidth:380,fixedTop:!0},ep.createElement("div",{className:"autogen_password_controls_modal--modalContent--V-gBK"},ep.createElement(e$.Tx,{id:"org_settings.autogen_password_controls.description"}),ep.createElement(cO.z,{value:o,onChange:e=>{c(e)},className:"autogen_password_controls_modal--radioGroup--jik1F"},ep.createElement(cO.Z,{value:"custom",labelClassName:L3,disabled:"loading"===i.status},ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.custom_passwords_button"}),ep.createElement("span",null,ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.default",color:"secondary"})),ep.createElement("br",null),ep.createElement(du.E,{color:"secondary",i18nId:"org_settings.autogen_password_controls.custom_passwords_description"})),ep.createElement(cO.Z,{value:"autogen",labelClassName:L3,disabled:"loading"===i.status},ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.autogen_passwords_button"}),ep.createElement("br",null),ep.createElement(du.E,{color:"secondary",i18nId:"org_settings.autogen_password_controls.autogen_passwords_description"}))),ep.createElement(IS.z,{orientation:"vertical",variant:"brand",iconSrc:gi.A,dataTestId:"password-info-banner"},ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.banner"})),ep.createElement("div",{className:"autogen_password_controls_modal--modalButtons---LSkB"},ep.createElement(u9.nR,{onClick:s},ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.cancel"})),ep.createElement(u9.$$,{onClick:()=>{var e,t,a;o&&(r(C0.Tf({orgId:l.id,autogenPasswordControl:"autogen"===o,settingsId:null==(a=null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.sharedOrgLicenseGroupSetting)?void 0:a.id,successMessage:n})),s())}},ep.createElement(du.E,{i18nId:"org_settings.autogen_password_controls.save"})))))},"AUTOGEN_PASSWORD_CONTROLS_MODAL"),L6=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),a=()=>e(e0.Lo());return ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.scim_metadata_modal.member_metadata"),onClose:a,maxWidth:340,minWidth:340},ep.createElement("div",{className:AU},ep.createElement("p",{className:AM},ep.createElement(e$.Tx,{id:"settings_tab.scim_metadata_modal.change_which_scim_metadata_shows_on_the_members_tab"})),ep.createElement(cO.z,{value:t.featured_scim_metadata,onChange:a=>e(C0.Kc({orgId:t.id,attribute:a}))},Object.values(lB.U0).map(e=>ep.createElement(cO.Z,{key:e,value:e},(0,dN.du)(e)))),ep.createElement(eI.cw,{onClick:a,className:AW},ep.createElement(e$.Tx,{id:"settings_tab.scim_metadata_modal.done"}))))},"CHOOSE_SCIM_METADATA_MODAL");var L9=((D=L9||{}).ORG_ACTIVITY_LOG_READ="org:activity_log_read",D.ORG_USER_READ="org:user_read",D.ORG_FILE_READ="org:file_read",D.ORG_RELATED_LINKS_WEBHOOKS="org:related_links_webhooks",D.ORG_DISCOVERY_READ="org:discovery_read",D.USER_FILE_READ_DEPRECATED="file_read",D.USER_FILE_CREATE="file_create",D.USER_FILE_ENUMERATE="file_enumerate",D.USER_USER_READ="user_read",D.USER_FILES_READ="files:read",D.USER_FILE_COMMENTS_WRITE="file_comments:write",D.USER_FILE_DEV_RESOURCES_READ="file_dev_resources:read",D.USER_FILE_DEV_RESOURCES_WRITE="file_dev_resources:write",D.USER_FILE_VARIABLES_READ="file_variables:read",D.USER_FILE_VARIABLES_WRITE="file_variables:write",D.USER_LIBRARY_ANALYTICS_READ="library_analytics:read",D.USER_WEBHOOKS_WRITE="webhooks:write",D);let L7={"org:activity_log_read":()=>[(0,e$.t)("tokens.oauth.view_user_activity_in_figma_like_opening_files_creating_projects_and_sharing_resources")],"org:discovery_read":()=>[(0,e$.t)("tokens.oauth.discovery_scope_description")],"org:file_read":()=>[(0,e$.t)("tokens.oauth.view_basic_information_about_files")],"org:related_links_webhooks":()=>[(0,e$.t)("tokens.oauth.manage_related_links_webhooks")],"org:user_read":()=>[(0,e$.t)("tokens.oauth.view_basic_information_about_users")],file_read:()=>[(0,e$.t)("tokens.oauth.read_files_you_have_access_to"),(0,e$.t)("tokens.oauth.read_and_modify_comments_for_files_you_have_access_to"),(0,e$.t)("tokens.oauth.read_projects_you_have_access_to"),(0,e$.t)("tokens.oauth.read_components_and_styles_you_have_access_to")],file_create:()=>[(0,e$.t)("tokens.oauth.create_files")],file_enumerate:()=>[(0,e$.t)("tokens.oauth.enumerate_files")],user_read:()=>[(0,e$.t)("tokens.oauth.read_your_name_email_and_profile_image")],"files:read":()=>[(0,e$.t)("tokens.oauth.read_files_you_have_access_to"),(0,e$.t)("tokens.oauth.read_comments_for_files_you_have_access_to"),(0,e$.t)("tokens.oauth.read_projects_you_have_access_to"),(0,e$.t)("tokens.oauth.read_components_and_styles_you_have_access_to"),(0,e$.t)("tokens.oauth.read_your_name_email_and_profile_image")],"file_comments:write":()=>[(0,e$.t)("tokens.oauth.modify_comments_for_files_you_have_access_to")],"file_dev_resources:read":()=>[(0,e$.t)("tokens.oauth.read_dev_resources")],"file_dev_resources:write":()=>[(0,e$.t)("tokens.oauth.create_and_modify_dev_resources")],"file_variables:read":()=>[(0,e$.t)("tokens.oauth.read_variables_from_files_you_have_access_to")],"file_variables:write":()=>[(0,e$.t)("tokens.oauth.create_and_modify_variables_for_files_you_have_access_to")],"library_analytics:read":()=>[(0,e$.t)("tokens.oauth.read_library_analytics_data")],"webhooks:write":()=>[(0,e$.t)("tokens.oauth.create_and_modify_webhooks")]},Re="connected_apps--modalContent--jofiG",Rt="connected_apps--tokenMeta--q0ci4",Ra="connected_apps--buttonBox--LSVPH",Rr="connected_apps--button--yaM0o",Rn="connected_apps--columnScope---TfNz table--column--974RA",Rl="connected_apps--columnDescription--hsy1E table--column--974RA";function Ri(e){var t;return ep.createElement("div",{role:"button",tabIndex:0,key:e.token.name,className:"connected_apps--tokenRow--8t3rQ",onClick:e.onClick},ep.createElement("div",null,ep.createElement("img",{src:e.token.logo,alt:"",className:"connected_apps--logoImage--QMb8h"})),ep.createElement("div",{className:"connected_apps--tokenInfo--YiebU"},ep.createElement("div",{className:"connected_apps--tokenName--jw63V"},e.token.name),ep.createElement("div",{className:Rt},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.connected_since",date:(0,pN.A)(e.token.granted_at).format("LL")})),ep.createElement("div",{className:Rt},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.scopes_granted",numScopes:(null==(t=e.token.scopes)?void 0:t.length)??1}))),e.onClick&&ep.createElement(eL.B,{svg:Af.A,className:"connected_apps--caret--TWlfa"}))}let Rs=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=(0,ep.useState)([]),[n,l]=(0,ep.useState)(!0);ep.useEffect(()=>{uG.Eh.getOauthConnections({orgId:e.org.id}).then(({data:e})=>{r(e.meta),l(!1)}).catch(e=>{t(e5.s.error((0,e$.t)("settings_tab.connected_apps.error_loading_tokens"))),l(!1)})},[t,e.org.id]);let i=null;return i=n?ep.createElement("div",{className:"connected_apps--loading--yYjBQ"},ep.createElement(e8.kt,null)):0===a.length?ep.createElement("p",{className:"connected_apps--noToken--OGl0i"},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.this_org_does_not_have_any_connected_apps",orgName:e.org.name})):ep.createElement("div",null,a.map(n=>ep.createElement(Ri,{key:n.client_id,token:n,onClick:()=>{t((0,e0.to)({type:Ro,data:{org:e.org,token:n,onRevoke:()=>{r(a.filter(e=>e.client_id!==n.client_id))}}}))}}))),ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.connected_apps"),onClose:()=>t(e0.Lo()),maxWidth:462,minWidth:462},ep.createElement("div",{className:Re},ep.createElement("p",{className:"connected_apps--sectionInstruction--9x0kV"},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.instruction"})),i))},"CONNECTED_APPS_MODAL"),Ro=(0,am.Ju)(function(e){var t;let a=(0,eg.wA)();return ep.createElement(sn.XV,{title:e.token.name,onClose:()=>a(e0.Lo()),maxWidth:462,minWidth:462},ep.createElement("div",{className:Re},ep.createElement(Ri,{token:e.token}),ep.createElement("p",null,ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.scope_description"})),ep.createElement("div",{className:"connected_apps--scopeTable--4rTLd"},ep.createElement("div",{className:"connected_apps--headerRow--5gJQx"},ep.createElement("div",{className:Rn},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.o_auth_scope"})),ep.createElement("div",{className:Rl},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.description"}))),null==(t=e.token.scopes)?void 0:t.map(e=>{let t=L7[e]()??[];return ep.createElement("div",{key:e,className:"connected_apps--tableRow--JZQwR"},ep.createElement("div",{className:Rn},ep.createElement("span",null,e)),ep.createElement("div",{className:Rl},t.map(e=>ep.createElement("div",{key:e},e))))})),ep.createElement("div",{className:Ra},ep.createElement(eI.nR,{className:Rr,onClick:()=>{a(e0.Lo())}},ep.createElement(e$.Tx,{id:"general.back"})),ep.createElement(eI.qZ,{className:Rr,onClick:()=>{a((0,e0.to)({type:Rc,data:{org:e.org,token:e.token,onRevoke:e.onRevoke}}))}},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"CONNECTED_APP_MODAL"),Rc=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=()=>t(e0.Lo());return ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.connected_apps.revoke_app",{appName:e.token.name}),onClose:a,maxWidth:462,minWidth:462},ep.createElement("div",{className:Re},ep.createElement("p",{className:"connected_apps--confirmText--V6RKI"},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.are_you_sure",appName:ep.createElement("span",{style:{fontWeight:600}},e.token.name),orgName:e.org.name})),ep.createElement("div",{className:Ra},ep.createElement(eI.nR,{className:Rr,onClick:a},ep.createElement(e$.Tx,{id:"general.back"})),ep.createElement(eI.qZ,{className:Rr,onClick:()=>{t(e0.Lo()),ae.Ay.del(`/api/oauth/token/${e.org.id}/${e.token.client_id}`).then(a=>{t(e5.s.flash((0,e$.t)("settings_tab.connected_apps.oauth_token_deleted"))),t(e0.Lo()),e.onRevoke()}).catch(e=>{var a;t(e5.s.error((null==(a=e.data)?void 0:a.message)||(0,e$.t)("settings_tab.connected_apps.an_error_occurred_while_deleting_the_token"),5e3)),console.error(e)})}},ep.createElement(e$.Tx,{id:"settings_tab.connected_apps.revoke"})))))},"REVOKE_APP_MODAL"),Rd=(0,am.Ju)(function(e){let[t,a,r]="win"===e.platform?[(0,e$.t)("org_admin_settings.enterprise_installer_label"),"https://help.figma.com/hc/articles/14172933259287",`https://desktop.figma.com/win/Figma-${e.version}.msi`]:[(0,e$.t)("org_admin_settings.enterprise_installer_label_mac"),"https://help.figma.com/hc/articles/17686512113175",`https://desktop.figma.com/mac-universal/Figma-${e.version}.pkg`];return ep.createElement(au.Rw,{confirmationTitle:t,confirmText:(0,e$.t)("org_admin_settings.enterprise_installer_confirmation"),onConfirm:()=>window.location.href=r,tintedModalBackground:!0,dispatch:(0,eg.wA)()},ep.createElement(e$.Tx,{id:"win"===e.platform?"org_admin_settings.enterprise_installer_modal_copy":"org_admin_settings.enterprise_installer_modal_copy_mac"}),ep.createElement(eI.N_,{href:a,target:"_blank",trusted:!0},ep.createElement(e$.Tx,{id:"org_admin_settings.enterprise_installer_modal_link"})),ep.createElement(e$.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_version",version:e.version}),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"org_admin_settings.enterprise_installer_modal_release_date",releaseDate:new Date(e.releaseDate||Date.now()).toLocaleDateString()}))},"ENTERPRISE_INSTALLER_MODAL"),Rm="external_collaboration_controls_modal--sectionInstruction--3Em4j",Ru="external_collaboration_controls_modal--radioLabel---ZT-n",R_="external_collaboration_controls_modal--listItem--RAIKD",Rp="external_collaboration_controls_modal--confirmButton--yOTgX",Rg="external_collaboration_controls_modal--bold--6eZYS",RE=(0,am.Ju)(function(){var e,t;let a=(0,eg.wA)(),r=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),n=()=>a(e0.Lo()),[l,i]=(0,ep.useState)(null==(e=r.shared_org_license_group_settings)?void 0:e.external_collaboration_controls),s=!!(null==(t=r.shared_org_license_group_settings)?void 0:t.external_collaboration_controls);return ep.createElement(eH.fu,{name:"External Content Controls Setting Modal",properties:{orgId:r.id}},ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.external_collaboration_controls.header"),onClose:n,maxWidth:376,minWidth:376,fixedTop:!0},ep.createElement("div",{className:"external_collaboration_controls_modal--modalContent--z39Th"},ep.createElement("div",{className:"external_collaboration_controls_modal--warningBanner--uBIyF"},ep.createElement(eL.B,{className:"external_collaboration_controls_modal--icon--mHGvS",svg:hE.A}),ep.createElement("p",null,ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.banner",let_org_know:ep.createElement(eI.CY,{href:"https://help.figma.com/hc/articles/12080587805719",className:eT.cx.font11.$,trusted:!0},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.let_org_know"}))}))),ep.createElement("div",{className:Rm},l?ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_on",orgName:r.name,cannot:ep.createElement("span",{className:Rg},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.cannot"}))}):ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.list_header_setting_off",orgName:r.name}),ep.createElement("ul",null,ep.createElement("li",{className:R_},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.accept_invites"})),ep.createElement("li",{className:R_},l?ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.view_only",note:ep.createElement("span",{className:Rg},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.note"}))}):ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.view_or_edit_files"})),ep.createElement("li",{className:R_},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.create"})),ep.createElement("li",{className:R_},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.open_sessions"})))),ep.createElement("p",{className:`${Rm} ${Rg}`},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.setting_header",orgName:r.name})),ep.createElement(cO.z,{value:l?"true":"false",onChange:e=>"true"===e?i(!0):i(!1)},ep.createElement(cO.Z,{value:"false",labelClassName:Ru},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.enable"})),ep.createElement(cO.Z,{value:"true",labelClassName:Ru},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.disable"}))),ep.createElement("div",{className:b8.v0},ep.createElement(eI.nR,{onClick:n,className:`${b8.pL} ${Rp}`},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.cancel"})),ep.createElement(eI.qZ,{onClick:()=>{if(l===s||void 0===l){n();return}let e=(0,e$.t)("org_settings.external_collaboration_controls.success");a(C0.yo({payload:{external_collaboration_controls:l},successMessage:e})),n()},disabled:l===s||void 0===l,className:`${b8.pL} ${Rp}`},ep.createElement(e$.Tx,{id:"org_settings.external_collaboration_controls.save"}))))))},"EXTERNAL_COLLABORATION_CONTROLS_MODAL"),Rf="guest_invite_settings_modal--sectionInstruction--ypd15",Rh="guest_invite_settings_modal--radioLabel--yCxLw",Rv=(0,am.Ju)(function(e){let t=(0,eg.wA)();return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("org_settings.guest_control.confirm_title"),confirmText:(0,e$.t)("org_settings.guest_control.confirm_button"),onConfirm:()=>{t(C0.yo({payload:{invite_whitelist_guest_invite_setting:e.guestInviteSetting},successMessage:e.settingString}))},tintedModalBackground:!0,dispatch:t},ep.createElement(e$.Tx,{id:"org_settings.guest_control.no_guest_confirmation"}))},"CONFIRM_BAN_GUEST_INVITE_MODAL"),Rb=(0,am.Ju)(function(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),a=(0,eg.d4)(e=>e.orgDomains.domains),r=()=>e(e0.Lo()),[n,l]=(0,ep.useState)(t.invite_whitelist_guest_invite_setting);return ep.createElement(sn.XV,{title:(0,e$.t)("org_settings.guest_control.guest_membership"),onClose:r,maxWidth:440,minWidth:440,fixedTop:!0},ep.createElement("div",{className:"guest_invite_settings_modal--modalContent--byRFx"},ep.createElement("p",{className:Rf},ep.createElement(e$.Tx,{id:"org_settings.guest_control.guest_definition",domains:ep.createElement(bX.T,{formatType:"disjunction"},a.map(e=>ep.createElement("span",{key:e.domain},"@",e.domain)))})),ep.createElement("p",{className:Rf,style:{fontWeight:500}},ep.createElement(e$.Tx,{id:"org_settings.guest_control.guest_question"})),ep.createElement(cO.z,{value:n??"none",onChange:e=>{let t="none"===e?null:e;n!==t&&l(t)}},ep.createElement(cO.Z,{value:"none",labelClassName:Rh},(0,dN.W3)(null),ep.createElement("span",{className:"guest_invite_settings_modal--secondary--Ft9Th"},ep.createElement(e$.Tx,{id:"org_settings.guest_control.default"}))),ep.createElement(cO.Z,{value:mH.Gv.REQUIRE_APPROVAL,labelClassName:Rh},(0,dN.W3)(mH.Gv.REQUIRE_APPROVAL)),ep.createElement(cO.Z,{value:mH.Gv.BANNED,labelClassName:Rh},(0,dN.W3)(mH.Gv.BANNED))),!(0,gZ.Bg)(t.shared_org_license_group_settings)&&null!=n&&ep.createElement("div",{className:"guest_invite_settings_modal--publicLinksBanner--K082Y"},ep.createElement(e$.Tx,{id:"org_settings.guest_control.link_sharing_on",enabled:ep.createElement("span",{style:{fontWeight:600}},ep.createElement(e$.Tx,{id:"org_settings.guest_control.enabled"})),publicLinkSharingSettings:ep.createElement("button",{onClick:r,className:"guest_invite_settings_modal--blueLink--zuEFV blue_link--blueLink--9rlnd"},ep.createElement(e$.Tx,{id:"org_settings.guest_control.public_link_sharing_settings"}))})),ep.createElement(eI.$$,{onClick:()=>{if(n===t.invite_whitelist_guest_invite_setting){r();return}let a=(0,dN.W3)(n);(0,gZ.Bg)(t.shared_org_license_group_settings)||n!==mH.Gv.BANNED?(e(C0.yo({payload:{invite_whitelist_guest_invite_setting:n},successMessage:a})),r()):e((0,e0.to)({type:Rv,data:{guestInviteSetting:n,settingString:a}}))},className:"guest_invite_settings_modal--modalSave--0JmNA"},ep.createElement(e$.Tx,{id:"org_settings.guest_control.save_button"}))))},"GUEST_INVITE_SETTINGS_MODAL");var Ry=((P=Ry||{}).CONFIGURED="configured",P.DEFAULT="default",P);let Rw=()=>!1,RT=Rw()?1:12,Rx=()=>({...Rw()?{[yA.vS.MINUTES]:(0,l3.y1)(15,60,5).map(e=>({type:"option",text:e.toString(),key:e}))}:null,[yA.vS.HOURS]:(0,l3.y1)(RT,24,1).map(e=>({type:"option",text:e.toString(),key:e})),[yA.vS.DAYS]:(0,l3.y1)(1,15,1).map(e=>({type:"option",text:e.toString(),key:e}))});function RC(){return{timeAmount:{key:14,text:"14"},timeUnit:{key:yA.vS.DAYS,text:(0,e$.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:14})}}}function RN(e){let{timeUnit:{key:t},timeAmount:{key:a}}=e;switch(t){case yA.vS.MINUTES:return a*yA.Rc;case yA.vS.HOURS:return a*yA.r;case yA.vS.DAYS:return a*yA.N_}}function Rk(e){let t=(0,eg.wA)(),a=(0,rE.U)(),r=(null==a?void 0:a.type)===e.id;return ep.createElement(wT.Ve,{chevronClassName:eT.cx.mlAuto.$,className:eT.cx.bRadius3.b1.bSolid.colorBorder.wFull.$,dispatch:t,type:e.id,showingDropdown:r},e.currentText,r&&ep.createElement(wR.V,{dispatch:t,dropdownShown:a,options:e.options,value:e.currentKey,onChange:e.onChange}))}function RS(e){return ep.createElement("div",{style:u1.sx.add({marginTop:"-8px"}).$,className:eT.cx.colorTextSecondary.ml20.mb8.$},e.children)}function RI(e){let{key:t,time:{unit:a,duration:r}}=e.configuredTimeHelperTextOptions,n=(0,e$.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:r});return ep.createElement("div",{className:eT.cx.mt8.font11.fontNormal.colorTextSecondary.$},ep.createElement(e$.Tx,{id:`settings_tab.idle_session_timeout.configured_time_description.${t}`,duration:n}))}let RA=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(e.idleTimeoutDurationInSecs?Ry.CONFIGURED:Ry.DEFAULT),[n,l]=ep.useState(function(e){if(!e)return RC();let[t,a]=(0,yA.qr)(e);return a in Rx()?{timeAmount:{key:t,text:t.toString()},timeUnit:{key:a,text:(0,e$.t)(`settings_tab.idle_session_timeout_settings_modal.${a}`,{timeAmount:t})}}:RC()}(e.idleTimeoutDurationInSecs)),[i,s]=ep.useState(!1),[o,c]=ep.useState(null),d=a===Ry.CONFIGURED&&e.idleTimeoutDurationInSecs!==RN(n)||null!==e.idleTimeoutDurationInSecs&&a===Ry.DEFAULT,m=ep.useCallback(e=>{c(null),l(t=>({timeUnit:{key:t.timeUnit.key,text:(0,e$.t)(`settings_tab.idle_session_timeout_settings_modal.${t.timeUnit.key}`,{timeAmount:e})},timeAmount:{key:e,text:e.toString()}}))},[]),u=ep.useCallback(e=>{l(t=>{let a=Rx()[e],r=t.timeAmount.key,n=RC().timeAmount;if(a){let t=a.find(({key:e})=>e===r);if(t)n=t,c(null);else{let t=r<a[0].key,l=t?a[0]:a[a.length-1];n=l,c({key:t?"minimum":"maximum",time:{duration:l.key,unit:e}})}}return{timeAmount:{key:n.key,text:n.text},timeUnit:{key:e,text:(0,e$.t)(`settings_tab.idle_session_timeout_settings_modal.${e}`,{timeAmount:n.key})}}})},[]),_=ep.useCallback(()=>t(e0.Lo()),[t]),p=ep.useCallback(()=>{s(!0);let r=a===Ry.DEFAULT?null:RN(n);t(C0.Y4({orgId:e.orgId,onFailure:()=>s(!1),onSuccess:_,timeoutDurationInSecs:r}))},[a,n,e.orgId,t,_]),g=ep.useCallback(e=>{e!==a&&(r(e),l(RC()))},[a]);return ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.idle_session_timeout_settings_modal.header"),onClose:_,maxWidth:288,minWidth:288,fixedTop:!0},ep.createElement(ej.Y,{direction:"vertical",horizontalAlignItems:"center",padding:16,spacing:16},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.description"}),ep.createElement(cO.z,{className:eT.cx.wFull.mt16.$,value:a,onChange:g},ep.createElement(cO.Z,{value:Ry.DEFAULT},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_description"})),ep.createElement(RS,null,ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.default_choice_timeframe"}),ep.createElement("div",{className:eT.cx.inline.$},ep.createElement(eI.N_,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/14376092335127",className:eT.cx.inline.ml4.$},ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))))),ep.createElement(cO.Z,{value:Ry.CONFIGURED},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_description"})),ep.createElement(RS,null,ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.configured_choice_subtitle"})),a===Ry.CONFIGURED&&ep.createElement("div",{"data-testid":"dropdown-group",className:eT.cx.mlAuto.$},ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"end",spacing:8,width:236},ep.createElement(Rk,{id:"TIME_VALUE_DROPDOWN",options:Rx()[n.timeUnit.key]??Rx()[RC().timeUnit.key],currentText:n.timeAmount.text,currentKey:n.timeAmount.key,onChange:m}),ep.createElement(Rk,{id:"TIME_UNIT_DROPDOWN",options:function(e){let t=[{type:"option",key:yA.vS.HOURS,text:(0,e$.t)("settings_tab.idle_session_timeout_settings_modal.hours",{timeAmount:e})},{type:"option",key:yA.vS.DAYS,text:(0,e$.t)("settings_tab.idle_session_timeout_settings_modal.days",{timeAmount:e})}];return Rw()&&t.unshift({type:"option",key:yA.vS.MINUTES,text:(0,e$.t)("settings_tab.idle_session_timeout_settings_modal.minutes",{timeAmount:e})}),t}(n.timeAmount.key),currentText:n.timeUnit.text,currentKey:n.timeUnit.key,onChange:u})),o&&ep.createElement(RI,{configuredTimeHelperTextOptions:o}))),a===Ry.CONFIGURED&&d&&ep.createElement("div",{className:eT.cx.bRadius4.px12.py8.colorBgInfo.$},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.warning_description"})),ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"end",spacing:8},ep.createElement(eI.cw,{onClick:_},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.cancel"})),ep.createElement(eI.$$,{disabled:i||!d,onClick:p},ep.createElement(e$.Tx,{id:"settings_tab.idle_session_timeout_settings_modal.save"})))))},"IDLE_SESSION_TIMEOUT_SETTINGS_MODAL"),RL="public_sharing_modal--modalContent--jGNPI",RR="public_sharing_modal--modalSave--Q9gNy",RO="public_sharing_modal--section--Krf8d",RF="public_sharing_modal--openSessionToggleContainer--MPaZN",RM="public_sharing_modal--toggle--3BEnT",RD="public_sharing_modal--checkboxRow--3-Ic9";var RP=a(289298);function RB(e){return e?e>24?{initialMaxDuration:Math.trunc(e/24),initialIsTimeMeasuredInDays:!0}:{initialMaxDuration:e,initialIsTimeMeasuredInDays:!1}:{initialMaxDuration:7,initialIsTimeMeasuredInDays:!0}}function RU(e){return e?(0,e$.t)("setting_tab.public_sharing.modal.days"):(0,e$.t)("setting_tab.public_sharing.modal.hours")}function RW(e,t,a){let r=(0,gZ.d6)(t),n=r===yO.w_.PASSWORD_REQUIRED||r===yO.w_.EXP_AND_PWD_REQUIRED,l=r===yO.w_.EXPIRATION_REQUIRED||r===yO.w_.EXP_AND_PWD_REQUIRED,{initialMaxDuration:i,initialIsTimeMeasuredInDays:s}=RB(a),[o,c]=ep.useState(r===yO.w_.BANNED),[d,m]=ep.useState(n),[u,_]=ep.useState(l),[p,g]=ep.useState(s),[E,f]=ep.useState(i.toString()),h=RV(E,p),v=h||""===E?void 0:p?(0,e$.t)("setting_tab.public_sharing.modal.days_error"):(0,e$.t)("setting_tab.public_sharing.modal.hours_error");return{formActions:{togglePublicLinksBanned:e=>{c(!e)},togglePublicLinksRequirePassword:e=>{m(e.currentTarget.checked)},togglePublicLinksRequireExpiration:e=>{_(e.currentTarget.checked)},changeMaxDuration:e=>{f(e.target.value)},setIsTimeMeasuredInDays:g,getDropdownOptions:()=>ep.createElement(ep.Fragment,null,ep.createElement(pv.W.CheckableOption,{key:"hours",onClick:()=>g(!1),checked:!p},RU(!1)),ep.createElement(pv.W.CheckableOption,{key:"days",onClick:()=>g(!0),checked:p},RU(!0)))},formState:{initialPublicLinkControlsSetting:r,isPublicLinksBanned:o,doPublicLinksRequirePassword:d,doPublicLinksRequireExpiration:u,isTimeMeasuredInDays:p,maxDuration:E,durationErrorMessage:v,canSave:h}}}function RV(e,t){let a=parseInt(e);if(isNaN(a)||a.toString()!==e)return!1;if(t){if(a>31||a<1)return!1}else if(a>24||a<1)return!1;return!0}function RG(e){return e.isPublicLinksBanned?yO.w_.BANNED:e.doPublicLinksRequireExpiration&&e.doPublicLinksRequirePassword?yO.w_.EXP_AND_PWD_REQUIRED:e.doPublicLinksRequireExpiration?yO.w_.EXPIRATION_REQUIRED:e.doPublicLinksRequirePassword?yO.w_.PASSWORD_REQUIRED:yO.w_.ALLOWED}function R$(e,t){return e.doPublicLinksRequireExpiration?RV(e.maxDuration,e.isTimeMeasuredInDays)?e.isTimeMeasuredInDays?24*parseInt(e.maxDuration):parseInt(e.maxDuration):(t(e5.s.error((0,e$.t)("org_actions.an_error_occurred"))),null):null}function Rj(e){let t=(0,od.A)(e.save,500,{leading:!0});return ep.createElement("div",{className:"public_sharing_modal--modalButtons--seR2y"},ep.createElement(eI.cw,{onClick:e.cancel},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),ep.createElement(eI.$$,{onClick:t,className:RR,disabled:!e.canSave},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.save"})))}function RH(e){let{errorMessage:t,dropdownKey:a,dropdownText:r,"aria-labelledby":n}=e,l=(0,eg.wA)(),i=(0,eg.d4)(e=>e.dropdownShown),s=ep.createRef(),o=()=>i&&i.type===a;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"public_sharing_modal--inputWithDropdown--6-Qr-"},ep.createElement("div",{className:t?"public_sharing_modal--inputWithError--eTZgU public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt":"public_sharing_modal--inputWithFocus--WKIKO autocomplete_input--inputWrapperFocused--PAR4O autocomplete_input--inputWrapper--NAFMt"},ep.createElement(uj.L,{className:"public_sharing_modal--input--TMJrL autocomplete_input--input--1J8Bs autocomplete_input--tokenPadding---bs7d",value:e.inputValue,onChange:e.onChange,"aria-labelledby":n})),ep.createElement("div",{className:"public_sharing_modal--select--wbzFi token_form--select--cUIKt role_row--select--6VpSS","aria-label":r,onClick:e=>{a&&(e.stopPropagation(),o()?l(tL.oB()):l(tL.j7({type:a})))}},ep.createElement("span",{className:"public_sharing_modal--selectSpan--R2uXv token_form--selectSpan--LbEAw"},r),ep.createElement("div",{className:"public_sharing_modal--caretWrapper--g7d2b token_form--caretWrapper--AaPI0 role_row--caretWrapper--P1Mak"},ep.createElement(eL.B,{svg:RP.A}))),o()&&ep.createElement(pv.W.Dropdown,{className:"public_sharing_modal--selectDropdown--mhOoA",dropdownRef:s},e.options)),!!t&&ep.createElement("div",{className:"public_sharing_modal--errorMessage--XH79u"},t))}function Rq(e){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.ml32.colorTextSecondary.$,id:"max-expiration-description"},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.expiration_description"})),ep.createElement(RH,{options:e.options,inputValue:e.inputValue,onChange:e.onChange,errorMessage:e.errorMessage,dropdownKey:e.dropdownKey,dropdownText:e.dropdownText,"aria-labelledby":"max-expiration-description"}))}function Rz(e){return ep.createElement("div",{className:"public_sharing_modal--internalSection--4jNQf"},ep.createElement("div",{className:RD},ep.createElement(uX.S,{label:(0,e$.t)("setting_tab.public_sharing.modal.password_required"),checked:e.doPublicLinksRequirePassword,onChange:e.togglePublicLinksRequirePassword})),e.displayExpiration&&ep.createElement("div",{className:RD},ep.createElement(uX.S,{label:(0,e$.t)("setting_tab.public_sharing.modal.expiration_required"),checked:e.doPublicLinksRequireExpiration,onChange:e.togglePublicLinksRequireExpiration})))}function RY(e){return ep.createElement("div",{className:RF},ep.createElement("div",{className:eT.cx.flex.flexColumn.$},ep.createElement("div",{className:"public_sharing_modal--sectionHeading--SMrch",id:"public-link-sharing"},e.labelText),ep.createElement("p",null,e.subText)),ep.createElement("div",{className:RM},ep.createElement(Cs.l,{"aria-labelledby":"public-link-sharing",on:!e.isPublicLinksBanned,onChange:e.togglePublicLinksBanned})))}var RK=a(476414);function RJ(e){let t=e.publicLinkControlsSetting===yO.w_.BANNED?(0,e$.t)("org_settings.workspace_controls.public_link_controls_setting_banned"):(0,e$.t)("org_settings.workspace_controls.public_link_controls_setting_allowed"),a=e.publicLinkControlsSetting===yO.w_.BANNED||e.publicLinkControlsSetting===yO.w_.ALLOWED?null:(0,e$.t)(`org_settings.workspace_controls.${e.publicLinkControlsSetting}`),r=e.publicLinkControlsSetting===yO.w_.BANNED?eT.cx.colorTextSecondary.$:eT.cx.colorTextSuccess.$;return ep.createElement("span",{className:eT.cx.flex.gap2.$},ep.createElement("span",{className:r},t),ep.createElement("span",{className:eT.cx.colorTextSecondary.$},a))}var RZ=a(445662),RQ=a(389983);function RX(e){return ep.createElement("button",{onClick:e.goBack,className:"workspace_public_sharing_modal--goBackButton--IeIwq"},ep.createElement(eL.B,{className:"workspace_public_sharing_modal--rotate--DvHuy",svg:RQ.A}),ep.createElement(du.E,{truncate:!0,color:"default"},e.workspace.name))}let R0=(0,am.Ju)(function({goBack:e,org:t,workspace:a}){let r=(0,eg.wA)(),{formState:n,formActions:l}=RW(t,a.publicLinkControlsSetting||null,parseInt(a.publicLinkControlsMaxExpiration)||null),i=(e,t)=>e===n.initialPublicLinkControlsSetting&&t===parseInt(a.publicLinkControlsMaxExpiration),s=ep.useCallback(()=>{r((0,e0.to)({type:R1,data:{workspace:a,goBack:e}}))},[r,a,e]);return ep.createElement(sn.XV,{title:ep.createElement(RX,{workspace:a,goBack:e}),maxWidth:480,minWidth:480,onClose:e,fixedTop:!0},ep.createElement("div",{className:eT.cx.px16.pt16.$},ep.createElement("div",{className:RO},ep.createElement(RY,{isPublicLinksBanned:n.isPublicLinksBanned,togglePublicLinksBanned:l.togglePublicLinksBanned,labelText:(0,e$.t)("settings_tab.public_sharing.workspace_public_sharing_label"),subText:(0,e$.t)("settings_tab.public_sharing.workspace_public_sharing_subtext")}),!n.isPublicLinksBanned&&ep.createElement(Rz,{displayExpiration:!!t.bigma_enabled,doPublicLinksRequireExpiration:n.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:n.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:l.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:l.togglePublicLinksRequireExpiration}),!n.isPublicLinksBanned&&n.doPublicLinksRequireExpiration&&ep.createElement(Rq,{inputValue:n.maxDuration,onChange:l.changeMaxDuration,errorMessage:n.durationErrorMessage,dropdownKey:"workspace-public-sharing-modal-expiration-dropdown",dropdownText:RU(n.isTimeMeasuredInDays),options:l.getDropdownOptions()}))),ep.createElement("div",{className:eT.cx.flex.pl16.itemsCenter.$},a.hasCustomPublicLinkControlsSetting&&ep.createElement("span",{className:"workspace_public_sharing_modal--secondaryTextColor---sge7"},ep.createElement(eI.jG,{onClick:s},ep.createElement(e$.Tx,{id:"org_settings.workspace_controls.remove_custom_settings"}))),ep.createElement("div",{className:eT.cx.mlAuto.$},ep.createElement(Rj,{cancel:e,canSave:n.canSave,save:()=>{let t=RG(n),l=R$(n,r);if(RV(n.maxDuration,n.isTimeMeasuredInDays)){if(i(t,l)&&a.hasCustomPublicLinkControlsSetting)return e();RZ.u.updatePublicLinkControlsSetting({workspaceId:a.id,publicLinkControlsSetting:t,publicLinkControlsMaxExpiration:l}).then(()=>{r(e5.s.flash((0,e$.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),e()}).catch(()=>{r(e5.s.error((0,e$.t)("org_actions.an_error_occurred")))})}}}))))},"WORKSPACE_PUBLIC_SHARING_MODAL"),R1=(0,am.Ju)(function({workspace:e,goBack:t}){let a=(0,eg.wA)();return ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.public_sharing.remove_custom_workspace_settings"),maxWidth:480,minWidth:480,onClose:t,fixedTop:!0},ep.createElement("div",{className:RL},ep.createElement("div",{className:eS()(RO,eT.cx.px16.pt16.$)},ep.createElement(e$.Tx,{id:"setting_tab.remove_custom_workspace_setting_warning",workspaceName:e.name})),ep.createElement("div",{className:eT.cx.flex.mb16.mlAuto.pr16.$},ep.createElement(eI.cw,{onClick:t,className:eT.cx.mr8.$},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.cancel"})),ep.createElement(eI.qZ,{onClick:()=>{RZ.u.updatePublicLinkControlsSetting({workspaceId:e.id,publicLinkControlsSetting:null,publicLinkControlsMaxExpiration:null}).then(()=>{a(e5.s.flash((0,e$.t)("setting_tab.successfully_updated_workspace_public_link_controls"))),t(),t()}).catch(()=>{a(e5.s.error((0,e$.t)("org_actions.an_error_occurred")))})},className:RR},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.remove"})))))},"RESET_WORKSPACE_CUSTOM_SETTINGS_WARNING_MODAL");function R2(){return ep.createElement("div",{className:"workspace_level_public_link_controls_search--addWorkspaceIcon--GMVAU"},ep.createElement(le.In,{icon:"plus-32"}))}let R4=eT.cx.fontSemiBold.font11.lh16.colorText.$,R3=eT.cx.font11.lh16.colorTextSecondary.$;function R8({org:e,displaySearch:t,setDisplaySearch:a}){var r,n;let l=(0,t5.Rs)(ai.PVh,{orgId:e.id}),i=(0,eg.wA)(),s=[...(null==(n=null==(r=l.data)?void 0:r.org)?void 0:n.workspaces)??[]];(0,tl.KQ)(s,"name");let o=s.filter(e=>e.hasCustomPublicLinkControlsSetting),c=ep.useCallback(()=>i(e0.Lo()),[i]),d=ep.useCallback(t=>{i((0,e0.to)({type:R0,data:{org:e,workspace:t,goBack:c}}))},[e,i,c]);return ep.createElement("div",{className:eT.cx.pt12.$,style:u1.sx.add({borderTop:"1px solid var(--color-border)"}).$},ep.createElement("div",{className:eT.cx.mt8.mb16.$},ep.createElement("p",{className:R4},ep.createElement(e$.Tx,{id:"org_settings.workspace_controls.header_text"})),ep.createElement("p",{className:R3},ep.createElement(e$.Tx,{id:"org_settings.workspace_controls.sub_header_text"}))),ep.createElement(ej.Y,{direction:"vertical",spacing:8},ep.createElement("div",{className:eT.cx.maxH32.h32.wFull.$},t?ep.createElement(R6,{org:e,workspaces:s,hide:()=>{a(!1)}}):ep.createElement(R5,{ariaLabel:(0,e$.t)("settings_tab.add_workspace_label"),avatar:ep.createElement(R2,null),mainText:(0,e$.t)("settings_tab.add_workspace_label"),onClick:()=>a(!0)})),ep.createElement("div",{className:eS()(eT.cx.flex.flexColumn.gap8.wFull.$,"workspace_level_public_link_controls_search--customWorkspaceContainer--5KTEM",{"workspace_level_public_link_controls_search--loaded--xKUFX":"loaded"===l.status})},o.map(e=>ep.createElement("div",{key:e.name,className:"workspace_level_public_link_controls_search--customWorkspaceRow--0QKZS"},ep.createElement(ej.Y,{direction:"horizontal",spacing:8},ep.createElement(R5,{key:e.name,onClick:()=>d(e),avatar:ep.createElement(e7.z6,{size:24,entity:e}),rightElement:ep.createElement(le.In,{icon:"chevron-right-32"}),ariaLabel:e.name,mainText:e.name,subText:e.publicLinkControlsSetting&&ep.createElement(RJ,{publicLinkControlsSetting:e.publicLinkControlsSetting})})))))))}function R5(e){let t=e.disabled?eT.cx.maxW250.$:"workspace_level_public_link_controls_search--maxWidth350--4QB4D";return ep.createElement("button",{onClick:()=>!e.disabled&&e.onClick&&e.onClick(),className:eS()(eT.cx.flex.flexRow.wFull.itemsCenter.gap8.$,{"workspace_level_public_link_controls_search--workspaceRowHoverable--E-X4-":e.withHoverStyles,"workspace_level_public_link_controls_search--selectedWorkspaceRow--iAM2W":e.isSelected,"workspace_level_public_link_controls_search--withPadding--sRhRb":e.withPadding,"workspace_level_public_link_controls_search--disabled--OOK6t":e.disabled}),disabled:e.disabled,"aria-labelledby":e.ariaLabel},ep.createElement("div",null,e.avatar),ep.createElement("div",{className:t},ep.createElement(ej.Y,{direction:"vertical",verticalAlignItems:"center",spacing:0},ep.createElement(du.E,{color:e.disabled?"disabled":"default",truncate:!0},e.mainText),e.subText&&ep.createElement("p",{className:R3},e.subText))),e.rightElement&&ep.createElement("div",{className:eT.cx.mlAuto.$},e.rightElement))}function R6(e){let{hide:t,org:a,workspaces:r}=e,n=(0,eg.wA)(),[l,i]=ep.useState({inputValue:"",tokens:[],errorMessage:""}),[s,o]=ep.useState(r),c=ep.useRef(null),[d,m]=ep.useState("auto");(0,RK.e)(c,t);let u=ep.useCallback(e=>{let t=e.inputValue.toLowerCase();i(t=>({...t,inputValue:e.inputValue})),o(r.filter(e=>e.name.toLowerCase().includes(t)))},[r]),_=ep.useCallback(e=>{n((0,e0.to)({type:R0,data:{org:a,workspace:e,goBack:()=>n(e0.Lo())}}))},[n,a]);return ep.useEffect(()=>{let e=c.current;e&&m(e.getBoundingClientRect().bottom)},[c]),ep.createElement("div",{ref:c,className:eT.cx.wFull.h32.maxH32.$},ep.createElement(kE.P,{autocomplete:l,placeholder:(0,e$.t)("org_settings.workspace_controls.search_placeholder_text"),inviteInputClassName:eT.cx.borderBox.maxH32.p0.$,autocompleteResultsClassName:eS()(eT.cx.colorBg.overflowAuto.$,"workspace_level_public_link_controls_search--workspaceSearchResults--MhuIy"),autocompleteResultsStyling:{top:d},validateToken:ev.lQ,onChange:u,autoFocus:!0,onCustomSelectSearchResult:e=>{e.hasCustomPublicLinkControlsSetting||_(e)},SearchResultComponent:({searchResult:e,isSelected:t})=>{let a=e.hasCustomPublicLinkControlsSetting;return ep.createElement(R5,{ariaLabel:e.name,mainText:e.name,avatar:ep.createElement(e7.z6,{size:24,entity:e}),isSelected:!a&&t,disabled:a,rightElement:a?ep.createElement(e$.Tx,{id:"org_settings.workspace_controls.has_custom_settings"}):void 0,withPadding:!0,withHoverStyles:!0})},TokenComponent:R9,searchResults:()=>s,onEsc:t}))}function R9(e){return null}let R7=(0,am.Ju)(function(){var e,t;let a=(0,eg.wA)(),[r,n]=ep.useState(!1),l=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),{formState:i,formActions:s}=RW(l,null==(e=l.shared_org_license_group_settings)?void 0:e.public_link_controls_setting,null==(t=l.shared_org_license_group_settings)?void 0:t.public_link_controls_max_expiration),o=()=>a(e0.Lo()),[c,d]=(0,ep.useState)(!!l.workshop_enabled),m=(e,t)=>{var a;return e===i.initialPublicLinkControlsSetting&&!!l.workshop_enabled===c&&t===(null==(a=l.shared_org_license_group_settings)?void 0:a.public_link_controls_max_expiration)},u=l.bigma_enabled&&(0,mw.ro)(l);return ep.createElement(sn.XV,{title:(0,e$.t)("settings_tab.public_sharing_title"),onClose:o,maxWidth:480,minWidth:480,fixedTop:!0},ep.createElement(ep.Fragment,null,ep.createElement("div",{className:RL},ep.createElement(ac.P,{className:"public_sharing_modal--scrollableContent--wusRm",scrollingDisabled:r,hideScrollbar:r},ep.createElement("div",{className:eS()(RO,eT.cx.mt16.$)},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.description"})),ep.createElement("div",{className:RO},ep.createElement(RY,{isPublicLinksBanned:i.isPublicLinksBanned,togglePublicLinksBanned:s.togglePublicLinksBanned,labelText:(0,e$.t)("setting_tab.public_sharing.modal.public_link_sharing_header"),subText:(0,e$.t)("setting_tab.public_sharing.modal.public_link_sharing_toggle")}),!i.isPublicLinksBanned&&l.bigma_enabled&&ep.createElement(Rz,{displayExpiration:!!l.bigma_enabled,doPublicLinksRequireExpiration:i.doPublicLinksRequireExpiration,doPublicLinksRequirePassword:i.doPublicLinksRequirePassword,togglePublicLinksRequirePassword:s.togglePublicLinksRequirePassword,togglePublicLinksRequireExpiration:s.togglePublicLinksRequireExpiration}),!i.isPublicLinksBanned&&i.doPublicLinksRequireExpiration&&l.bigma_enabled&&ep.createElement(Rq,{inputValue:i.maxDuration,onChange:s.changeMaxDuration,errorMessage:i.durationErrorMessage,dropdownKey:"org-public-sharing-modal-expiration-dropdown",dropdownText:RU(i.isTimeMeasuredInDays),options:s.getDropdownOptions()})),ep.createElement("div",{className:RO},ep.createElement("div",{className:RF},ep.createElement("div",{className:eT.cx.flex.flexColumn.$},ep.createElement("span",{id:"open-sessions",className:eT.cx.fontBold.$},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_header"})),ep.createElement("span",{className:eT.cx.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"setting_tab.public_sharing.modal.open_sessions_toggle"}))),ep.createElement("div",{className:RM},ep.createElement(Cs.l,{"aria-labelledby":"open-sessions",on:c,onChange:e=>d(e)})))),c&&(i.doPublicLinksRequirePassword||i.doPublicLinksRequireExpiration)&&ep.createElement("div",{className:"public_sharing_modal--openSessionsNote--gSNzr"},ep.createElement(e$.Tx,{id:"settings_tab.public_sharing.modal.open_sessions_note"})),u&&ep.createElement(R8,{org:l,displaySearch:r,setDisplaySearch:n})),u&&ep.createElement("div",{className:"public_sharing_modal--modalDivider--gc2Ib"}),ep.createElement(Rj,{cancel:o,canSave:i.canSave,save:()=>{let e=RG(i),t=R$(i,a);if(!RV(i.maxDuration,i.isTimeMeasuredInDays))return;if(m(e,t)){o();return}let r=(0,e$.t)("org_settings.public_link_sharing.success"),n=()=>{a(C0.yo({payload:{public_link_controls_setting:e,workshop_enabled:c,public_link_controls_max_expiration:t},successMessage:r}))};e===yO.w_.BANNED?a((0,e0.to)({type:Oe,data:{onConfirm:n,isOpenSessionsEnabled:c}})):(o(),n())}}))))},"PUBLIC_SHARING_MODAL"),Oe=(0,am.Ju)(function(e){let t,a,r;let n=(0,eg.wA)();return e.isOpenSessionsEnabled?(t=(0,e$.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_title"),a=(0,e$.t)("settings_tab.public_sharing.confirmation_modal.disable_public_links_submit"),r=ep.createElement(e$.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_links_description"})):(t=(0,e$.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_title"),a=(0,e$.t)("settings_tab.public_sharing.confirmation_modal.disable_public_sharing_submit"),r=ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.main"}),ep.createElement("ul",{className:"public_sharing_modal--bulletList--uA22J"},ep.createElement("li",null,ep.createElement(e$.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figma_design"})),ep.createElement("li",null,ep.createElement(e$.Tx,{id:"settings_tab.public_sharing.confirmation_modal.disable_public_sharing_description.figjam"}))))),ep.createElement(au.Rw,{confirmationTitle:t,confirmText:a,onConfirm:e.onConfirm,destructive:!0,tintedModalBackground:!0,dispatch:n},r)},"CONFIRM_PUBLIC_SHARING_OFF_MODAL");var Ot=a(54816);class Oa extends ep.PureComponent{constructor(e){super(e),this.hide=()=>{this.props.dispatch(e0.Ce()),this.props.onHide&&this.props.onHide()},this.onCreateTokenSuccess=(e,t)=>{this.props.onSubmit(e,t,e=>this.setState({error:e})).then(e=>{e&&this.hide(),this.setState({pendingPut:!1})})},this.onSubmitCardAndAddress=e=>{if(this.setState({error:null}),e&&e.preventDefault(),!this.state.cardEl)return;this.setState({pendingPut:!0});let t="An error occurred while reading your card.";(0,uV.Ey)(this.state.cardEl).then(e=>{if(e.error)this.props.dispatch(e5.s.error(e.error.message||t)),this.setState({pendingPut:!1});else{if(e&&e.token)return(0,uV.To)(e.token.id,this.props.estimatedChargeCents,this.props.currency||"usd").then(e=>{this.onCreateTokenSuccess({setup_intent:e},this.state.address)});this.props.dispatch(e5.s.error("Sorry, we're unable to change your payment source. Refresh and try again."))}}).catch(e=>{var a;this.props.dispatch(e5.s.error((null==(a=e.data)?void 0:a.message)||e.message||t)),this.setState({pendingPut:!1})})},this.state={address:(0,mq.EB)(e.defaultCountry),cardEl:null,pendingPut:!1,error:null}}render(){return ep.createElement(au.Nb,{hide:this.hide,size:464,className:Ot.ut},ep.createElement("div",{className:Ot.dv},ep.createElement("div",{className:Ot.gr},ep.createElement(e$.Tx,{id:"change_payment.enter_credit_or_debit_card"})),ep.createElement(u7.Jn,{className:Ot.b,onClick:this.hide,innerText:"close"})),null!=this.state.error?ep.createElement("div",{className:Ot.jy},ep.createElement(uR._,{color:uR.S.ERROR,text:this.state.error})):null,ep.createElement("form",{onSubmit:this.onSubmitCardAndAddress},ep.createElement(uK.n,{id:"change-payment-modal-form",cardId:"change-payment-modal-card",address:this.state.address,onCardReady:e=>this.setState({cardEl:e}),onAddressChange:e=>this.setState({address:e}),isCommunityCheckout:!1}),ep.createElement("div",{className:Ot.v0},ep.createElement("div",{className:Ot._f}),ep.createElement(eI.vd,{tabIndex:0,type:"submit",disabled:this.state.pendingPut},ep.createElement(e$.Tx,{id:"change_payment.use_this_card"})))))}}Oa.displayName="ChangePaymentModal";let Or=(0,am.Ju)(Oa,"OrgChangePaymentModal");function On({org:e,billableSeats:t}){let a=(0,eg.wA)(),r=(0,uJ.Oy)(t,"usd",e.plan||mH.ju.ORGANIZATION),n=async(t,r)=>{var n,l;let i={source_token:null==(n=t.token)?void 0:n.id,payment_method:null==(l=t.setup_intent)?void 0:l.payment_method,address:r};try{await uG.Eh.updateOrgPaymentMethod({orgId:e.id,paymentMethod:i})}catch(e){return(0,pM.UE)(e,a),!1}return a(t6.F.enqueue({message:(0,e$.t)("org_admin_settings.billing_details.successfully_updated_your_payment_source")})),!0};return ep.createElement(Ab,{key:"change-payment-method",label:(0,e$.t)("org_admin_settings.settings_tab.billing.change_payment_method.label"),description:(0,e$.t)("org_admin_settings.settings_tab.billing.change_payment_method.description"),onClick:()=>{a((0,e0.to)({type:Or,data:{dispatch:a,defaultCountry:(0,aQ.aE)(),estimatedChargeCents:r,onSubmit:n}}))}})}let Ol="team_creation_controls_modal--settingLabel--iIFIb",Oi="team_creation_controls_modal--description--bhS6C",Os="team_creation_controls_modal--radioLabel--3PgPp",Oo=(0,am.Ju)(function(){var e;let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.orgById[e.currentUserOrgId]),r=(0,pf.c4)(a.id).data,n=()=>t(e0.Ce()),[l,i]=(0,ep.useState)((null==(e=a.shared_org_license_group_settings)?void 0:e.team_creation_controls)?a.shared_org_license_group_settings.team_creation_controls:null);return ep.createElement(eH.fu,{name:"Team Creation Control Setting Modal",properties:{orgId:a.id}},ep.createElement(sn.Eo,{title:(0,e$.t)("org_settings.team_creation.modal",{organization:a.name}),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:()=>{if(a.shared_org_license_group_settings&&l===a.shared_org_license_group_settings.team_creation_controls||l===a.shared_org_license_group_settings){n();return}t(C0.yo({payload:{team_creation_controls:l},successMessage:(0,e$.t)("org_settings.team_creation.success")})),n()},confirmText:(0,e$.t)("org_settings.team_creation.save_button")},ep.createElement("div",null,ep.createElement(cO.z,{value:l??yO.$q.TEAM_CREATION_CONTROLS_ANYONE,onChange:e=>{let t=null;"none"!==e&&(t=e),i(t)}},ep.createElement(cO.Z,{key:yO.$q.TEAM_CREATION_CONTROLS_ANYONE,value:yO.$q.TEAM_CREATION_CONTROLS_ANYONE,labelClassName:Os,className:"team_creation_controls_modal--option--FVN-i"},ep.createElement("div",{className:Ol},ep.createElement("div",null,(0,e$.t)("org_settings.team_creation.any.title")),ep.createElement("div",{className:Oi},(0,e$.t)("org_settings.team_creation.any.description")))),ep.createElement(cO.Z,{key:yO.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY,value:yO.$q.TEAM_CREATION_CONTROLS_ADMIN_ONLY,labelClassName:Os},ep.createElement("div",{className:Ol},ep.createElement("div",null,(0,e$.t)("org_settings.team_creation.admin_only.title")),ep.createElement("div",{className:Oi},r?(0,e$.t)("org_settings.team_creation.admin_only.description.workspaces"):(0,e$.t)("org_settings.team_creation.admin_only.description.no_workspaces"))))))))},"TEAM_CREATION_CONTROLS_MODAL");function Oc(e){var t,a,r,n,l,i;let{org:s,orgDomains:o,orgSamlConfig:c}=e,d=(0,eg.wA)(),m=(0,tR.Pc)(),[u,_]=ep.useState(!1),[p,g]=ep.useState(!1),E=(0,pf.c4)(s.id??null).data;ep.useEffect(()=>{uG.Eh.getShowVatGst({orgId:s.id}).then(({data:e})=>{g(e.meta.show_vat_gst_id)})},[s.id]),ep.useEffect(()=>{p&&As(Ao.m,()=>{C0.Hq({org:s,dispatch:d})})},[p,d,s]);let f=[ep.createElement(Ab,{key:"org-handle",label:(0,e$.t)("settings_tab.modify_community_handle_label"),description:(0,e$.t)("settings_tab.modify_community_handle_description"),currentValue:s.community_profile_handle?`@${s.community_profile_handle}`:"",onClick:()=>{d(e0.to({type:NP.S3,data:{orgId:s.id,profileId:s.community_profile_id,profileHandle:s.community_profile_handle}}))}})];s.community_profile_id&&(f.push(ep.createElement(Ab,{key:"delete-profile",label:(0,e$.t)("settings_tab.delete_community_label"),description:(0,e$.t)("settings_tab.delete_community_description"),onClick:()=>{s.community_profile_id&&s.community_profile_handle&&d((0,e0.to)({type:NB.M,data:{dispatch:d,profileId:s.community_profile_id,handle:s.community_profile_handle}}))}})),f.push(ep.createElement(Ab,{key:"restrict-comments",label:(0,e$.t)("settings_tab.community_commenters_label"),description:(0,e$.t)("settings_tab.community_commenters_description"),onClick:()=>{s.community_profile_id&&d((0,e0.to)({type:NW.J,data:{profileId:s.community_profile_id,profileHandle:s.community_profile_handle,emptyStateText:`@${s.community_profile_handle} currently has no restricted commenters.`}}))}})));let h={title:(0,e$.t)("settings_tab.section_header.profile"),settings:f},v={title:(0,e$.t)("settings_tab.section_header.team_management"),settings:[ep.createElement(Ab,{key:"team-creation-controls",label:(0,e$.t)("settings_tab.team_creation_label"),description:(0,e$.t)("settings_tab.team_creation_description"),onClick:()=>{d((0,e0.to)({type:Oo}))}})]},b={title:(0,e$.t)("settings_tab.section_header.domains"),settings:[ep.createElement(Aw,{user:m,tag:"a_add_domain",key:"add-domain",label:(0,e$.t)("settings_tab.add_domain_label"),description:ep.createElement(ep.Fragment,null,ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_tab.add_domain_description"})),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_tab.domain_list",numDomains:o.length,domains:ep.createElement("span",null," ",ep.createElement(bX.T,{formatType:"disjunction"},o.map(e=>ep.createElement("span",{key:e.domain},e.domain))))})))})]},y=[];(0,dN.kA)(s)&&y.push(ep.createElement(Ab,{key:"guest-controls",label:(0,e$.t)("settings_tab.guest_membership_label"),description:(0,e$.t)("settings_tab.guest_membership_description"),onClick:()=>{d((0,e0.to)({type:Rb}))}})),(0,dN.mU)(s)?y.push(ep.createElement(Ab,{key:"external-collab-controls",label:(0,e$.t)("settings_tab.external_collaboration_controls_label"),description:(0,e$.t)("settings_tab.external_collaboration_controls_description",{orgName:s.name}),currentValue:(null==(t=s.shared_org_license_group_settings)?void 0:t.external_collaboration_controls)?(0,e$.t)("settings_tab.disabled"):(0,e$.t)("settings_tab.enabled"),onClick:()=>{d((0,e0.to)({type:RE}))}})):(0,dN.ZY)(s)&&y.push(ep.createElement(Aw,{user:m,tag:"a_permissions",key:"external-collab-controls",label:(0,e$.t)("settings_tab.external_collaboration_controls_label"),description:(0,e$.t)("settings_tab.external_collaboration_controls_description",{orgName:s.name}),contactSupportCopy:(0,e$.t)("settings_tab.contact_support_to_disable"),contactSupportTooltipCopy:(0,e$.t)("settings_tab.domain_capture_contact_support_tooltip_copy")})),y.push(ep.createElement(Ab,{key:"public-sharing",label:(0,e$.t)("settings_tab.public_sharing_title"),description:(0,e$.t)("settings_tab.public_sharing_description"),onClick:()=>{d((0,e0.to)({type:R7}))}})),(0,dN.kA)(s)&&y.push(ep.createElement(Ab,{key:"autogen-password-controls",label:(0,e$.t)("settings_tab.password_controls_settings_label"),description:(0,e$.t)("settings_tab.password_controls_settings_description",{orgName:s.name}),onClick:()=>{d((0,e0.to)({type:L5}))}})),(0,dN.ag)(s)&&y.push(ep.createElement(Aw,{user:m,tag:"a_something_else",key:"ip_restriction",label:(0,e$.t)("settings_tab.network_access_restriction_label"),description:ep.createElement(ep.Fragment,null,ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_tab.ip_restriction_description",orgName:s.name})),ep.createElement("span",null,0!==s.ip_ranges.length?ep.createElement(e$.Tx,{id:"settings_tab.ip_restriction_range",ipRanges:ep.createElement(bX.T,{formatType:"unit"},s.ip_ranges.map(e=>ep.createElement("span",{key:e},e)))}):ep.createElement(ep.Fragment,null)))}));let w={title:(0,e$.t)("settings_tab.section_header.external_access"),settings:y},T=(null==(a=null==c?void 0:c.config)?void 0:a.idp_name)?(0,e$.t)("settings_tab.enabled"):(0,e$.t)("settings_tab.disabled"),x=[ep.createElement(Ab,{key:"authentication",label:(0,e$.t)("settings_tab.authentication_label"),description:(0,e$.t)("settings_tab.authentication_description"),currentValue:function(e){let t=(0,dN._g)(e);switch(t){case mH.Ct.SAML:return(0,e$.t)("settings_tab.sso_method.saml_only");case mH.Ct.GOOGLE:return(0,e$.t)("settings_tab.sso_method.google_only");case mH.Ct.ANY:return(0,e$.t)("settings_tab.sso_method.any_method");default:(0,eC.xb)(t)}}(s),onClick:()=>{d((0,e0.to)({type:L4}))}}),ep.createElement(Ab,{key:"saml",label:(0,e$.t)("settings_tab.saml_label"),description:(0,e$.t)("settings_tab.saml_description"),currentValue:T,onClick:()=>{d((0,e0.to)({type:AG}))}}),ep.createElement(Ab,{key:"scim",label:(0,e$.t)("settings_tab.scim_label"),description:(0,e$.t)("settings_tab.scim_description"),currentValue:(0,dN.cg)(c)?(0,e$.t)("settings_tab.enabled"):(0,e$.t)("settings_tab.disabled"),onClick:()=>{d((0,e0.to)({type:L0}))}})];if((0,dN.kA)(s)&&x.push(ep.createElement(Ab,{key:"idle-sesstion-timeout-setting",label:(0,e$.t)("settings_tab.idle_session_timeout_label"),description:(0,e$.t)("settings_tab.idle_session_timeout_description"),currentValue:function(e){if(null==e)return(0,e$.t)("settings_tab.idle_session_timeout_default_duration");let[t,a]=(0,yA.qr)(e);return(0,e$.t)(`settings_tab.idle_session_timeout.time.${a}`,{duration:t})}(null==(r=s.shared_org_license_group_settings)?void 0:r.idle_timeout_duration_in_secs),onClick:()=>{var e;d((0,e0.to)({data:{idleTimeoutDurationInSecs:null==(e=s.shared_org_license_group_settings)?void 0:e.idle_timeout_duration_in_secs,orgId:s.id},type:RA}))}})),x.push(ep.createElement(Ab,{key:"default-role",label:(0,e$.t)("settings_tab.default_role_label.seat_rename"),description:ep.createElement(e$.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,e$.t)("settings_table.organization")}),onClick:()=>{d((0,e0.to)({type:LS,data:{planType:Am.ORGANIZATION,planId:s.id}}))}})),(0,dN.kA)(s)&&E){let e=!!s.workspaces_nux_active_at,t=!e;x.push(ep.createElement(AT,{key:"workspace-selector",label:(0,e$.t)("settings_tab.workspace_selector_label"),description:ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"settings_tab.workspace_selector_description_with_link"}),ep.createElement(eI.CY,{trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/7249713835799"},ep.createElement(du.E,{i18nId:"general.learn_more"}))),isActive:e,onToggle:()=>{d(C0.yo({payload:{workspaces_nux_enabled:t},successMessage:t?(0,e$.t)("license_group.workspace_selector_is_visible"):(0,e$.t)("license_group.workspace_selector_is_hidden")}))}}))}let C={title:(0,e$.t)("settings_tab.section_header.login_and_provisioning"),settings:x},N={title:(0,e$.t)("settings_tab.section_header.billing"),description:ep.createElement(ep.Fragment,null),settings:[]};if(e.renewalDate){let t=(i=e.renewalDate)?(0,pN.A)(i).format("MMMM D, YYYY"):"";N.description=ep.createElement("div",{className:"settings_section--sectionDescription--rUoGP"},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_table.subscription_renewal",frequency:"annual",billing_date:ep.createElement("span",{className:"settings_section--boldText--NdRyj"},ep.createElement(e$.Tx,{id:"settings_table.billing_date",billing_date:t})),more:ep.createElement("button",{className:"settings_section--link--gbIUo",onClick:()=>{d((0,e0.to)({type:LK,data:{subscriptionStart:t}}))}},ep.createElement(e$.Tx,{id:"settings_table.learn_more"}))})))}N.settings.push(ep.createElement(On,{org:s,billableSeats:e.billableSeats})),(null==(n=s.shared_org_license_group_settings)?void 0:n.configured_upgrade_request_setting)&&N.settings.push(ep.createElement(Aw,{user:m,label:(0,e$.t)("settings_tab.configured_upgrade_request_flow.label"),description:(null==(l=s.shared_org_license_group_settings)?void 0:l.configured_upgrade_request_setting)===yO.Sm.MEMBERS?(0,e$.t)("settings_tab.configured_upgrade_request_flow.description_members"):(0,e$.t)("settings_tab.configured_upgrade_request_flow.description_all_users")})),N.settings.push(ep.createElement(Ab,{key:"upgrade-notifications",label:(0,e$.t)("settings_tab.new_editor_notifications.seat_rename"),description:(0,e$.t)("settings_tab.new_editor_notifications_description.seat_rename"),onClick:()=>{d((0,e0.to)({type:LV,data:{planType:Am.ORGANIZATION,planId:s.id}}))}})),N.settings.push(ep.createElement(Ab,{key:"billing-contacts",label:(0,e$.t)("settings_table.billing_contacts"),description:(0,e$.t)("settings_table.billing_contacts_description"),onClick:()=>{d(Od({orgId:s.id,currentContact:e.adminEmail||""}))}}));let k={title:(0,e$.t)("settings_tab.section_header.extensions"),settings:[]};k.settings.push(ep.createElement(Ab,{key:"plugin-admin-approval",label:(0,e$.t)("settings_tab.plugin_approval_label"),description:(0,e$.t)("settings_tab.plugin_approval_description"),testId:"plugin-approval-setting-action",onClick:()=>{d((0,e0.to)({type:I$,data:{orgId:s.id,extensionType:"plugin"}}))}}),ep.createElement(Ab,{key:"widget-admin-approval",label:(0,e$.t)("settings_tab.widget_admin_approval_label"),description:(0,e$.t)("settings_tab.widget_admin_approval_description"),testId:"widget-approval-setting-action",onClick:()=>{d((0,e0.to)({type:I$,data:{orgId:s.id,extensionType:"widget"}}))}})),k.settings.push(ep.createElement(Ab,{key:"dev-mode-plugins",label:(0,e$.t)("settings_tab.dev_mode_label"),description:(0,e$.t)("settings_tab.dev_mode_description"),onClick:()=>{d((0,e0.to)({type:Ly}))}}));let S={title:(0,e$.t)("settings_tab.section_header.ai_beta"),settings:[]};S.settings.push(ep.createElement(AT,{key:"ai_opt_out",label:(0,e$.t)("settings_tab.ai_beta.figma_and_figjam_ai"),description:ep.createElement(e$.Tx,{id:"settings_tab.ai_beta.let_users_access_ai_features",learnMoreLink:ep.createElement("a",{target:"_blank",rel:"noopener",className:"settings_section--blueLink--r5rrf blue_link--blueLink--9rlnd",href:NV.W9},ep.createElement(e$.Tx,{id:"file_browser.team_settings.learn_more"}))}),descriptionClassName:"settings_section--descriptionWithChildren--2aduX",isActive:!s.ai_features_disabled,onToggle:e=>{let t=e?(0,e$.t)("settings_tab.ai_beta.enable_success"):(0,e$.t)("settings_tab.ai_beta.disable_success");d(C0.yo({payload:{ai_features_disabled:!e},successMessage:t}))}}));let I={title:(0,e$.t)("settings_tab.section_header.other"),settings:[]};if(I.settings.push(ep.createElement(AT,{key:"audio",label:(0,e$.t)("settings_tab.audio_label"),description:(0,e$.t)("settings_tab.audio_description"),isActive:!!s.voice_enabled,onToggle:e=>{let t=e?(0,e$.t)("settings_tab.audio_enabled"):(0,e$.t)("settings_tab.audio_disabled");d(C0.yo({payload:{voice_enabled:e},successMessage:t}))}})),I.settings.push(ep.createElement(AT,{key:"custom-templates",label:(0,e$.t)("settings_tab.custom_templates_label"),description:(0,e$.t)("settings_tab.custom_templates_description"),isActive:!!s.are_custom_templates_allowed,onToggle:e=>{let t=e?(0,e$.t)("settings_tab.custom_templates_enabled"):(0,e$.t)("settings_tab.custom_templates_disabled");d(C0.yo({payload:{custom_templates_allowed:e},successMessage:t}))}})),(0,dN.kA)(s)&&I.settings.push(ep.createElement(AT,{key:"cursor-chat",label:(0,e$.t)("settings_tab.cursor_chat_label"),description:(0,e$.t)("settings_tab.cursor_chat_description"),isActive:!s.cursor_chat_disabled,onToggle:e=>{d(C0.yo({payload:{cursor_chat_disabled:!e},successMessage:e?(0,e$.t)("settings_tab.enable_cursor_chat_success"):(0,e$.t)("settings_tab.disable_cursor_chat_success")}))}})),s.community_profile_handle&&I.settings.push(ep.createElement(AT,{key:"community-file-publishing",label:(0,e$.t)("settings_tab.community_file_publishing_label"),description:(0,e$.t)("settings_tab.community_file_publishing_description"),isActive:!!s.cmty_publish_as_user_enabled,onToggle:e=>{d(C0.yo({payload:{cmty_publish_as_user_enabled:e},successMessage:e?(0,e$.t)("settings_tab.enable_community_file_publishing_success"):(0,e$.t)("settings_tab.disable_community_file_publishing_success")}))}})),(0,dN.cg)(c)&&I.settings.push(ep.createElement(Ab,{key:"member-metadata",label:(0,e$.t)("settings_tab.member_metadata_label"),description:(0,e$.t)("settings_tab.member_metadata_description"),currentValue:s.featured_scim_metadata?(0,dN.du)(s.featured_scim_metadata):"",onClick:()=>d((0,e0.to)({type:L6}))})),I.settings.push(ep.createElement(Ab,{key:"authentication",label:(0,e$.t)("settings_tab.connected_apps"),description:(0,e$.t)("settings_tab.connected_apps_description"),onClick:()=>{d((0,e0.to)({type:Rs,data:{org:s}}))}})),I.settings.push(ep.createElement(Ab,{key:"compliance-hub",label:(0,e$.t)("org_admin_settings.compliance_center_label"),description:(0,e$.t)("org_admin_settings.compliance_center_description"),onClick:()=>(0,l2.FJ)("/conveyor/sso","_blank")})),(0,dN.kA)(s)){let e=async e=>{var t,a;let r=await fetch("win"===e?"https://desktop.figma.com/win/releases.xml":"https://desktop.figma.com/mac-universal/releases.xml"),n=await r.text(),[l,i]=[null==(t=n.match(/<title>Figma (\d+\.\d+\.\d+)<\/title>/))?void 0:t[1],null==(a=n.match(/<pubDate>(.*?)<\/pubDate>/))?void 0:a[1]];l&&i&&d((0,e0.to)({type:Rd,data:{version:l,releaseDate:i,platform:e}}))};I.settings.push(ep.createElement(Ab,{key:"enterprise-installer",label:(0,e$.t)("org_admin_settings.enterprise_installer_label"),description:(0,e$.t)("org_admin_settings.enterprise_installer_description"),onClick:()=>e("win")})),I.settings.push(ep.createElement(Ab,{key:"enterprise-installer",label:(0,e$.t)("org_admin_settings.enterprise_installer_label_mac"),description:(0,e$.t)("org_admin_settings.enterprise_installer_description_mac"),onClick:()=>e("mac")}))}p&&I.settings.push(ep.createElement(Ab,{label:(0,e$.t)("settings_tab.vat_gst"),description:(0,e$.t)("settings_tab.change_vat_gst_id"),onClick:()=>C0.Hq({org:s,dispatch:d})}));let A=s.target_locality===mH.OE.EU?(0,e$.t)("settings_tab.data_storage_eu"):(0,e$.t)("settings_tab.data_storage_us");I.settings.push(ep.createElement(Aw,{user:m,key:"data-locality-control",label:(0,e$.t)("settings_tab.data_storage"),description:(0,e$.t)("settings_tab.data_storage_description",{currentLocation:A})}));let L=[ep.createElement(Ab,{key:"delete-org",label:(0,e$.t)("settings_tab.delete_org_label"),description:(0,e$.t)("settings_tab.delete_org_description"),onClick:()=>d((0,e0.to)({type:LI}))})];s.domain_capture&&L.push(ep.createElement(Ab,{key:"delete-user",label:(0,e$.t)("settings_tab.delete_user_label"),description:(0,e$.t)("settings_tab.delete_user_description"),onClick:()=>d((0,e0.to)({type:LA}))}));let R=[h];return(0,dN.kA)(s)&&R.push(v),s.k12_google_org?R.push(b,w,k,I):R.push(b,w,C,N,k,S,I),ep.createElement("div",{className:"settings_section--container--LjJC0 admin_settings_page--container--qnrCG"},ep.createElement(bZ.K,{showBorderBottom:!0,title:bA(En.J7.SETTINGS)}),ep.createElement("div",{className:"settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},R.filter(e=>!!e.settings.length).map(e=>ep.createElement(Ah,{key:e.title,...e})),!u&&ep.createElement("button",{className:"settings_section--showMore----gaP",onClick:()=>_(!0)},ep.createElement(e$.Tx,{id:"settings_tab.show_more"})),u&&ep.createElement(Ah,{title:(0,e$.t)("settings_tab.section_header.user_data"),settings:L})),ep.createElement("div",{className:"settings_section--settingsFooter--Kd1dR"}))}let Od=(0,at.nF)((e,t,{liveStore:a})=>{let r=e.dispatch,{orgId:n,currentContact:l}=t,i=a.getMutation(g7.I2),s=e=>{r(e5.s.error((0,e$.Jv)(e,(0,e$.t)("payments.change_billing_contact_error")),5e3))},o=async t=>{await i({orgId:n,billingContacts:t,onRejected:s}),e.dispatch(e5.s.flash((0,e$.t)("org_admin_settings.billing_details.billing_contact_updated")))};r((0,e0.to)({type:LF,data:{currentContacts:l,onSubmit:o,isOrg:!0}}))});var Om=((B=Om||{}).NAME="name",B.OWNER="owner_name",B.PROJECTS="projects",B.MEMBERS="member_count",B.WORKSPACE="workspace_name",B.ORG_ACCESS="org_access",B),Ou=((U=Ou||{}).JOINED="JOINED",U.NOT_JOINED="NOT_JOINED",U),O_=a(532668),Op=a(736371);function Og(e,t){switch(t){case E6.Fb.ORG_BROWSABLE:return lB.bU.PRIVATE;case E6.Fb.HIDDEN:return lB.bU.SECRET;default:return e??null}}let OE=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"owner.handle",weight:1},{name:"owner.email",weight:1}]});function Of({searchQuery:e,filters:t,sortConfig:a,enabled:r=!0,membersMap:n,firstPageSize:l}){var i;let{optimisticIds:s,addOptimisticIds:o,setServerData:c}=ba(),{subscription:d,status:m}=Ov({searchQuery:e,filters:t,sortConfig:a,enabled:r,firstPageSize:l,extraTeamIds:s}),u=m===ub.r.SUCCESS&&(null==(i=d.data)?void 0:i.orgTeams)&&d.data.orgTeams.hasNextPage()&&!d.data.orgTeams.isLoadingNextPage?()=>{d.data.orgTeams.loadNext(l||25)}:void 0;ep.useEffect(()=>{var e;m===ub.r.SUCCESS&&c(((null==(e=d.data)?void 0:e.orgTeams)||[]).filter(e=>!!e.teamId).map(e=>({id:e.teamId})))},[m,d.data,c]);let _=ep.useMemo(()=>d.data?Ow(d.data,n,t):[],[d.data,n,t]),p=ep.useMemo(()=>d.data?function(e,t,a,r){var n;let l=((null==(n=(0,t5.oA)(e.org))?void 0:n.teamsById)||[]).map(e=>Oy(e,t)).filter(e=>Ob(e,a));return r?(OE.set(l),OE.search(r)):l}(d.data,n,t,e):[],[d.data,n,t,e]),{trackPerformanceEvent:g}=(0,Op.S)("teams_table_fetch_performance","livegraph");return(0,ep.useEffect)(()=>{g("fetch_end")},[g,_.length]),(0,ep.useEffect)(()=>{m===ub.r.FAILURE&&g("fetch_error")},[g,m]),(0,ep.useEffect)(()=>{g("fetch_start")},[g]),{status:m,teams:_,optimisticTeams:p,fetchMore:u,addOptimisticIds:o}}function Oh({searchQuery:e,filters:t,sortConfig:a,optimisticIds:r,firstPageSize:n,selectedAll:l}){var i;let[s,o]=ep.useState({}),c=(0,om.Z)(e),d=(0,om.Z)(t),m=(0,om.Z)(a),u=(0,om.Z)(l),_=c!==e||(null==t?void 0:t.orgAccessFilter)!==(null==d?void 0:d.orgAccessFilter)||(null==t?void 0:t.discoverabilityFilter)!==(null==d?void 0:d.discoverabilityFilter)||(null==t?void 0:t.orphanedTeamFilter)!==(null==d?void 0:d.orphanedTeamFilter)||(null==t?void 0:t.teamMembershipFilter)!==(null==d?void 0:d.teamMembershipFilter)||(null==t?void 0:t.workspaceFilter)!==(null==d?void 0:d.workspaceFilter)||(null==a?void 0:a.columnName)!==(null==m?void 0:m.columnName)||(null==a?void 0:a.isReversed)!==(null==m?void 0:m.isReversed)||!u&&l,p=!l;ep.useEffect(()=>{_&&o({})},[_]);let{subscription:g,status:E}=Ov({searchQuery:e,filters:t,sortConfig:a,firstPageSize:n,enabled:!p});if(ep.useEffect(()=>{var e,a;if(E!==ub.r.SUCCESS)return;let r=g.data?Ow(g.data,{},t):[];o(e=>{let t=_?{}:{...e};return r.forEach(e=>t[e.id]=e),t}),(null==(a=null==(e=g.data)?void 0:e.orgTeams)?void 0:a.hasNextPage())&&g.data.orgTeams.loadNext(n||400)},[E,g.data,_,n,t]),p)return{status:ub.r.INIT,teams:[],totalSelectable:null};let f=E===ub.r.SUCCESS&&(null==(i=g.data)?void 0:i.orgTeams)&&!g.data.orgTeams.hasNextPage(),h=null;return f&&(h=Object.keys(s).length+(r||[]).filter(e=>!s[e]).length),{status:f?ub.r.SUCCESS:E===ub.r.SUCCESS?ub.r.LOADING:E,teams:Object.values(s),totalSelectable:h}}function Ov({searchQuery:e,filters:t,sortConfig:a,enabled:r=!0,firstPageSize:n,extraTeamIds:l=[]}){let i=(0,mV.dq)(),s=(0,t5.Rs)(ai.jl4,{orgId:i,firstPageSize:n||25,queryParams:function(e,t,a){let r=Og(null==t?void 0:t.orgAccessFilter,null==t?void 0:t.discoverabilityFilter);return String((0,O_.lF)({...a&&{sort_by:a.columnName},...a&&{order_by:a.isReversed?vx.dy.DESC:vx.dy.ASC},...e&&{search_query:e},...r&&{org_access:r},...(null==t?void 0:t.orphanedTeamFilter)&&{teams_without_owners:t.orphanedTeamFilter},...(null==t?void 0:t.teamMembershipFilter)&&{member_of_filter:null!==t.teamMembershipFilter},...(null==t?void 0:t.teamMembershipFilter)&&{teams_member_of:t.teamMembershipFilter===Ou.JOINED},...(null==t?void 0:t.workspaceFilter)&&{workspace_id:t.workspaceFilter}}))}(e,t,a),extraTeamIds:l},{enabled:r}),o=ub.r.LOADING;return"loaded"===s.status?o=ub.r.SUCCESS:"errors"===s.status&&(o=ub.r.FAILURE),{subscription:s,status:o}}function Ob(e,t){let a=(0,eh.kc)().teams_table_disable_fe_filters;return(!!a||null==t||!t.orphanedTeamFilter||!e.owner)&&(!!a||null==t||!t.teamMembershipFilter||t.teamMembershipFilter===e.userTeamMembership)&&(!!a||null==t||!t.orgAccessFilter||t.orgAccessFilter===e.org_access)&&(!!a||null==t||!t.discoverabilityFilter||(t.discoverabilityFilter!==E6.Fb.ORG_BROWSABLE||!!e.org_browsable)&&(t.discoverabilityFilter!==E6.Fb.HIDDEN||!!e.hidden))&&(null==t||!t.workspaceFilter||(t.workspaceFilter!==vd.O||null===e.workspace_id)&&(t.workspaceFilter===vd.O||t.workspaceFilter===e.workspace_id))}function Oy(e,t,a){var r,n,l,i,s,o;let c=t[e.id]??0,d=(null==(r=(0,t5.oA)(e.ownerRole))?void 0:r.user)??null;return{...e,id:e.id,created_at:null==(n=e.createdAt)?void 0:n.toISOString(),img_url:e.imgUrl||void 0,org_id:e.orgId,name:e.name,description:e.description||"",hidden:e.hidden,org_browsable:e.orgBrowsable,license_group_id:e.licenseGroupId,workspace_id:e.workspaceId,org_access:e.orgAccess||null,projects:Number(e.projectsCount)||0,editors:Number(e.editorsCount)||0,restrictions_list:e.restrictionsList||null,subscription:e.subscription||null,subscription_raw:e._subscriptionRaw||null,stripe_customer_id:e.stripeCustomerId||null,student_team_at:(null==(l=e.studentTeamAt)?void 0:l.toISOString())||null,student_team_state:e.studentTeamState||E6.kU.STUDENT_TEAM_NULL,student_autoverifying_team_at:(null==(i=e.studentAutoverifyingTeamAt)?void 0:i.toISOString())||null,student_team:!!e.studentTeamAt,pro_team:!1,org_team:!0,starter_team:e.isStarterTeam||!1,grace_period_end:(null==(s=e.gracePeriodEnd)?void 0:s.toISOString())||null,grace_period_type:e.gracePeriodType||null,last_upgraded_at:null,deleted_at:(null==(o=e.deletedAt)?void 0:o.toISOString())||null,experiment_seed:e.experimentSeed||null,license_group:null,default_permission:e.defaultPermission,vat_gst_id:e.vatGstId||void 0,tax_id_verification_status:e.taxIdVerificationStatus||void 0,ai_features_disabled:!!e.aiFeaturesDisabledAt,legal_name:e.legalName||null,sharing_audience_control:e.sharingAudienceControlComputed||void 0,orphaned:!d,member_count:"number"==typeof a?Math.max(a+c,0):void 0,owner:d&&{id:d.id,name:d.name||void 0,handle:d.handle||"",img_url:d.imgUrl||"",email:d.email||void 0,description:d.description,org_id:e.orgId||void 0},experiment_assignments:[],userTeamMembership:null===e.roleOnObjectTeamForUser?Ou.NOT_JOINED:Ou.JOINED}}function Ow(e,t,a){return(e.orgTeams||[]).filter(e=>!!e.team).map(e=>Oy(e.team,t,e.memberCount?Number(e.memberCount):null)).filter(e=>Ob(e,a))}let OT=(0,am.Ju)(function({workspaceId:e,onSubmit:t}){let a=(0,eg.wA)(),r=(0,mV.dq)(),n=(0,yI.D)(null,r||null),[l,i]=ep.useState({columnName:Om.NAME,sortingKey:Om.NAME,isReversed:!1}),s=ep.useCallback(e=>{i(t=>({columnName:e,isReversed:t.sortingKey===e&&!t.isReversed,sortingKey:e}))},[i]),[o,c]=ep.useState(""),d=ep.useCallback(e=>{c(e)},[]),m=ep.useMemo(()=>(0,s5.s)(d,300),[d]),[u,_]=ep.useState(!1),p=ep.useCallback(()=>{_(e=>!e)},[]),g=ep.useMemo(()=>({orgAccessFilter:null,discoverabilityFilter:null,teamMembershipFilter:null,workspaceFilter:vd.O,orphanedTeamFilter:u}),[u]),{teams:E,fetchMore:f,status:h}=Of({filters:g,sortConfig:l,searchQuery:o,membersMap:{}}),v=h!==ub.r.SUCCESS||!!f,[b,y]=ep.useState(!1),{status:w,teams:T}=Oh({searchQuery:o,filters:g,selectedAll:b}),x=(0,t5.Rs)(ai.z$o,{workspaceId:e}),C=x.data?(0,t5.oA)(x.data.workspace):null,N=null==C?void 0:C.name;if(!N)return null;let k=[{name:(0,e$.t)("teams_table.team_name"),className:"add_unassigned_teams_modal--nameColumn--H2d4L members_table--avatarColumn--wIwso members_table--column--OzyGH admin_settings_page--membersColumn--0Pn0k table--column--974RA",sorting_key:Om.NAME,getSortValue:e=>e.name,cellComponent:e=>ep.createElement(ej.Y,{direction:"horizontal",spacing:8},ep.createElement(e7.CH,{entity:e,size:22}),ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(ej.Y,{spacing:"2px"},ep.createElement(du.E,{truncate:"line-clamp",lineClamp:2},e.name),ep.createElement(wT.HL,{orgId:r,orgAccess:e.org_access})),n||!e.org_access?ep.createElement(du.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.team_metadata",i18nParams:{memberCountInfo:(0,e$.t)("add_unassigned_teams_modal.member_count",{memberCount:e.member_count||0}),projectCountInfo:(0,e$.t)("add_unassigned_teams_modal.project_count",{projectCount:e.projects||0})}}):ep.createElement(du.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.team_metadata.with_access_setting",i18nParams:{accessSettingInfo:function(e){switch(e){case lB.bU.PUBLIC:return(0,e$.t)("add_unassigned_teams_modal.org_access.public");case lB.bU.PRIVATE:return(0,e$.t)("add_unassigned_teams_modal.org_access.private");case lB.bU.SECRET:return(0,e$.t)("add_unassigned_teams_modal.org_access.secret");default:(0,eC.xb)(e)}}(e.org_access),memberCountInfo:(0,e$.t)("add_unassigned_teams_modal.member_count",{memberCount:e.member_count||0}),projectCountInfo:(0,e$.t)("add_unassigned_teams_modal.project_count",{projectCount:e.projects||0})}}))),loadingComponent:ep.createElement(ej.Y,{direction:"horizontal",height:"hug-contents"},ep.createElement("div",{style:{width:22,height:22}},ep.createElement(bN.Wi,{className:eT.cx.wFull.hFull.$,animationType:bN.JR.NO_SHIMMER})),ep.createElement(ej.Y,{direction:"vertical",height:"hug-contents",spacing:4},ep.createElement("div",{style:{width:128}},ep.createElement(bN.Wi,{className:eT.cx.wFull.h14.$,animationType:bN.JR.NO_SHIMMER})),ep.createElement("div",{style:{width:80}},ep.createElement(bN.Wi,{className:eT.cx.wFull.h14.$,animationType:bN.JR.NO_SHIMMER}))))},{name:(0,e$.t)("teams_table.owner"),className:"add_unassigned_teams_modal--ownerColumn--jLx2z",sorting_key:Om.OWNER,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>{var t;return ep.createElement(du.E,{truncate:"line-clamp",lineClamp:2},(null==(t=e.owner)?void 0:t.handle)||(0,e$.t)("add_unassigned_teams_modal.no_owner"))},loadingComponent:ep.createElement("div",{style:{width:80}},ep.createElement(bN.Wi,{className:eT.cx.wFull.h14.$,animationType:bN.JR.NO_SHIMMER}))}],S=()=>{a(e0.Lo())};function I({selectedTeams:r}){if(0===r.length)return ep.createElement(dD.$,{variant:"primary",disabled:!0},ep.createElement(e$.Tx,{id:"add_unassigned_teams_modal.assign_teams"}));let n=b&&v;if(n&&w===ub.r.LOADING)return ep.createElement(dD.$,{variant:"primary",disabled:!0},ep.createElement("div",{style:{width:80}},ep.createElement(bN.Wi,{className:eT.cx.h12.wFull.$,animationType:bN.JR.SHIMMER_ON_MENU,dataTestId:"add-unassigned-teams-modal-button-loading"})));let l=r;if(n){let e=new Set(r.map(e=>e.id)),t=new Set(E.filter(t=>!e.has(t.id)).map(e=>e.id));l=T.filter(e=>!t.has(e.id))}return ep.createElement(dD.$,{variant:"primary",onClick:function(){a(xb.xM({teams:l,workspaceId:e,workspaceName:N})),null==t||t(l.map(e=>e.id)),S()}},ep.createElement(e$.Tx,{id:"add_unassigned_teams_modal.assign_n_teams",count:l.length}))}return ep.createElement(eH.fu,{name:"Add Unassigned Teams Modal"},ep.createElement(sn.XV,{title:(0,e$.t)("add_unassigned_teams_modal.title",{workspaceName:N}),maxWidth:480,onClose:S,containerClassName:"add_unassigned_teams_modal--unassignedTab--My2Tq",innerContainerClassName:eT.cx.hFull.flex.flexColumn.$,fixedTop:!0},ep.createElement(ej.Y,{height:"hug-contents",padding:16},ep.createElement(du.E,{i18nId:"add_unassigned_teams_modal.description",i18nParams:{workspaceName:N}})),ep.createElement(ej.Y,{height:"hug-contents",padding:{horizontal:16,vertical:0}},ep.createElement(bk.y2,{styleOverrides:{boxSizing:"border-box",width:"100%",height:"32px"},onChange:m,focusOnMount:!1,query:o,clearSearch:()=>d(""),placeholder:(0,e$.t)("add_unassigned_teams_modal.search_for_teams")})),ep.createElement(ej.Y,{height:"hug-contents",padding:8},ep.createElement(yi.S,{checked:u,onChange:p,label:ep.createElement(ys.J,null,ep.createElement(e$.Tx,{id:"add_unassigned_teams_modal.without_owners"}))})),ep.createElement(bD.Cj,{items:E,columns:k,itemTypeContext:{itemType:"team",getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_team",{numSelected:e})},getItemKey:e=>e.id,emptyContent:ep.createElement(ej.Y,{padding:38},ep.createElement(du.E,{color:"secondary",i18nId:"add_unassigned_teams_modal.no_teams_found"})),sortState:l,onSetSortState:s,scrollContainerInnerClassName:"add_unassigned_teams_modal--scrollContainerInner--fIiId",minContentWidth:448,isLoading:v,onFetchMore:f,styleOverrideClassNames:{header:"add_unassigned_teams_modal--header--XwBY8 add_unassigned_teams_modal--extendedRow--UIQ1u",row:"add_unassigned_teams_modal--row--bWhBU add_unassigned_teams_modal--unassignedRowBackgroundStyles--ee10b add_unassigned_teams_modal--extendedRow--UIQ1u",checkboxColumn:"add_unassigned_teams_modal--checkboxColumn--IJS4v",selectedRow:"add_unassigned_teams_modal--selectedRow--vUiFc add_unassigned_teams_modal--unassignedRowBackgroundStyles--ee10b add_unassigned_teams_modal--extendedRow--UIQ1u",tableWrapper:"add_unassigned_teams_modal--tableWrapper--6aLMD"},paddingEnd:8,footer:function(e){return ep.createElement(ej.Y,{height:"hug-contents",padding:16},ep.createElement(ej.M,null),ep.createElement(I,{selectedTeams:e}))},onToggleSelectAll:e=>y(!e)})))},"ADD_UNASSIGNED_TEAMS_MODAL");var Ox=((W=Ox||{})[W.SEARCH=0]="SEARCH",W[W.FILTER=1]="FILTER",W);let OC=()=>({[Ou.JOINED]:(0,e$.t)("teams_table.membership_filter.my_teams_option"),[Ou.NOT_JOINED]:(0,e$.t)("teams_table.membership_filter.not_my_teams_option")});function ON(e){let{dropdownShown:t,lastFilterAction:a,onFilter:r,onSearch:n,onFetchMore:l,onSort:i,filters:s,sortState:o,org:c,searchQuery:d,teamRoleRequests:m,teams:u,optimisticTeams:_,isLoading:p,onViewerJoinTeam:g,onViewerLeaveTeam:E,addOptimisticIds:f}=e,[h,v]=ep.useState(!1),[b,y]=ep.useState(null),w=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),T=(0,eg.wA)(),[x,C]=ep.useState(new Map),N=ep.useCallback(()=>{CW.S.getOrgTeamTransfers({orgId:c.id}).then(({data:e})=>{let t=e.meta;if(t)for(let e of t)C(t=>new Map(t.set(e.source_team_id,e)))})},[c.id]),k=e=>{C(t=>new Map(t.set(e,null))),T(t6.F.enqueue({message:(0,e$.t)("asset_transfers.revoke.transfer_revoked")}))},{status:S,teams:I,totalSelectable:A}=Oh({searchQuery:d,filters:s,optimisticIds:_.map(e=>e.id),selectedAll:!!b}),{onChangeOrgAccess:L,onAddToWorkspace:R,onRemoveFromWorkspace:O}=C7(m,x,N,k),F=ep.useMemo(()=>"loaded"===e.orgTeamCountsViewResult.status?e.orgTeamCountsViewResult.data:{workspaces:{[vd.O]:0},org_access:{[lB.bU.PUBLIC]:0,[lB.bU.PRIVATE]:0,[lB.bU.SECRET]:0},team_membership:{JOINED:0,NOT_JOINED:0}},[e.orgTeamCountsViewResult]),M=(0,eg.d4)(({selectedView:e})=>e),D="orgAdminSettings"===M.view,P="workspace"===M.view&&M.subView===gw.V0.ADMIN,B=(0,eg.d4)(({selectedView:e})=>"workspace"===e.view&&e.subView===gw.V0.ADMIN?e.workspaceId:null),U=!eb.rr&&D,W=(0,pf.NJ)(c.id),V=W.data||[],G={};V.forEach(e=>G[e.id]=e);let $=(0,yI.D)(null,(null==c?void 0:c.id)||null),j=!!(0,eh.kc)().workspace_assign_teams_modal,H=JSON.stringify(x);ep.useEffect(()=>{N()},[H,N]);let q=()=>{let e;e=B||(s.workspaceFilter?s.workspaceFilter:void 0),T(e0.to({type:gQ.Uc,data:{workspaceId:e}}))},z=B&&s.workspaceFilter!==vd.O,Y=e=>`ORG-ACCESS-DROPDOWN-${e.id}`;function K(e,a){return ep.createElement(kp,{org:c,team:e,areDropdownsDisabled:a,dropdownShown:t,teamRoleRequests:m,teamPendingTransfers:x,pendingTransferRequests:N,onRevokeTransferRequestSuccess:k,workspacesCanMoveTo:V,onViewerJoinTeam:g,onViewerLeaveTeam:E})}function J(e){var t,a;if(x&&x.get(e.id)){let r=(0,e$.t)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:null==(t=x.get(e.id))?void 0:t.source_user_email,destinationUserEmail:null==(a=x.get(e.id))?void 0:a.destination_user_email});return ep.createElement("div",{className:ku,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":2,"data-tooltip-max-width":250},ep.createElement(eL.B,{svg:hE.A,className:km}))}return ep.createElement(ep.Fragment,null)}let Z=e=>{let t=e&&G[e]?e:null,a=V.map(e=>({type:"option",key:e.id,text:e.name}));return a.push({type:"separator",key:"separator"}),a.push({type:"option",key:vd.O,text:t?(0,e$.t)("members_table.workspace_cell.unassign"):(0,e$.t)("workspace.unassigned"),selectedLabelClass:eT.cx.textFGBlack54__DEPRECATED.$}),{options:a,selectedValue:t??vd.O}},Q=(()=>{let e=[];function a(){return ep.createElement(ep.Fragment,null,"\u2013")}return e.push({name:(0,e$.t)("teams_table.team_name"),className:kt,sorting_key:Om.NAME,getSortValue:e=>e.name,cellComponent:e=>ep.createElement(ej.Y,null,ep.createElement(e7.rE,{entity:e,size:22,className:k_}),ep.createElement(wT.HL,{orgId:c.id,orgAccess:e.org_access}))}),e.push({name:(0,e$.t)("teams_table.owner"),className:kr,sorting_key:Om.OWNER,getSortValue:e=>{var t;return(null==(t=e.owner)?void 0:t.handle)?`a${e.owner.handle}`:`z${e.name}`},cellComponent:e=>e.owner?ep.createElement(yu,{entity:e.owner,size:22,dispatch:T}):ep.createElement(a,null)}),e.push({name:(0,e$.t)("teams_table.projects"),className:kn,sorting_key:Om.PROJECTS,getSortValue:e=>e.projects,sortNumerically:!0,cellComponent:e=>ep.createElement(e$.Tx,{id:"teams_table.project_count",numProjects:e.projects})}),e.push({name:(0,e$.t)("teams_table.members"),className:kl,sorting_key:Om.MEMBERS,getSortValue:e=>"number"==typeof e.member_count?e.member_count:-1,sortNumerically:!0,cellComponent:e=>"number"==typeof e.member_count?ep.createElement(e$.Tx,{id:"teams_table.member_count",numMembers:e.member_count}):ep.createElement(a,null)}),$||e.push({name:(0,e$.t)("teams_table.org_access"),className:ki,sorting_key:Om.ORG_ACCESS,getSortValue:e=>{switch(e.org_access||lB.bU.PUBLIC){case lB.bU.PUBLIC:return`a${e.name}`;case lB.bU.PRIVATE:return`b${e.name}`;case lB.bU.SECRET:return`c${e.name}`}},cellComponent:(e,r)=>e.org_access?(0,mG.canManageOrgTeam)(e.id,w)?ep.createElement(wR.H,{dispatch:T,dropdownShown:t,value:e.org_access,options:C9(),onChange:t=>{L(e,t)},id:Y(e),disabled:r}):ep.createElement(ep.Fragment,null,(0,ph.ZP)()[e.org_access]):ep.createElement(a,null)}),c.bigma_enabled&&V.length>0&&e.push({name:(0,e$.t)("teams_table.enterprise.workspace"),sorting_key:Om.WORKSPACE,getSortValue:e=>{var t;return e.workspace_id&&(null==(t=G[e.workspace_id])?void 0:t.name)||""},className:ka,cellComponent:(e,a)=>{let r=`UPDATE_TEAM_WORKSPACE-${e.id}`,{options:n,selectedValue:l}=Z(e.workspace_id);return ep.createElement("div",{className:eT.cx.maxWFull.$},"loaded"===W.status?ep.createElement(wR.H,{dispatch:T,dropdownShown:t,disabled:a,value:l,options:n,onChange:t=>{var a;t===vd.O?O(e):R(e,t,null==(a=G[t])?void 0:a.name)},id:r}):ep.createElement("div",{style:u1.sx.w64.$},ep.createElement(bN.Wi,{className:eT.cx.h24.w64.$,animationType:bN.JR.SHIMMER})))}}),e.push({name:" ",className:ko,cellComponent:J}),e.push({name:"",className:ks,cellComponent:K}),e})(),X=Q.find(e=>e.name===o.columnName)||Q[0],ee=ep.useMemo(()=>(0,be.m)(u,_,X,o),[u,_,o]);return ep.createElement(ep.Fragment,null,ep.createElement(bZ.K,{title:bA(En.J7.TEAMS),hasHorizontalPadding:!0,rightActions:ep.createElement(ej.Y,{width:"hug-contents"},ep.createElement(dD.$,{icon:"plus-32",onClick:q,"data-onboarding-key":vJ},ep.createElement(du.E,{i18nId:"teams_table.team"})),j&&B&&ep.createElement(dD.$,{onClick:()=>{T(e0.to({type:OT,data:{workspaceId:B,onSubmit:e=>{e.length<=50&&f(e)}}}))}},ep.createElement(du.E,{i18nId:"teams_table.assign_teams"})),ep.createElement(dD.V,{onClick:()=>{if(h)return;v(!0),T(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.preparing_request"),type:"orgTeam.exportCSV",icon:bS.zX.SPINNER}));let t=B?`/api/workspace/${B}/export_teams`:`/api/orgs/${e.org.id}/export_teams`;ae.Ay.post(t).then(()=>{T(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.generating"),type:"orgTeam.exportCSV",icon:bS.zX.CHECK})),v(!1)},()=>{T(t6.F.enqueue({message:(0,e$.t)("teams_table.csv_export.error"),type:"orgTeam.exportCSV",icon:bS.zX.EXCLAMATION,error:!0})),v(!1)})},trackingProperties:{action:"Export CSV"}},ep.createElement(du.E,{i18nId:"teams_table.csv_export.get_csv"})))}),ep.createElement(bD.Cj,{hasNewScrollContext:!0,emptyContent:ep.createElement(TR.p,null,(()=>{let e=()=>{r({orgAccessFilter:null,discoverabilityFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null})},t=s.workspaceFilter?ep.createElement(e$.Tx,{id:"teams_table.no_teams_to_show"}):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"teams_table.your_organization_does_not_have_any_teams_yet"})," ",ep.createElement("a",{className:kc,onClick:q},ep.createElement(e$.Tx,{id:"teams_table.create_one"}))),n=ep.createElement("span",null,(0,e$.t)("teams_table.no_teams_to_show")," ",ep.createElement("a",{className:kc,onClick:()=>e()},ep.createElement(e$.Tx,{id:"multi_select_list.reset_filters"}))),l=ep.createElement(e$.Tx,{id:"teams_table.no_search_results"}),i=s.orgAccessFilter||s.discoverabilityFilter||s.teamMembershipFilter||s.orphanedTeamFilter;return i&&d?0===a?l:n:i?n:d?l:t})()),items:ee,getItemKey:e=>e.id,columns:Q,stickyContent:ep.createElement(ep.Fragment,null,P&&ep.createElement(tq.p,null,ep.createElement(CY,null)),!j&&!!B&&ep.createElement(CZ,{workspace:V.filter(e=>e.id===B)[0]}),ep.createElement("div",{className:ke},ep.createElement("div",{className:wO.cE},ep.createElement("div",{className:eT.cx.pr8.$},ep.createElement(bk.y2,{onChange:n,focusOnMount:!1,query:d,clearSearch:()=>{n("")},placeholder:(0,e$.t)("teams_table.search_teams_with_ellipsis")})),ep.createElement(TF,{selectedWorkspaceId:s.workspaceFilter,onFilterUpdate:e=>r({workspaceFilter:e}),getCount:e=>{var t;return(null==(t=F.workspaces)?void 0:t[e])??0}}),$?ep.createElement(wT.bv,{dropdownShown:t,dropdownType:"FILTER_DISCOVERABILITY_DROPDOWN",selectedValue:s.discoverabilityFilter,getDisplayText:e=>(0,ph.e$)()[e],getSelectedDisplayText:e=>{switch(e){case E6.Fb.ORG_BROWSABLE:return(0,e$.t)("teams_table.discoverability_filter.visible");case E6.Fb.HIDDEN:return(0,e$.t)("teams_table.discoverability_filter.hidden");default:return(0,e$.t)("teams_table.discoverability_filter.all")}},getCount:e=>F.org_access[e===E6.Fb.ORG_BROWSABLE?lB.bU.PRIVATE:lB.bU.SECRET],updateFilter:e=>r({discoverabilityFilter:e}),values:Object.values(E6.Fb),dispatch:T}):ep.createElement(wT.bv,{"data-onboarding-key":"teams_table_onboarding_key",dropdownShown:t,dropdownType:"FILTER_ORG_ACCESS_DROPDOWN",selectedValue:s.orgAccessFilter,getDisplayText:e=>(0,ph.ZP)()[e],getSelectedDisplayText:e=>{switch(e){case lB.bU.PUBLIC:return(0,e$.t)("teams_table.org_access_filter.open");case lB.bU.PRIVATE:return(0,e$.t)("teams_table.org_access_filter.closed");case lB.bU.SECRET:return(0,e$.t)("teams_table.org_access_filter.secret");default:return(0,e$.t)("teams_table.org_access_filter.all")}},getCount:e=>F.org_access[e],updateFilter:e=>r({orgAccessFilter:e}),values:Object.values(lB.bU),dispatch:T}),ep.createElement(wT.bv,{dropdownShown:t,dropdownType:"FILTER_TEAM_MEMBERSHIP_DROPDOWN",selectedValue:s.teamMembershipFilter,getDisplayText:e=>OC()[e],getSelectedDisplayText:e=>{switch(e){case Ou.JOINED:return(0,e$.t)("teams_table.membership_filter.my_teams_label");case Ou.NOT_JOINED:return(0,e$.t)("teams_table.membership_filter.not_my_teams_label");default:return(0,e$.t)("teams_table.membership_filter.all")}},getCount:e=>F.team_membership[e],updateFilter:e=>r({teamMembershipFilter:e}),values:Object.values(Ou),dispatch:T}),ep.createElement(eH.jm,{className:wO.$u,onClick:()=>r({orphanedTeamFilter:!s.orphanedTeamFilter}),trackingProperties:{filterType:"OrphanedTeamFilter",isFilterEnabled:!s.orphanedTeamFilter}},ep.createElement(eI.tB,{checked:s.orphanedTeamFilter,onChange:ev.lQ}),ep.createElement(e$.Tx,{id:"teams_table.teams_without_owners"}))),ep.createElement("div",{className:wO.ld},z&&ep.createElement("div",{className:wO.hP,onClick:()=>{T((0,e0.to)({type:ky,data:{workspaceId:B}}))}},ep.createElement(eL.B,{className:wO.gE,svg:hk.A}),ep.createElement(e$.Tx,{id:"teams_table.enterprise.edit_default_teams"}))))),actionBar:e=>{let t=new Set(e.map(e=>e.id));if(b&&null===A)return ep.createElement("div",{style:u1.sx.w150.$},ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER_ON_MENU}));let a=!1;if(b&&null!==A&&(a=p),a&&S===ub.r.LOADING)return ep.createElement("div",{style:u1.sx.w150.$},ep.createElement(bN.Wi,{className:eT.cx.h12.w150.$,animationType:bN.JR.SHIMMER_ON_MENU}));let r=I.map(e=>({...e,userTeamMembership:(0,mG.hasViewerRoleAccessOnTeam)(e.id,w)?Ou.JOINED:Ou.NOT_JOINED})),n=e;if(a){let e=new Set(ee.map(e=>e.id).filter(e=>!t.has(e)));n=r.filter(t=>!e.has(t.id))}return ep.createElement(Na,{workspacesCanMoveTo:V,org:c,selectedTeams:n,teamRoleRequests:m,teamPendingTransfers:x,pendingTransferRequests:N,onRevokeTransferRequestSuccess:k,onViewerJoinTeam:g,onViewerLeaveTeam:E})},actionBarClassName:kd,itemTypeContext:{itemType:"team",getSelectedCountString:e=>b&&(!A||S!==ub.r.SUCCESS)?"":(0,e$.t)("multi_select_list.selected_count_team",{numSelected:e})},minContentWidth:(0,ti.hG)(aE.YEj),isBannerHeightDynamic:!0,sortState:o,onSetSortState:i,isLoading:p,onFetchMore:l,onToggleSelectAll:e=>e?y(null):y(new Date().toISOString()),getTotalSelected:b&&null!==A?(e,t)=>A-(t.length-e.length):void 0}),U?ep.createElement(tq.p,null,ep.createElement(Cj,null)):null)}function Ok(e){let{dropdownShown:t,teamRoleRequests:a,user:r,selectedWorkspaceId:n}=e,l=(0,eg.wA)(),[i,s]=ep.useState({workspaceFilter:n??null,orgAccessFilter:null,orphanedTeamFilter:!1,teamMembershipFilter:null,discoverabilityFilter:null}),[o,c]=ep.useState(kw.FILTER),[d,m]=ep.useState(""),[u,_]=ep.useState({}),[p,g]=ep.useState({columnName:Om.NAME,isReversed:!1}),{teams:E,optimisticTeams:f,fetchMore:h,status:v,addOptimisticIds:b}=Of({searchQuery:d,filters:i,sortConfig:p,membersMap:u}),y=ep.useCallback(e=>{g(t=>({columnName:e,isReversed:t.columnName===e&&!t.isReversed}))},[g]),w=ep.useCallback(e=>{s({...i,...e}),c(kw.FILTER)},[s,i,c]),T=ep.useCallback(e=>{m(e),c(kw.SEARCH)},[m,c]);(0,tz.h)(()=>{l((0,pE.Rw)())}),ep.useEffect(()=>{n&&s(e=>({...e,workspaceFilter:n}))},[n]);let{orgTeamCountsViewResult:x}=function(e,t,a,r,n,l,i,s){let[o,c]=ep.useState((0,t5.Xm)()),d=ep.useRef(null),m=()=>{d.current&&(clearTimeout(d.current),d.current=null)},u=ep.useCallback(async()=>await uG.Eh.getOrgTeamsFilterCounts({orgId:e,searchQuery:t,orgAccess:a||void 0,teamsWithoutOwners:r||void 0,teamsMemberOf:n,workspaceId:l||void 0,sortBy:void 0,sortOrder:void 0}),[e,t,a,r,n,l,void 0,void 0]),_=(0,Ss.J)(()=>(m(),u()),[u]);return ep.useEffect(()=>{(0,Si.xj)(_)?c((0,t5.gB)(_.value.data.meta)):(0,Si.ok)(_)?c((0,t5.e1)([])):c((0,t5.Xm)())},[_]),{orgTeamCountsViewResult:o}}(e.org.id,d,Og(i.orgAccessFilter,i.discoverabilityFilter),i.orphanedTeamFilter,null!==i.teamMembershipFilter?i.teamMembershipFilter===Ou.JOINED:void 0,i.workspaceFilter),C=v!==ub.r.SUCCESS||!!h;return ep.createElement(ON,{dropdownShown:t,lastFilterAction:o,filters:i,onFilter:w,onSearch:T,onFetchMore:h,org:e.org,searchQuery:d,teams:E,optimisticTeams:f,teamRoleRequests:a,user:r,isLoading:C,onSort:y,sortState:p,onViewerJoinTeam:e=>{u[e]?u[e]+=1:u[e]=1,_(u)},onViewerLeaveTeam:e=>{u[e]?u[e]-=1:u[e]=-1,_(u)},orgTeamCountsViewResult:x,addOptimisticIds:b})}var OS=((V=OS||{})[V.SIDEBAR=0]="SIDEBAR",V[V.BROWSING=1]="BROWSING",V[V.PROMPT=2]="PROMPT",V[V.SEARCH=3]="SEARCH",V[V.LIBRARIES=4]="LIBRARIES",V);let OI=e=>{switch(e){case 0:return ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.section",key:"section",workspace:ep.createElement("span",{className:eT.cx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.section.workspace"}))});case 1:return ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.browsing",key:"browsing"});case 2:return ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.prompt",key:"prompt"});case 3:return ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.search",key:"search"});case 4:return ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.list.libraries",key:"libraries"})}},OA=(0,am.Ju)(function({onConfirm:e}){let t=(0,eg.wA)();return ep.createElement(eH.fu,{name:"Create License Group Confirmation modal"},ep.createElement(au.Rw,{cancelText:(0,e$.t)("general.back"),confirmText:ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.confirm"}),disableClickOutsideToHide:!0,dispatch:t,onConfirm:()=>{t(e0.Ce()),e()},popStack:!0,tintedModalBackground:!0,confirmationTitle:ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.title"})},ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.intro"}),ep.createElement("ul",{style:u1.sx.ml18.my16.add({listStyle:"disc"}).$},[0,1,2,3,4].map(e=>ep.createElement("li",{key:e},OI(e)))),ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.outro",learnMore:ep.createElement(eI.Ph,{className:eT.cx.inline.$,target:"_blank",href:"https://help.figma.com/hc/articles/4409676189207-Guide-to-workspaces",trusted:!0},ep.createElement(e$.Tx,{id:"workspace.create_confirmation_modal.description.outro.learn_more"}))})))},"WorkspaceCreateConfirmationModal"),OL="workspace_edit_modal--adminRow--Gmc9u workspace_edit_modal--inputRow--w7H5Y",OR="workspace_edit_modal--inputLabel--IxcTC",OO="workspace_edit_modal--adminField---r-wb",OF="First Workspace Created",OM=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(null),n=(0,mV.dq)(),l=(0,mV.sZ)(),i=e.workspacesData,s=e.workspaceId&&i?i.find(t=>t.id===e.workspaceId):void 0,o=!!s,c=[];(null==s?void 0:s.admins)&&(c=s.admins.reduce((e,t)=>{let a=null==t?void 0:t.baseOrgUser;return a?[...e,{state:b2.d.OK,content:{id:a.id,user:{id:a.user.id,handle:a.user.handle,img_url:a.user.imgUrl}}}]:e},[]));let[d,m]=ep.useState(o?{...(0,b4.Rs)(),tokens:c}:(0,b4.Rs)()),u=ep.useCallback(e=>{(0,tn.sx)("Workspace admin search performed",{orgId:null==l?void 0:l.id,workspaceId:null==s?void 0:s.id,queryLength:e.inputValue.length}),m(e)},[null==l?void 0:l.id,null==s?void 0:s.id]),[_,p]=ep.useState(o?s.name:""),[g,E]=ep.useState(o?s.orgAccess:lB.bU.PUBLIC),f=ep.useCallback(e=>{E(e.target.checked?lB.bU.SECRET:lB.bU.PUBLIC)},[]),h=()=>{(0,tn.sx)("CTA Clicked",{name:"Workspace Modal Cancel",workspaceId:null==s?void 0:s.id,orgId:n}),t(e0.Ce())},v=()=>{let e=o?`/api/workspace/${s.id}`:`/api/orgs/${n}/workspaces`,a=o?ae.Ay.put:ae.Ay.post,r=!o&&(!i||0===i.length);a(e,{name:_,admin_org_user_ids:d.tokens.map(e=>e.content.id),org_access:g}).then(({data:e})=>{var a;t(t6.F.enqueue({type:"workspace-edit",message:o?(0,e$.t)("workspace_table.workspace_edited_toast",{workspaceName:_}):(0,e$.t)("workspace_table.workspace_created_toast",{workspaceName:_})})),t(e0.Ce()),r&&(0,tn.sx)(OF,{workspaceId:null==(a=e.meta)?void 0:a.id,orgId:n})}).catch(e=>{t(t6.F.enqueue({error:!0,message:e.message}))})},b=e=>{if(null==i?void 0:i.find(t=>t.name.trim().toLowerCase()===e.trim().toLowerCase()&&(null==t?void 0:t.id)!==(null==s?void 0:s.id))){r("duplicated");return}if("unassigned"===e.trim().toLowerCase()){r("unassigned");return}r(null)};return ep.createElement(sn.XV,{title:o?(0,e$.t)("workspace_table.edit_workspace_title"):(0,e$.t)("workspace_table.create_workspace_title"),onClose:h,minWidth:500},ep.createElement("div",{className:"workspace_edit_modal--container--TYAcr"},ep.createElement(ep.Fragment,null,ep.createElement("label",{className:"workspace_edit_modal--inputRow--w7H5Y"},ep.createElement("span",{className:OR},ep.createElement(e$.Tx,{id:"workspace_table.name_input"})),ep.createElement("div",null,ep.createElement(eI.ks,{className:"workspace_edit_modal--inputField--QISQN",autoFocus:!0,placeholder:(0,e$.t)("workspace_table.name_input_placeholder"),onChange:e=>{p(e.currentTarget.value),b(e.currentTarget.value)},value:_,dataTestId:"workspace-name-input",maxLength:eI.TA})),ep.createElement(Er.YR,{className:"workspace_edit_modal--yellowIcon--NYUA0 admin_settings_link--yellowIcon--bsDMr",style:u1.sx.if(!a,u1.sx.invisible).$})),ep.createElement("label",{className:OL},ep.createElement("span",{className:OR},ep.createElement(e$.Tx,{id:"workspace_table.admins_input"})),ep.createElement("div",{className:OO},ep.createElement(S_,{placeholder:(0,e$.t)("workspace_table.admin_input_placeholder"),autocomplete:d,onAutocompleteChange:u}),ep.createElement("p",{className:"workspace_edit_modal--subtext--pHtOX"},ep.createElement(e$.Tx,{id:"workspace_table.admins_will_manage_input_help_text"})))),ep.createElement("label",{className:OL},ep.createElement("span",{className:OR},ep.createElement(e$.Tx,{id:"workspace_table.visibility"})),ep.createElement("div",{className:OO},ep.createElement(uX.S,{checked:g===lB.bU.SECRET,onChange:f,label:(0,e$.t)("workspace_table.make_it_hidden"),description:(0,e$.t)("workspace_table.only_members_can_find_and_access")}))),a&&ep.createElement("div",{className:"workspace_edit_modal--banner--22ScT",style:u1.sx.mb32.p16.flex.itemsCenter.bRadius6.$},ep.createElement(eL.B,{className:eT.cx.mr16.$,svg:Eo.A,useOriginalSrcFills_DEPRECATED:!0}),ep.createElement("p",null,"unassigned"===a?ep.createElement(e$.Tx,{id:"workspace_table.workspace_name_unassigned_error"}):ep.createElement(e$.Tx,{id:"workspace_table.workspace_name_already_exists_error"}))),ep.createElement("div",{className:"workspace_edit_modal--buttonContainer--SMxZ9"},ep.createElement(eI.nR,{onClick:h},ep.createElement(e$.Tx,{id:"workspace_table.cancel_create_or_edit"})),ep.createElement(eH.fu,{name:"Workspace Modal Submit",properties:{workspaceId:e.workspaceId}},ep.createElement(eI.vd,{className:"workspace_edit_modal--submitButton--x5EhS",onClick:()=>{i&&0!==i.length||o?v():t(e0.$O({type:OA.type,data:{onConfirm:v}}))},disabled:!!a||!_.length||0===d.tokens.length},o?ep.createElement(e$.Tx,{id:"workspace_table.workspace_edit_save_changes"}):ep.createElement(e$.Tx,{id:"workspace_table.create_workspace_button"})))))))},"WorkspaceEditModal"),OD="seen_org_admin_workspaces_onboarding",OP=(0,tZ.r1)(OD);function OB(){let e=(0,tY.md)(OP),{show:t,isShowing:a,complete:r,uniqueId:n}=(0,tJ.e)({overlay:t4.rQs,priority:tQ.N.DEFAULT_MODAL},[e]);return(0,tK.E)(n,OF,()=>{t({canShow:e=>!eb.rr&&!e})}),ep.createElement(vI.rq,{emphasized:!0,clickOutsideToHide:!0,isShowing:a,targetKey:vB,trackingContextName:`${vD} - Teams tab`,title:ep.createElement(e$.Tx,{id:"org_admin_onboarding.tooltip.workspace_add_teams.title"}),description:ep.createElement(du.E,{i18nId:"org_admin_onboarding.tooltip.workspace_add_teams.description"}),primaryCta:{label:ep.createElement(e$.Tx,{id:"general.got_it"}),type:"button",onClick:r,ctaTrackingDescriptor:o3.c.DONE},onClose:r,userFlagOnShow:OD,shouldCenterArrow:xM.EL.FALLBACK})}let OU=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.currentUserOrgId),r=e.workspaces.map(e=>e.id),n=e.workspaces.map(e=>e.name),l=()=>{t(e0.Ce())},[i,s]=ep.useState(!1);return ep.createElement(eH.fu,{name:"Delete workspace modal",properties:{numWorkspaces:e.workspaces.length}},ep.createElement(sn.XV,{title:(0,e$.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length}),maxWidth:372,onClose:l},ep.createElement("div",{className:eT.cx.font11.p16.$},ep.createElement(e$.Tx,{id:"workspace_table.deleting_the_workspaces_will_cause",licenseGroupsCount:e.workspaces.length,licenseGroupsNames:ep.createElement(du.E,{fontWeight:"bold"},(0,to.Yx)(n))}),ep.createElement("div",null,ep.createElement("div",null,"\xa0"),ep.createElement("span",{className:b8.Vq},(0,e$.t)("workspace_table.are_you_sure_you_want_to_delete_these_workspaces",{licenseGroupsCount:e.workspaces.length}))),ep.createElement("div",null,"\xa0"),ep.createElement("form",{onSubmit:n=>{n.preventDefault(),uG.Eh.delWorkspaces({orgId:a,workspaceIds:r}).then(()=>{t(t6.F.enqueue({type:"workspace-delete",message:(0,e$.t)("workspace_table.workspaces_deleted_toast",{licenseGroupsCount:e.workspaces.length,licenseGroupName:e.workspaces[0].name})})),t(e0.Ce())}).catch(e=>{t(t6.F.enqueue({error:!0,message:e.message??(0,e$.t)("workspace_table.an_error_occurred_while_deleting_workspaces")}))})}},ep.createElement("label",null,ep.createElement(uX.S,{checked:i,onChange:()=>s(!i),label:(0,e$.t)("billing_groups_table.delete_modal.i_understand_that_this_action_isnt_reversible")})),ep.createElement("div",{className:b8.v0},ep.createElement(eI.tM,{onClick:l},ep.createElement(e$.Tx,{id:"general.cancel"})),ep.createElement(eI.qM,{type:"submit",className:b8.pL,disabled:!i},(0,e$.t)("workspace_table.delete_n_workspaces",{licenseGroupsCount:e.workspaces.length})))))))},"WorkspaceDeleteModal");function OW({workspacesData:e,selectedWorkspaces:t}){let a=(0,eg.wA)();return 0===t.length?null:ep.createElement(ep.Fragment,null,1===t.length&&!!t[0].id&&ep.createElement(wT.IU,{onClick:()=>{a((0,e0.to)({type:OM,data:{workspacesData:e,workspaceId:t[0].id}}))},label:(0,e$.t)("workspace_table.edit_details")}),ep.createElement(wT.IU,{onClick:()=>a((0,e0.to)({type:OU,data:{workspaces:t.filter(e=>!!e.id)}})),label:(0,e$.t)("general.delete")}))}function OV(e){let{workspacesData:t,workspaceId:a,disableDropdown:r}=e,n=t.find(e=>e.id===a),l=(0,eg.wA)(),i=(0,eg.d4)(e=>e.dropdownShown),s=ep.useCallback(()=>{l((0,e0.to)({type:OU,data:{workspaces:[n]}}))},[l,n]);if(r||!a)return null;let o=`MENU_DROPDOWN-${a}`,c=(null==i?void 0:i.type)===o;return ep.createElement(wT.Ve,{isRightAligned:!0,className:wO.hP,dispatch:l,hideChevron:!0,showingDropdown:c,type:o},ep.createElement(eL.B,{svg:rN.A,className:"workspaces_table--menuIcon--w7kvm admin_settings_page--menuIcon--dMpHa",dataTestId:"workspace-menu-icon"}),c&&ep.createElement(pv.W.DropdownWithScrim,{dispatch:l,className:"workspaces_table--dropdown--DbNom",style:i.data.position},ep.createElement(pv.W.OptionTracked,{onClick:()=>{l((0,e0.to)({type:OM,data:{workspacesData:t,workspaceId:a}}))}},(0,e$.t)("workspace_table.edit_details")),ep.createElement(pv.W.OptionTracked,{onClick:s},(0,e$.t)("general.delete"))))}(ei||(ei={})).PenCheckmark=function(){return ep.createElement("svg",{width:"49",height:"49",viewBox:"0 0 49 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:eT.cx.colorIcon.$},ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.1443 11.9928L45.5223 20.4496L19.0803 47.1707L4.35542 32.3646L12.7172 23.8917L19.0636 30.2731L37.1443 11.9928ZM37.145 13.6986L19.0659 31.9772L12.7204 25.5967L6.04459 32.3613L19.0782 45.4668L43.8336 20.45L37.145 13.6986Z"}),ep.createElement("path",{d:"M37.2101 11.8238C37.8652 11.8238 38.3963 12.3549 38.3963 13.0101C38.3963 13.6652 37.8652 14.1963 37.2101 14.1963C36.5549 14.1963 36.0238 13.6652 36.0238 13.0101C36.0238 12.3549 36.5549 11.8238 37.2101 11.8238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.2101 10.6238C38.528 10.6238 39.5963 11.6922 39.5963 13.0101C39.5963 14.328 38.528 15.3963 37.2101 15.3963C35.8922 15.3963 34.8238 14.328 34.8238 13.0101C34.8238 11.6922 35.8922 10.6238 37.2101 10.6238ZM38.3963 13.0101C38.3963 12.3549 37.8652 11.8238 37.2101 11.8238C36.5549 11.8238 36.0238 12.3549 36.0238 13.0101C36.0238 13.6652 36.5549 14.1963 37.2101 14.1963C37.8652 14.1963 38.3963 13.6652 38.3963 13.0101Z"}),ep.createElement("path",{d:"M44.7101 19.0238C45.3652 19.0238 45.8963 19.5549 45.8963 20.2101C45.8963 20.8652 45.3652 21.3963 44.7101 21.3963C44.0549 21.3963 43.5238 20.8652 43.5238 20.2101C43.5238 19.5549 44.0549 19.0238 44.7101 19.0238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M44.7101 17.8238C46.028 17.8238 47.0963 18.8922 47.0963 20.2101C47.0963 21.528 46.028 22.5963 44.7101 22.5963C43.3922 22.5963 42.3238 21.528 42.3238 20.2101C42.3238 18.8922 43.3922 17.8238 44.7101 17.8238ZM45.8963 20.2101C45.8963 19.5549 45.3652 19.0238 44.7101 19.0238C44.0549 19.0238 43.5238 19.5549 43.5238 20.2101C43.5238 20.8652 44.0549 21.3963 44.7101 21.3963C45.3652 21.3963 45.8963 20.8652 45.8963 20.2101Z"}),ep.createElement("path",{d:"M18.6863 45.1238C19.3414 45.1238 19.8725 45.6549 19.8725 46.3101C19.8725 46.9652 19.3414 47.4963 18.6863 47.4963C18.0311 47.4963 17.5 46.9652 17.5 46.3101C17.5 45.6549 18.0311 45.1238 18.6863 45.1238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 43.9238C20.0041 43.9238 21.0725 44.9922 21.0725 46.3101C21.0725 47.628 20.0041 48.6963 18.6863 48.6963C17.3684 48.6963 16.3 47.628 16.3 46.3101C16.3 44.9922 17.3684 43.9238 18.6863 43.9238ZM19.8725 46.3101C19.8725 45.6549 19.3414 45.1238 18.6863 45.1238C18.0311 45.1238 17.5 45.6549 17.5 46.3101C17.5 46.9652 18.0311 47.4963 18.6863 47.4963C19.3414 47.4963 19.8725 46.9652 19.8725 46.3101Z"}),ep.createElement("path",{d:"M18.6863 29.5238C19.3414 29.5238 19.8725 30.0549 19.8725 30.7101C19.8725 31.3652 19.3414 31.8963 18.6863 31.8963C18.0311 31.8963 17.5 31.3652 17.5 30.7101C17.5 30.0549 18.0311 29.5238 18.6863 29.5238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6863 28.3238C20.0041 28.3238 21.0725 29.3922 21.0725 30.7101C21.0725 32.028 20.0041 33.0963 18.6863 33.0963C17.3684 33.0963 16.3 32.028 16.3 30.7101C16.3 29.3922 17.3684 28.3238 18.6863 28.3238ZM19.8725 30.7101C19.8725 30.0549 19.3414 29.5238 18.6863 29.5238C18.0311 29.5238 17.5 30.0549 17.5 30.7101C17.5 31.3652 18.0311 31.8963 18.6863 31.8963C19.3414 31.8963 19.8725 31.3652 19.8725 30.7101Z"}),ep.createElement("path",{d:"M12.6863 23.8238C13.3414 23.8238 13.8725 24.3549 13.8725 25.0101C13.8725 25.6652 13.3414 26.1963 12.6863 26.1963C12.0311 26.1963 11.5 25.6652 11.5 25.0101C11.5 24.3549 12.0311 23.8238 12.6863 23.8238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.6863 22.6238C14.0041 22.6238 15.0725 23.6922 15.0725 25.0101C15.0725 26.328 14.0041 27.3963 12.6863 27.3963C11.3684 27.3963 10.3 26.328 10.3 25.0101C10.3 23.6922 11.3684 22.6238 12.6863 22.6238ZM13.8725 25.0101C13.8725 24.3549 13.3414 23.8238 12.6863 23.8238C12.0311 23.8238 11.5 24.3549 11.5 25.0101C11.5 25.6652 12.0311 26.1963 12.6863 26.1963C13.3414 26.1963 13.8725 25.6652 13.8725 25.0101Z"}),ep.createElement("path",{d:"M5.18625 31.6238C5.8414 31.6238 6.3725 32.1549 6.3725 32.8101C6.3725 33.4652 5.8414 33.9963 5.18625 33.9963C4.5311 33.9963 4 33.4652 4 32.8101C4 32.1549 4.5311 31.6238 5.18625 31.6238Z",className:eT.cx.colorIconOninverse.$}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.18625 30.4238C6.50414 30.4238 7.5725 31.4922 7.5725 32.8101C7.5725 34.128 6.50414 35.1963 5.18625 35.1963C3.86836 35.1963 2.8 34.128 2.8 32.8101C2.8 31.4922 3.86836 30.4238 5.18625 30.4238ZM6.3725 32.8101C6.3725 32.1549 5.8414 31.6238 5.18625 31.6238C4.5311 31.6238 4 32.1549 4 32.8101C4 33.4652 4.5311 33.9963 5.18625 33.9963C5.8414 33.9963 6.3725 33.4652 6.3725 32.8101Z"}),ep.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.3876 12.6156L22.2292 15.2282C18.9526 15.9577 15.4711 14.4246 13.8677 11.2973C13.5621 10.7013 13.3431 10.0829 13.2065 9.45665L8.59466 7.97098L10.9015 0.809704L15.4787 2.2842C15.9684 1.83489 16.5254 1.44354 17.1443 1.12628C20.3838 -0.534604 24.2614 0.36987 26.4631 3.09209L35.3876 12.6156ZM32.187 10.9551L25.5567 3.87971L25.5424 3.86194C23.6928 1.56053 20.4216 0.794505 17.6917 2.19412C17.0714 2.51213 16.5266 2.91732 16.0637 3.38669L15.8043 3.6498L11.6758 2.31985L10.1048 7.19673L14.26 8.53531L14.3202 8.8956C14.4253 9.5251 14.628 10.15 14.9356 10.7499C16.2845 13.381 19.2162 14.6724 21.9745 14.0555L21.9815 14.0539L31.8256 12.0994L20.4477 8.43412L20.8157 7.29193L32.187 10.9551Z"}),ep.createElement("path",{d:"M18.8873 7.17071C19.2085 6.17344 20.2774 5.62544 21.2747 5.9467C22.2719 6.26796 22.8199 7.33684 22.4987 8.3341C22.1774 9.33137 21.1085 9.87937 20.1113 9.55811C19.114 9.23685 18.566 8.16798 18.8873 7.17071Z"}))};var OG=a(211090),O$=a(712886);function Oj({asset:e,title:t,subtitle:a}){return ep.createElement(ej.Y,{direction:"vertical",spacing:8,horizontalAlignItems:"center"},e,ep.createElement(ej.Y,{direction:"vertical",spacing:4,horizontalAlignItems:"center"},ep.createElement("div",{className:eT.cx.alignCenter.$},ep.createElement(du.E,{fontWeight:"medium",fontSize:13},t)),ep.createElement("div",{className:eT.cx.alignCenter.$},ep.createElement(du.E,{color:"secondary"},a))))}function OH(){let e=(0,eg.wA)();return ep.createElement("div",{className:eT.cx.hFull.$,style:{minWidth:660,paddingTop:50,paddingLeft:50,paddingRight:50}},ep.createElement(ej.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",verticalAlignItems:"start",horizontalAlignItems:"center"},ep.createElement("img",{alt:"",src:"https://static.figma.com/uploads/31ad8dd79c291ecf576eb7c434a16cfd3a53034b",width:235,height:235,"data-testid":"workspaces-table-colorful-blocks"}),ep.createElement("div",{className:eT.cx.alignCenter.$},ep.createElement(du.E,{fontSize:18,fontWeight:"medium",i18nId:"workspace_table.empty_state.title"})),ep.createElement("div",{className:eT.cx.alignCenter.$},ep.createElement(du.E,{fontSize:14,i18nId:"workspace_table.empty_state.subtitle"})),ep.createElement("div",{className:eT.cx.pt8.$},ep.createElement(dD.$,{icon:"plus-32",variant:"inverse",onClick:()=>{e((0,e0.to)({type:OM,data:{workspacesData:[]}}))}},ep.createElement(du.E,{i18nId:"workspace_table.workspace"}))),ep.createElement(ej.Y,{direction:"horizontal",horizontalAlignItems:"center",height:"hug-contents",padding:{vertical:50}},ep.createElement("div",{style:{maxWidth:1100}},ep.createElement(ej.Y,{direction:"horizontal",width:"fill-parent",verticalAlignItems:"start",horizontalAlignItems:"space-between",spacing:"64px"},ep.createElement(Oj,{asset:ep.createElement(eL.B,{svg:OG.A,className:eT.cx.colorIcon.$}),title:(0,e$.t)("workspace_table.empty_state.manage_access_and_plugins"),subtitle:(0,e$.t)("workspace_table.empty_state.manage_access_and_plugins.subtitle")}),ep.createElement(Oj,{asset:ep.createElement(ei.PenCheckmark,null),title:(0,e$.t)("workspace_table.empty_state.approve_libraries_and_assets"),subtitle:(0,e$.t)("workspace_table.empty_state.approve_libraries.subtitle")}),ep.createElement(Oj,{asset:ep.createElement(eL.B,{svg:O$.A,className:eT.cx.colorIcon.$}),title:(0,e$.t)("workspace_table.empty_state.let_workspaces_be_unique"),subtitle:(0,e$.t)("workspace_table.empty_state.let_workspaces_be_unique.subtitle")}))))))}let Oq=e=>e.id??vd.O,Oz=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1}]});function OY(e){var t,a;let r=(0,eg.wA)(),[n,l]=ep.useState(""),i=(0,t5.Rs)(ai.gLw,{orgId:e.org.id}),s="loaded"!==i.status,{filterCountsViewResult:o}=(0,h2.vu)(e.org.id,"",vx.J0),c=(null==(a=null==(t=i.data)?void 0:t.org)?void 0:a.workspaces)??[],d=s?[]:[{id:null},...c];n&&(Oz.set(d),d=Oz.search(n));let m=[{name:(0,e$.t)("workspace_table.name"),className:"workspaces_table--nameColumn--7EOOL workspaces_table--column--Gd721 table--column--974RA",getSortValue:e=>e.id?e.name:"0",cellComponent:e=>e.id?ep.createElement(ej.Y,null,ep.createElement(e7.z6,{entity:e,size:22}),ep.createElement(du.E,null,e.name),e.orgAccess===lB.bU.SECRET&&ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ep.createElement(le.In,{icon:"lock-16"}))):ep.createElement(ej.Y,{spacing:4,padding:0},ep.createElement(du.E,{i18nId:"workspace_table.unassigned"}),ep.createElement(du.E,{i18nId:"workspace_table.unassigned_row_default",color:"secondary"}))},{name:(0,e$.t)("workspace_table.admins"),className:"workspaces_table--adminColumn--7yytA workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let a=[],r=t.admins;if((null==r?void 0:r.length)>0&&r.forEach(e=>{var t;let r=null==(t=null==e?void 0:e.baseOrgUser)?void 0:t.user;r&&a.push({id:r.id,handle:r.handle,img_url:r.imgUrl??void 0})}),(null==a?void 0:a.length)===0){let t=e.orgAdmins.filter(e=>e.permission===lB._D.ADMIN).map(e=>e.user);a.push(...t)}let n=(0,bi.e)(a);return ep.createElement(ep.Fragment,null,a.length>1?ep.createElement(ej.Y,null,ep.createElement(_6.f,{className:eT.cx.flexShrink0.$,textColor:"onselected",backgroundColor:"onselected",text:`${a.length}`,size:22}),ep.createElement(du.E,{truncate:!0},n)):ep.createElement(e7.az,{entity:a[0],size:22}))}},{name:(0,e$.t)("workspace_table.teams"),className:"workspaces_table--teamsColumn--CmGu3 workspaces_table--column--Gd721 table--column--974RA",cellComponent:t=>{let{status:a,data:n}=e.workspaceTeamCounts;if("loaded"!==a)return ep.createElement(bN.Wi,{className:eT.cx.h12.w100.$,animationType:bN.JR.SHIMMER,dataTestId:"teams-count-shimmer"});let l=n[t.id??vd.O]??0;return ep.createElement(IH.N,{onClick:()=>r(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.TEAMS,selectedWorkspaceId:t.id??vd.O})),trusted:!0},ep.createElement(e$.Tx,{id:"workspace_table.n_teams",count:l}))},getSortValue:t=>{var a;return(null==(a=e.workspaceTeamCounts.data)?void 0:a[t.id??vd.O])??0},sortNumerically:!0},{name:(0,e$.t)("workspace_table.members"),className:"workspaces_table--membersColumn--rjfbn workspaces_table--column--Gd721 table--column--974RA",cellComponent:e=>{var t;let{status:a,data:n}=o;if("loaded"!==a)return ep.createElement(bN.Wi,{className:eT.cx.h12.w100.$,animationType:bN.JR.SHIMMER,dataTestId:"members-count-shimmer"});let l=(null==(t=n.workspaces)?void 0:t[e.id??vd.O])??0;return ep.createElement(IH.N,{onClick:()=>r(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.MEMBERS,orgAdminMembersTabFilters:{...vx.J0,workspaceFilter:e.id??vd.O}})),trusted:!0},ep.createElement(e$.Tx,{id:"workspace_table.n_members",count:l}))},getSortValue:e=>{var t,a;return(null==(a=null==(t=o.data)?void 0:t.workspaces)?void 0:a[e.id??vd.O])??0},sortNumerically:!0},{name:"",className:"workspaces_table--iconColumn--s0ELc admin_settings_page--iconColumn--qxUMs",cellComponent:(e,t)=>ep.createElement(OV,{workspaceId:e.id,workspacesData:c,disableDropdown:t})}],[u,_,p]=(0,be.z)({columnName:"Name",isReversed:!1},d,m);return s||0!==c.length?ep.createElement(ep.Fragment,null,ep.createElement(bZ.K,{title:bA(En.J7.WORKSPACES),hasHorizontalPadding:!0,rightActions:ep.createElement(dD.$,{icon:"plus-32",onClick:()=>{r((0,e0.to)({type:OM,data:{workspacesData:c}}))}},ep.createElement(du.E,{i18nId:"workspace_table.workspace"}))}),ep.createElement(bD.Cj,{hasNewScrollContext:!0,isLoading:s,items:p,getItemKey:Oq,columns:m,stickyContent:ep.createElement(ej.Y,{strokeColor:"default",strokeWidth:{top:1,bottom:1},padding:{vertical:8}},ep.createElement(bk.y2,{onChange:l,focusOnMount:!1,query:n,clearSearch:()=>l(""),placeholder:(0,e$.t)("workspace_table.search.placeholder")})),actionBar:e=>ep.createElement(OW,{workspacesData:c,selectedWorkspaces:e}),actionBarClassName:"workspaces_table--bulkActionsBar--ZdJL6",itemTypeContext:{itemType:"workspace",getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_workspace",{numSelected:e})},unselectableItemKeys:new Set([vd.O]),isBannerHeightDynamic:!0,emptyContent:ep.createElement(TR.p,null,ep.createElement(e$.Tx,{id:"workspace_table.search.no_results"})),sortState:u,onSetSortState:_,minContentWidth:(0,ti.hG)(aE.YEj)})):ep.createElement(OH,null)}function OK(e){let t=xF();return ep.createElement(ep.Fragment,null,ep.createElement(OY,{org:e.org,orgAdmins:e.orgAdmins,workspaceTeamCounts:e.workspaceTeamCounts}),!t&&ep.createElement(OB,null))}function OJ(e){var t,a,r,n,l,i,s,o,c,d,m;let u=(0,eg.wA)(),_=(0,mV.sZ)(),p=(0,eg.d4)(({orgDomains:e})=>e),g=(0,eg.d4)(({orgSamlConfig:e})=>e),E=(0,Ea.MX)(),f=(0,eg.d4)(({loadingState:e})=>e),h=(0,rE.U)(),v=(0,mG.usePermissionsState)(),b=(0,eg.d4)(({sharedFonts:e})=>e),y=(0,eg.d4)(({activityLogs:e})=>e),w=(0,tR.iZ)(),T=(0,eg.d4)(({teamRoleRequests:e})=>e),x=(0,eg.d4)(({selectedView:e})=>e),[C,N]=ep.useState(0),[k,S]=ep.useState(0),[I,A]=ep.useState(0),L=ep.useCallback(e=>N(t=>t+e),[]),R=ep.useCallback(e=>S(t=>t+e),[]),O=ep.useCallback(e=>A(t=>t+e),[]),F=(0,h2.a9)(),M=!!(_.bigma_enabled&&F&&F.license_admin),D=(0,pf.NJ)(_.id),P=!!(F&&F.permission===lB._D.ADMIN),{groupsUserIsAdminOf:B}=F?(0,Ea.EQ)(E,null==F?void 0:F.user_id,M&&!P):{groupsUserIsAdminOf:[]},[U,W]=(0,h2.oj)(_.id),{isFetched:V,orgAdmins:G}=(0,h2.YM)({orgId:_.id,includeLicenseAdmins:!1}),$=(0,dN.kA)(_),{isFetched:j,memberCounts:H}=(0,Ea.cZ)(_.id,$&&P),q=(0,E8._W)(_.id,$&&P);ep.useEffect(()=>{var t;if("loading"===D.status)return;let a=null==(t=D.data)?void 0:t[0],r=!!a,n=r&&x.membersTabOrgJoinRequest;!M||P||n?r&&!P?u(tL.$T({view:"workspace",subView:gw.V0.ADMIN,workspaceId:a.id,selectedTab:(0,xl.K)(gw.m2,e.selectedTab)||gw.rj[0],membersTabOrgJoinRequest:x.membersTabOrgJoinRequest})):P||u(tL.$T(vC.o0)):B.length>0?u(tL.$T({view:"licenseGroup",subView:gh.GN.ADMIN,licenseGroupId:B[0].id,selectedTab:(0,Et.g)(e.selectedTab)})):(0,e1.D2)(f,(0,Ea.EO)(_.id))&&u(tL.$T(vC.o0))},[u,B,M,D,P,_.id,f,e.selectedTab,x.membersTabOrgJoinRequest]);let[z,Y]=ep.useState(0),[K,J]=ep.useState("");ep.useEffect(()=>{e.selectedTab===En.J7.MEMBERS&&(Y(Date.now()),(0,tn.sx)("Org Admin Members Table V2 Load Initiated",{orgId:_.id},{forwardToDatadog:!0}))},[e.selectedTab,_.id]),ep.useEffect(()=>{P&&u(xb.Jt({includeMemberCount:!0,includeTopMembers:!0,includeProjectCount:!0,includeSecretTeams:!0}))},[P,u,_.id]),ep.useEffect(()=>{P&&(u(xA.UK({force:!0})),u(xL.J()))},[P,u,_.id]);let[Z]=xI.Tn({currentOrgId:_.id,excludeDrafts:!0},{enabled:P}),Q=(0,xR.g7)({disabled:!(0,eh.kc)().dse_preset_libraries}),X=Z.data||null;ep.useEffect(()=>{P&&!(0,eh.kc)().library_subs_on_livegraph&&u(xI.Yx({}))},[P,_.id,u]),ep.useEffect(()=>{P&&kS.y.loadSharedFonts(u)},[P,u,_.id]),ep.useEffect(()=>{P&&(u(xS.Vl({})),u(xS.mV({})))},[P,u,_.id]),ep.useEffect(()=>{u(Ee.Jt({forceRefetch:!0}))},[u,_.id]);let ee=(0,mV.dq)(),et=(0,g7.Xf)(ee),ea="loading"===et.status,er=null==(t=et.data)?void 0:t.invoices,en=((null==(a=et.data)?void 0:a.design_billable_seats)||0)+C,el=((null==(r=et.data)?void 0:r.figjam_billable_seats)||0)+k,ei=((null==(n=et.data)?void 0:n.dev_mode_billable_seats)||0)+I,es=null,eo=null;eo=e.selectedTab===En.J7.DASHBOARD?ep.createElement(e8.qc,null):e.selectedTab===En.J7.RESOURCES?ep.createElement(TR.p,null,ep.createElement(e8.qc,null)):ep.createElement("div",{className:xp},ep.createElement(bZ.K,{title:bA(e.selectedTab,e.selectedSecondaryTab)}),ep.createElement(e8.qc,null));let ec=!1,ed=x.orgAdminMembersTabFilters||vx.J0;_.figjam_disabled_at&&ed[vx.e5.productFilter]===uP.oM.WHITEBOARD&&(ed[vx.e5.productFilter]=null);let em=(0,tY.md)(xC);switch(e.selectedTab){case En.J7.ACTIVITY:es=ep.createElement(St,{dispatch:u,org:_,dropdownShown:h,orgTeams:em.data||[],activityLogs:y,initialEmail:x.activityTabInitialEmail,initialStartTime:x.activityTabInitialStartTime,initialEventOptionId:x.activityTabInitialEventOptionId,fetchLogs:e=>{u(xk.Jt(e))}});break;case En.J7.BILLING:let eu=!!$&&((0,e1.VP)(f,(0,Ea.EO)(_.id))||!j);ec=ea||eu||!V,es=ep.createElement(S1,{isFetching:ec,accountCredit:null==(l=et.data)?void 0:l.account_credit,currency:null==(i=et.data)?void 0:i.currency,dispatch:u,loadingContent:eo,invoices:er,adminEmail:null==(s=et.data)?void 0:s.admin_email,figjamBillableSeats:el,designBillableSeats:en,devModeBillableSeats:ei,org:_,shouldShowLockedBanner:x.shouldShowLockedBanner,orgAdmins:G,licenseGroupMemberCounts:H});break;case En.J7.DASHBOARD:ec=ea||"loaded"!==em.status||!U,es=ep.createElement(Ip,{invoices:er,orgUserCount:W,licenseQuantities:{[uP.lM.DESIGN]:(null==(o=et.data)?void 0:o.design_billable_seats)||0,[uP.lM.FIGJAM]:(null==(c=et.data)?void 0:c.figjam_billable_seats)||0,[uP.lM.DEV_MODE]:(null==(d=et.data)?void 0:d.dev_mode_billable_seats)||0},teams:em.data||[],org:_,devModeOptInModalState:x.devModeOptInModalState,shouldShowDevModeSuggestedUpgradesModal:x.shouldShowDevModeSuggestedUpgradesModal});break;case En.J7.WORKSPACES:ec=!V,es=ep.createElement(OK,{org:_,orgAdmins:G,loadingContent:eo,workspaceTeamCounts:q});break;case En.J7.MEMBERS:let e_=(0,e1.VP)(f,(0,Ea.EO)(_.id))||!!P&&("loading"===et.status||g.isFetching),eE=x.orgAdminMembersTabSort||vx.oU;es=P?ep.createElement(xa,{invoices:er,org:_,dropdownShown:h,searchQuery:K,setSearchQuery:J,filters:ed,sort:eE,figjamBillableSeats:el,designBillableSeats:en,devModeBillableSeats:ei,startTime:z,isLoading:e_,setDesignEditorDiff:L,setWhiteboardEditorDiff:R,setDevModeEditorDiff:O}):null;break;case En.J7.RESOURCES:switch(e.selectedSecondaryTab){case En._d.APPROVED_PLUGINS:es=ep.createElement(Ar,{orgId:_.id,extensionType:"plugin",selectedExtensionId:e.selectedExtensionId});break;case En._d.APPROVED_WIDGETS:es=ep.createElement(Ar,{orgId:_.id,extensionType:"widget",selectedExtensionId:e.selectedExtensionId});break;case En._d.SHARED_FONTS:ec=!!kS.y.fontLoadPromise||!kS.y.loadedFonts,es=ep.createElement(kS.y,{dispatch:u,dropdownShown:h,permissionsState:v,orgId:_.id,sharedFonts:b,resourceType:"org"});break;case En._d.LIBRARIES:default:ec=null===X,es=ep.createElement(CU,{org:_,libraryStats:X,communityLibraryStats:Q})}break;case En.J7.SETTINGS:ec=g.isFetching||p.isFetching,es=ep.createElement(Oc,{org:_,orgDomains:p.domains,orgSamlConfig:g,user:w,adminEmail:(null==(m=et.data)?void 0:m.admin_email)||"",renewalDate:(0,uJ.de)(er??[]),billableSeats:{[uP.lM.DESIGN]:en,[uP.lM.FIGJAM]:el,[uP.lM.DEV_MODE]:ei}});break;case En.J7.TEAMS:ec="loaded"!==em.status||(0,e1.VP)(f,(0,Ea.EO)(_.id)),es=If(_.id)?ep.createElement(Ok,{org:_,dropdownShown:h,teamRoleRequests:T,user:w,selectedWorkspaceId:e.selectedWorkspaceId}):ep.createElement(kN,{org:_,teams:em.data||[],dropdownShown:h,dispatch:u,teamRoleRequests:T,user:w,selectedWorkspaceId:e.selectedWorkspaceId})}return ep.createElement(ep.Fragment,null,ep.createElement(v6.r,{containerClass:xg,scrollableContainerClass:xE,toolbar:ep.createElement(IN,{selectedTab:e.selectedTab,selectedSecondaryTab:e.selectedSecondaryTab}),content:ec||!P?eo:es,belowToolbarBanner:ep.createElement(kP,{selectedTab:e.selectedTab,org:_})}),ep.createElement(xW,null),(0,yI.D)(null,_.id)&&(e.selectedTab===En.J7.TEAMS||e.selectedTab===En.J7.ACTIVITY)&&ep.createElement(xY,null))}var OZ=a(167519),OQ=a(909022);function OX({orgId:e}){let t=(0,mG.usePermissionsState)(),a=(0,eg.wA)();return(0,mG.canMemberOrg)(e,t)?ep.createElement(OZ.K,{action:{kind:OZ.A.BUTTON,key:OQ.D.VIEW_LIBRARIES,displayText:(0,e$.t)("org_view.view_libraries"),onClick:()=>{a(tL.$T({view:"org",orgId:e,orgViewTab:gv.X.LIBRARIES}))}}}):null}let O0=ep.forwardRef(function({disabled:e,onClick:t,onKeyDown:a,icon:r,children:n,onFocus:l,onBlur:i},s){let o=ep.useCallback(e=>{null==a||a(e),e.keyCode===ou.Uz.ESCAPE&&e.currentTarget.blur()},[a]);return ep.createElement("button",{disabled:e,onClick:t,onKeyDown:o,className:eS()("inverted_inverse_button--buttonBase--4YgBm button--buttonBase---72nl","inverted_inverse_button--buttonColors--tEpkC","inverted_inverse_button--buttonHugContents--cUaGO"),onFocus:l,onBlur:i,ref:s},r&&ep.createElement("div",{className:"inverted_inverse_button--iconContainer--zAau3"},ep.createElement(le.In,{icon:r})),n&&ep.createElement(du.E,{fontSize:11,fontWeight:"medium",truncate:!0},n))});var O1=a(740998);let O2=e=>{switch(e){case"primary":case"destructive":case"success":case"toolbar-secondary":return eT.cx.colorIconOnbrand.$;case"inverse":return eT.cx.colorIconOninverse.$;default:return eT.cx.colorIcon.$}};function O4(e){let t=ep.createElement("div",{className:eT.cx.flex.gap6.itemsCenter.$,"data-testid":e.dataTestId},ep.createElement(eL.B,{className:O2(e.variant),svg:O1.A}),ep.createElement(du.E,null,e.text));return"inverted-inverse"===e.variant?ep.createElement(O0,{onClick:e.onClick,disabled:e.disabled},t):ep.createElement(dD.$,{"data-onboarding-key":e["data-onboarding-key"],variant:e.variant,onClick:e.onClick,disabled:e.disabled},t)}function O3({orgId:e}){let t=(0,eg.wA)(),a=(0,eg.d4)(dN.QT),r=(0,eg.d4)(t=>t.orgById[e]),{canCreateTeam:n}=(0,pf.l6)(r,void 0);return a||!n?null:ep.createElement(OZ.K,{action:{kind:OZ.A.CUSTOM,key:OQ.D.NEW_TEAM,element:ep.createElement(O4,{onClick:()=>{t(e0.to({type:gQ.Uc,data:{}}))},variant:"inverse",text:(0,e$.t)("license_group_view.toolbar.new_team_button")})}})}function O8({orgId:e}){return e?ep.createElement(ep.Fragment,null,ep.createElement(O3,{orgId:e,key:"org-new-team-action"}),ep.createElement(OX,{orgId:e,key:"org-library"})):null}var O5=a(265960),O6=((G=O6||{})[G.WARN=0]="WARN",G[G.WARN_SOFT=1]="WARN_SOFT",G[G.ANNOUNCEMENT=2]="ANNOUNCEMENT",G[G.EVENT=3]="EVENT",G);let O9="banners--warn--bC4ke",O7="banners--primaryCtaButton--tyhCJ",Fe="banners--content--ciED3",Ft="banners--titleSmall--ceZgU",Fa="banners--bold--qt00U",Fr="banners--message--9BMLM",Fn="banners--messageSmall--YT-82",Fl="banners--secondaryCtaButton--uYrvi",Fi="banners--ctaButtonGroup--r8cfU",Fs="banners--closeButton--IXY-V",Fo="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",Fc="banners--teamUpgradeNotice--gqc9c",Fd="banners--softWarningBanner--QK9Y5",Fm="banners--softWarningBannerBlue--uQmhb";var Fu=a(702595);let F_=ep.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),ep.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},ep.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),ep.createElement("g",{mask:"url(#mask0_4:25)"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));class Fp extends ep.PureComponent{render(){let{title:e,message:t,cta:a,ctaTrackingProperties:r,learnMoreUrl:n,onClickCta:l,severity:i,secondaryCTA:s,secondaryOnClickCta:o,svg:c,trackingContextName:d="Banner",contentStyles:m,reverseCtas:u,dismissible:_,onClose:p}=this.props;return i===O6.ANNOUNCEMENT?ep.createElement(eH.fu,{name:d,properties:{severity:i,...this.props.tracking}},ep.createElement("div",{className:Fe},c&&ep.createElement(eL.B,{svg:c,useOriginalSrcFills_DEPRECATED:!0}),ep.createElement("div",{className:Fr},ep.createElement("div",{className:Ft},e),ep.createElement("div",{className:Fn},t)),ep.createElement(eI.e2,{reversed:u,className:Fi},l&&ep.createElement(eI.vd,{className:O7,onClick:l,trackingProperties:r},a),o&&ep.createElement(eI.tM,{className:Fl,onClick:o},s),_&&p&&ep.createElement(u7.Jn,{className:Fs,onClick:p})))):i===O6.EVENT?ep.createElement(eH.fu,{name:d,properties:{severity:i,...this.props.tracking}},ep.createElement("div",{className:`${Fe} ${m}`},ep.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},F_),ep.createElement("div",{className:Fr},ep.createElement("p",{className:Ft},e),ep.createElement("p",{className:Fn},t)),ep.createElement(eI.e2,{className:Fi},l&&ep.createElement(eI.vd,{className:O7,onClick:l,trackingProperties:r},a),o&&ep.createElement(eI.tM,{className:Fl,onClick:o},s),_&&p&&ep.createElement(u7.Jn,{className:Fs,onClick:p})))):ep.createElement(eH.fu,{name:d,properties:{severity:i,...this.props.tracking}},ep.createElement("div",{className:`${Fe} ${m}`},ep.createElement(eL.B,{svg:Fu.A,className:"banners--warningIcon--A5YS-",autosize:i===O6.WARN_SOFT}),ep.createElement("div",{className:Fr},ep.createElement("span",{className:"banners--title--OIA0P"},e),t,n&&ep.createElement("span",null,"\xa0",ep.createElement("a",{target:"_blank",rel:"noopener",href:n},ep.createElement(e$.Tx,{id:"payments.learn_more"})))),ep.createElement(eI.e2,{reversed:u,className:Fi},l&&ep.createElement(eI.vd,{className:O7,onClick:l,trackingProperties:r},a),!l&&ep.createElement("div",{className:"banners--ctaMessage--5MB88"},a),_&&p&&ep.createElement(u7.Jn,{className:Fs,onClick:p}))))}}Fp.displayName="BannerContentView";var Fg=a(123552),FE=a(466756),Ff=a(376432),Fh=a(349574),Fv=a(87561);let Fb=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.teams)[e.teamId].subscription,r=e.paymentRequiresAction;return(0,ep.useEffect)(()=>{Fv.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,l2.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,ep.useEffect)(()=>{r||a===lB.Qh.INCOMPLETE||t(e0.ES({type:Fb.type}))},[a,t,r]),ep.createElement(sn.Eo,{title:(0,e$.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,e$.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:o3.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},ep.createElement(e$.Tx,{id:"payments.pending_subscription_modal_description"}))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var Fy=a(677050),Fw=a(180881),FT=a(169321),Fx=a(123243);function FC(e,t){let a;if(!e.currentUserOrgId||!(0,pM.wn)(e.currentUserOrgId,e))return null;let r=e.orgById[e.currentUserOrgId],n=(0,mG.canAdminOrg)(e.currentUserOrgId,e),l=r.past_due_at&&(0,pN.A)(r.past_due_at).add(2,"weeks")>(0,pN.A)(new Date);if(!n&&l)return null;let i=(0,uW.zR)(e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]).map(e=>ep.createElement("span",{key:e.id,className:Fa},e.user.handle," (",e.user.email,")"));return a=n?r.billing===mH.EZ.CHARGE_IMMEDIATELY?ep.createElement(e$.Tx,{id:"payments.org_past_due_on_payment",invoice:ep.createElement("a",{onClick:()=>{null==t||t(tL.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:En.J7.BILLING}))}},ep.createElement(e$.Tx,{id:"payments.outstanding_invoice"})),orgName:r.name}):ep.createElement(e$.Tx,{id:"payments.org_past_due_on_payment_invoiced",email:ep.createElement("b",{className:Fa},"support@figma.com"),orgName:r.name}):ep.createElement(e$.Tx,{id:"payments.please_reach_out_to_org_admins",orgName:r.name,admins:(0,mG.canMemberOrg)(e.currentUserOrgId,e)&&ep.createElement("span",null," ",ep.createElement(bX.T,{formatType:"disjunction"},i)),numAdmins:i.length}),{severity:O6.WARN,title:(0,e$.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}}function FN(e,t,a,r,n){var l;let i=a?r.teams[a]:null;if(a&&!i||"file"===e)return null;let s=r.currentTeamId,o=i&&i.subscription===lB.Qh.GRACE_PERIOD,c=r.billingSummary,d=(null==i?void 0:i.subscription)===lB.Qh.INCOMPLETE,m=!!(null==i?void 0:i.org_id),u=!!(null==i?void 0:i.subscription),_=e=>{var t;return(null==e?void 0:e.status)==="open"&&(null==(t=null==e?void 0:e.payment_intent)?void 0:t.status)===E6.pk.REQUIRES_SOURCE_ACTION},p=(0,eh.kc)().requires_action_3ds_banner&&o&&!m&&u&&(_(null==c?void 0:c.last_monthly_invoice)||_(null==c?void 0:c.last_annual_invoice)),g=o&&!p,E=i&&(d||p),f=i&&i.subscription===lB.Qh.PAST_DUE,h=i&&i.subscription===lB.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,v=a&&(0,mG.canOwnTeam)(a,r),b=a&&(0,mG.canAdminTeam)(a,r),y=a&&(0,mG.canEditTeam)(a,r),w=i&&(0,pM.oc)(i.id,r),T=i&&!(0,pM.n0)(i)&&!i.student_team&&w,x="folder"===e?t:null,C=0,N={showReminder:!1,showAccessRestricted:!1},k=a||(null==x?void 0:x.team_id),S="folder"===e&&!x;if(r.user){let t=k?(0,mG.getRolesForUserAndTeam)(k,r):[],a=k&&(0,mG.hasMinRole)(t,m5.e.EDITOR),n=["folder","team"].includes(e)&&a,{ps_benchmark:l}=(0,eh.kc)(),i=(0,p1.cn)(r.user),o=r.userEduGracePeriods;S?(l&&s&&(0,p1.hP)(r.user.id,r.roles.byTeamId,r.teams[s])||!l&&(0,p1.ej)(r.user.id,r.roles.byTeamId,r.teams))&&(N=(0,p1.df)(o,i),C=(0,p1.Me)(o)):k&&n&&(N=(0,p1.GU)(o,i,k,!!r.teams[k].student_team),C=(0,p1.qS)(o,k))}let I=i&&!(0,pM.n0)(i)&&!i.student_team&&x&&!(0,fv.Gi)(x),A=I&&x.is_invite_only,L=I&&x.is_view_only,R=x&&(0,fv.sp)(x),O=!R&&!i&&x&&(0,pM.ZZ)(x,r),F=()=>null==n?void 0:n(m2.WX({teamId:i.id,selectedView:r.selectedView})),M=e=>{e.preventDefault(),null==n||n(e0.to({type:Fh.I,data:{teamId:a}}))},D=()=>{null==n||n(tL.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:pF.I.SETTINGS}))},P=()=>ef.Ay.redirect("/education/apply","_blank"),B=()=>null==n?void 0:n(m2.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),U=()=>null==n?void 0:n((0,e0.to)({type:hc.V,data:{upsellSource:pZ.b.BANNER}})),W=FC(r,n);if(W)return W;let V=(0,pM._b)(i),G=i&&i.subscription_raw!==lB.Qh.OK&&(0,pM.WQ)(i)&&b&&hW.ng.getProTrialStatus(i)!==FE.a.IN_TRIAL&&(r.selectedTab===pF.A.SETTINGS||V&&r.selectedTab===pF.A.HOME),$=["team","folder"].includes(e)&&y&&(0,gg.cU)(i),j=y&&function(e,t){var a;let r=e&&(null==(a=t[e.id])?void 0:a.dismissed_legacy_team_upgrade_notice_banner);return(0,gg.zs)(e)&&!r}(i,r.userTeamFlags),H=(0,ph.R$)(r.user,r.currentUserOrgId),q=hW.ng.canSeeExpiredProTrialBanner(r.userTeamFlags,i,r),z=i&&(null==(l=r.userTeamFlags[i.id])?void 0:l[hW.lg]),Y=r.user?(0,p1.x$)(r.eduPeriodEnd,(0,p1.cn)(r.user)):1/0,K=Y>0&&Y!==1/0,J=0===Y,Z=i&&i.student_team_state===E6.kU.STUDENT_TEAM_CURRENT,Q=i&&i.student_team_state===E6.kU.STUDENT_TEAM_EXPIRED&&w,X=K&&v&&Z,ee=J&&v&&Q,et=K&&y&&Z,ea=J&&!y&&Z,er=(0,eh.kc)().edu_offboarding_experience&&(X||ee||et||ea),en=(0,eh.kc)().edu_offboarding_experience&&Q;if(g)return{severity:O6.WARN,title:(0,e$.t)("payments.payment_failed"),message:(0,e$.t)("payments.payment_failed_explanation"),cta:b?(0,e$.t)("payments.update_payment"):(0,e$.t)("payments.contact_admin"),ctaTrackingProperties:b?{trackingDescriptor:o3.c.UPDATE_PAYMENT}:void 0,onClickCta:b?D:null};if(f)return{severity:O6.WARN,title:(0,e$.t)("payments.locked"),message:(0,e$.t)("payments.locked_description",{teamName:i.name}),cta:b?(0,e$.t)("payments.update_payment"):(0,e$.t)("payments.contact_admin"),ctaTrackingProperties:b?{trackingDescriptor:o3.c.UPDATE_PAYMENT}:void 0,onClickCta:b?D:null};if(h)return{severity:O6.WARN,title:(0,e$.t)("payments.locked"),message:b?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"payments.no_monthly_sub_over_editor_limit_admin.seat_rename",contactSupport:ep.createElement("a",{href:"mailto:support@figma.com"},ep.createElement(e$.Tx,{id:"payments.contact_support"}))})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"payments.no_monthly_sub_over_editor_limit.seat_rename"})),cta:b?(0,e$.t)("payments.manage_plan"):null,onClickCta:b?()=>{null==n||n(tL.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:pF.I.SETTINGS}))}:null};if(q&&(w||y&&!z)){let e,t,r,l;return w?(e=y?ep.createElement(e$.Tx,{id:"payments.pro_trial_expiry.locked_description_on_team",teamName:i.name,lowerUsageLink:ep.createElement(eH.$z,{onClick:M},ep.createElement(e$.Tx,{id:"payments.pro_trial_expiry.lower_usage"}))}):ep.createElement(e$.Tx,{id:"payments.pro_trial_expiry.locked_description_for_viewer_on_team",teamName:i.name}),t=y?ep.createElement(e$.Tx,{id:"payments.pro_trial_upgrade_cta.upgrade"}):null,r=`${Fd} `,l="Pro Trial Expiry Banner Locked"):(e=i?ep.createElement(e$.Tx,{id:"payments.pro_trial.trial_ended_banner_message",teamName:i.name}):ep.createElement(e$.Tx,{id:"payments.pro_trial.trial_ended_banner_message.no_name"}),t=ep.createElement(e$.Tx,{id:"payments.pro_trial.trial_ended_banner_upgrade_cta"}),r=`${Fd} ${Fm}`,l="Pro Trial Expiry Banner Unlocked"),{severity:O6.WARN_SOFT,title:(0,e$.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:y?B:void 0,svg:Fw.A,bannerClassName:r,trackingContextName:l,dismissible:!w,onClose:w?void 0:()=>{a&&(null==n||n(Fg.bE({all_team_flags:[{team_id:a,flags:{[hW.lg]:!0}}]})))}}}if(er){let e=()=>null==n?void 0:n(e0.to({type:Ff.ZL,data:{team:i}}));if(X||et)return{severity:O6.WARN_SOFT,title:ep.createElement(e$.Tx,{id:"edu.banner.your_education_status_is_expiring_soon"}),message:ep.createElement(e$.Tx,{id:"edu.banner.to_keep_collaborating_upgrade_team",teamName:i.name,verify:ep.createElement(eI.Us,{href:"/education/apply",target:"_blank",trusted:!0},ep.createElement(e$.Tx,{id:"edu.banner.verify_your_education_status"}))}),cta:ep.createElement(e$.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:Fy.A,bannerClassName:`${Fd} ${Fm}`,trackingContextName:"Edu Offboarding Banner"};if(ee)return{severity:O6.WARN_SOFT,title:ep.createElement(e$.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:ep.createElement(e$.Tx,{id:"edu.banner.team_is_now_view_only_for_all_members",teamName:i.name}),cta:ep.createElement(e$.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:Fy.A,bannerClassName:Fd,trackingContextName:"Edu Offboarding Banner"};if(ea)return{severity:O6.WARN_SOFT,title:ep.createElement(e$.Tx,{id:"edu.banner.your_education_plan_has_expired"}),message:ep.createElement(e$.Tx,{id:"edu.banner.you_can_no_longer_edit_files",teamName:i.name}),cta:ep.createElement(e$.Tx,{id:"edu.banner.learn_more"}),onClickCta:e,svg:Fy.A,bannerClassName:Fd,trackingContextName:"Edu Offboarding Banner"}}else if(en)return{severity:O6.WARN_SOFT,title:ep.createElement(e$.Tx,{id:"edu.banner.team_s_education_status_has_expired",teamName:i.name}),message:ep.createElement(e$.Tx,{id:"edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"}),cta:null,svg:Fy.A,bannerClassName:Fd,trackingContextName:"Edu Offboarding Banner"};else if(T){let e;return e=b||y?ep.createElement("span",null,ep.createElement("b",{style:u1.sx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit",teamName:i.name})," "),ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit_upgrade",teamName:i.name,lowerYourUsage:ep.createElement("a",{href:"#",onClick:M},ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit_lower_your_usage"}))})):ep.createElement("span",null,ep.createElement("b",{style:u1.sx.fontSemiBold.$},ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit",teamName:i.name})," "),ep.createElement(e$.Tx,{id:"payments.contact_admin_for_details"})),{severity:O6.WARN,title:(0,e$.t)("payments.locked"),message:e,cta:y?(0,e$.t)("payments.upgrade_now"):null,ctaTrackingProperties:y?{trackingDescriptor:o3.c.UPGRADE_NOW,upsellSource:pZ.b.BANNER}:void 0,onClickCta:y?F:null}}else if(H){let e=r.user.external_restricted_org_id,t=(0,e$.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&r.orgById[e]){let a=r.orgById[e];t=(0,e$.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:a.name})}return{severity:O6.WARN,title:(0,e$.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}else if(r.user&&["team","folder"].includes(e)&&N.showAccessRestricted){let e,t=(0,e$.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,p1.eB)(r.user.id,r.roles.byTeamId,i)?e=(0,e$.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,p1.QS)(r.user.id,r.roles.byTeamId,i)?e=(0,e$.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,e$.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,e$.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,e$.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:O6.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,e$.t)("banner.edu_grace_period.verify_status_button"),onClickCta:P,svg:Fy.A,bannerClassName:Fc}}else if(["team","folder"].includes(e)&&N.showReminder)return{severity:O6.ANNOUNCEMENT,title:(0,e$.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:C}),message:(0,e$.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,e$.t)("banner.edu_grace_period.verify_status_button"),onClickCta:P,svg:Fx.A};else if(A||L)return{severity:O6.WARN,title:(0,e$.t)("payments.folder_locked"),message:(0,e$.t)("payments.folder_locked_description",{projectType:"Invite"==(A?"Invite":"View")?(0,e$.t)("payments.invite_only_projects"):(0,e$.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:y?(0,e$.t)("payments.upgrade_now"):(0,e$.t)("payments.contact_admin_for_details"),ctaTrackingProperties:y?{trackingDescriptor:o3.c.UPGRADE_NOW,upsellSource:pZ.b.BANNER}:void 0,onClickCta:y?F:null};else if(O&&"folder"===e)return{severity:O6.WARN,title:(0,e$.t)("payments.locked"),message:(0,e$.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(R&&"folder"===e)return{severity:O6.WARN,title:(0,e$.t)("payments.abandoned_project"),message:(0,e$.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(j){let e=(0,e$.t)("payments.file_limit_unified",{figmaFiles:pM.WW,figjamFiles:pM.WW});$?j||(e=(0,e$.t)("payments.file_limit_figjam",{figjamFiles:pM.WW})):e=(0,e$.t)("payments.file_limit_figma",{figmaFiles:pM.WW});let t=()=>ep.createElement("button",{type:"button",onClick:U,className:"banners--bannerInlineTextButton--GRx12"},ep.createElement(e$.Tx,{id:"payments.check_out_our_paid_plans"})),a=i?ep.createElement("span",null,ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit_with_button.legacy_team",fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):ep.createElement("span",null,ep.createElement(e$.Tx,{id:"payments.team_over_starter_team_limit_with_button.no_legacy_team_present",fileLimitString:e,checkoutOurPlans:t()}));return{severity:O6.ANNOUNCEMENT,title:(0,e$.t)("payments.team_over_starter_team_limit_title"),message:a,cta:(0,e$.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:o3.c.UPGRADE_NOW,upsellSource:pZ.b.BANNER},onClickCta:F,svg:FT.A,bannerClassName:Fc,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(G){let e=(0,pN.A)(i.grace_period_end).toDate(),t=ep.createElement(e$.Tx,{id:"payments.pro_plan_ends_relative_time_string",relative_time_string:ep.createElement(i7.h1,{date:e})});return V||(t=ep.createElement(e$.Tx,{id:"payments.pro_plan_ends_on_date",end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:O6.ANNOUNCEMENT,title:t,message:(0,e$.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,e$.t)("payments.pro_plan_ends_button"),onClickCta:B,svg:V?FT.A:Fw.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:V?Fc:void 0}}else if(E){let e=d?(0,e$.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,e$.t)("payments.complete_team_renewal_payment_description");return{severity:O6.WARN,title:(0,e$.t)("payments.complete_payment"),message:e,cta:ep.createElement(dD.V,{trackingProperties:{trackingDescriptor:o3.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>null==n?void 0:n(e0.to({type:Fb,data:{teamId:a,paymentRequiresAction:p}}))},ep.createElement(e$.Tx,{id:"payments.complete_payment_cta"})),onClickCta:null}}return null}function Fk(e,t,a,r){return!!FN(t,a,r,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,mG.getPermissionsState)(e)},null)}function FS(e,t){let a={...e};return"string"==typeof t.title&&(a.title=t.title),"string"==typeof t.message&&(a.message=t.message),a}class FI extends ep.PureComponent{render(){let e=FC(this.props,this.props.dispatch);if(!e)return ep.createElement("div",null);let t=FS({resourceType:"org",orgId:this.props.currentUserOrgId},e),a=e.severity===O6.WARN?O9:"",r=`${Fo} ${a}`;return ep.createElement("div",{className:r},ep.createElement(Fp,{...e,tracking:t}))}}FI.displayName="OrgDelinquencyBanner";let FA=(0,eg.Ng)(e=>({currentUserOrgId:e.currentUserOrgId,selectedView:e.selectedView,...(0,mG.getPermissionsState)(e),userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData}))(FI);var FL=a(797804);let FR=(0,eg.Ng)(e=>{var t;return{currentUserId:null==(t=e.user)?void 0:t.id}})(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},a=e.members.length,r=e.membersToShow||10;return ep.createElement("div",null,!e.removeHeader&&ep.createElement("div",{className:eT.cx.font13.fontMedium.mb12.$},e.label||(0,e$.t)("file_browser.team_overview.member_label")),e.members.slice(0,r).map(a=>{let r=a.id===e.currentUserId,n=e.showAdminBadge&&e.showAdminBadge(a);return ep.createElement(e7.az,{key:a.id,size:24,entity:a,className:e.customAvatarRowStyle?e.customAvatarRowStyle:eT.cx.font13.mb16.$,showIsMe:r,onClick:e.onMemberClick,badge:n?{color:dd.zE.DEFAULT,text:(0,e$.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&r&&ep.createElement("span",{onClick:t,className:"members_preview--leaveLink--u1X-3 text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},ep.createElement(e$.Tx,{id:"file_browser.team.leave_confirm"})))}),a>r&&(e.customOverflowRow||ep.createElement("div",{className:"members_preview--totalMemberCountContainer--Pe3wO",onClick:e.onClickShowMore},ep.createElement(eL.B,{svg:FL.A,className:"members_preview--teamIcon--2-FAe"}),ep.createElement("div",{className:"members_preview--totalMemberCount--6WdaE text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.team_overview.num_others",numMembers:a-r})))))});var FO=a(918012);let FF="org_meta_content--container--xXnr8";function FM({org:e}){return ep.createElement("div",{className:eT.cx.flex.flexColumn.rowGap16.$},ep.createElement(e7.Ro,{entity:e,size:36}),ep.createElement(du.E,{fontWeight:"medium",fontSize:13},e.name))}function FD({handle:e}){let t=(0,eg.wA)();return ep.createElement("a",{href:`/@${e}`,className:FO.B,onClick:a=>{a.metaKey||(a.preventDefault(),t(tL.$T({view:"communityHub",subView:"handle",handle:e})))}},ep.createElement(du.E,{fontSize:11},"@",e))}function FP({orgId:e}){let t=(0,eg.d4)(t=>(0,uW.Xy)(t.orgUsersByOrgId.orgUsers[e]).map(e=>e.user)),a=(0,eg.wA)();return ep.createElement(FR,{label:(0,e$.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{a(tL.$T({view:"user",userId:t.id,userViewTab:Ns.o.INTERNAL_PROFILE}))},canLeave:!1})}function FB({org:e,orgStats:t}){let a=t?ep.createElement(du.E,{fontSize:11,color:"secondary"},ep.createElement(e$.Tx,{id:"org_home_view_meta.member_count",memberCount:t.memberCount.data}),ep.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?ep.createElement(e$.Tx,{id:"org_home_view_meta.workspace_count",workspaceCount:t.workspaceCount.data}):ep.createElement(e$.Tx,{id:"org_home_view_meta.team_count",teamCount:t.discoverableTeamCount.data})):ep.createElement(bN.Wi,{className:eT.cx.mb4.$,animationType:bN.JR.SHIMMER});return ep.createElement("div",{className:FF},ep.createElement(FM,{org:e}),ep.createElement("span",{className:eT.cx.mt4.$},a),e.community_profile_handle?ep.createElement("span",{className:eT.cx.mt2.$},ep.createElement(FD,{handle:e.community_profile_handle})):null,ep.createElement("span",{className:eT.cx.mt32.$},ep.createElement(FP,{orgId:e.id})))}function FU({org:e}){var t;let a=(0,t5.Rs)(ai.nYs,{orgId:e.id});return ep.createElement(FB,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function FW({org:e}){var t;let a=(0,t5.Rs)(ai.kei,{orgId:e.id});return ep.createElement(FB,{orgStats:(null==(t=a.data)?void 0:t.org)??null,org:e})}function FV({org:e}){return ep.createElement("div",{className:FF},ep.createElement(FM,{org:e}),e.community_profile_handle?ep.createElement("span",{className:eT.cx.mt4.$},ep.createElement(FD,{handle:e.community_profile_handle})):null,ep.createElement("span",{className:eT.cx.mt4.$},ep.createElement(du.E,{fontSize:11,color:"secondary"},ep.createElement(e$.Tx,{id:"payments_modal.guest_permission_disclaimer"})," ",ep.createElement("a",{className:FO.B,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},ep.createElement(e$.Tx,{id:"org_home_view_meta.learn_more"})))))}var FG=a(720388);let F$="org_plugins_view--resourcesGrid--f9Ngl profile_resources_grid--_resourcesGridTemplateColumns--19JO6",Fj="org_plugins_view--container--RRqE9",FH="org_plugins_view--emptyState--Ip--m tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd";function Fq(){let e=(0,Ih.Yo)(),t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.publishedPlugins);ep.useEffect(()=>{t(eX.Xt())},[t]);let r=function(){if(!e)return[];let t=(0,tF.Qt)((0,tF.i8)(Object.values(a)),e.id);return Object.keys(t).map(e=>t[e])}();return e&&0!==r.length?ep.createElement("div",{className:Fj},ep.createElement("div",{className:F$},r.map((e,t)=>ep.createElement(rW.AB,{isPublic:!1,pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"OrgPluginsView",innerText:(0,e$.t)("org_view.plugin_tile"),trackingProperties:{pluginId:e.id,position:t},dropdown:ep.createElement(FG.A,{resource:e})})),ep.createElement(rW.hT,{numResources:r.length}))):ep.createElement("div",{className:FH},ep.createElement(e$.Tx,{id:"org_view.private_plugins_will_appear_here"}))}a(461816),(es||(es={})).filter=function(e,t){return"loaded"!==e.status?e:(0,t5.gB)(e.data.filter(t))};var Fz=a(462426),FY=(($=FY||{}).Medium="Medium",$.Large="Large",$);function FK(e){let t;return e.isLoading?ep.createElement("div",{className:"tile_grid--loadingContainer--wlsRF"},ep.createElement(e8.kt,null)):!e.children||Array.isArray(e.children)&&!e.children.length?ep.createElement("div",{className:"tile_grid--emptyContainer--xuQOR text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--ffG9b":"tile_grid--gridMedium--t0ipw",ep.createElement("div",{className:eS()("tile_grid--gridContainer--fIwRt",e.containerClassName)},ep.createElement("div",{className:t},e.children)))}var FJ=a(14134);function FZ(e){return ep.createElement("div",{className:FJ.p$},ep.createElement("div",{className:FJ._U},ep.createElement(e$.Tx,{id:"team_tile.no_teams.title"})),e.onCreateTeam&&ep.createElement(ep.Fragment,null,ep.createElement("p",null,ep.createElement(e$.Tx,{id:"team_tile.no_teams.info"})),ep.createElement(eI.cw,{className:FJ.yd,onClick:e.onCreateTeam},ep.createElement(eL.B,{svg:g2.A,className:FJ.RS}),ep.createElement(e$.Tx,{id:"team_tile.no_teams.create_team_button"}))))}var FQ=a(620922);function FX(e){let t=[...e.orgTeams.data||[]],a=t.length<tl.Tw;(0,tl.KQ)(t,"name",{useExpensiveNaturalComparison:a});let r="loaded"!==e.orgTeams.status,[n,l]=ep.useState(void 0),i=(0,eg.wA)(),s=(e,t)=>{e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};l(t.id),i(tL.j7({type:gP.RQ,data:{teamId:t.id,targetRect:a}}))};return ep.createElement(FK,{isLoading:r,emptyView:e.emptyView??ep.createElement(FZ,{onCreateTeam:e.onCreateTeam})},t.map(t=>ep.createElement(FQ.mc,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,onJoinRequest:e.onJoinRequest,onBypassRequest:e.onBypassRequest,onWithdrawRequestForTeam:e.onWithdrawRequestForTeam,setSelectedTeamId:l,selectedTeamId:n,onContextMenu:s})))}var F0=a(970317),F1=a(711792);function F2(e){let[t,a]=ep.useState(!1),r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.selectedView),l=(0,um.FC)(),i=e.team,s=()=>{(0,al._J)("file_browser_team_click",i.id,l,{selectedView:"recentsAndSharing"===n.view?n.tab||gb.G.RECENTLY_VIEWED:n.view,viewMode:"grid"}),r(mB.kg({clickedResourceType:"team",resourceIdOrKey:i.id})),r(tL.$T({view:"team",teamId:i.id}))},o=e.selectedTeamId===e.team.id,c=t||o;return ep.createElement(F0.a,{name:i.name,description:i.description,headerLeft:ep.createElement(e7.Ro,{className:FJ.rP,entity:i,size:40}),headerRight:ep.createElement(F1.m,{team:i,onLeave:e.onLeave,isCardActive:c}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&s()},canView:!0,isCardActive:c,isSelected:o,onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}})}function F4(e){let t=e.teams;(0,tl.KQ)(t,"name");let[a,r]=ep.useState(void 0);return ep.createElement(FK,{emptyView:ep.createElement(e$.Tx,{id:"team_tile.guest.no_teams.info",orgName:e.orgName})},t.map(t=>ep.createElement(F2,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:a,setSelectedTeamId:r})))}let F3=(0,li.eU)(()=>(0,t5.gB)([])),F8=(0,eg.Ng)(e=>({teamRoleRequests:e.teamRoleRequests,currentOrgUser:e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id],teams:e.teams,user:e.user,roles:e.roles,org:e.orgById[e.currentUserOrgId],orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name,permissionsState:(0,mG.getPermissionsStateMemoized)(e)}))(function(e){var t;let a=(0,eg.wA)(),r=e.currentOrgUser&&e.currentOrgUser.permission===lB._D.GUEST,n=Object.keys((0,Fz.t)(e.roles.byTeamId,e.user.id)).filter(t=>e.teams[t]);if(r){let{orgId:t}=e,r=n.map(t=>e.teams[t]).filter(e=>e.org_id===t);return ep.createElement(F4,{teams:r,onLeave:e=>{a(e0.to({type:CX.p,data:{teamId:e.id}}))},orgName:e.orgName})}let l=(null==(t=e.workspace)?void 0:t.id)??vd.O,i=es.filter(e.orgTeams,t=>{if(e.onlyJoinedTeams)return(0,mG.hasViewerRoleAccessOnTeam)(t.id,e.permissionsState);if(l===vd.O){if(t.workspace_id)return!1}else if(l&&t.workspace_id!==l)return!1;return(0,CQ.dP)(t,e.permissionsState,e.orgId)});return ep.createElement(FX,{orgTeams:i,onJoin:e=>(0,xb.GR)(a,e)(),onJoinRequest:e=>{a(e0.to({type:C1.$S,data:{team:e}}))},onWithdrawRequestForTeam:t=>{let r=e.teamRoleRequests[t.id].id;a(C0.lT({requestId:r}))},onLeave:e=>{a(e0.to({type:CX.p,data:{teamId:e.id}}))},onBypassRequest:e=>(0,xb.GR)(a,e,m5.e.OWNER)(),onCreateTeam:e.canCreateTeam?()=>{var t;let r={workspaceId:(null==(t=e.workspace)?void 0:t.id)??vd.O};a(e0.to({type:gQ.Uc,data:r}))}:void 0,emptyView:l&&!e.canCreateTeam?(0,e$.t)("team_tile.no_teams.empty_workspace"):void 0})});function F5(e){var t;let a=(0,mV.sZ)(),r=(0,mG.usePermissionsState)(),n=!(0,mG.canMemberOrg)((null==a?void 0:a.id)??null,r),l=(0,tY.md)(n?F3:xT),{canCreateTeam:i}=(0,pf.l6)(a,null==(t=e.workspace)?void 0:t.id);return ep.createElement(F8,{orgTeams:l,workspace:e.workspace,canCreateTeam:i,onlyJoinedTeams:e.onlyJoinedTeams})}let F6=e=>{switch(e){case gv.X.HOME:return(0,e$.t)("org_view.overview");case gv.X.YOUR_TEAMS:return(0,e$.t)("org_view.your_teams");case gv.X.PLUGINS:return(0,e$.t)("org_view.plugins");case gv.X.WIDGETS:return(0,e$.t)("org_view.widgets");default:return null}};function F9(e){let t=(0,eg.wA)(),a=(0,mV.sZ)(),r=e=>{t(tL.$T({view:"org",orgId:(null==a?void 0:a.id)??"",orgViewTab:e}))},n=Object.keys(gv.X).reduce((t,a)=>{let n=F6(gv.X[a]);return null!=n&&t.push(ep.createElement(CJ.r,{tab:gv.X[a],onClick:r,isSelected:e.selectedTab===gv.X[a],tabName:n,key:a})),t},[]),l=ep.createElement(CJ.f,{tabs:n});return ep.createElement(dc.g2,{leftSide:l,rightSide:[]})}var F7=a(140706);let Me=(0,eg.Ng)(e=>({orgEntity:(0,e6.Jl)(e),publishedWidgets:e.publishedWidgets}))(function(e){let t=(0,eg.wA)();ep.useEffect(()=>{t(eX.gI())},[t]);let a=ep.useMemo(()=>{if(!e.orgEntity)return[];let t=(0,tF.Qt)((0,tF.i8)(Object.values(e.publishedWidgets)),e.orgEntity.id);return Object.keys(t).map(e=>t[e])},[e.orgEntity,e.publishedWidgets]);return e.orgEntity&&0!==a.length?ep.createElement("div",{className:Fj},ep.createElement("div",{className:F$},a.map((e,t)=>ep.createElement(F7.F9,{key:`widget-${e.id}`,widget:e,viewContext:"OrgWidgetsView",trackingProperties:{widget:e.id,position:t}})),ep.createElement(rW.hT,{numResources:a.length}))):ep.createElement("div",{className:FH},ep.createElement(e$.Tx,{id:"org_view.private_widgets_will_appear_here"}))});var Mt=a(342644),Ma=a(131416);function Mr(e,t){let a=Object.keys(e),r=Object.keys(t);return JSON.stringify(Object.fromEntries(a.filter(a=>!r.includes(a)||e[a]!==t[a]).map(t=>[t,e[t]])))}function Mn(e){var t;let a,r,n;let{workspace:l,teamCount:i,isSelected:s,onSelect:o}=e,c=(0,eg.d4)(e=>e.currentUserOrgId),[d,m]=ep.useState(!1),u=(0,Mt.aq)(),_=(null==(t=l.colorConfig)?void 0:t.colors)??[],p=e.isMainWorkspace?_[0]:void 0,g=l.description??void 0;p&&(p=(0,dB.ZC)(l.id,p,u()));let E=(0,eg.wA)(),f=()=>{E(mB.kg({clickedResourceType:"workspace",resourceIdOrKey:l.id})),E(tL.$T({view:"workspace",subView:gw.V0.DIRECTORY,workspaceId:l.id,selectedTab:gw.dN.TEAMS}))},h=ep.useCallback((e,t,a)=>{if(l){let r={workspace:{id:l.id,name:l.name??"",imgUrl:l.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?E(gJ.ZW(r)):E(gJ.if(r))}},[E,l]);p&&((0,dB.kx)(p)?(a="org_page_view--workspaceTileTitleColorForDarkBackground--sjSkw",r="org_page_view--secondaryTextColorOnDarkBackground--vzWNx",n="org_page_view--favoriteStarContainerForDarkBackground--SG7r9 workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9"):(a="org_page_view--workspaceTileTitleColorForLightBackground--EOOIZ",r="org_page_view--secondaryTextColorOnLightBackground--OxWVz",n="org_page_view--favoriteStarContainerForLightBackground--LfU2S workspace_page_header--favoriteStarContainerForLightBackground--GXMcy"));let v=ep.createElement(e7.z6,{entity:l,size:40}),b=(0,t5.oA)(l.memberCount),y=ep.createElement("div",{className:eS()(eT.cx.flex.flexRow.itemsCenter.$,r)},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_view.license_group.member_count",memberCount:(null==b?void 0:b.data)??"0"}),ep.createElement("span",null,"\xa0\xb7\xa0"),ep.createElement(e$.Tx,{id:"org_view.license_group.team_count",teamCount:i}))),w=ep.createElement(fy.r,{setFavorite:h,favoriteType:lB.bk.WORKSPACE,resourceId:l.id,size:fy.m.MEDIUM,containerStyle:eS()("org_page_view--favoriteStarContainer--p8-GC button_styles--button--Ix6rT",n),noHoverState:!0,orgId:c,parentBackgroundColor:p}),T=l.orgAccess===lB.bU.SECRET?ep.createElement("div",{className:eT.cx.ml4.$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ep.createElement(le.In,{icon:"lock-16"})):null;return ep.createElement(F0.a,{backgroundColor:p,description:g,descriptionClassName:r,name:ep.createElement("span",{className:a},l.name),titleSubtitleRight:T,headerLeft:v,footerLeft:y,headerRight:w,onClick:e=>{1===e.detail?o():2===e.detail&&f()},canView:!0,onMouseOver:()=>{m(!0)},onMouseOut:()=>{m(!1)},isCardActive:d||s,isSelected:s})}function Ml(e){let{unassignedTeams:t,isSelected:a,onSelect:r}=e,[n,l]=ep.useState(!1),i=(0,eg.wA)(),s=()=>{i(mB.kg({clickedResourceType:"workspace"})),i(tL.$T({view:"workspace",subView:gw.V0.DIRECTORY,workspaceId:null,selectedTab:gw.dN.TEAMS}))},o=ep.createElement(e$.Tx,{id:"org_view.license_group.unassigned_tile.name"}),c=ep.createElement(e7.md,{teams:t,size:40,isHovered:n}),d=ep.createElement("span",null,"\xa0"),m=ep.createElement(e$.Tx,{id:"org_view.license_group.unassigned_tile.description",teamCount:t.length});return ep.createElement(F0.a,{name:o,headerLeft:c,headerRight:d,footerLeft:m,onClick:e=>{1===e.detail?r():2===e.detail&&s()},canView:!0,onMouseOver:()=>{l(!0)},onMouseOut:()=>{l(!1)},isCardActive:n||a,isSelected:a})}function Mi(){var e,t,a,r;let[n,l]=ep.useState(null),i=(0,eg.wA)(),s=(0,mG.usePermissionsState)(),o=(0,eg.d4)(e=>e.currentUserOrgId),c=(0,mV.sZ)(),d=(0,pf.SJ)(o),{canCreateTeam:m}=(0,pf.l6)(c,void 0),u=(0,t5.Rs)(ai.bUn,{orgId:o}),_="loaded"!==u.status,p=(null==(t=null==(e=u.data)?void 0:e.org)?void 0:t.workspaces)??[],g=_?[]:[...p],E=(0,t5.Rs)(ai.$7C,{orgId:o}),f="loaded"!==E.status,h=((null==(r=null==(a=E.data)?void 0:a.org)?void 0:r.teamsWithSummary)??[]).map(e=>e.team),v=(0,eh.kc)().org_workspaces_view_livegraph,b=(0,tY.md)(xw),y="loaded"!==b.status,{workspaceTeamCountsLegacy:w,unassignedTeamsLegacy:T}=ep.useMemo(()=>{let e=(b.data||[]).filter(e=>(0,CQ.dP)(e,s,o));return{workspaceTeamCountsLegacy:(0,E8.ZM)(e),unassignedTeamsLegacy:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[s,o,b]),{workspaceTeamCountsLiveGraph:x,unassignedTeamsLiveGraph:C}=ep.useMemo(()=>({workspaceTeamCountsLiveGraph:(0,E8.ZM)(h.map(e=>({workspace_id:e.workspaceId}))),unassignedTeamsLiveGraph:h.filter(e=>null==e.workspaceId)}),[h]),N=v?x:w,k=v?C:T,S=(0,eh.kc)().org_view_livegraph_comparator&&!f&&!y;ep.useEffect(()=>{S&&function({workspaceTeamCountsLiveGraph:e,workspaceTeamCountsLegacy:t,orgId:a,teamsWithSummary:r,orgTeams:n}){try{if((0,Ma.c2)(e,t))(0,tn.sx)("org_workspace_team_count_mismatch",{orgId:a});else{let l=r.map(e=>e.id).sort(),i=n.map(e=>e.id).sort(),s=l.filter(e=>!i.includes(e)),o=i.filter(e=>!l.includes(e)),c=Mr(e,t),d=Mr(t,e);(0,tn.sx)("org_workspace_team_count_mismatch",{orgId:a,liveGraphWorkspaceTeamCounts:c,legacyWorkspaceTeamCounts:d,liveGraphOnlyIds:s,legacyOnlyIds:o})}}catch(e){console.error(e)}}({workspaceTeamCountsLiveGraph:x,workspaceTeamCountsLegacy:w,orgId:o,teamsWithSummary:h,orgTeams:b.data})},[S]),(0,tl.KQ)(g,"name");let I=g.find(e=>e.id===d.data),A=g.map(e=>{if(e.id!==(null==I?void 0:I.id))return ep.createElement(Mn,{key:e.id,workspace:e,teamCount:N[e.id]??0,isSelected:(null==n?void 0:n.type)==="workspace"&&n.workspaceId===e.id,onSelect:()=>{l({type:"workspace",workspaceId:e.id})}})});if(k.length>0&&A.push(ep.createElement(Ml,{key:"unassigned",unassignedTeams:k,isSelected:(null==n?void 0:n.type)==="unassigned-teams",onSelect:()=>{l({type:"unassigned-teams"})}})),v?_||f:_||y)return ep.createElement(FK,{isLoading:!0});let L=I&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:eT.cx.pl32.$},ep.createElement(du.E,{color:"secondary",fontSize:11},ep.createElement(e$.Tx,{id:"org_view.your_workspace"}))),ep.createElement(FK,{emptyView:ep.createElement(ep.Fragment,null),tileSize:FY.Medium},ep.createElement(Mn,{key:I.id,workspace:I,teamCount:N[I.id]??0,isMainWorkspace:!0,isSelected:(null==n?void 0:n.type)==="workspace"&&n.workspaceId===I.id,onSelect:()=>{l({type:"workspace",workspaceId:I.id})}})));return ep.createElement(ep.Fragment,null,L,I&&ep.createElement("div",{className:eT.cx.pl32.$},ep.createElement(du.E,{color:"secondary",fontSize:11},ep.createElement(e$.Tx,{id:"org_view.other_workspaces"}))),ep.createElement(FK,{emptyView:ep.createElement(FZ,{onCreateTeam:m?()=>{i(e0.to({type:gQ.Uc,data:{}}))}:void 0}),tileSize:FY.Medium},A))}let Ms=(e,t)=>({canMemberOrg:(0,mG.canMemberOrg)(e.currentUserOrgId,(0,mG.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,dN.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null});function Mo(e){let{canMemberOrg:t,org:a,isEnterpriseOrgDirectoryEnabled:r,currentOrgUser:n}=(0,O5.R)(t=>Ms(t,e.orgId)),l=(0,eg.wA)();ep.useEffect(()=>{t&&(l(xb.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),l(bl.Pg({orgId:e.orgId})))},[t,e.orgId,l]);let i=null;switch(e.selectedTab){case gv.X.WIDGETS:i=ep.createElement(Me,null);break;case gv.X.PLUGINS:i=ep.createElement(Fq,null);break;case gv.X.YOUR_TEAMS:i=ep.createElement(F5,{onlyJoinedTeams:!0});break;case gv.X.HOME:case gv.X.FONTS:case gv.X.LIBRARIES:i=r?ep.createElement(Mi,null):ep.createElement(F5,null)}let s=n&&n.permission===lB._D.GUEST,o=null;o=s?ep.createElement(FV,{org:a}):r?ep.createElement(FU,{org:a}):ep.createElement(FW,{org:a});let c=ep.createElement(F9,{selectedTab:e.selectedTab});return ep.createElement(v6.r,{banner:ep.createElement(FA,null),viewbar:c,content:i,metaContent:o})}function Mc(e){switch(e){case gw.m2.TEAMS:return(0,e$.t)("workspace_admin_tab.teams");case gw.m2.MEMBERS:return(0,e$.t)("workspace_admin_tab.members");case gw.m2.LIBRARIES:return(0,e$.t)("workspace_admin_tab.libraries");case gw.m2.SETTINGS:return(0,e$.t)("workspace_admin_tab.settings");default:(0,eC.xb)(e)}}function Md(e){let t=ep.createElement("div",{className:eS()(eT.cx.minW150.maxW300.mr8.$,"settings_section--loadingBlock--PGHBw")}),a=e.finishedLoading?ep.createElement(RJ,{publicLinkControlsSetting:e.publicLinkControlsSetting}):t,r=e.finishedLoading?e.publicLinkControlsMaxExp?ep.createElement("div",{key:2,className:eS()(eT.cx.pl16.$,"settings_section--secondaryText--kOgDP")},ep.createElement(Mm,{expiration:e.publicLinkControlsMaxExp})):null:t,n=[ep.createElement(Ay,{key:1,label:(0,e$.t)("settings_tab.public_sharing_title"),description:(0,e$.t)("workspace_admin_tab.contact_org_admin_to_change_workspace_sharing_settings")}),ep.createElement("div",{key:2,className:eT.cx.pl16.flex.gap4.$},ep.createElement(e$.Tx,{id:"workspace_admin_tab.public_link_sharing_setting",settingComponent:a}))];return r&&n.push(r),ep.createElement("div",{className:"settings_section--settingsWrapper--MTcPX settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(Ah,{title:(0,e$.t)("settings_tab.section_header.external_access"),settings:n}))}function Mm(e){let{initialMaxDuration:t,initialIsTimeMeasuredInDays:a}=RB(parseInt(e.expiration)),r=ep.createElement(e$.Tx,{id:a?"workspace_admin_tab.public_link_sharing_expiration_setting.days":"workspace_admin_tab.public_link_sharing_expiration_setting.hours",time:t});return ep.createElement("div",{key:3,className:eT.cx.gap4.$},r)}function Mu({workspaceId:e}){var t,a,r,n;let l=(0,mV.sZ)(),i=(0,t5.Rs)(ai.fPW,{workspaceId:e});return ep.createElement("div",{className:"settings_section--container--cJdSE admin_settings_page--container--qnrCG"},ep.createElement(bZ.K,{showBorderBottom:!0,title:Mc(gw.m2.SETTINGS)}),(0,mw.ro)(l)&&ep.createElement(Md,{org:l,finishedLoading:"loaded"===i.status,publicLinkControlsSetting:(null==(a=null==(t=i.data)?void 0:t.workspace)?void 0:a.publicLinkControlsSetting)??yO.w_.ALLOWED,publicLinkControlsMaxExp:null==(n=null==(r=i.data)?void 0:r.workspace)?void 0:n.publicLinkControlsMaxExpiration}))}function M_(e){let t=(0,eg.wA)(),a=(0,mV.sZ)(),r=a=>{t(tL.$T({view:"workspace",subView:gw.V0.ADMIN,selectedTab:a,workspaceId:e.workspaceId}))},n=[];if(gw.rj.forEach(t=>{n.push(ep.createElement(Ib,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:Mc(t),getDisplayName:Mc}))}),(0,dN.U5)(a)){let t=gw.m2.SETTINGS;n.push(ep.createElement(Ib,{tab:t,selectedTab:e.selectedTab,key:t,onClick:r,mobileNavTabTitle:Mc(t),getDisplayName:Mc}))}return ep.createElement(xu,{navTabs:n})}function Mp({workspaceId:e,selectedTab:t}){let a=(0,eg.wA)(),r=(0,eg.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),n=(0,eg.d4)(({dropdownShown:e})=>e),l=(0,eg.d4)(({teamRoleRequests:e})=>e),i=(0,eg.d4)(({user:e})=>e),s=(0,eg.d4)(({selectedView:e})=>e),o=(0,tY.md)(xN(e)),[c]=(0,xI.Tn)({currentOrgId:r.id,excludeDrafts:!0}),d=c.data||null,m=Date.now(),[u,_]=ep.useState(""),p=ep.createElement("div",{className:xp},ep.createElement(bZ.K,{title:Mc(s.selectedTab)}),ep.createElement(e8.qc,null)),g=!1,E=null;switch(t){case gw.m2.MEMBERS:let f={...vx.J0,...s.orgAdminMembersTabFilters,workspaceFilter:e},h=s.orgAdminMembersTabSort||vx.oU;E=ep.createElement(xa,{invoices:void 0,org:r,dropdownShown:n,filters:f,sort:h,figjamBillableSeats:null,designBillableSeats:null,devModeBillableSeats:null,startTime:m,searchQuery:u,setSearchQuery:_,isLoading:!1});break;case gw.m2.TEAMS:let v=s.teamsTabViewingUnassigned?vd.O:e;g="loaded"!==o.status,E=If(r.id)?ep.createElement(Ok,{org:r,dropdownShown:n,teamRoleRequests:l,user:i,selectedWorkspaceId:v}):ep.createElement(kN,{org:r,teams:o.data||[],dropdownShown:n,dispatch:a,teamRoleRequests:l,user:i,selectedWorkspaceId:v});break;case gw.m2.LIBRARIES:if(!d){g=!0;break}E=ep.createElement(CU,{org:r,workspaceId:e,libraryStats:d});break;case gw.m2.SETTINGS:if(!(0,dN.U5)(r))break;E=ep.createElement(Mu,{workspaceId:e})}return ep.createElement(v6.r,{containerClass:xg,scrollableContainerClass:xE,toolbar:ep.createElement(M_,{selectedTab:t,workspaceId:e}),content:g?p:E})}function Mg({workspaceId:e,selectedTab:t}){var a;let r=(0,eg.wA)(),n=(0,eg.d4)(({orgById:e,currentUserOrgId:t})=>e[t]),l=(0,pf.NJ)(n.id),i="loading"===l.status,s=!!(null==(a=l.data)?void 0:a.find(t=>t.id===e)),o=ep.useMemo(()=>!i&&!s,[s,i]),c=ep.useMemo(()=>i||o,[i,o]);return(ep.useEffect(()=>{o&&r(tL.$T({view:"resourceUnavailable",resourceType:e2.Ft.WORKSPACE}))},[r,o]),c)?null:ep.createElement(Mp,{workspaceId:e,selectedTab:t})}var ME=a(335584);function Mf(e){let t=(e=>{switch(e){case e2.Ft.PROJECT:return(0,e$.t)("file_browser.project");case e2.Ft.TEAM:return(0,e$.t)("file_browser.team");case e2.Ft.WORKSPACE:return(0,e$.t)("file_browser.workspace");case e2.Ft.LICENSE_GROUP:return(0,e$.t)("file_browser.billing_group");default:return(0,e$.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case e2.Ft.PROJECT:return(0,e$.t)("file_browser.project_capitalized");case e2.Ft.TEAM:return(0,e$.t)("file_browser.team_capitalized");case e2.Ft.WORKSPACE:return(0,e$.t)("file_browser.workspace_capitalized");case e2.Ft.LICENSE_GROUP:return(0,e$.t)("file_browser.billing_group_capitalized");default:return(0,e$.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),r=ep.createElement("div",{className:"unavailable_view--unavailableViewContainer--56CR7"},ep.createElement("div",{className:"unavailable_view--header--NWK8E text--fontPos18--rYXJb text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.unavailable_view_resource_not_found",capitalizedResourceNoun:a})),ep.createElement("div",{className:"unavailable_view--detailText--JONLg text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.unavailable_view_text",resourceNoun:t})),ep.createElement(ME.$l,null));return ep.createElement(v6.r,{content:r})}function Mh(e){return ep.createElement(u9.nR,{className:"button_custom--buttonSecondaryDisabled--6D72S","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function Mv({backgroundColor:e}){let t=(0,f1.NV)(al.WL),a=(0,eg.d4)(e=>e.selectedView.view),r=(0,e$.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(al.jd,{placement:a})};return e?ep.createElement("button",{className:eS()("button_custom--buttonBase--JMycf button--buttonBase---72nl",(0,dB.kx)(e)?"button_custom--buttonColorsForDarkBackground--PkAnh":"button_custom--buttonColorsForLightBackground--dAEim","button_custom--buttonHugContents--7TSd1"),"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},ep.createElement(du.E,{fontSize:11,fontWeight:"medium",truncate:!0},r)):ep.createElement(Mh,{text:r,tooltipText:(0,e$.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}function Mb({avatar:e,title:t,rightSideActions:a,rightSideOfTitleAction:r,pageHeaderIcon:n,belowHeaderItem:l,textColor:i,badge:s}){let o=(0,eg.wA)();return ep.createElement(ep.Fragment,null,ep.createElement(vc.i,{tabs:null,hideToolBarOnMobile:!0,dispatch:o}),ep.createElement("div",{className:eS()(eT.cx.mt12.mx32.mb20.$,"page_header--mx16Mobile--Iq1ni")},ep.createElement("div",{className:eT.cx.flex.mt20.itemsCenter.justifyBetween.$},ep.createElement("div",{className:eT.cx.flex.itemsCenter.h40.minW0.$},e,ep.createElement("div",{className:eT.cx.wFull.overflowHidden.$,style:u1.sx.if(e&&!n,u1.sx.ml16).$},ep.createElement("span",{className:eT.cx.flex.itemsCenter.$},n,ep.createElement(du.E,{color:i,fontSize:24,truncate:"line-clamp",lineClamp:2},t," "),ep.createElement("div",{className:eT.cx.ml8.$},s),r&&r.element))),ep.createElement("div",{className:eT.cx.flex.ml16.gap8.$},null==a?void 0:a.map(e=>ep.createElement(OZ.K,{action:e,key:e.key}))))),l)}var My=a(292164);function Mw(e){let t=(0,eg.wA)(),a=ep.useRef(null),r=(0,eg.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=(0,eH.j6)();return ep.createElement("button",{ref:a,onClick:()=>{a.current&&t(tL.j7({type:e.dropdownKey,data:{targetRect:a.current.getBoundingClientRect()}}))},onMouseDown:dC.dG,className:eT.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},ep.createElement(eL.B,{svg:My.A,className:eS()("page_header_dropdown--dropdownIcon--4Qbgf",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--i5eTO")}),n&&ep.createElement(rw.j,{parentRect:r.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,al.Cu)({...l.properties,trackingContext:l.name,...e.trackingProperties})},showPoint:!0}))}var MT=a(539321),Mx=a(317535),MC=a(969827),MN=a(861580),Mk=a(254907),MS=a(390871),MI=((j=MI||{}).SOLID="solid",j.NO_FILL="no_fill",j);function MA({selectedFillOption:e,onSelectFillOption:t}){let a={solid:(0,e$.t)("workspace_view.toolbar.solid"),no_fill:(0,e$.t)("workspace_view.toolbar.no_fill")};return ep.createElement(pv.W.DropdownSelector,{className:eT.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return ep.createElement(Mk.$n,{className:eT.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},ep.createElement("span",{className:eT.cx.minW32.mr8.$},a[e]))},dropdownOptionsClassName:"workspace_color_toolbar--dropdownOptions--Eqmye",options:["solid","no_fill"].map((e,r)=>ep.createElement(pv.W.Option,{className:eT.cx.colorTextMenuSecondary.$,key:r,id:e,onClick:()=>{t(e)}},a[e])),optionsBelowSelector:!0,noBorder:!0})}let ML=nk.M4.Mutation(async e=>{await RZ.u.updateColor(e)});function MR({workspace:e,onClose:t}){var a;let r=(0,eg.wA)(),n=(0,nk.n_)(ML),l=(0,dB.wT)(),i=ep.useRef(null),[s,o]=ep.useState(!1),c=(0,Mx.DP)(),d=(null==(a=null==e?void 0:e.colorConfig)?void 0:a.colors)??[],m=(0,dB.IB)(d[0]),[u,_]=ep.useState(m?"solid":"no_fill"),[p,g]=(0,tY.fp)(MS.p);return ep.useEffect(()=>(g(m),()=>{g(void 0)}),[]),ep.useEffect(()=>{if(!s){let e=e=>{"Escape"===e.key&&t()},a=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",a)}}},[s,t]),ep.createElement("div",{className:"workspace_color_toolbar--workspaceColorToolbar--qqqyF",ref:i},ep.createElement(MA,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e=(0,dB.Bx)(c);g(m??e)}else g("unset")}}),(0,dB.gD)(p)&&ep.createElement(ep.Fragment,null,ep.createElement(Mk.wv,null),ep.createElement(MC.qW,{buttonClassName:eT.cx.ml2.mr2.$,options:l,value:{option:p},onColorChange:e=>{g(e.option)},paletteType:"base",numColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,MN.DH)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,isColorPopoverOpen:s,setIsColorPopoverOpen:o,hasNonWhiteboardColors:!0})),ep.createElement(Mk.wv,null),ep.createElement(Mk.$n,{className:eT.cx.ml4.mr2.$,onClick:t},ep.createElement("span",{className:eT.cx.mr1.colorTextToolbarSecondary.$},(0,e$.t)("workspace_view.color.toolbar.cancel"))),ep.createElement(Mk.$n,{className:eT.cx.mr8.$,onClick:()=>{n({workspaceId:e.id,colors:(0,dB.gD)(p)?[(0,MT.colorToHex)(p)]:[],onfulfilled:()=>r(t6.F.enqueue({message:(0,e$.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,e$.t)("workspace_view.toolbar.workspace_color_update_error");r(e5.s.error(e)),console.error(e)}}),t()}},ep.createElement("span",{className:"workspace_color_toolbar--saveText--EpfyL"},(0,e$.t)("workspace_view.color.toolbar.save"))))}var MO=a(635953);let MF=nk.M4.Mutation(async e=>{await RZ.u.updateDescription(e)}),MM=(0,am.Ju)(function({workspace:e}){let t=(0,eg.wA)(),a=(0,nk.n_)(MF);return ep.createElement(NR.c,{title:(0,e$.t)("workspace_view.description_modal.title"),subtitle:ep.createElement("div",{className:eT.cx.mb16.$},ep.createElement(du.E,{color:"secondary"},ep.createElement(e$.Tx,{id:"workspace_view.description_modal.subtitle",allWorkspacesText:ep.createElement("span",{className:eT.cx.fontSemiBold.$},(0,e$.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,e$.t)("workspace_view.description.placeholder"),submitText:(0,e$.t)("workspace_view.description.save"),onRename:r=>a({workspaceId:e.id,description:r}).then(()=>t(t6.F.enqueue({message:(0,e$.t)("workspace_view.description_update_updated")})),()=>{let e=(0,e$.t)("workspace_view.description_update_error");t(e5.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");var MD=((H=MD||{}).MEMBERS="MEMBERS",H.ADMINS="ADMINS",H);function MP(e){let t=(0,xc.rw)(),a=new Map([["MEMBERS",(0,e$.t)("workspace_view.members_modal.members")],["ADMINS",(0,e$.t)("workspace_view.members_modal.admins")]]),r=[];return a.forEach((a,n)=>{r.push(ep.createElement(t,{tab:n,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},a))}),ep.createElement("div",{className:"workspace_members_modal--tabsContainer--wgUpd"},r)}function MB(e){return ep.createElement("div",{className:"workspace_members_modal--searchContainer--S1bTj modal--searchContainer--EA8ib"},ep.createElement(bk.IW,{className:"workspace_members_modal--searchBar--Zyf2W",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--nY8Tt",placeholder:(0,e$.t)("workspace_view.members_modal.search_placeholder")}))}function MU(e){return ep.createElement("div",{className:"workspace_members_modal--emptyContainer--bp7DJ"},ep.createElement("div",{className:"workspace_members_modal--emptyState--jjXCZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let MW=(0,am.Ju)(function(e){var t,a,r,n;let l=(0,eg.wA)(),i=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),s=((null==(t=e.workspace)?void 0:t.members)||[]).slice().sort(i),o=((null==(a=e.workspace)?void 0:a.admins)||[]).slice().sort(i),c={};s.forEach(e=>{e.baseOrgUser&&(c[e.baseOrgUser.user.id]=e.permission)});let[d,m]=(0,ep.useState)("MEMBERS"),[u,_]=(0,ep.useState)(s),[p,g]=(0,ep.useState)(""),E=ep.createElement(MP,{dispatch:l,selectedTab:d,setTab:e=>{g(""),m(e),_("MEMBERS"===e?s:o)}}),f=u.filter(e=>{var t,a;let r=null==(t=e.baseOrgUser)?void 0:t.user,n=p.toLocaleLowerCase();return!!(null==(a=null==r?void 0:r.email)?void 0:a.toLocaleLowerCase().includes(n))||!!(null==r?void 0:r.handle.toLocaleLowerCase().includes(n))}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],h=ep.createElement(MB,{query:p,onChange:e=>g(e)}),v=ep.createElement(MU,{content:ep.createElement(e$.Tx,{id:"workspace_view.members_modal.no_members",workspaceName:null==(r=e.workspace)?void 0:r.name})}),b=ep.createElement(MU,{content:ep.createElement(e$.Tx,{id:"workspace_view.members_modal.no_admins",workspaceName:null==(n=e.workspace)?void 0:n.name})}),y=ep.createElement(MU,{content:ep.createElement(e$.Tx,{id:"workspace_view.members_modal.no_results",query:p})}),w=ep.createElement(ac.P,{className:"workspace_members_modal--outerContainer--JHmoo",innerClassName:"workspace_members_modal--membersContainer--f-7ds"},ep.createElement(FR,{members:f,showAdminBadge:e=>"ADMINS"!==d&&c[e.id]===lB.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--d9LZV text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,t)=>{l(tL.$T({view:"user",userId:t.id,userViewTab:Ns.o.INTERNAL_PROFILE})),l(e0.Ce())}}));return"MEMBERS"===d?0===s.length?w=v:0===f.length&&(w=y):"ADMINS"===d&&0===o.length&&(w=b),ep.createElement(sn.XV,{title:E,headerSize:"large",fixedTop:!0,onClose:()=>{l(e0.Ce())}},ep.createElement("div",{className:"workspace_members_modal--modalContainer---ik7x"},ep.createElement(ej.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===d&&s.length>0&&h," ",w)))},"WORKSPACE_MEMBERS_MODAL",am.ZU.YES);var MV=a(247576);function MG(e){let{workspace:t,org:a}=e,r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.currentUserOrgId),l=(0,eg.d4)(e=>e.avatarEditorState),i=(0,d2._6)(),s=(null==t?void 0:t.canAdmin)??!1,[o,c]=ep.useState(!1),{canCreateTeam:d,cannotCreateTeamReason:m}=(0,pf.l6)(a,null==t?void 0:t.id),u=(0,Ew.S)(),_=window.innerWidth<=(0,ti.hG)(aE.tgj),p=t?t.id:vd.O,g=(0,dB.Cy)(t),E=(0,dB.eg)(t),f=(null==t?void 0:t.members)||[],h=()=>{n?r(e0.to({type:gQ.Uc,data:{workspaceId:p}})):r(mB.Dw({previousView:i}))},v=ep.useCallback((e,a,n)=>{if(t){let l={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:n,favoriteId:a};e?r(gJ.ZW(l)):r(gJ.if(l))}},[r,t]),b=()=>{r(e0.to({type:MW,data:{workspace:e.workspace,tab:MD.MEMBERS}}))},y={kind:OQ.A.ICON_TEXT_BUTTON,key:OQ.D.VIEW_MEMBERS,displayText:f.length.toString(),onClick:e=>b(),icon:MV.A,svgStyleClass:eS()(E?(0,dB.kx)(E)?"workspace_page_header--iconTextButtonSvgForDarkBackground--ylvur workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvgForLightBackground--c-YLF workspace_page_header--iconTextButtonSvg--UbYwz":"workspace_page_header--iconTextButtonSvg--UbYwz"),styleClass:eS()(E?(0,dB.kx)(E)?"workspace_page_header--membersButtonForDarkBackground--Tcczc workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--membersButtonForLightBackground--HhXA4 workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0),isLoading:e.isWorkspaceMembersLoading},w=ep.useMemo(()=>ep.createElement(fy.r,{setFavorite:v,favoriteType:lB.bk.WORKSPACE,resourceId:p,isFavoriteHeaderStar:!0,orgId:n,parentBackgroundColor:E}),[p,v,n,E]),T=function(){let e=(0,eg.wA)(),t=(0,tR.TA)();return a=>{let r=a.workspace.admins.some(e=>{var a;return(null==(a=e.baseOrgUser)?void 0:a.user.id)===t}),n=[];return r&&n.push({displayText:(0,e$.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(tL.$T({view:"workspace",subView:gw.V0.ADMIN,workspaceId:a.workspace.id,selectedTab:gw.rj[0]}))}}),n.length>0&&n.push({displayText:"",separator:!0}),n.push({displayText:(0,e$.t)("file_browser.copy_link"),callback:()=>{let t=(0,E8.fO)(a.workspace.id,a.org.id);e(rh.S({url:t}))}}),a.workspace.canAdmin&&(n.push({displayText:(0,e$.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,MO.X)({entity:a.workspace,entityType:f_.ck.WORKSPACE,shape:"SQUARE"}))}}),n.push({displayText:(0,e$.t)("workspace_view.toolbar.change_color"),callback:a.onWorkspaceChangeColorClick}),n.push({displayText:(0,e$.t)("workspace_view.description.title"),callback:()=>{e(e0.to({type:MM,data:{workspace:a.workspace}}))}})),n}}(),x=t&&a?T({workspace:t,org:a,onWorkspaceChangeColorClick:()=>c(!0)}):d&&_?[{displayText:(0,e$.t)("org_view.new_team"),callback:h}]:void 0,C=[];if(m===pf.z4.TEAM_CREATION_CONTROL?C.push({kind:OQ.A.CUSTOM,key:OQ.D.NEW_TEAM,element:ep.createElement(Mv,{backgroundColor:E})}):d&&C.push({kind:OQ.A.CUSTOM,key:OQ.D.NEW_TEAM,element:ep.createElement(O4,{onClick:h,variant:g?"inverted-inverse":"inverse",text:(0,e$.t)("license_group_view.toolbar.new_team_button")})}),e.showMembersButton&&C.push(y),u&&t&&C.push({kind:OQ.A.CUSTOM_BUTTON,key:OQ.D.FAVORITE,element:w,styleClass:eS()(E?(0,dB.kx)(E)?"workspace_page_header--favoriteStarContainerForDarkBackground--KXzd9":"workspace_page_header--favoriteStarContainerForLightBackground--GXMcy":void 0)}),!t)return ep.createElement(Mb,{title:(0,e$.t)("license_group_view.meta.unassigned_title",{orgName:a.name}),rightSideActions:C});let N=x?{kind:OQ.A.CUSTOM,key:OQ.D.DROPDOWN,element:ep.createElement(Mw,{buttonAriaLabel:(0,e$.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:x,dropdownColorClassName:E?(0,dB.kx)(E)?"workspace_page_header--dropdownColorsForDarkBackground--heOfu":"workspace_page_header--dropdownColorsForLightBackground--RUg--":void 0})}:void 0;return ep.createElement("div",{style:{backgroundColor:e.headerColor}},ep.createElement(Mb,{avatar:s?ep.createElement(fp.j,{avatarEditorState:l,entityType:f_.ck.WORKSPACE,entity:t,dispatch:r,size:40}):ep.createElement(e7.z6,{entity:t,size:40}),title:E&&(0,dB.kx)(E)?ep.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--KfdSY"},t.name):t.name,badge:t.orgAccess===lB.bU.SECRET?ep.createElement("div",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,e$.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},ep.createElement(le.In,{icon:"lock-16"})):void 0,rightSideActions:C,rightSideOfTitleAction:N,belowHeaderItem:o?ep.createElement(MR,{workspace:t,onClose:()=>c(!1)}):void 0,textColor:g?"oninverse":void 0}))}function M$(e){var t;let a=(0,eg.wA)(),r=null==(t=e.workspace)?void 0:t.members,n=ep.useMemo(()=>r||[],[r]),l=ep.useMemo(()=>n.slice(0).sort(()=>Math.random()-.5),[n]),i={};return n.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),ep.createElement("div",{className:eT.cx.my24.mr8.ml24.$},ep.createElement("div",{className:"workspace_page_meta_content--membersHeader--E0gIh text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,e$.t)("workspace_view.sidebar.members")),ep.createElement(FR,{removeHeader:!0,members:l.map(e=>{var t;return null==(t=e.baseOrgUser)?void 0:t.user}).filter(e=>!!e),onMemberClick:(e,t)=>{a(tL.$T({view:"user",userId:t.id,userViewTab:Ns.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===lB.bp.ADMIN,customOverflowRow:ep.createElement(ep.Fragment,null,ep.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--k12xq text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{a(e0.to({type:MW,data:{workspace:e.workspace,tab:MD.MEMBERS}}))}},(0,e$.t)("workspace_view.sidebar.see_all_members")))}))}function Mj({isExpanded:e,fill:t,onClick:a}){return ep.createElement("div",{role:"button",tabIndex:-1,className:eS()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:a},ep.createElement(le.In,{icon:"caret-right-16",fill:t}))}function MH({isOpen:e,toggleIsOpen:t,collapseHeader:a,content:r}){return ep.createElement("div",{className:eT.cx.flex.flexColumn.wFull.$},ep.createElement("div",{className:eT.cx.flex.flexRow.gap4.itemsCenter.wFull.$},ep.createElement(Mj,{isExpanded:e,fill:"secondary",onClick:t}),a),ep.createElement("div",{className:eT.cx.grid.ml20.$,"aria-hidden":!e,style:u1.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,u1.sx.add({gridTemplateRows:"1fr"}),u1.sx.add({gridTemplateRows:"0fr"})).$},ep.createElement("div",{className:eT.cx.overflowHidden.$},r)))}var Mq=a(409694),Mz=a(767949);let MY={LOADING:"loading",ERRORS:"errors",LOADED:"loaded"},MK=e=>{switch(e){case Mz.t2.DESIGN:return"design";case Mz.t2.FIGJAM:return"whiteboard";case Mz.t2.PROTOTYPE:return"prototype";case Mz.t2.SLIDES:return"slides";case Mz.t2.ANY:return"";default:(0,eC.xb)(e)}},MJ=e=>{switch(e){case Mz.t2.DESIGN:return lB._Y.DESIGN;case Mz.t2.FIGJAM:return lB._Y.WHITEBOARD;case Mz.t2.SLIDES:return lB._Y.SLIDES;case Mz.t2.PROTOTYPE:case Mz.t2.ANY:case void 0:return null;default:(0,eC.xb)(e)}},MZ=e=>{switch(e){case Mz.C0.NAME:return"name";case Mz.C0.CREATED_AT:return"created_at";case Mz.C0.TOUCHED_AT:return"updated_at";default:return(0,lL.$D)(s6.e.EXPLORE,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};function MQ(e){var t,a,r,n,l,i,s;let o=(0,eg.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),c=(0,t5.Rs)(ai.SnC,{draftsFolderId:e.folderId,cursorColumn:(s=MZ(o.sort.key),`${(0,to.m8)(s)}AndId`),sortOrder:o.sort.dir===Mz.ue.ASC?"ASC":"DESC",firstPageSize:50,editorType:MJ(o.filters.fileType)}),d=(0,ep.useCallback)(e=>{var t,a,r,n,l,i;switch(e.type){case"fetchNextPage":"loaded"===c.status&&(null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.hasNextPage())&&(null==(i=null==(l=null==(n=c.data)?void 0:n.currentUser)?void 0:l.draftFiles)||i.loadNext(50));break;case"refetch":case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[c]),m="loaded"===c.status&&((null==(r=null==(a=null==(t=c.data)?void 0:t.currentUser)?void 0:a.draftFiles)?void 0:r.isLoadingNextPage)??!1),u="loaded"===c.status&&(null==(i=null==(l=null==(n=c.data)?void 0:n.currentUser)?void 0:l.draftFiles)?void 0:i.hasNextPage());return[{data:(0,ep.useMemo)(()=>{var e,t,a,r,n;if("loaded"!==c.status||!(null==(e=c.data)?void 0:e.project))return null;let l=[],i=[],s=new Set,o=c.data.project.roles.map(e=>e.pending?(0,E3.V1)(e,{pending:!0,user:{email:e.pendingEmail||"",userId:e.userId},user_id:null,resource_id_or_key:e.resourceId,folder_id:e.resourceId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString()}):(0,E3.V1)(e,{pending:!1,user:(0,E3.V1)(e.user),user_id:e.userId||"",resource_id_or_key:e.resourceId,folder_id:e.resourceId,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString()})),d=(0,E3.V1)(c.data.project,{deleted_at:(null==(t=c.data.project.deletedAt)?void 0:t.toString())||null,updated_at:c.data.project.updatedAt.toString(),created_at:c.data.project.createdAt.toString(),settings:void 0});for(let e of(null==(a=c.data.currentUser)?void 0:a.draftFiles)??[])!e.file||e.file.trashedAt||e.file.deletedAt||(e.file.repo&&!s.has(e.file.repo.id)&&(s.add(e.file.repo.id),i.push((0,E3.V1)(e.file.repo,{deleted_at:(null==(r=e.file.repo.deletedAt)?void 0:r.toString())||null,updated_at:e.file.repo.updatedAt.toString(),created_at:e.file.repo.createdAt.toString(),trashed_at:(null==(n=e.file.repo.trashedAt)?void 0:n.toString())||null,has_file_link_password:void 0,has_proto_link_password:void 0,has_active_branches:void 0}))),l.push((0,E3.V1)(e.file,{updated_at:e.file.updatedAt.toString(),created_at:e.file.createdAt.toString(),trashed_at:null,deleted_at:null,last_published_at:e.file.lastPublishedAt.toString()||null,org_audience:e.file.orgAudience??void 0})));let m={files:l,repos:i,roles:o,folder:d};return(0,E3.CY)(m),m},[c]),errors:c.errors,status:c.status,isFetchingNextPage:m,hasNextPage:u},d]}var MX=a(265560),M0=a(158578);function M1({}){var e;let[t,a]=MQ({folderId:(0,tR.Pc)().drafts_folder_id});return ep.createElement("div",{className:eT.cx.bRadius8.colorBgSecondary.px32.pt24.pb32.flex.flexColumn.gap16.mt8.$},ep.createElement("div",{className:eT.cx.colorTextSecondary.$},(0,e$.t)("file_browser.pinning.suggested")),"loaded"===t.status?ep.createElement("div",{className:eT.cx.grid.gap16.$,style:u1.sx.add({gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"}).$},null==(e=t.data)?void 0:e.files.slice(0,8).map(e=>ep.createElement(M2,{key:e.key,file:e}))):ep.createElement(e8.qc,null))}function M2({file:e}){let t=(0,Mq.l6)(e.folder_id),a=t.data,[r,n]=ep.useState(!1);return ep.createElement("div",{role:"gridcell",tabIndex:0,className:eT.cx.flex.flexRow.h48.gap16.$,onMouseOver:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>window.alert("TODO: make the pinned file callback")},ep.createElement("div",null,ep.createElement(MX.ZH,{tile:(0,E1.fA)(e),borderRadius:4,size:M0.y.SMALL})),ep.createElement("div",{className:eT.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},ep.createElement("div",{className:eT.cx.textBodyMedium.truncate.$},e.name),r?ep.createElement("div",{className:eT.cx.colorTextBrand.truncate.$},(0,e$.t)("file_browser.pinning.pin_file")):"loaded"===t.status&&a?ep.createElement("div",{className:eT.cx.colorTextSecondary.truncate.$},a):null))}function M4({workspace:e}){return ep.createElement(M1,{workspace:e})}function M3({workspace:e}){let[t,a]=ep.useState(!1),r=ep.useCallback(()=>a(e=>!e),[]);return ep.createElement(MH,{isOpen:t,toggleIsOpen:r,collapseHeader:ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.wFull.$},ep.createElement("div",{"aria-expanded":t,role:"button",tabIndex:0,className:eT.cx.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.$,onClick:r},(0,e$.t)("file_browser.pinning.pinned_files")),ep.createElement("button",null,ep.createElement("div",{className:eT.cx.colorTextBrand.$},(0,e$.t)("file_browser.pinning.add_file")))),content:ep.createElement(M4,{workspace:e})})}function M8(){var e,t,a,r;let n=(0,d2._6)(),l=(0,mV.sZ)(),i=(0,t5.Rs)(ai.bUn,{orgId:l.id}),s="loaded"!==i.status,o=(null==(t=null==(e=i.data)?void 0:e.org)?void 0:t.workspaces)??[],c=s?[]:[...o],d=null;n.workspaceId&&(d=c.find(e=>{var t;return e.id===n.workspaceId||(null==(t=e.mirroringLicenseGroup)?void 0:t.id)===n.workspaceId}));let m=(0,e$.t)("view_selectors.file_browser.other_teams");d&&(m=d.name),(0,EX.hL)(m);let u=(0,dB.eg)(d),_=!!n.workspaceId,p=(0,t5.Rs)(ai.nD$,{workspaceId:n.workspaceId??""},{enabled:_}),g="loaded"===p.status,E="loading"===p.status,f=(null==(r=null==(a=p.data)?void 0:a.workspace)?void 0:r.members)??[],h=d?{...d,members:f}:void 0,v=(null==d?void 0:d.admins)??[],b=_&&g&&f.length>0,y=_&&(E||f.length>0||v.length>0);return s&&n.workspaceId?ep.createElement(e8.qc,null):!d||(null==d?void 0:d.canView)?ep.createElement(v6.r,{header:ep.createElement(MG,{headerColor:u,workspace:h,org:l,isWorkspaceMembersLoading:E,showMembersButton:y}),content:ep.createElement("div",{className:eT.cx.flex.flexColumn.gap24.my24.$},(0,eh.kc)().file_browser_workspace_pinning&&ep.createElement("div",{className:eT.cx.pl12.pr32.borderBox.wFull.$},ep.createElement(M3,{workspace:d})),ep.createElement("div",null,ep.createElement("div",{className:eT.cx.mx32.textBodyLargeStrong.$},ep.createElement("div",null,(0,e$.t)("file_browser.teams"))),ep.createElement(F5,{workspace:d}))),metaContent:b?ep.createElement(M$,{workspace:h}):void 0}):ep.createElement(Mf,{resourceType:e2.Ft.WORKSPACE})}var M5=a(732517),M6=a(729064),M9=a(776940),M7=a(563471);let De=new class{markFeedVisited(e){return ae.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var Dt=a(342832),Da=a(902008),Dr=a(893984),Dn=a(866505);let Dl=(0,li.eU)(!1),Di=(0,li.eU)(null),Ds=(0,li.eU)(-1);function Do(e){let t=(0,eg.wA)(),a=(0,mV.dq)(),r=(0,tY.md)(Ds),n=(0,tY.md)(Di),l=ep.useCallback(()=>{a&&n&&t(M9.Wy({hashtag:e.hashtag,orgId:a,tagId:n}))},[t,e.hashtag,a,n]),i=ep.useCallback(()=>{a&&null!==r&&-1!==r&&t(M9.Zo({hashtag:e.hashtag,orgId:a,feedTagFollowerId:r}))},[t,e.hashtag,a,r]);return -1===r?null:ep.createElement("div",{className:"feed_hashtag_header--feedHashtagActions--KMavN"},ep.createElement(rf.K0,{svg:Dr.A,className:"feed_hashtag_header--copyLinkButton--qjQVH","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("fig_feed.copy_link"),onClick:()=>t(rh.le({view:"teamFeed",hashtag:e.hashtag}))}),r?ep.createElement(eI.nR,{onClick:i,className:"feed_hashtag_header--unfollowButton--fKLaL"},ep.createElement(Da.l,null),(0,e$.t)("fig_feed.following")):ep.createElement(eI.$$,{onClick:l},(0,e$.t)("fig_feed.follow_tag")))}function Dc(e){let t=(0,tY.md)(Dl),[a,r]=ep.useState(!1);return(ep.useEffect(()=>{t&&r(!0)},[t]),a)?ep.createElement("div",{className:t?"feed_hashtag_header--fadeInOnMount--KpnoH":"feed_hashtag_header--fadeOut---kg1-"},ep.createElement(Do,{hashtag:e.hashtag})):null}function Dd(e){let t=(0,eg.wA)();return ep.createElement("div",{className:"feed_hashtag_header--hashtagHeader--RyBex"},ep.createElement(rf.K0,{svg:Dn.A,className:"feed_hashtag_header--backButton--9Da-s","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("general.back"),onClick:()=>t(tL.$T({view:"teamFeed"}))}),ep.createElement("div",{className:"feed_hashtag_header--hashtagText--2BOxc"},e.hashtag),ep.createElement("div",{className:"feed_hashtag_header--hashtagHeaderActions--10d9y"},ep.createElement(Do,{hashtag:e.hashtag})))}var Dm=a(773121),Du=a(595790),D_=a(458600),Dp=a(331988),Dg=a(708046),DE=a(473002),Df=a(707614),Dh=a(391988),Dv=a(663355),Db=a(66501),Dy=a(186365),Dw=a(467428),DT=a(210793),Dx=a(890750),DC=a(464392),DN=a(363971);let Dk="feed_tile--commentPillText--goQ26",DS="feed_tile--feedPostHoverContainerSelectable--rhPI9";var DI=a(122975);function DA(e){var t,a;let r=(0,eg.wA)(),n=ep.useRef(null),[l,i]=(0,Dp.M)(),[s,o]=(0,Dp.M)(),{requestToOpenPostByFeedIdx:c}=e,d=ep.useCallback((t,a)=>{null==t||t.stopPropagation();let n=e.itemIdx+1;(0,tn.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),r((0,e0.to)({type:Du.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:null==a?void 0:a.autofocusCommentInput,selectedContentIdx:null==a?void 0:a.selectedContentIdx,onSetSelectedContentIdx:null==a?void 0:a.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,r,e.feedIdx,c]),m=ep.useCallback(()=>{r((0,e0.to)({type:M5.t1,data:{preloadedFeedPost:e.post,entryPoint:M5.M2.FEED}}))},[r,e.post]),{refSetter:u}=function(e){let t=ep.useRef(null),a=ep.useRef(e);a.current=e;let r=ep.useMemo(()=>new ResizeObserver(()=>{a.current(t.current)}),[]);return ep.useEffect(()=>()=>{r.disconnect()},[r]),{refSetter:ep.useCallback(e=>{null!==t.current&&r.unobserve(t.current),t.current=e,null!==t.current&&r.observe(t.current)},[r])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=(null==(t=e.feedListRef.current)?void 0:t.getBoundingClientRect().left)??0,g=(null==(a=n.current)?void 0:a.getBoundingClientRect().left)??0,E=ep.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},ep.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,e$.t)("fig_feed.youre_all_caught_up")),ep.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,e$.t)("fig_feed.come_back_later_for_more_posts")));return ep.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(n.current=e,l(e))},style:_},ep.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:s}),ep.createElement("div",{className:"feed_tile--tileContainer---NbBK"},ep.createElement(DL,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:Math.max(0,g-p),isHovered:i||o}),e.mostRecentUnviewed&&E))}function DL(e){let t=(0,eg.wA)(),a=parseInt(e.feedPost.numComments,10),r=(0,DE.o8)(e.feedPost.descriptionMeta),n=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],l=ep.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},a>0?ep.createElement(ep.Fragment,null,ep.createElement(DC.w,{users:n,totalNum:n.length,numAvatarsToDisplay:4}),ep.createElement("div",{className:Dk},ep.createElement(e$.Tx,{id:"fig_feed.num_comments",numComments:a}))):ep.createElement("div",{className:Dk},ep.createElement(e$.Tx,{id:"fig_feed.add_comment"}))),[i,s]=ep.useState(!1),o=ep.useRef(null);ep.useEffect(()=>{let e=o.current;e&&s(e.scrollHeight>e.offsetHeight)},[]);let c=(0,Dt.e3)(e.feedPost),d=ep.useMemo(()=>{var e,t;return r.length>0&&(r[0].t=null==(e=r[0].t)?void 0:e.trimStart(),r[r.length-1].t=null==(t=r[r.length-1].t)?void 0:t.trimEnd()),r},[r]),m=ep.useCallback(e=>{t(tL.$T({view:"teamFeed",hashtag:e}))},[t]),u=(0,eg.d4)(Df.j),_=ep.useCallback((e=[],t)=>e?e.map((e,a)=>{var r,n;let l=(e.user_annotated?e.user_annotated.handle:e.t)||"",i=(0,Dg.F)(l),s=null,o=e.link&&(0,Db.xT)(e.link);if(e.user_annotated&&i)s=ep.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ep.createElement(Db.E4,{href:`/files${u}/user/${e.user_id}`,userId:e.user_annotated.id,handle:i,imgUrl:e.user_annotated.img_url}));else if(o&&i&&(0,Dy.$)(o))s=ep.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ep.createElement(Db.Rk,{text:i,hyperlink:o}));else if(e.is_hashtag&&i)s=ep.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},ep.createElement(Db.D_,{text:i,highlightHashtag:!0,onHashtagClick:m}));else{let e=(0,D_.x6)((null==i?void 0:i.replace(/\n\s*\n/g,"\n").split("\n").join(" "))||"");s=ep.createElement("span",null,e)}return ep.createElement(ep.Fragment,{key:`${t}-${a}`},s,(null==(r=e.children)?void 0:r.length)&&(null==(n=e.styles)?void 0:n.length)&&e.children.map((r,n)=>ep.createElement(ep.Fragment,{key:`${t}-${a}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",_(r.children,`${t}-${a}-${n}`)," ")))}):[ep.createElement(ep.Fragment,null)],[u,m]),p=ep.useMemo(()=>_(d,e.feedPost.id),[d,_,e.feedPost.id]),{onTileMouseDown:g}=e,E=ep.useMemo(()=>ep.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:g,role:"button",tabIndex:0},ep.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),ep.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:o},ep.createElement("div",{className:eS()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",i&&"feed_tile--hasShowMore--6Nm-e")},p),i&&ep.createElement("div",{onMouseDown:e=>{e.stopPropagation(),g()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},ep.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),ep.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,e$.t)("fig_feed.see_more"))))),[i,o,e.feedPost,g,p]),f=(0,Dh.DG)(e.feedPost.publicUuid,Dh.dy.TILE),h=(0,rE.U)(),v=e.isHovered||(null==h?void 0:h.type)===(0,DN.j8)(DN.Hx.USER,e.feedPost.publicUuid,Dh.Zp.TILE);return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},ep.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},ep.createElement(DT.A,{user:e.feedPost.creator,size:dm.Pf.LARGE,noHandle:!0})),ep.createElement(DT.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,containerInfo:c,noAvatar:!0}),ep.createElement("div",{className:eT.cx.flex.flexRow.$},ep.createElement(DN.Wu,{hideTarget:!v,feedPost:e.feedPost,source:Dh.Zp.TILE,onEditClick:e.onEditClick}),v&&ep.createElement(rf.K0,{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("fig_feed.copy_link_to_post"),onClick:f},ep.createElement(le.In,{icon:"hyperlink-32"})))),E,ep.createElement(DR,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),ep.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},ep.createElement(Dx.Q$,{type:Dx.Us.FULL,source:Dx.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[l]})))}function DR(e){let t=ep.useRef(null),a=e.feedPost.content.map(e=>JSON.parse(e)),[r,n]=ep.useState(!1),[l,i]=ep.useState(!1),[s,o]=ep.useState(0);ep.useEffect(()=>{0!==s&&Dv.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let c=(0,Dx.mz)({type:"post",id:e.feedPost.publicUuid},Dx.zY.TILE_CONTENT),d=a.length>1,m=eS()(d?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(r||l||c)&&"feed_tile--hidden--9bafI"),u={selectedContentIdx:s,onSetSelectedContentIdx:o},{fileData:_,fileIcon:p,fileLoaded:g,openFile:E}=(0,Dh.rS)(e.feedPost.publicUuid,a,e.feedPost.fileKey);return ep.createElement("div",{ref:e=>{e&&(t.current=e)},className:eS()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",d&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},ep.createElement(Dw.xT,{contentItems:a,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:o,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,u),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:Dh.Zp.TILE,onContentHover:e=>n(e)}),g&&ep.createElement("button",{className:eS()(m,DS,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},ep.createElement(_7.oS,{type:p,size:_7.LE.SMALL}),ep.createElement("div",null,_.name)),ep.createElement("button",{className:eS()(m,DS,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,u),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},ep.createElement(eL.B,{svg:DI.A})))}let DO=(0,li.eU)(!0),DF=(0,li.eU)(!1);function DM(e){var t,a;let r=(0,eg.wA)(),n=ep.useRef(null),l=(0,tR.iZ)(),i=(0,eg.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:s}=e,[o,c]=ep.useState(null),d=(0,d2._6)(),m="teamFeed"===d.view&&void 0===d.hashtag,u="user"===d.view;ep.useEffect(()=>{m&&(De.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),r(rc.b({has_visited_feed:!0})))},[e.currentOrgId,i,r,m]);let _=!!(e.selectedContainer&&e.selectedContainer.id&&e.selectedContainer.type),p=(0,t5.Rs)(ai.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:(null==(t=e.selectedUser)?void 0:t.id)??null,container_type:_?(0,Dt.FD)(e.selectedContainer.type):null,container_id:_?e.selectedContainer.id:null,hashtag:e.hashtag}),refreshNonce:i}),g=(0,om.Z)(i);g&&g!==i&&n.current&&(n.current.scrollTop=0),ep.useEffect(()=>{"errors"===p.status&&r(t6.F.enqueue({message:(0,e$.t)("general.an_error_occurred"),error:!0}))},[r,p.status]);let E=ep.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),f=ep.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(t=>!!t.feedPost&&(e.selectedTabKey!==M7.S8.ForYou||t.forYou))}:p,[p,e.selectedTabKey]),h=(0,Ca.Xr)(Di),v=(0,Ca.Xr)(Ds);ep.useEffect(()=>{if("loaded"===p.status&&p.data.feedPosts.length>0&&e.followedTags){let t=p.data.feedPosts[0].currentTagFilterId;if(h(t),t){let a=e.followedTags.find(e=>e.feedTag.id===t);v((null==a?void 0:a.id)??null)}else v(-1)}},[h,v,p,e.followedTags]);let b="loaded"===f.status&&"loaded"===p.status;ep.useEffect(()=>{null==s||s(b)},[b,s]);let y=ep.useCallback(()=>512,[]),w=f.data?f.data.length:0,T=(0,M6.z)({size:w,parentRef:n,estimateSize:y,overscan:15,paddingStart:0}),x=ep.useRef(0);ep.useEffect(()=>{var e;x.current=(null==(e=f.data)?void 0:e.length)??0},[b,null==(a=f.data)?void 0:a.length]),ep.useEffect(()=>{var t,a,r;b&&(0,tn.sx)("Team Feed Posts Rendered",{tab:e.selectedTabKey,selectedContainerId:null==(t=e.selectedContainer)?void 0:t.id,selectedContainerType:null==(a=e.selectedContainer)?void 0:a.type,selectedUserId:null==(r=e.selectedUser)?void 0:r.id,numPosts:x.current,view:d.view},{forwardToDatadog:!0})},[e.selectedTabKey,e.selectedContainer,e.selectedUser,x,b,d.view]);let[C,N]=ep.useState(!1),[k,S]=ep.useState(null),I=(0,Ca.Xr)(DF),A=(0,Ca.Xr)(Dl),L=ep.useCallback((e,t)=>{e>0&&!C&&((0,tn.sx)("Team Feed User Scrolled Down"),N(!0));let a=w/50,r=e+t.trackHeight,n=t.scrollHeight;1-(n-r)/(n/a)>=.5&&E&&!E.isLoadingNextPage&&E.hasNextPage()&&E.loadNext(50),S(t)},[C,E,w]);ep.useEffect(()=>{if(!k)return;let{scrollTop:e}=k;e>=72?(I(!0),A(!0)):(I(!1),A(!1))},[k,I,A]);let R=ep.useMemo(()=>{let e={};return f.data&&f.data.forEach((t,a)=>{e[t.publicUuid]=a}),e},[f]),[O,F]=ep.useState(void 0),M=ep.useCallback(e=>{F(e)},[]);ep.useEffect(()=>{if(void 0===O||(F(void 0),O<0)||(O>=.5*w&&E&&E.loadNext(50),O>=w))return;let e=f.data[O];r(e0.hm({type:Du.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:O,requestToOpenPostByFeedIdx:M}}))},[O,r,f,M,E,w]);let D=ep.useMemo(()=>{var e;if(!o||!f.data)return null;let t=0,a=f.data.length-1,r=-1,n=0;for(;t<=a;){let e=Math.floor((t+a)/2);if(new Date(f.data[e].createdAt)>o?(r=e,t=e+1):a=e-1,(n+=1)>50)break}for(;r>=0&&l&&(null==(e=f.data[r].feedPost)?void 0:e.creator.id)===l.id;)r-=1;return r},[o,f.data,l]),P=b&&f.data&&0===f.data.length&&e.selectedTabKey===M7.S8.All&&(e.selectedUser||e.selectedContainer);return ep.createElement(ac.P,{scrollContainerRef:n,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:eS()("feed_list_view--scrollContainerInner--8Le-r",u&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:L},ep.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,P?ep.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},ep.createElement("div",{className:eT.cx.fontMedium.$},ep.createElement(e$.Tx,{id:"fig_feed.no_posts_found_title"})),ep.createElement("div",{className:eT.cx.colorTextSecondary.$},ep.createElement(e$.Tx,{id:"fig_feed.no_posts_found_description"}))):ep.createElement("div",{style:{margin:"0 8px",height:`${T.totalSize}px`,position:"relative"}},T.virtualItems.map(e=>{let t=e.index;if(!f.data||!f.data[t].feedPost)return null;let a=f.data[t].feedPost;return ep.createElement(DA,{post:a,key:e.key,virtualRowItem:e,feedListRef:n,itemIdx:t,feedIdx:R[a.publicUuid],requestToOpenPostByFeedIdx:M,mostRecentUnviewed:m&&R[a.publicUuid]===D})}))))}function DD(e){let t=(0,eg.wA)(),[a,r]=(0,tY.fp)(DO),[n,l]=ep.useState(!1),i=(0,eg.d4)(e=>e.teamFeedRefreshNonce);ep.useEffect(()=>{t(M9.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,i,e.currentOrgId]);let s=ep.useMemo(()=>[{key:M7.S8.ForYou,label:(0,e$.t)("fig_feed.tab.for_you")},{key:M7.S8.All,label:(0,e$.t)("fig_feed.tab.all")}],[]),[o,c]=ep.useState(null),[d,m]=ep.useState(null),{setSelectedTabKey:u}=e,_=ep.useCallback(e=>{e===M7.S8.ForYou&&(m(null),c(null)),u(e),t(tL.$T({view:"teamFeed",feedTab:e}))},[t,u]),p=!!e.hashtag,g=ep.createElement(ep.Fragment,null,!p&&ep.createElement(M5.iG,{entryPoint:M5.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:a,setMinimized:r,uploadInfo:e.uploadInfo}),!p&&ep.createElement(Dm.Qn,{orgId:e.currentOrgId,tabs:s,selectedTabKey:e.selectedTabKey,setSelectedTabKey:_,selectedContainer:o,setSelectedContainer:c,selectedUser:d,setSelectedUser:m}),p&&ep.createElement(Dd,{hashtag:e.hashtag}));return ep.createElement(DM,{...e,scrollHeaders:g,setHasLoaded:l,selectedContainer:o,selectedUser:d})}var DP=a(238472);function DB(){let e=(0,tY.md)(M5.TC),t=(0,tY.md)(DF),a=(0,Ca.Xr)(DO),[r,n]=ep.useState(!1);return(ep.useEffect(()=>{t&&n(!0)},[t]),r)?ep.createElement(u9.$$,{className:eS()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>a(!1)},ep.createElement(eL.B,{svg:O1.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,e$.t)("fig_feed.new_post"),e&&ep.createElement(eL.B,{svg:DP.A})):null}var DU=a(216857),DW=a(304030);function DV(e){let t=(0,eg.wA)(),a=ep.useMemo(()=>e.followedTags.sort((e,t)=>parseInt(t.feedTag.numUsages)-parseInt(e.feedTag.numUsages)),[e.followedTags]),r=ep.useCallback(e=>{t(tL.$T({view:"teamFeed",hashtag:e}))},[t]);return ep.createElement("div",{className:"feed_hashtag_sidebar--container--nmjtX"},ep.createElement("div",{className:"feed_hashtag_sidebar--header--y1lTY"},(0,e$.t)("fig_feed.tags_you_follow")),a.map(e=>ep.createElement("div",{className:"feed_hashtag_sidebar--hashtagRow--Yqneg",key:e.id},ep.createElement(Db.D_,{text:e.feedTag.text,highlightHashtag:!0,onHashtagClick:r}),ep.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSub--HsOm3"},ep.createElement("div",{className:"feed_hashtag_sidebar--hashtagRowSubNumUsages--eHdx6"},(0,e$.t)("fig_feed.num_posts",{numPosts:parseInt(e.feedTag.numUsages)})),"\xb7",ep.createElement(i7.h1,{date:e.feedTag.lastUsedAt})))))}let DG="new_post_indicator--icon--uvRMg";var D$=a(884114);function Dj(e){return ep.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},ep.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},ep.createElement(eL.B,{svg:D$.A,className:DG}),ep.createElement(e$.Tx,{id:"fig_feed.new_posts"})),ep.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},ep.createElement(eL.B,{svg:ua.A,className:DG})))}function DH(e){let t=(0,eg.wA)();ep.useEffect(()=>((0,tn.sx)("Team Feed Posts List View Visited"),t(M9.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,tn.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let a=ep.useCallback(()=>t(M9.Y9()),[t]),r=ep.useCallback(e=>{e||a()},[a]),[n,l]=ep.useState(e.feedTab??M7.S8.ForYou),i=ep.useCallback(()=>{a(),l(M7.S8.All)},[a]),s=(0,eg.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[o,c]=ep.useState(!1),d=(0,om.Z)(s);ep.useEffect(()=>{s&&!1===d?c(!0):d&&!1===s&&c(!1)},[s,d,t]),ep.useEffect(()=>{e.initialPostUuidToShow&&t((0,e0.to)({type:Du.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,u]=ep.useState(!1),[_,p]=ep.useState(null),[g,E]=(0,tY.fp)(DO),f=ep.useCallback(e=>{g&&(p(e.files),u(!1))},[g]),h=(0,d2._6)(),v=(0,t5.Rs)(ai.dg,{}),b=ep.useMemo(()=>{if("loaded"===v.status)return v.data.currentUser.feedTagFollowers},[v]),y="teamFeed"===h.view&&void 0===h.hashtag&&b&&b.length>0;return ep.createElement(ep.Fragment,null,ep.createElement(ew.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>u(!0),onTargetDragLeave:()=>u(!1),onTargetDrop:f,className:"main_feed_view--contentLayout--HPUlv"},o&&ep.createElement(Dj,{onRefresh:i,onDismiss:()=>c(!1)}),ep.createElement(DD,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:r,uploadInfo:_??void 0,selectedTabKey:n,setSelectedTabKey:l,hashtag:e.hashtag,followedTags:b??void 0}),g&&m&&ep.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"}),ep.createElement(ac.P,null,y&&ep.createElement(DV,{followedTags:b}))),ep.createElement(DW.cx,null))}function Dq(e){let t=(0,eg.d4)(e=>e.currentUserOrgId),a=(0,Dh.wD)(),r=ep.useRef(new DU.M4);return(ep.useEffect(()=>{r.current.start()},[]),a&&t)?ep.createElement(DH,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current,feedTab:e.feedTab,hashtag:e.hashtag}):null}var Dz=a(672255),DY=a(426680);let DK="has_seen_jamboard_importer_callout",DJ=(0,tZ.r1)(DK),DZ=(0,tZ.r1)("signed_up_from_figjam_jamboard");function DQ(){let e=(0,eg.wA)(),t=(0,tY.md)(DJ),a=(0,tY.md)(DZ),r=(0,tY.md)(dp.mp),n=(0,tY.md)(dp.zN),l=(0,tY.md)(lP.UQ),i=(0,u2.YU)({enabled:!!(0,eh.kc)().figjam_jamboard_offer}),s=(0,u2.zi)(null==i?void 0:i.promoExpirationDate),{show:o,isShowing:c,complete:d}=(0,tJ.e)({overlay:t4.DKo,priority:tQ.N.HIGH_PRIORITY_MODAL},[t,a,r,n]),m=(0,Dz.F)(o);return ep.useEffect(()=>{m.current({canShow:(e,t,a,r)=>{let n=new Date().getTime()-a.getTime()>1728e5;return!e&&n&&!t&&!r&&l&&!!i&&i.ineligibilityReason!==u2.hT.NO_IMPORTED_JAMBOARD_FILES&&!!s}})},[m,i,s,l]),ep.createElement(vI.rq,{isShowing:c,trackingContextName:"Jamboard Importer Button Callout",targetKey:DY._,userFlagOnShow:DK,onTargetLost:d,onClose:d,primaryCta:{label:ep.createElement(e$.Tx,{id:"rcs.jamboard.importer_callout.primary_cta"}),type:"button",onClick:()=>{d(),e((0,e0.to)({type:hK.Qn}))},ctaTrackingDescriptor:o3.c.GET_STARTED},secondaryCta:{label:ep.createElement(e$.Tx,{id:"rcs.jamboard.importer_callout.secondary_cta"}),type:"button",onClick:d,ctaTrackingDescriptor:o3.c.NOT_NOW},title:ep.createElement(e$.Tx,{id:"rcs.jamboard.importer_callout.title"}),media:ep.createElement(xV.y,{src:"https://static.figma.com/uploads/0d827f2ef59eca7e23348ab3935984c306b2ed8d",alt:"",aspectRatio:300/146}),description:ep.createElement(e$.Tx,{id:"rcs.jamboard.importer_callout.desc"}),disableHighlight:!0})}var DX=a(456437);function D0(e){let t=(0,eg.d4)(gm.hK),a=(0,eg.wA)(),r=e.tabs?ep.createElement(CJ.f,{tabs:e.tabs.map(e=>ep.createElement(CJ.r,{key:e.tabName,tab:null,onClick:()=>a(tL.$T(e.view)),tabName:e.tabName,isSelected:yc()(t,e.view),ariaLabel:e.ariaLabel}))}):ep.createElement(ep.Fragment,null);return ep.createElement(dc.g2,{leftSide:r,rightSide:e.viewbarActions||[]})}let D1=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[Mz.C0.TRASHED_AT,Mz.C0.NAME,Mz.C0.CREATED_AT,Mz.C0.TOUCHED_AT]});function D2(){var e,t;let a;let r=(0,eg.wA)(),n=(0,eg.d4)(e=>e.currentUserOrgId),l=(0,eg.d4)(e=>e.currentTeamId),i=(0,p8.S)();a=n?null==(e=null==i?void 0:i.currentUser.baseOrgUser)?void 0:e.draftsProject:(0,eh.kc)().ps_benchmark&&l?null==(t=null==i?void 0:i.currentUser.currentTeamUser)?void 0:t.draftsProject:null==i?void 0:i.currentUser.draftsProject;let s=(0,eg.d4)(e=>e.tileSortFilterStateByView),o=(0,d2._6)();if(!i||!a)return ep.createElement(D0,{tabs:[],viewbarActions:[]});let c="deletedFiles"===o.view?(0,DX.xx)(D1)(s):(0,DX.xx)(fv.ZN)(a.id,s);return ep.createElement(D0,{tabs:[{tabName:(0,e$.t)("file_browser.tool_bar.drafts"),view:{view:"folder",folderId:a.id},ariaLabel:(0,e$.t)("file_browser.tool_bar.drafts.aria_label")},{tabName:(0,e$.t)("file_browser.tool_bar.deleted"),view:{view:"deletedFiles"},ariaLabel:(0,e$.t)("file_browser.tool_bar.deleted.aria_label")}],viewbarActions:["deletedFiles"===o.view?ep.createElement(dc.gr,{key:3,dispatch:r,options:c,selectedView:o}):null,ep.createElement(dc.ye,{key:0,config:c.tileSortFilterConfig}),ep.createElement(dc.mc,{key:1,dispatch:r,options:c,selectedView:o}),ep.createElement(dc.$c,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,tn.sx)("file view toggle",{viewType:e===Mz.XU.GRID?"grid":"list"}),r(tL.JF({selectedView:o,config:{...c.tileSortFilterConfig,viewMode:e}}))}})]})}var D4=a(327428),D3=a(714090),D8=a(439500),D5=a(21616);let D6=[];var D9=a(66238),D7=a(792441),Pe=a(536023),Pt=a(266252),Pa=a(347297),Pr=a(202126),Pn=a(407535),Pl=a(878711),Pi=a(266590),Ps=a(591919),Po=a(790101),Pc=a(343274),Pd=a(602244);function Pm(e){var t,a;let[r,n]=ep.useState(!1),{repo:l,branches:i}=e.tile,s=i.filter(e=>!e.trashed_at),o=(0,eg.wA)(),c=(0,eg.d4)(e=>e.selectedBranchKeyByRepoId),d=(0,Pr.mr)(l,i,c),m=(0,eg.d4)(e=>"deletedFiles"===e.selectedView.view),u=(0,eg.d4)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===gb.G.SHARED_FILES),_=(0,eg.d4)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===gb.G.RECENTLY_VIEWED),p=(0,eg.d4)(e=>e.currentUserOrgId),g=(0,eg.d4)(e=>e.currentTeamId),E=(0,eg.d4)(e=>e.selectedView),f=(0,eg.d4)(e=>e.orgById),h=(0,eg.d4)(e=>e.teams),v=i.find(e=>(0,Pr.SA)(e,l)),b=s.length-(v?1:0),y=e.hideBranchIndicator||0===b,w=l.parent_org_id&&f[l.parent_org_id]||l.team_id&&h[l.team_id],T=ep.useMemo(()=>ep.createElement("div",{className:Pd.wx},_&&w&&ep.createElement(v_.H,{entityId:w.id,entityName:w.name,imgUrl:w.img_url}),!y&&ep.createElement(e$.Tx,{id:"tile.file_tile.branch_count",branchCount:b}),v&&ep.createElement(ep.Fragment,null,!y&&ep.createElement(ep.Fragment,null,"\xa0\xb7\xa0"),m?ep.createElement("span",{className:Pd.Yg},l.trashed_at&&ep.createElement(e$.Tx,{id:"tile.file_tile.deleted_generic",time:ep.createElement(Po.RX,{date:l.trashed_at})})):ep.createElement(Po.RX,{date:v.touched_at}))),[b,v,y,m,l,w,_]);if(u&&((null==(t=l.shared_by_user)?void 0:t.name)||l.shared_at)){let e=l.shared_at&&ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"swy_tile.shared"}),ep.createElement(i7.h1,{date:new Date(l.shared_at)})),t=(null==(a=l.shared_by_user)?void 0:a.name)?`From ${l.shared_by_user.name}`:e;T=ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Pd.wx},w&&ep.createElement("div",{className:Pd.KP},ep.createElement(v_.H,{entityId:w.id,entityName:w.name||void 0,imgUrl:w.img_url||void 0})),ep.createElement("div",null,t)))}let x=(0,eg.d4)(e=>e.roles.byFileKey),C=(0,tR.Pc)(),N=(0,eg.d4)(e=>e.activeFileUsers),k=ep.useMemo(()=>(null==d?void 0:d.key)?(0,Pt.g)(N,C.id,null==d?void 0:d.key):[],[N,C,d]),S=(0,eg.d4)(e=>(0,uo.QM)(e.autosave.unclaimedFilesWithChangesInIDB,e)).findIndex(e=>e.fileKey===(null==d?void 0:d.key))>=0,I=ep.useMemo(()=>(0,Pr.gx)(l,s,x,C.id),[l,s,x,C]),A=ep.useCallback(()=>{n(!0)},[n]),L=ep.useCallback(()=>{n(!1)},[n]),R=(null==d?void 0:d.key)&&d.key===c[l.id];ep.useEffect(()=>{!R&&(null==d?void 0:d.key)&&o(EZ.kE({repoId:l.id,branchKey:d.key}))},[R,null==d?void 0:d.key,l.id,o]);let O=d?(0,uu.rl)(d):"";return O=(0,l2.mc)(O,C),O=(0,l2.vk)(O,p,g,E),d?ep.createElement(Po.XQ,{...e,href:O,onMouseEnter:A,onMouseLeave:L},e.isListView?ep.createElement(Pc.I,{tile:e.tile,activeFileUserList:k,showSettingsIcon:!1}):ep.createElement(Mq._7,{tile:e.tile,file:d,subtitle:T,activeFileUsers:k,currentUser:C,hasUnsyncedChanges:S,showBranchIndicator:!y,branches:I,selectedBranchKey:null==d?void 0:d.key,onSelectBranch:e=>{(0,tn.sx)("Branch Tile Drop Down Clicked Through",{fileRepoId:l.id,selectedFileKey:e,previousFileKey:null==d?void 0:d.key}),o(EZ.kE({repoId:l.id,branchKey:e}))},showSettingsIcon:!1,isHover:r})):null}function Pu(){let e=ep.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),ep.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),ep.createElement("defs",null,ep.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},ep.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),ep.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return ep.createElement("div",{className:Pd.kL},ep.createElement("div",{className:Pd.yl},ep.createElement("div",{className:Pd._h},e)))}Pm.displayName="RepoTileView";var P_=a(707827),Pp=a(877683),Pg=a(182342);function PE(e){let t=e.tile,a=t.file.editorType===lB._Y.DESIGN?_7.y1.DESIGN:_7.y1.WHITEBOARD,r=new Date(t.file.lastUpdatedAt).toISOString(),n=(0,d2._6)(),l=(0,tY.md)(dM.b),i=(0,eg.d4)(e=>e.orgById),s=!l&&(0,p3.K)(n),o=ep.createElement("span",{className:Pd.gO},ep.createElement(e$.Tx,{id:"tile.file_tile.edited_time",time:ep.createElement(i7.h1,{date:r})}));if(s&&t.file.orgId){let e=i[t.file.orgId];e&&(o=ep.createElement("div",{className:Pd.wx},ep.createElement(v_.H,{entityId:e.id,entityName:e.name,imgUrl:e.img_url}),o))}return ep.createElement(Po.d3,{...e},e.isListView?ep.createElement(Pc.I,{tile:t,activeFileUserList:[]}):ep.createElement(ep.Fragment,null,ep.createElement(P_.A,null),ep.createElement("div",{className:Pd.vS},ep.createElement(_7.oS,{type:a,size:_7.LE.MEDIUM})),ep.createElement("div",{className:Pd.q6},ep.createElement(Pg.S,{tile:t,isListView:!1}),ep.createElement("div",{className:Pd.SC},ep.createElement(Po.md,{subtitle:o})),ep.createElement("div",{className:Pd.WM},ep.createElement(Pp.v,null)))))}var Pf=a(294749);function Ph(e){var t,a,r,n;let l,i;let s=(0,eg.d4)(e=>"deletedFiles"===e.selectedView.view),o=(0,eg.d4)(e=>e.currentUserOrgId),c=(0,eg.d4)(e=>e.currentTeamId),d=(0,eg.d4)(e=>"sharedWithYou"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===gb.G.SHARED_FILES),m=(0,eg.d4)(e=>"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===gb.G.RECENTLY_VIEWED),u=(0,tR.iZ)(),_=(0,eg.d4)(e=>e.selectedView),p=(0,eg.d4)(e=>e.orgById),g=(0,eg.d4)(e=>e.teams),E=(0,eh.kc)().ps_benchmark,f=(0,um.FC)(),h=(0,eg.wA)(),{tile:v}=e,b=e.tile.prototype.fig_file.parent_org_id??null,y=E&&(null==(t=e.tile.prototype.fig_file)?void 0:t.team_id)?null==(a=e.tile.prototype.fig_file)?void 0:a.team_id:null,w=(0,Pf.Y)(v.prototype.id,lB.bk.PROTOTYPE,b,y),T=ep.useMemo(()=>"loaded"===w.status?!!w.favorite:E1.Tf.getIsFavorited(v),[v,w]),x=ep.useCallback((e,t,a)=>{if(v.type===E1.nb.PROTOTYPE){let r={entrypoint:"file_tile",favoriteId:t,prototype:v.prototype,sectionId:a,fileBrowserEntryPoint:!0};e?h(gJ.iN(r)):h(gJ.X7(r))}},[h,v.type,v.prototype]),C=e.tile.prototype,N=(0,EX.jm)(b,y),k=(!(0,eh.kc)().ps_benchmark||N)&&!s,S=(0,lD.Uj)(C.fig_file);if(d&&((null==(r=C.shared_by_user)?void 0:r.name)||C.shared_at)){let e=C.shared_at&&ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"swy_tile.shared"}),ep.createElement(i7.h1,{date:new Date(C.shared_at)})),t=(null==(n=C.shared_by_user)?void 0:n.name)?`From ${C.shared_by_user.name}`:e,a=C.parent_org&&{id:C.parent_org.id,imgUrl:C.parent_org.imgUrl||void 0,name:C.parent_org.name||void 0},r=!C.parent_org&&C.parent_team&&{id:C.parent_team.id,imgUrl:C.parent_team.imgUrl||void 0,name:C.parent_team.name||void 0},i=a||r;l=ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Pd.wx},i&&ep.createElement("div",{className:Pd.KP},ep.createElement(e7.Ro,{entity:i,hideFallbackInitial:!1,size:14})),ep.createElement("div",null,t)))}else l=S?(0,eh.kc)().password_file_show_thumbnail&&(0,mG.canViewPrototypes)(C.file_key,f)?ep.createElement("span",{className:Pd.gO},ep.createElement(e$.Tx,{id:"tile.file_tile.password_protected_shorter"}),"\xb7",ep.createElement(Po.RX,{date:C.accessed_at||""})):ep.createElement("span",{className:Pd.gO},ep.createElement(e$.Tx,{id:"tile.file_tile.password_protected_prototype"})):ep.createElement(Po.RX,{date:C.accessed_at||""});let I=C.fig_file,A=I.parent_org_id&&p[I.parent_org_id]||I.team_id&&g[I.team_id];m&&A&&(l=ep.createElement("div",{className:Pd.wx},ep.createElement(v_.H,{entityId:A.id,entityName:A.name,imgUrl:A.img_url}),l));let L=ep.createElement(ep.Fragment,null,ep.createElement(fS.n,{isLocked:S,thumbnail_url:C.thumbnail_url}),ep.createElement("div",{className:Pd.vS},ep.createElement(_7.oS,{type:_7.y1.PROTOTYPE})),ep.createElement("div",{className:eS()(Pd.SA,{[Pd.RK]:T})},k&&v.prototype.id&&ep.createElement("div",{className:Pd.A4},ep.createElement(fy.r,{resourceId:v.prototype.id,favoriteType:lB.bk.PROTOTYPE,setFavorite:x,noHoverState:!0,size:fy.m.MEDIUM,orgId:b,teamId:y}))),ep.createElement("div",{className:Pd.q6},ep.createElement(Pg.S,{tile:e.tile,isListView:!!e.isListView}),ep.createElement("div",{className:Pd.SC},ep.createElement(Po.md,{subtitle:l}))));try{i=(0,l2.mc)(C.url,u),i=(0,l2.vk)(C.url,o,c,_)}catch(e){i=C.url}return ep.createElement(eH.fu,{name:"Prototype Tile",trackingTargets:ST.K.RCS,properties:{fileKey:C.file_key,pageId:C.page_id}},ep.createElement(Po.XQ,{...e,href:i},e.isListView?ep.createElement(Pc.I,{tile:e.tile,activeFileUserList:[]}):L))}Ph.displayName="PrototypeTile";var Pv=a(6061),Pb=a(630961);let Py="tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC",Pw="tiles_view--container--b8o-x",PT="tiles_view--emptyStateContainer--9Z9Md",Px="tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd",PC={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},PN=256/192;function Pk(e,t,a,r,n,l,i,s,o,c,d){var m,u,_,p,g,E,f,h,v,b;if(e.type===E1.nb.FILE&&(r(mB.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:o,currentSharedByFilter:c,viewMode:void 0!==d?d?"list":"grid":void 0})),(0,p3.K)(n)&&r(mB.T5({index:a})),eE.eD&&(0,tn.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.file_repo_id,uiSelectedView:JSON.stringify(n)})),e.type===E1.nb.FILE&&((null==(m=e.file.appData)?void 0:m.isRenaming)||(0,lD.iQ)(e.file.key,l))||e.type===E1.nb.REPO&&((null==(u=e.repo.appData)?void 0:u.isRenaming)||(0,Pl.i)(e.repo.id,l))||e.type===E1.nb.OFFLINE_FILE&&e.file.isRenaming){t.preventDefault(),t.stopPropagation();return}let y=eb.Ay.mac?t.metaKey:t.ctrlKey,w=null;y&&t.shiftKey?w=eE.aw.FOCAL_TAB:y?w=eE.aw.BACKGROUND_TAB:t.shiftKey&&(w=eE.aw.NEW_WINDOW);let T=l.user;if(eE.eD){let a;switch(w=w??eE.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case E1.nb.FILE:a=!!(e.file.is_team_template&&(0,h2.LQ)(l)),eE.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editor_type,target:w,isBranch:(0,Pr.Xm)(e.file),isLibrary:!!e.file.last_published_at,isTeamTemplate:a,userId:null==T?void 0:T.id});break;case E1.nb.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,h2.LQ)(l)),eE.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",editorType:e.file.editorType,isTeamTemplate:a,target:w,userId:null==T?void 0:T.id});break;case E1.nb.PROTOTYPE:eE.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.name||"",w,null==T?void 0:T.id);break;case E1.nb.REPO:let n=(0,Pr.mr)(e.repo,e.branches,i);eE.eD.openFile({fileKey:n.key,title:n.name,editorType:n.editor_type,target:w,isBranch:(0,Pr.Xm)(n),isLibrary:!!n.last_published_at,userId:null==T?void 0:T.id});break;case E1.nb.PROJECT:(0,eC.KF)(!0,"Do not expec to be rendering project tiles here");break;case E1.nb.OFFLINE_FILE:r(us.NA({file:e.file,openNewFileIn:up.ai.NEW_TAB,source:u_.U.OFFLINE_FILE_TILE}));break;default:(0,eC.xb)(e)}return}if(null!=w){if(r(tL.oB()),e.type===E1.nb.OFFLINE_FILE){r(us.NA({file:e.file,openNewFileIn:up.ai.NEW_TAB,source:u_.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let a=E1.Tf.getUrl(e,i);ef.Ay.redirect(a,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let x=l.currentUserOrgId,C=l.currentTeamId,N="recentsAndSharing"===n.view||"folder"===n.view?n:void 0,k=(0,eh.kc)().ps_benchmark;switch(r(k?Pe.c5({planId:x||C,planType:x?Pi.O.ORG:Pi.O.TEAM}):Pe.p4({planId:x||Ps.P})),e.type){case E1.nb.FILE:(0,l2.N7)(x,null==(_=l.fileByKey[e.file.key])?void 0:_.parent_org_id,C,null==(p=l.fileByKey[e.file.key])?void 0:p.team_id)?(0,l2.QV)(e.file.key,T,x,k?C:null,n):r(tL.$T({view:"fullscreen",fileKey:e.file.key,editorType:Pn.z4.getIsExtension()?"dev_handoff":e.file.editor_type??"design",prevSelectedView:N}));break;case E1.nb.PINNED_FILE:(0,l2.N7)(x,null==(g=l.fileByKey[e.file.key])?void 0:g.parent_org_id,C,null==(E=l.fileByKey[e.file.key])?void 0:E.team_id)?(0,l2.QV)(e.file.key,T,x,k?C:null,n):r(tL.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType??"design",prevSelectedView:N}));break;case E1.nb.PROTOTYPE:let S=e.prototype.fig_file??s[e.prototype.file_key];(0,l2.N7)(x,null==(f=l.fileByKey[S.key])?void 0:f.parent_org_id,C,null==(h=l.fileByKey[S.key])?void 0:h.team_id)?(0,l2.QV)(S.key,T,x,k?C:null,n,"proto"):r(tL.$T({view:"prototype",file:S,nodeId:e.prototype.page_id,prevSelectedView:N}));break;case E1.nb.REPO:let I=(0,Pr.mr)(e.repo,e.branches,i).key;(0,l2.N7)(x,null==(v=l.fileByKey[I])?void 0:v.parent_org_id,C,null==(b=l.fileByKey[I])?void 0:b.team_id)?(0,l2.QV)(I,T,x,k?C:null,n):r(tL.$T({view:"fullscreen",fileKey:I,editorType:"design",prevSelectedView:N}));break;case E1.nb.PROJECT:(0,eC.KF)(!0,"Do not expec to be rendering project tiles here");break;case E1.nb.OFFLINE_FILE:r(us.NA({file:e.file,openNewFileIn:up.ai.SAME_TAB,source:u_.U.OFFLINE_FILE_TILE}));break;default:(0,eC.xb)(e)}}let PS=()=>Math.max(Math.floor((window.innerWidth-PC.sidebar-PC.metaContainer-PC.tileGridOuterPadding)/PC.singleTileWithPadding),0),PI=(e,t)=>{let a=E1.Tf.getName(e)||"",r=E1.Tf.getName(t)||"";return tl.Tt.compare(a,r)},PA=(e,t)=>{let a=(E1.Tf.getName(e)||"").toLowerCase(),r=(E1.Tf.getName(t)||"").toLowerCase();return a===r?0:a<r?-1:1},PL=(e,t)=>{if(e.type!==E1.nb.FILE||t.type!==E1.nb.FILE)return 0;let a=e.file,r=t.file;return a.created_at<r.created_at?1:-1},PR=(e,t)=>e.type!==E1.nb.PROTOTYPE||t.type!==E1.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,PO=(e,t)=>{let a=E1.Tf.getAccessedAt(e),r=E1.Tf.getAccessedAt(t);return a&&r?a>r?1:-1:r?-1:a?1:0},PF=(e,t)=>E1.Tf.getCreatedAt(e)>E1.Tf.getCreatedAt(t)?1:-1,PM=(e,t)=>{let a=E1.Tf.getTouchedAt(e),r=E1.Tf.getTouchedAt(t);return null===a||null===r?0:a>r?1:-1},PD=(e,t)=>e.type!==E1.nb.FILE&&e.type!==E1.nb.REPO||t.type!==E1.nb.FILE&&t.type!==E1.nb.REPO?0:(e.type===E1.nb.FILE?e.file.trashed_at:e.repo.trashed_at)>(t.type===E1.nb.FILE?t.file.trashed_at:t.repo.trashed_at)?1:-1,PP=(e,t,a)=>{if(!a)return[];let r=t.length,n=[],l=(e,t)=>!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top);for(let i=0;i<r;i++)null!=a.children[i]&&e.ref.current&&l(a.children[i].getBoundingClientRect(),e.ref.current.getBoundingClientRect())&&n.push(t[i]);return n},PB="tile-actions-dropdown";function PU(e){var t;let a=ep.useRef(null),r=ep.useRef(null),n=ep.useRef(null),l=ep.useRef(null),i=ep.useRef(null),s=ep.useRef(null),o=(0,tR.iZ)(),c=(0,tR.TA)(),[d]=(0,nk.IT)((0,uo.OL)({userId:c})),m=(0,ep.useMemo)(()=>(null==d?void 0:d.data)??{},[d]),u=(0,d2._6)(),_="folder"===u.view?u.folderId:null,p=nk.M4.Folder.useValue(_).data,g=[null==o?void 0:o.drafts_folder_id,null==o?void 0:o.personal_drafts_folder_id].includes(null==p?void 0:p.id);ep.useEffect(()=>{let e="page_selected_view",t=D4.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=D4.sn.tryStop(e);t&&(0,tn.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:u.view},{forwardToDatadog:!0,batchRequest:!0})}},[u.view,_]);let E=(0,um.FC)(),{dropdownShown:f,tileSelect:h,modalShown:v,userStateLoaded:b,userExternallyRestricted:y,selectedBranchKeyByRepoId:w,upsellData:T,prototypes:x}=(0,O5.R)(e=>{let t=null,a=(0,Pa.e9)(e),r=a&&a.team_id&&e.teams[a.team_id],n=e.recentPrototypes;return a&&r&&(0,mG.canEditTeam)(r.id,e)&&(t={team:r,folderId:a.id,isAtFileLimit:[lB.P4.FILES_LIMITED,lB.P4.FILES_LIMITED_LEGACY,lB.P4.WHITEBOARD_FILES_LIMITED,lB.P4.WHITEBOARD_FILES_LIMITED_BETA].some(e=>{var t;return!!(null==(t=r.restrictions_list)?void 0:t.includes(e))})}),{dropdownShown:e.dropdownShown,tileSelect:e.tileSelect,modalShown:e.modalShown,userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,mG.isOrgUserExternallyRestrictedFromState)(E),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t,prototypes:n}}),C=(0,eg.wA)(),N=ep.useRef(null),[k,S]=ep.useState(null),[I,A]=ep.useState(!0),[L,R]=ep.useState(()=>PS()),O=e.sortFilterOptions.tileSortFilterConfig.viewMode===Mz.XU.LIST,F="recentsAndSharing"===u.view&&u.tab===gb.G.SHARED_FILES,M=(e,t,a)=>e===Mz.rJ.ANY||e===Mz.rJ.SELF&&a.type===E1.nb.FILE&&a.file.creator_id===t||e===Mz.rJ.SELF&&a.type===E1.nb.REPO&&a.branches[0].creator_id===t||e===Mz.rJ.OTHER&&a.type===E1.nb.FILE&&a.file.creator_id!==t||e===Mz.rJ.OTHER&&a.type===E1.nb.REPO&&a.branches[0].creator_id!==t,D=(e,t)=>{let a="design";switch(t.type===E1.nb.FILE?a=t.file.editor_type:t.type===E1.nb.PINNED_FILE?a=t.file.editorType:t.type===E1.nb.OFFLINE_FILE&&(a=t.file.editorType),e){case Mz.t2.ANY:return!0;case Mz.t2.DESIGN:if(t.type===E1.nb.FILE||t.type===E1.nb.REPO||t.type===E1.nb.PINNED_FILE||t.type===E1.nb.OFFLINE_FILE)return"design"===a;return!1;case Mz.t2.FIGJAM:if(t.type===E1.nb.FILE||t.type===E1.nb.PINNED_FILE||t.type===E1.nb.OFFLINE_FILE)return"whiteboard"===a;return!1;case Mz.t2.PROTOTYPE:return t.type===E1.nb.PROTOTYPE;case Mz.t2.SLIDES:if(t.type===E1.nb.FILE||t.type===E1.nb.PINNED_FILE||t.type===E1.nb.OFFLINE_FILE)return"slides"===a;return!1;default:(0,eC.xb)(e)}},P=(e,t)=>!e||e===`${E1.Tf.getSharedBy(t)}`,B=ep.useCallback((e,t)=>{var a,r;if("sharedWithYou"===u.view||"recentsAndSharing"===u.view&&u.tab===gb.G.SHARED_FILES||!e||!e.planId)return!0;let n=e.planId;switch(t.type){case E1.nb.FILE:return("org"===e.planType?t.file.parent_org_id:t.file.team_id)===n;case E1.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===n;case E1.nb.PROTOTYPE:return("org"===e.planType?null==(a=t.prototype.parent_org)?void 0:a.id:null==(r=t.prototype.parent_team)?void 0:r.id)===n;case E1.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===n;default:return!1}},[u]),U=ep.useCallback((t,a)=>{var r;let n,l,i;let s=t.filter(e=>{var t;return P(a.filters.sharedBy,e)&&D(a.filters.fileType,e)&&M(a.filters.creator,null==(t=E.user)?void 0:t.id,e)&&B(a.filters.plan,e)});if(n=F?s.filter(e=>e.type===E1.nb.FILE||e.type===E1.nb.PROTOTYPE||e.type===E1.nb.REPO):s.filter(e=>e.type===E1.nb.FILE||e.type===E1.nb.REPO||e.type===E1.nb.OFFLINE_FILE),"recentsAndSharing"===u.view&&u.tab===gb.G.SHARED_FILES)return s;let o=a.sort.dir===Mz.ue.DESC;switch(a.sort.key){case Mz.C0.SEARCH_RELEVANCE:return t;case Mz.C0.ACCESSED_AT:l=rS.f.byComparators(PO),i=s;break;case Mz.C0.CREATED_AT:l=rS.f.byComparators(PF),i=s;break;case Mz.C0.TOUCHED_AT:l=rS.f.byComparators(PM),i=n;break;case Mz.C0.NAME:if(g){l=rS.f.byComparators(PI,rS.f.byProperty("type")),i=s;break}let c=s.length<tl.Tw;l=rS.f.byComparators(c?PI:PA,rS.f.byProperty("type"),PL,PR),i=s;break;case Mz.C0.TRASHED_AT:l=rS.f.byComparators(PD),i=n;break;case Mz.C0.SHARED_AT:return s;default:return console.error("Unknown sort key",a.sort.key),[]}if(l=o?rS.f.reverse(l):l,i.sort(l),e.isDataPartial)for(;(null==(r=i[i.length-1])?void 0:r.type)===E1.nb.OFFLINE_FILE;)i.pop();return i},[F,B,e.isDataPartial,g,u,null==(t=E.user)?void 0:t.id]),W=ep.useMemo(()=>U(e.tiles,e.sortFilterOptions.tileSortFilterConfig),[U,e.tiles,e.sortFilterOptions.tileSortFilterConfig]),V=ep.useMemo(()=>{if("deletedFiles"===u.view)return[];let e=[];return W.forEach(t=>{switch(t.type){case E1.nb.FILE:e.push({fileKey:t.file.key});break;case E1.nb.REPO:e.push(...t.branches.map(e=>({fileKey:e.key})))}}),e},[u.view,W]),G=(0,t5.p)(ai.hqi,V);ep.useEffect(()=>{for(let{result:e,args:t}of G)if("loaded"===e.status&&e.data){let a=(0,Pt.Z)(e.data);C(EK.Lk({fileKey:t.fileKey,users:a}))}},[G,C]),ep.useEffect(()=>{1===Y(h)&&eo()},[h]);let $=ep.useMemo(()=>{let e={[E1.nb.FILE]:{},[E1.nb.PROTOTYPE]:{},[E1.nb.REPO]:{},[E1.nb.PINNED_FILE]:{},[E1.nb.PROJECT]:{},[E1.nb.OFFLINE_FILE]:{}};if(k&&k.ref.current)for(let t of PP(k,W,n.current))e[t.type][E1.Tf.getId(t)]=!0;else e[E1.nb.FILE]=h[E9.F.FILES],e[E1.nb.PROTOTYPE]=h[E9.F.PROTOTYPES],e[E1.nb.REPO]=h[E9.F.REPOS],e[E1.nb.OFFLINE_FILE]=h[E9.F.OFFLINE_FILES];return e},[k,W,h]),j=(()=>{if(!k||!a.current)return{};let{start:e,current:t}=k,r=a.current.getBoundingClientRect(),n=r.bottom-r.top,l=r.right-r.left,i=l-t.x;return{top:Math.min(e.y,t.y>0?t.y:0)+"px",left:Math.min(e.x,t.x>0?t.x:0)+"px",bottom:Math.min(n-e.y,n-t.y)+"px",right:Math.min(l-e.x,i>0?i:0)+"px"}})(),H=ep.useMemo(()=>W.some(e=>{let t=E1.Tf.getFileKey(e);return t&&$[e.type][t]&&E1.Tf.getOrgId(e)!==E.currentUserOrgId}),[E.currentUserOrgId,$,W]),q=ep.useCallback(e=>{S(t=>{if(!t)return t;let a=PP(t,W,n.current);for(let e of Object.keys(E1.nb)){let t=a.filter(t=>t.type===e);t.length>0&&C(EQ.y$({type:E1.YC[e],tiles:t}))}return e.stopPropagation(),e.preventDefault(),null})},[C,W]),z=ep.useCallback(e=>{S(t=>{if(!t)return t;let a=r.current&&r.current.getBoundingClientRect();return a?{...t,current:{x:e.clientX-a.left,y:e.clientY-a.top}}:t})},[]),Y=e=>{let t=Object.keys(e[E9.F.FILES]),a=Object.keys(e[E9.F.REPOS]),r=Object.keys(e[E9.F.PROTOTYPES]),n=Object.keys(e[E9.F.OFFLINE_FILES]);return t.length+a.length+r.length+n.length},K=ep.useCallback(e=>{C(EQ.an()),C(EQ.y$({type:E1.YC[e.type],tiles:[e]}))},[C]),J=ep.useCallback(()=>W.findIndex(e=>h&&h[E1.YC[e.type]]&&h[E1.YC[e.type]][E1.Tf.getId(e)]),[W,h]),Z=ep.useCallback((t,a,r)=>{Pk(t,a,r,C,u,E,w,E.fileByKey,e.currentPlanFilter,e.currentSharedByFilter,O)},[O,e.currentPlanFilter,e.currentSharedByFilter,C,E,w,u]),Q=ep.useCallback(e=>t=>{if(!n.current||0===n.current.children.length)return t;let a=gY.findDOMNode(n.current);if(!(a instanceof Element))return t;let r=parseInt(window.getComputedStyle(a).columnGap,10),l=n.current.children[0].clientWidth+r,i=t+Math.floor(n.current.clientWidth/l)*e;return i>=0&&i<W.length?i:t},[W.length]),X=ep.useCallback(e=>t=>{let a=t+e;return a>=0&&a<W.length?a:t},[W.length]),ee=ep.useCallback(e=>{let t=Y(h);if(t>1||!W||0===W.length)return;let a=0;1===t&&(a=e(a=J())),K(W[a])},[J,K,W,h]),et=ep.useCallback(e=>{if(!document.activeElement)return;let t=document.activeElement.tagName,a="DIV"===document.activeElement.tagName&&"true"===document.activeElement.getAttribute("contenteditable");if("INPUT"!==t&&"TEXTAREA"!==t&&!a&&(!v||!(Object.keys(v).length>0))&&!f)switch(e.keyCode){case ou.Uz.A:if(!e.ctrlKey&&!e.metaKey)return;for(let e of Object.keys(E1.nb)){let t=W.filter(t=>t.type===e);t.length>0&&C(EQ.y$({type:E1.YC[e],tiles:t}))}e.preventDefault(),e.stopPropagation();break;case ou.Uz.DELETE:case ou.Uz.BACKSPACE:{let t=Object.keys(h[E9.F.FILES]),a=Object.keys(h[E9.F.REPOS]),r=Object.keys(h[E9.F.OFFLINE_FILES]),n=t.length+a.length+r.length;if(0===n)break;if("deletedFiles"===u.view)C(EJ.UK());else{let e=(0,lD.RD)(h[E9.F.FILES],E,!0),t=(0,mG.getDeleteReposPayload)(h[E9.F.REPOS],E,!0),a=(0,uo.gp)(h[E9.F.OFFLINE_FILES],{offlineFiles:m});Object.keys(e).length+Object.keys(t).length+Object.keys(a).length<n?C(e5.s.error((0,e$.t)("tile.error.permission_error_delete_file",{selectedCount:n}))):C(EJ.U1({filesByKey:e,reposById:t,offlineFilesByKey:a}))}e.preventDefault(),e.stopPropagation();break}case ou.Uz.ENTER:{if(1!==Y(h))break;let t=J();Z(W[t],e,t),e.preventDefault(),e.stopPropagation();break}case ou.Uz.DOWN_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;O?ee(X(1)):ee(Q(1)),e.preventDefault(),e.stopPropagation();break;case ou.Uz.RIGHT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;ee(X(1)),e.preventDefault(),e.stopPropagation();break;case ou.Uz.UP_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;O?ee(X(-1)):ee(Q(-1)),e.preventDefault(),e.stopPropagation();break;case ou.Uz.LEFT_ARROW:if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;ee(X(-1)),e.preventDefault(),e.stopPropagation()}},[v,f,h,u.view,m,W,C,E,J,Z,O,ee,X,Q]),ea=(e,t)=>{let a,r,n;if(!(e.type===E1.nb.FILE||e.type===E1.nb.REPO||e.type===E1.nb.PROTOTYPE))return;if(t.dataTransfer.effectAllowed="none",t.stopPropagation(),"deletedFiles"===u.view||f){t.preventDefault();return}if(-1===Object.keys(h[E1.YC[e.type]]).indexOf(E1.Tf.getId(e)))switch(C(EQ.an()),C(EQ.y$({type:E9.F[E1.YC[e.type]],tiles:[e]})),e.type){case E1.nb.FILE:a=[e.file],r=[],n=[];break;case E1.nb.REPO:a=[],r=[e.repo],n=[];break;case E1.nb.PROTOTYPE:a=[],r=[],n=[e.prototype]}else if(a=Object.keys(h[E9.F.FILES]).map(e=>E.fileByKey[e]),r=Object.keys(h[E9.F.REPOS]).map(e=>E.repos[e]),n=[],h[E9.F.PROTOTYPES]){let e=x.reduce((e,t)=>(e[String(t.file_key+","+t.page_id+","+t.id)]=t,e),{});n=Object.keys(h[E9.F.PROTOTYPES]).map(t=>e[t])}let l=a.length+r.length+n.length,s=t.currentTarget,o=s.cloneNode(!0),c=document.createElement("div"),d=s.getBoundingClientRect(),m=d.right-d.left,_=d.bottom-d.top,p=t.clientX-d.left,g=t.clientY-d.top;c.className=Pd.cK;let v=e=>{for(let t of(e.removeAttribute("data-reactid"),Array.from(e.children)))v(t)};v(o),o.className=Pd.PN,t.dataTransfer.effectAllowed="move";let b=null,y=null;l>=2&&((b=o.cloneNode(!0)).style.top="4px",b.style.left="4px",b.className=Pd.PN),l>=3&&((y=o.cloneNode(!0)).style.top="8px",y.style.left="8px",y.className=Pd.PN),y&&c.appendChild(y),b&&c.appendChild(b),c.appendChild(er(l)),c.appendChild(o),s.appendChild(c);let w=new Ej.le(t.dataTransfer);l>0&&(a.length>0&&0===r.length&&0===n.length?w.setFigFilesData(a):0===a.length&&r.length>0&&0===n.length?w.setReposData(r,a):0===a.length&&0===r.length&&n.length>0?w.setPrototypesData(n):w.setTilesData(a,r,n)),w.setDragImage(c,16+160*p/m,16+130*g/_),i.current=c},er=e=>{let t=e>=100?"99+":e.toString(),a=document.createElement("div");return a.innerText=t,a.className="tiles_view--fileCount--756h-",a},en=()=>{i.current&&i.current.remove()},el=(e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};ei(e,t,r,a)},ei=(e,t,a,r)=>{let n=t.shiftKey&&t.altKey;if(h){if(h[E1.YC[e.type]]&&h[E1.YC[e.type]][E1.Tf.getId(e)]){C(tL.j7({type:PB,data:{tile:e,targetRect:a,index:r,enableRestore:n}}));return}if(t.shiftKey||t.metaKey||t.ctrlKey){C(EQ.y$({type:E1.YC[e.type],tiles:[e]})),C(tL.j7({type:PB,data:{tile:e,targetRect:a,index:r,enableRestore:n}}));return}}t.shiftKey||t.metaKey||t.ctrlKey||C(EQ.an()),C(EQ.y$({type:E1.YC[e.type],tiles:[e]})),C(tL.j7({type:PB,data:{tile:e,targetRect:a,index:r,enableRestore:n}}))},es=(e,t)=>{var a,r;if(f){C(tL.oB());return}if(e.type===E1.nb.FILE&&(null==(a=e.file.appData)?void 0:a.isRenaming)||e.type===E1.nb.REPO&&(null==(r=e.repo.appData)?void 0:r.isRenaming)||e.type===E1.nb.OFFLINE_FILE&&e.file.isRenaming)return;if(eb.Ay.mobile||eb.Ay.tablet){let t=E1.Tf.getUrl(e,w);ef.Ay.redirect(t)}t.stopPropagation();let n=h&&h[E1.YC[e.type]]&&h[E1.YC[e.type]][E1.Tf.getId(e)];if(t.ctrlKey||t.metaKey||t.shiftKey)n?C(EQ.TK({tileKeys:[E1.Tf.getId(e)]})):C(EQ.y$({type:E1.YC[e.type],tiles:[e]}));else{if(n)return;C(EQ.an()),C(EQ.y$({type:E1.YC[e.type],tiles:[e]}))}},eo=()=>{if(!N.current)return;let e=N.current,t=e.getBoundingClientRect(),a=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-top"))||0,r=parseInt(window.getComputedStyle(e).getPropertyValue("scroll-margin-bottom"))||0,n=t.top<a,l=t.bottom>window.innerHeight-r;(n||l)&&e.scrollIntoView({behavior:"smooth",block:n?"start":"end",inline:"nearest"})};ep.useEffect(()=>{let e=()=>{R(PS())};return window.addEventListener("mouseup",q),window.addEventListener("mousemove",z),document.addEventListener("keydown",et),window.addEventListener("resize",e),()=>{document.removeEventListener("keydown",et),window.removeEventListener("mouseup",q),window.removeEventListener("mousedown",z),window.removeEventListener("resize",e)}},[q,z,et,u.view]),ep.useEffect(()=>{if(eb.Ay.mobile&&eb.Ay.safari&&a.current){let e=a.current.className,t=()=>{a.current&&(a.current.className=""),setTimeout(()=>{a.current&&(a.current.className=e)},500)};return window.addEventListener("load",t),()=>window.removeEventListener("load",t)}},[]);let ec=ep.createElement("div",{className:eT.cx.flex.alignCenter.$},ep.createElement(dc.$c,{initialViewMode:e.sortFilterOptions.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,tn.sx)("file view toggle",{viewType:t===Mz.XU.GRID?"grid":"list"}),C(tL.JF({selectedView:u,config:{...e.sortFilterOptions.tileSortFilterConfig,viewMode:t}}))}})),ed=(0,mG.canEditTeam)((null==p?void 0:p.team_id)||"",E),em=ep.createElement("div",null),eu=ep.createElement(dc.$f,{options:e.sortFilterOptions,selectedView:u,dispatch:C}),e_=ep.createElement("div",{className:eT.cx.flex.$},eu,ec),eE=ep.createElement(dc.C9,{options:e.sortFilterOptions,selectedView:u,dispatch:C,sharedWithYouFilters:e.sharedWithYouFilters});if(em=ep.createElement("div",{className:eS()(!e.isFolder||ed?"tiles_view--viewBarWrapper---vxlD":"tiles_view--viewBarWrapperWithTopPadding--eXzKk","tiles_view--viewBarWrapperNoExtraLeftPadding--GQZ-6")},ep.createElement(dc.lU,{leftSide:eE,rightSide:e_})),!function(e,t=!0){(function(e,t=!0){(0,D3.iu)(e.fileKeys||D6,t),(0,D5.w8)(e.repoIds||D6,t),(0,D8.eM)(e.prototypeIds||D6,t)})(ep.useMemo(()=>{let t={fileKeys:[],repoIds:[],prototypeIds:[]};return e.forEach(e=>{if(e.type===E1.nb.FILE)t.fileKeys.push(E1.Tf.getId(e));else if(e.type===E1.nb.REPO)t.repoIds.push(E1.Tf.getId(e));else if(e.type===E1.nb.PROTOTYPE){let a=e.prototype.id;t.prototypeIds.push(a)}}),t},[e]),t)}(W,!!(0,eh.kc)().tile_action_dropdown_lg),0===W.length){let t="";if(e.emptyStateText?t=e.emptyStateText:(eb.Ay.mobile||eb.Ay.tablet)&&(t=(0,e$.t)("file_browser.folder.this_project_is_empty")),t)return ep.createElement("div",{className:PT},!e.hideSorter&&em,ep.createElement("div",{className:Px},t));if(e.emptyStateContent)return ep.createElement("div",{className:PT},e.emptyStateContent)}let ey=W.map(e=>E1.Tf.getId(e)).join("."),ew=e.chunkSize??42,ex=O?"tiles_view--tilesList--57VtQ tiles_view--tiles--mVpCC":Py,eN=Pw+(O?` ${Pd._O} `:` ${Pd.CK} `),ek=e.tiles.length>0;if(!b)return ep.createElement("div",{className:"tiles_view--loading--GgFMC"},ep.createElement(e8.kt,null));let eA=!O&&L>0&&(null==T?void 0:T.isAtFileLimit)&&!(0,eh.kc)().fbg_starter_project_redesign,eL=eA?(()=>{if(0===L)return 0;let e=window.innerWidth-PC.sidebar-PC.metaContainer,t=PC.singleTileWithPadding-PC.singleTile;return Math.max((e-PC.tileGridOuterPadding-L*t)/L/PN+PC.tileGridOuterPadding,0)})():void 0;return ep.createElement("div",{className:Pw,onMouseDown:e=>{if(!n||!a.current||!n.current||0!==e.button)return;let t=a.current.clientWidth-n.current.clientWidth;if(e.clientX+t>=window.innerWidth||(k&&S(null),!(e.target===a.current||e.target===r.current||e.target===n.current||e.target===s.current||l.current&&l.current.contains(e.target))))return;C(tL.oB()),e.ctrlKey||e.metaKey||e.shiftKey||C(EQ.an());let i=r.current&&r.current.getBoundingClientRect();if(!i)return;let o=e.clientX-i.left,c=e.clientY-i.top;S({start:{x:o,y:c},current:{x:o,y:c},ref:ep.createRef()})},ref:a},ep.createElement("div",{className:eN,ref:r},!e.hideSorter&&em,ek&&((0,eh.kc)().file_browser_items_view||O?ep.createElement(Pv.d,{sortConfig:e.sortFilterOptions.tileSortFilterConfig.sort,openTile:Z,items:W,sortBy:t=>{let a=e.sortFilterOptions.tileSortFilterConfig,r=a.sort.dir===Mz.ue.DESC?Mz.ue.ASC:Mz.ue.DESC;C(tL.JF({selectedView:u,config:{...a,sort:{key:t,dir:t===a.sort.key?r:a.sort.dir}},tab:"recentsAndSharing"===u.view?u.tab:void 0}))},viewType:O?Mz.XU.LIST:Mz.XU.GRID}):ep.createElement(D7.o,{forwardedRef:n,key:O?"list":"grid",className:ex,chunkSize:ew,listKey:ey,onAllChunksRendered:()=>{if(I){if(!N.current){A(!1);return}eo(),A(!1)}}},W.map((t,a)=>{var r,n,l;let i=!!$[t.type][E1.Tf.getId(t)],s={showSettingsIcon:eb.Ay.tablet||eb.Ay.mobile,isDropdownShown:()=>(null==f?void 0:f.type)===PB,onTileContextMenu:el};switch(t.type){case E1.nb.FILE:let o=E.currentUserOrgId===t.file.parent_org_id&&!H;return ep.createElement(Mq.xL,{tile:t,isListView:O,...s,selectable:!0,isSelected:i,selectTile:es,openTile:Z,onClick:ev.lQ,tileRef:(0,D9.A)(null==(r=e.getTileRef)?void 0:r.call(e,t),i?N:void 0),key:`file-${t.file.key}`,index:a,draggable:o,onTileDragStart:ea,onTileDragEnd:en});case E1.nb.REPO:let c=u&&"deletedFiles"===u.view,d=E.currentUserOrgId===t.repo.parent_org_id&&!H;return ep.createElement(Pm,{tile:{...t,branches:t.branches},...s,selectable:!0,isSelected:i,selectTile:es,openTile:Z,onClick:ev.lQ,tileRef:(0,D9.A)(null==(n=e.getTileRef)?void 0:n.call(e,t),i?N:void 0),key:`repo-${t.repo.id}`,index:a,isListView:O,draggable:d,onTileDragStart:ea,onTileDragEnd:en,hideBranchIndicator:c});case E1.nb.PROTOTYPE:let m=E.currentUserOrgId===t.prototype.fig_file.parent_org_id&&!H;return ep.createElement(Ph,{tile:t,isListView:O,...s,selectable:!0,isSelected:i,selectTile:es,openTile:Z,onClick:ev.lQ,tileRef:(0,D9.A)(null==(l=e.getTileRef)?void 0:l.call(e,t),i?N:void 0),key:`file-${t.prototype.file_key}-page-${t.prototype.page_id}`,index:a,draggable:m,onTileDragStart:ea,onTileDragEnd:en});case E1.nb.OFFLINE_FILE:return ep.createElement(PE,{tile:t,isListView:O,...s,selectable:!0,isSelected:i,selectTile:es,openTile:Z,onClick:ev.lQ,tileRef:i?N:void 0,key:`offline-file-${t.file.fileKey}`,index:a,draggable:!1});default:return null}}))),eA&&ep.createElement(eH.fu,{name:"Tiles View Upsell",properties:{buttonColor:h0.m.BLUE}},ep.createElement("div",{className:Py},[...Array(L)].map((e,t)=>ep.createElement(Pu,{key:t}))),ep.createElement("div",{className:"tiles_view--upgradeOverlay--AUZYj",style:{marginTop:`-${eL}px`,height:`${eL}px`}},ep.createElement("p",{className:"tiles_view--upgradeTitle--Bl194 text--fontPos20--Bcz97 text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.folder.ready_for_an_upgrade"})),ep.createElement("p",{className:"tiles_view--upgradeText--hU4EM text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.folder.do_more_paid_plan",lineBreak:ep.createElement("br",null)})),ep.createElement(eI.vd,{onClick:()=>{if(T){let e=pZ.b.TILES_VIEW_UPSELL;C((0,e0.to)({type:hc.V,data:{upsellSource:e,teamId:T.team.id}}))}},trackingProperties:{trackingDescriptor:o3.c.VIEW_PLANS}},ep.createElement(e$.Tx,{id:"file_browser.folder.view_plans"})))),!(eb.Ay.mobile||eb.Ay.tablet)&&e.newFileTile&&!y&&!ek&&!eA&&ep.createElement("div",{className:"tiles_view--importPrompt--fM1-N",ref:e=>{e&&(l.current=gY.findDOMNode(e))}},ep.createElement("div",{className:Px},ep.createElement("div",{className:"tiles_view--emptyTitle--Ir5LP"},e.isFolder?(0,e$.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,e$.t)("file_browser.folder.no_files_yet")),ep.createElement(e$.Tx,{id:"file_browser.folder.create_a_new_file_to_start_from_scratch",lineBreak:ep.createElement("br",null)})))),!(0,eh.kc)().file_browser_items_view&&k&&ep.createElement("div",{className:"tiles_view--dragSelection--66qvQ",style:j,ref:k.ref}),(()=>{var t,a;let r=!0;f&&f.type===PB&&f.data&&f.data.tile||(r=!1);let n=null==(t=null==f?void 0:f.data)?void 0:t.tile,l=null==(a=null==f?void 0:f.data)?void 0:a.index;return ep.createElement(eH.fu,{name:e.isFolder?e4.e0.PROJECT_TILES_VIEW_DROPDOWN:e4.e0.TILES_VIEW_DROP_DOWN,enabled:r,properties:{tileType:null==n?void 0:n.type,tileFileId:(null==n?void 0:n.type)===E1.nb.FILE?null==n?void 0:n.file.key:void 0}},ep.createElement(Pb.i,{...e,tile:n,openTile:e=>{n&&Z(n,e,l)},recentsIndexToLog:(0,p3.K)(u)?l:void 0,dropdownVisible:r,useLGPermsFromProps:e.useLGPerms,areLGPermsLoaded:e.areLGPermsLoaded,permsByFileKey:e.permsByFileKey,permsByRepoId:e.permsByRepoId,permsByPrototypeId:e.permsByPrototypeId}))})())}function PW(e){return ep.createElement("div",{className:PT},ep.createElement("div",{className:Px},e.emptyStateText,ep.createElement("div",{onMouseDown:e.onClaimClick},ep.createElement(eI.cw,{className:"tiles_view--emptyButton--3MMre"},ep.createElement(e$.Tx,{id:"tile.empty.join_as_owner"})))))}function PV(){let{currentUserOrgId:e,currentTeamId:t,deletedFilesByKey:a,deletedReposById:r,tileSortFilterStateByView:n}=(0,eg.d4)(e=>e),l=e1.oh(mB.h3.loadingKeyForPayload({orgId:e,teamId:t})),i=(0,DX.xx)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.trashed_at)<new Date(t.trashed_at)?1:-1)),s=(0,DX.xx)(e=>Object.keys(e).map(t=>e[t]).sort((e,t)=>new Date(e.repo.trashed_at)<new Date(t.repo.trashed_at)?1:-1)),o=(0,DX.xx)(e=>({tileSortFilterConfig:e,sortKeys:[Mz.C0.TRASHED_AT,Mz.C0.NAME,Mz.C0.CREATED_AT,Mz.C0.TOUCHED_AT]})),c=i(a),d=s(r),m=o(n.deletedFiles),u=[...c.map(e=>({type:E1.nb.FILE,file:e})),...d.map(e=>({type:E1.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key}))];return ep.createElement(gK.A,{loadingElementId:"loading-content-pane",loaded:!l,loadingElementClassName:eT.cx.pr32.$},ep.createElement(PU,{tiles:u,newFileTile:!1,tileActions:{restore:!0,deleteForever:!0,duplicateToDrafts:!0},sortFilterOptions:m,hideSorter:!0,emptyStateText:(0,e$.t)("file_browser.tool_bar.deleted_empty_state")}),ep.createElement(DW.cx,null))}function PG(){return ep.createElement(v6.r,{viewBarSticky:!0,viewbar:ep.createElement(D2,null),content:ep.createElement(PV,null)})}function P$(e,t,a){let{root:r,rootMargin:n,threshold:l}=a??{},[i,s]=(0,ep.useState)(null),[o]=(0,ep.useState)(()=>new Map),[c]=(0,ep.useState)(()=>new Map);return(0,ep.useEffect)(()=>{var e;e=()=>{try{let e=new IntersectionObserver(e=>{e.forEach(e=>{let a=c.get(e.target);null!=a&&t(e,a)})},{root:r,rootMargin:n,threshold:l});s(e)}catch(e){(0,lL.$D)(s6.e.UNOWNED,Error(`Failed to initialize IntersectionObserver ${e}`))}},setTimeout(function(){requestAnimationFrame(e)})},[e,t,o,c,r,n,l]),(0,ep.useEffect)(()=>()=>{null==i||i.disconnect(),c.clear()},[c,i]),(0,ep.useEffect)(()=>{e.forEach(e=>{let t=o.get(e);null==t&&(t=ep.createRef(),o.set(e,t)),(null==t?void 0:t.current)&&!c.has(t.current)&&(null==i||i.observe(t.current),c.set(t.current,e))})},[i,e,c,o]),o}function Pj(e){let{onShouldFetchNextPage:t,children:a}=e,[r,n]=(0,ep.useState)(!1),l=function(e,t){let[a]=(0,ep.useState)([Symbol()]);return P$(a,e,void 0).get(a[0])}((0,ep.useCallback)(({isIntersecting:e})=>{e&&r&&(t(),n(!1)),n(!e)},[t,r]));return ep.createElement(ep.Fragment,null,a,ep.createElement("div",{ref:l,style:{height:"1px"}}))}let PH=(0,eg.Ng)(e=>{var t;return{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!(null==(t=e.user)?void 0:t.student_validated_at),userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,mG.getPermissionsState)(e)}})(function(e){var t,a;let r;let n=(0,t5.Rs)(ai.UpR,{}),l=e.folderId?e.folders[e.folderId]:null,i=l?l.team_id:null,s=e.dispatch,o=i&&(0,mG.canAdminTeam)(i,e),c=i?e.teams[i]:null,d=!!(null==c?void 0:c.org_id),m=!!(null==c?void 0:c.subscription);(0,ep.useEffect)(()=>{(0,eh.kc)().requires_action_3ds_banner&&i&&!d&&m&&o&&s(pR.Be({teamId:i}))},[s,i,d,m,o]);let u=(0,eg.d4)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),_=FN(lB.vt.FOLDER,l,i,{eduPeriodEnd:null==(a=null==(t=n.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:u,...e},e.dispatch);if(!_)return ep.createElement("div",null);r=l?FS({resourceType:lB.vt.TEAM,teamId:i,folderId:l.id},_):FS({resourceType:"recents"},_);let p=_.severity===O6.WARN?O9:"",g=_.bannerClassName||"",E=`${Fo} ${p} ${g}`;return ep.createElement("div",{className:E},ep.createElement(Fp,{..._,tracking:r}))}),Pq=e=>(0,eg.d4)(t=>Fk(t,e.resourceType||lB.vt.FOLDER,e.resource||null,e.teamId||null)),Pz={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},PY=(0,eg.Ng)(()=>{let e=(0,DX.xx)(fv.r$),t=(0,DX.xx)(fv.ZN);return(a,{folderId:r})=>({folder:e(r,a.folders,a.fileByKey,a.fileKeysByFolderId,a.fileKeysByRepoId,a.repos,a.repoIdsByFolderId,(0,mG.getPermissionsStateMemoized)(a)),sortFilterOptions:t(r,a.tileSortFilterStateByView),loadedFolders:a.loadedFolders,optedOutOfRemoteWorkTemplates:(0,dN.yK)(a),recommendedTemplatesIsHidden:!!a.userFlags.hide_recommended_templates_in_drafts,selectedBranchKeyByRepoId:a.selectedBranchKeyByRepoId,...(0,Pa.Kl)(a)})})(function(e){var t,a,r,n,l,i,s,o,c,d,m,u,_;let p=(0,eg.wA)(),g=Pq({resourceType:lB.vt.FOLDER,resource:e.folder,teamId:e.folder.team_id}),E=(0,uo.Rp)(),f=(0,eg.d4)(({currentUserOrgId:e})=>e);(0,ey.I7)("exp_aa_test_org_drafts").getConfig();let h=()=>{},v=!1,[b,y]=((0,eh.kc)().livegraph_draft_files_full_read?MQ:function(e){let t=(0,eg.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),a=(0,ep.useMemo)(()=>({file_type:MK(t.filters.fileType),sort_order:t.sort.dir===Mz.ue.ASC?"asc":"desc",sort_column:MZ(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]);return function(e){let{endpoint:t,queryParams:a,pageSize:r,parseResponse:n=e=>e,appendData:l=(e,t)=>[...e??[],...t??[]]}=e,i=(0,eg.wA)(),[s,o]=(0,ep.useState)(MY.LOADING),[c,d]=(0,ep.useState)(!0),[m,u]=(0,ep.useState)(!1),[_,p]=(0,ep.useState)(null),[g,E]=(0,ep.useState)(null),f=(0,ep.useCallback)(e=>{o(MY.ERRORS),E(e),i(t6.F.enqueue({message:(0,e$.t)("general.an_error_occurred"),error:!0}))},[o,E,i]),h=(0,ep.useMemo)(()=>{let e=Object.entries(a).filter(([e,t])=>!!t).map(([e,t])=>`${e}=${t}`).join("&");return e?`${t}${-1===t.indexOf("?")?"?":"&"}${e}`:t},[t,a]),{fetchNext:v,hasMore:b}=(0,ts.WQ)(h,f,r);(0,ep.useEffect)(()=>{d(!!b)},[b]);let y=(0,ep.useCallback)(async(e=!1)=>{if(e||c&&!m){u(!0);let t=n(await v(e));p(e=>l(e,t)),u(!1),o(MY.LOADED)}},[c,m,v,n,o,p,l]),w=(0,ep.useCallback)(e=>{switch(e.type){case"refetch":return y(!0);case"fetchNextPage":return y();default:throw Error(`Unsupported action ${e.type}`)}},[y]);return(0,ep.useEffect)(()=>{o(MY.LOADING),p(null),E(null),w({type:"refetch"})},[h]),[{status:s,data:_,errors:g,isFetchingNextPage:m,hasNextPage:b},w]}({endpoint:`/api/folders/${e.folderId}/paginated_files`,queryParams:a,pageSize:50,appendData:(e,t)=>null!==t?{files:[...(null==e?void 0:e.files)??[],...t.files??[]],repos:[...(null==e?void 0:e.repos)??[],...t.repos??[]],roles:[...(null==e?void 0:e.roles)??[],...t.roles??[]],folder:(null==t?void 0:t.folder)??(null==e?void 0:e.folder)}:e})})({folderId:e.folder.id});v=!!b.hasNextPage;let w=(0,eg.d4)(t=>t.tileSortFilterStateByView.folders.byId[e.folderId]??t.tileSortFilterStateByView.folders.default),{trackPerformanceEvent:T}=(0,Op.S)("draft_files_pagination_performance",(0,eh.kc)().livegraph_draft_files_full_read?"livegraph":"legacy");if(ep.useEffect(()=>{T("fetch_end")},[T,null==(a=null==(t=b.data)?void 0:t.files)?void 0:a.length]),ep.useEffect(()=>{b.status===MY.ERRORS&&T("fetch_error",{errors:JSON.stringify(b.errors??{})})},[T,b.status,b.errors]),ep.useEffect(()=>(T("fetch_start"),()=>{T("fetch_cancel")}),[T]),h=ep.useCallback(()=>{b.isFetchingNextPage||(T("fetch_next"),y({type:"fetchNextPage"}))},[b.isFetchingNextPage,y,T]),ep.useEffect(()=>{p((0,gR.Ic)({folderId:e.folderId}))},[p,w.filters.fileType,w.sort.dir,w.sort.key,e.folderId]),ep.useEffect(()=>{b.data&&p((0,gR.g$)({folderId:e.folderId,folderData:b.data}))},[p,e.folderId,b.data]),(0,eh.kc)().livegraph_draft_files_dark_read&&!(0,eh.kc)().livegraph_draft_files_full_read){let[t,a]=MQ({folderId:e.folder.id}),{trackPerformanceEvent:p}=(0,Op.S)("draft_files_pagination_performance","livegraph");if(ep.useEffect(()=>{p("fetch_end")},[p,null==(n=null==(r=t.data)?void 0:r.files)?void 0:n.length]),ep.useEffect(()=>{t.status===MY.ERRORS&&p("fetch_error",{errors:JSON.stringify(t.errors??{})})},[p,t.status,t.errors]),ep.useEffect(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]),b.status===MY.LOADED&&"loaded"===t.status)try{let e=new Set(["is_favorited","realtime_token","settings","thumbnail_url","thumbnail_url_override"]),a=new Set(["created_at","last_published_at","touched_at","updated_at","view_only_at"]),r=(0,v7.cQ)((null==(l=b.data)?void 0:l.files)??[],(null==(i=t.data)?void 0:i.files)??[],e,"key",a),n=(0,v7.cQ)((null==(s=b.data)?void 0:s.repos)??[],(null==(o=t.data)?void 0:o.repos)??[],e,"id",a),p=(0,v7.cQ)((null==(c=b.data)?void 0:c.roles)??[],(null==(d=t.data)?void 0:d.roles)??[],e,"id",a),g=(0,v7.uJ)((null==(m=b.data)?void 0:m.folder.id)??"missing_folder_id",(null==(u=b.data)?void 0:u.folder)??{},(null==(_=t.data)?void 0:_.folder)??{},e,a);(0,v7.Im)(r)&&(0,v7.Im)(n)&&(0,v7.Im)(p)&&(0,v7.Im)(g)||(0,tn.sx)("Draft Files: Sinatra LG diffs",{orgId:f,filesDiffs:JSON.stringify(r),reposDiffs:JSON.stringify(n),rolesDiffs:JSON.stringify(p),folderDiffs:JSON.stringify(g)})}catch(e){(0,tn.sx)("Draft Files: Sinatra LG diffs",{orgId:f,error:JSON.stringify(e)})}}let{folder:x,sortFilterOptions:C,loadedFolders:N,selectedBranchKeyByRepoId:k}=e,{repos:S,filesByRepoId:I,canEdit:A,isEditingLocked:L,files:R}=x,O=[...R.map(e=>({type:E1.nb.FILE,file:e})),...S.filter(e=>!e.trashed_at).map(e=>({type:E1.nb.REPO,repo:e,branches:I[e.id],selectedBranchKey:k[e.id]||""})),...Object.values(E).filter(e=>e.orgId===f).map(E1.gB)],F="loaded"===N[x.id],M=ep.createElement(ep.Fragment,null,ep.createElement(PU,{newFileTile:!0,tiles:O,chunkSize:O.length,tileActions:Pz,sortFilterOptions:C,emptyStateText:!A||L?(0,e$.t)("file_browser.folder.empty_state"):"",hideSorter:!0,isDataPartial:v}),ep.createElement(DW.cx,null)),D=ep.createElement(gK.A,{loadingElementId:"loading-content-pane",loaded:F,loadingElementClassName:eT.cx.pr32.$},ep.createElement(Pj,{key:`${e.sortFilterOptions.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:h},M));return(0,eH.T8)(ep.createElement(v6.r,{viewBarSticky:!0,banner:g?ep.createElement(PH,{folderId:x.id}):void 0,content:D,viewbar:ep.createElement(D2,null)}),e4.e0.FILE_BROWSER,{view:"drafts"})});var PK=a(197761),PJ=a(715600);let PZ=(0,am.Ju)(function(e){let t=(0,eg.wA)(),[a,r]=ep.useState(""),n=(0,eg.d4)(e=>e.deletedReposById),l=(0,eg.d4)(e=>e.fileByKey),{reposToDelete:i,draftsToDelete:s,deleteAllDraftsAsync:o,isDeleteAll:c}=e,d=s.map(e=>e.name).concat(i.map(e=>e.name)),m=d.length>1,u=m?(0,e$.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:d.length}):(0,e$.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:d[0]}),_=(a,r)=>{let i=a.reduce((e,t)=>(e[t.key]=!0,e),{});a.length>0&&t(EK.YK({fileKeys:i,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}));let s={};r.forEach(e=>{let t=n[e.id];if(t)s[e.id]=t;else{let t=e.default_file_key&&l[e.default_file_key];t&&(s[e.id]={repo:e,main_file:t})}}),r.length>0&&t((0,PK.YM)({reposById:s,userInitiated:!0}))},p=()=>PJ.k.deleteAllPersonalDrafts().then(()=>t(t6.F.enqueue({message:(0,e$.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>t(t6.F.enqueue({message:(0,e$.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),g=()=>{let{draftsToDelete:a,reposToDelete:r}=e;a.length+r.length>100?t(e5.s.error((0,e$.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(a.length>0),_(a,r))},E=()=>{o?p():g(),e.onClose()},f=ep.useMemo(()=>a.trim().toLowerCase()!==(0,e$.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[a]);return ep.createElement(eH.fu,{name:"draftDeleteModal",properties:{itemCount:d.length,isDeleteAsync:!!o,isDeleteAll:!!c}},ep.createElement(sn.XV,{title:u,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},ep.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},ep.createElement("p",null,m?(0,e$.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:d.length}):(0,e$.t)("file_browser.draft_delete_modal.permanently_delete_one_draft")),ep.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},m&&ep.createElement(e$.Tx,{id:"file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",deletionString:(0,e$.t)("file_browser.draft_delete_modal.button_delete")})),ep.createElement("form",{onSubmit:E},m&&ep.createElement("div",null,ep.createElement(uj.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:a,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{r(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),ep.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},ep.createElement(eI.nR,{onClick:e.onClose},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.qM,{onClick:E,disabled:!!m&&f,trackingProperties:{isDeletingDraftFromDTM:!0},dataTestId:"draft-delete-confirmation-button"},ep.createElement("span",{"data-tooltip":(0,e$.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,e$.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":f&&m?tM.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},ep.createElement(e$.Tx,{id:"file_browser.draft_delete_modal.button_delete"}))))))))},"DraftDeleteModal");var PQ=a(291260);let PX="draft_move_modal--modalBody--tk8mC",P0="draft_move_modal--folderName--Edpgq ellipsis--ellipsis--Tjyfa",P1="draft_move_modal--folderRow--ploo8",P2="draft_move_modal--hoverableFolderRow--hUAas",P4="draft_move_modal--iconContainer--YfzDe";var P3=a(677550),P8=((q=P8||{}).FREE="Free",q.LOCKED="Locked",q.EDU="Edu",q.PRO="Pro",q.ORG="Org",q.ENT="Enterprise",q.GUEST="Guest",q);let P5=(0,am.Ju)(function(e){var t,a,r,n,l,i;let[s,o]=(0,ep.useState)(null),{onClose:c,draftsToMove:d,reposToMove:m,onMoveSuccess:u,setSynchronousFileTransferInProgress:_,moveAllDraftsAsync:p,isMoveAll:g}=e,E=(0,eg.d4)(e=>(0,mG.getPermissionsStateMemoized)(e)),f=(0,t5.Rs)(ai.G0Y,{orgId:null}),h=(0,eg.wA)(),v=(0,PQ.z)(),b=()=>{v(),c()},y=e=>e?(0,pM.XX)(e)?e.studentTeamAt?"Edu":"Pro":(0,pM.oc)(e.id,E)?"Locked":"Free":"Free",w=({orgId:e,orgPermission:t,isEnterprise:a=!1})=>t===lB._D.GUEST?"Guest":e&&a?"Enterprise":"Org",T=e=>!!e&&(0,dN.kA)(E.orgById[e]),x=((null==(r=null==(a=null==(t=f.data)?void 0:t.currentUser)?void 0:a.teamRoles)?void 0:r.map(e=>e.team).filter(e=>!!e))??[]).filter(e=>e&&!e.deletedAt).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).map(e=>{var t;return{name:(null==e?void 0:e.name)??"",folderId:null==(t=null==e?void 0:e.currentTeamUser)?void 0:t.draftsFolderId,imgUrl:null==e?void 0:e.imgUrl,teamId:null==e?void 0:e.id,destinationBadgeType:y(e),isDisabled:!1}}).filter(e=>!!e.folderId)??[],C=(null==(i=null==(l=null==(n=f.data)?void 0:n.currentUser)?void 0:l.allOrgUsers)?void 0:i.map(e=>{var t,a,r;return{name:(null==(t=null==e?void 0:e.org)?void 0:t.name)??"",folderId:null==e?void 0:e.draftsFolderId,imgUrl:null==(a=null==e?void 0:e.org)?void 0:a.imgUrl,teamId:null==(r=null==e?void 0:e.draftsProject)?void 0:r.teamId,isDisabled:!0,destinationBadgeType:w({orgId:null==e?void 0:e.orgId,orgPermission:null==e?void 0:e.permission,isEnterprise:T(null==e?void 0:e.orgId)})}}).filter(e=>!!e.folderId))??[],N=x.concat(C),k=d.map(e=>e.name).concat(m.map(e=>e.name)),S=k.length>1?(0,e$.t)("file_browser.draft_move_modal.header_multiple_files_move",{fileCount:k.length}):(0,e$.t)("file_browser.draft_move_modal.header_single_file_move",{fileName:k[0]}),I=e=>PJ.k.migrateAllPersonalDrafts(e).then(()=>h(t6.F.enqueue({message:(0,e$.t)("file_browser.draft_move_modal.async_draft_move_scheduled")}))).catch(()=>h(t6.F.enqueue({message:(0,e$.t)("file_browser.draft_move_modal.async_draft_move_scheduling_error")}))),A=(e,t)=>{d.length>0&&h(f$.C({files:d,folderName:e,folderId:t,isDraftsToMove:!0,onFinishCallback:e=>u(e,d.length),fromFileModal:!0})),m.length>0&&h((0,PK.mE)({repos:m,folderId:t,folderName:e}))};return"loading"===f.status?ep.createElement(sn.XV,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ep.createElement("div",{className:PX},ep.createElement(e8.a_,{className:"draft_move_modal--spinner--G4CKo"}))):(null==s&&N.length>0&&"Org"!==N[0].destinationBadgeType&&o(N[0].folderId),ep.createElement(eH.fu,{name:"draftMoveModal",properties:{itemCount:k.length,IsMoveAsync:!!p,isMoveAll:!!g}},ep.createElement(sn.XV,{title:S,fixedCenter:!0,minWidth:480,maxWidth:480,onClose:c,truncateTitleText:!0},ep.createElement("div",{className:PX},ep.createElement(P9,{onCreateNewTeamClick:b}),N&&ep.createElement(ac.P,{width:480},ep.createElement("div",{className:eT.cx.pl8.pr8.$},N.map(e=>ep.createElement(P7,{key:e.folderId,teamId:e.teamId,name:e.name,imgUrl:e.imgUrl,folderId:e.folderId,checked:s===e.folderId,destinationBadgeType:e.destinationBadgeType,isDisabled:e.isDisabled,onSelect:()=>o(e.folderId)})),ep.createElement(P6,{onCreateNewTeamClick:b}))),ep.createElement("div",{className:"draft_move_modal--footer--g-XqF"},ep.createElement(eI.nR,{onClick:c},ep.createElement(e$.Tx,{id:"modal.cancel"})),ep.createElement(eI.vd,{disabled:!s,onClick:()=>{let e=N.find(e=>e.folderId===s);s&&e&&(p?I(e.teamId):(_(d.length>0),A(e.name,s)),c())}},(0,e$.t)("file_browser.file_move.move")))))))},"DraftMoveModal");function P6(e){return ep.createElement(eH.Co,{"data-testid":"new-plan-button",className:eS()(P1,P2),onClick:e.onCreateNewTeamClick,innerText:"Drafts to move create new"},ep.createElement("div",{className:P4},ep.createElement(eL.B,{className:eT.cx.colorIcon.$,svg:P3.A})),ep.createElement("span",{className:P0},ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.create_new_plan_button_text"})))}function P9(e){return ep.createElement("div",{className:"draft_move_modal--chooseTeamOrOrgRow--OPBwF"},ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.choose_team_or_organization_for_files_with_link",createNewTeamLink:ep.createElement(eI.Us,{onClick:e.onCreateNewTeamClick,trusted:!0},ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.create_new_plan_link"}))}))}function P7(e){let t,a;let r=ep.createElement(eI.Us,{className:"draft_move_modal--learnMoreLink--b5crD",trusted:!0,target:"_blank",href:"https://help.figma.com/hc/articles/18409526530967"},ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.learn_more_link"})),n=ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.destination_description_cannot_be_moved_here",learnMoreLink:r});switch(e.destinationBadgeType){case"Free":t=ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_free");break;case"Locked":t=ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.destination_description_access_will_become_view_only"}),a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_locked");break;case"Edu":t=ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_edu");break;case"Pro":t=ep.createElement(e$.Tx,{id:"file_browser.draft_move_modal.destination_description_collaborator_access_may_change"}),a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_pro");break;case"Org":a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_org"),t=n;break;case"Enterprise":a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_ent"),t=n;break;case"Guest":a=(0,e$.t)("file_browser.draft_move_modal.destination_description_badge_guest"),t=n}let l=["Org","Enterprise","Guest"].includes(e.destinationBadgeType),i=!e.checked&&!l;return ep.createElement("button",{"data-testid":`${e.name}-button`,className:eS()(P1,e.checked?"draft_move_modal--selectedFolderRow--XmVi7":"",i?P2:""),onClick:e.onSelect,disabled:e.isDisabled},ep.createElement("div",{className:P4},ep.createElement(dm.nl,{size:dm.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:fu.U.HIDDEN,team:{id:e.teamId,imgUrl:e.imgUrl}})),ep.createElement("div",{className:P0},ep.createElement("span",{className:"draft_move_modal--destinationHeading--dBe0G"},e.name),ep.createElement("span",{className:l?"draft_move_modal--destinationDescriptionOrg--wEClH draft_move_modal--destinationDescription--fMcX-":"draft_move_modal--destinationDescription--fMcX-"},t)),ep.createElement(dd.Ex,{text:a,dataTestId:`${e.name}-badge`,color:e.checked?dd.zE.TOOLBAR_SELECTED:dd.zE.DEFAULT,className:eS()("draft_move_modal--teamBadge--ODLch",eT.cx.mr8.if(!e.checked,eT.cx.colorBgBrandTertiary.colorText).$)}))}var Be=a(821150);let Bt="drafts_to_move_page_view--fileCellDateSpan--yyBeV",Ba="drafts_to_move_page_view--dateColumn--dniST drafts_to_move_page_view--column--ZQepb table--column--974RA",Br="drafts_to_move_page_view--emptyContentContainer--7kcRs",Bn="drafts_to_move_page_view--emptyContentHeader--yc3jH",Bl=(0,ti.jz)(aE.ISO);var Bi=((z=Bi||{}).DRAFT_FILES="draft-files",z.DELETED_DRAFT_FILES="deleted-draft-files",z),Bs=((Y=Bs||{}).NONE="NONE",Y.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",Y.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",Y.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",Y.TRANSFER_COMPLETED="TRANSFER_COMPLETED",Y);function Bo(e){let t=e=>{switch(e){case"draft-files":return(0,e$.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,e$.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,eC.xb)(e)}},a=t=>{let a=Bi[t].replace(/-/g,"_");(0,al.Cu)({text:a,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(Bi[t])},r=Object.keys(Bi).map(r=>ep.createElement(CJ.r,{tab:Bi[r],onClick:()=>a(r),isSelected:e.selectedTab===Bi[r],tabName:t(Bi[r]),key:r}));return ep.createElement(dc.g2,{leftSide:ep.createElement(CJ.f,{tabs:r}),rightSide:[]})}function Bc(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.selectedView),r=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),n=(0,eg.d4)(e=>e.fileByKey),l=(0,eg.d4)(e=>e.selectedBranchKeyByRepoId),{item:i}=e,s=E1.Tf.getFileKey(i)??"",o=(0,Pf.Y)(s,E1.Tf.getFavoritedResourceType(i),E1.Tf.getOrgId(i),E1.Tf.getFavoriteResourceTeamId(i)),c=ep.useMemo(()=>"loaded"===o.status?!!o.favorite:E1.Tf.getIsFavorited(i),[i,o]),d=e=>i=>{i.detail>1&&(Pk(e,i,0,t,a,r,l,n),i.stopPropagation())};return ep.createElement("div",{className:eT.cx.inlineFlex.minW0.$},ep.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--3iJKC",onClick:d(i),"data-testid":`fileTile-${s}`},ep.createElement(fw.H,{file:i.type===E1.nb.FILE?i.file:(0,Pr.mr)(i.repo,i.branches,l),fillContainer:!0}),ep.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--F8DX1"},ep.createElement(_7.oS,{type:E1.Tf.getFileIconType(i)??_7.y1.DESIGN,size:_7.LE.SMALL})),c&&ep.createElement("div",{className:"drafts_to_move_page_view--topRightControls--3JxM0"},ep.createElement("div",{className:"drafts_to_move_page_view--control--Ks90C"},ep.createElement(fy.r,{setFavorite:ev.lQ,favoriteType:(0,gO.UL)(i.type),resourceId:s,noHoverState:!0,size:fy.m.SMALL,orgId:E1.Tf.getOrgId(i)??null,teamId:E1.Tf.getFavoriteResourceTeamId(i),disableTooltip:!0})))),ep.createElement("div",{className:eT.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},ep.createElement("button",{className:"drafts_to_move_page_view--fileName--y1jUQ",onClick:d(i)},E1.Tf.getName(i)),e.shouldDisplayFileDates&&ep.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--yes97"},ep.createElement("span",{className:Bt},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_created_at_label",timeDifference:ep.createElement(i7.h1,{date:E1.Tf.getCreatedAt(i)})})),ep.createElement("span",{className:Bt},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_last_modified_at_label",timeDifference:ep.createElement(i7.h1,{date:E1.Tf.getTouchedAt(i)??""})})))))}function Bd({currentFileTransferState:e}){let t="dark"===(0,Mx.DP)(),a=e=>ep.createElement(ep.Fragment,null,ep.createElement(e8.kt,{size:"large"}),ep.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--FlLdd"},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_transfer_header",transferType:"ASYNC_FILE_MIGRATION"===e?ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_transfer_migration_type"}):ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_transfer_deletion_type"})})),ep.createElement("p",null,ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.file_transfer_description"}))),r=()=>ep.createElement("div",{className:"drafts_to_move_page_view--slideIn--jxSZ5"},ep.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--De-kh"},ep.createElement(dg.Gv,{src:t?"https://static.figma.com/uploads/c9f2d8cbce5754a2b6e3e3e81adf5fe313429577":"https://static.figma.com/uploads/6212099329ba7714b869112a09f8dfffce71edf5",containerClassName:"drafts_to_move_page_view--allDoneGif--b3rbb",height:100,width:100}),ep.createElement("p",{className:Bn},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.empty_header"})),ep.createElement("p",null,ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.empty_body_text"})))),n=()=>ep.createElement(e8.kt,{size:"large"});return ep.createElement("div",{className:Br},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return a(e);case"TRANSFER_COMPLETED":return r();default:return n()}})())}function Bm(){let e=(0,eg.wA)(),t=(0,eg.d4)(e=>{var t;return null==(t=e.user)?void 0:t.personal_drafts_folder_id}),a=(0,eg.d4)(e=>e.fileKeysByFolderId),r=(0,eg.d4)(e=>e.fileKeysByRepoId),n=(0,eg.d4)(e=>e.repoIdsByFolderId),l=(0,eg.d4)(e=>e.repos),i=(0,eg.d4)(e=>e.fileByKey),s=(0,eg.d4)(e=>e.selectedView),o=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),c=(0,eg.d4)(e=>e.selectedBranchKeyByRepoId),d=(0,eg.d4)(e=>e.userFlags),m=d.personal_draft_migration_scheduled,u=d.personal_draft_migration_completed,_=d.personal_draft_deletion_scheduled,p=d.personal_draft_deletion_completed,g=(0,eg.d4)(e=>e.loadedFolders),E=(0,eg.d4)(e=>e.deletedFilesByKey),f=(0,eg.d4)(e=>e.deletedReposById),{windowInnerWidth:h}=(0,x1.l)(),v=(0,t5.Rs)(ai.vXh,{}),b=(0,t5.Rs)(ai.Jzf,{projectId:t??""}),[y,w]=ep.useState("draft-files"),[T,x]=ep.useState(!1),[C,N]=ep.useState("NONE"),[k,S]=ep.useState(!1);ep.useEffect(()=>{m&&Eh(m.updatedAt,null==u?void 0:u.updatedAt)?N("ASYNC_FILE_MIGRATION"):_&&Eh(_.updatedAt,null==p?void 0:p.updatedAt)?N("ASYNC_FILE_DELETION "):k?N("SYNCHRONOUS_DELETION_OR_MIGRATION"):N("NONE")},[m,u,_,p,k]),ep.useEffect(()=>{e(mB.h3({orgId:null}))},[e]);let I="loaded"===v.status,A=ep.useMemo(()=>{var e,t;if(!I)return[];let a=[];return(null==(t=null==(e=v.data)?void 0:e.currentUser)?void 0:t.draftsFolderId)&&a.push(v.data.currentUser.draftsFolderId),a},[I,v]),L=ep.useMemo(()=>{var e,t,a,r;return(null==(t=null==(e=b.data)?void 0:e.project)?void 0:t.status)!==Ef.tT.Loaded?new Set:new Set(((null==(r=null==(a=b.data)?void 0:a.project.data)?void 0:r.undeletedFilesHighLimit)??[]).map(e=>e.key))},[b]),R=ep.useMemo(()=>{var e,t,a,r;if((null==(t=null==(e=b.data)?void 0:e.project)?void 0:t.status)!==Ef.tT.Loaded)return new Set;let n=new Set;return((null==(r=null==(a=b.data)?void 0:a.project.data)?void 0:r.undeletedFilesHighLimit)??[]).forEach(e=>{e.fileRepoId&&n.add(e.fileRepoId)}),n},[b]),O=ep.useCallback(e=>L.has(e),[L]),F=ep.useCallback(e=>R.has(e),[R]);ep.useEffect(()=>A.forEach(t=>I&&e((0,gR.jl)({folderId:t,loadedFolders:g}))),[g,A,e,I]);let M=I&&A.every(e=>e&&"loaded"===g[e]),D=ep.useMemo(()=>Object.keys(E).map(e=>E[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&O(e.key)),[E,t,O]),P=ep.useMemo(()=>Object.keys(f).map(e=>f[e]).filter(e=>e.main_file.folder_id===t&&F(e.repo.id)),[f,t,F]),B=ep.useMemo(()=>A.flatMap(e=>n[e]).map(e=>l[e]).filter(e=>!!e&&F(e.id)),[A,l,n,F]),U=ep.useMemo(()=>A.flatMap(e=>a[e]).map(e=>i[e]).filter(e=>!!e&&O(e.key)),[A,i,a,O]);ep.useEffect(()=>{M&&0===U.length&&0===B.length&&w("deleted-draft-files")},[M,U.length,B.length]);let W=ep.useMemo(()=>U.concat(D).map(e=>({type:E1.nb.FILE,file:e})),[U,D]),V="deleted-draft-files"===y?D:U,G=ep.useMemo(()=>V.map(e=>({type:E1.nb.FILE,file:e})),[V]),$=ep.useMemo(()=>B.map(e=>{let t=r[e.id].map(e=>i[e]).filter(e=>!!e);return{type:E1.nb.REPO,repo:e,branches:t,selectedBranchKey:c[e.id]}}),[B,c,i,r]),j=ep.useMemo(()=>P.map(e=>({type:E1.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key})),[P]),H=j.concat($),q=G.concat("deleted-draft-files"===y?j:$),z=W.length>0||H.length>0,Y=q.length>0,[K,J]=ep.useState([]),Z=()=>{e(e0.Ce()),x(!1)},Q=(t,a)=>{e(t6.F.enqueue({message:(0,e$.t)("visual_bell.files_moved_to_folder",{fileCount:a,folderName:t})})),S(!1),J([])},X=()=>{S(!1),J([])},ee=e=>{let t=[],a=[];return e.forEach(e=>{e.type===E1.nb.FILE&&t.push(e.file),e.type===E1.nb.REPO&&a.push(e.repo)}),{draftsToMove:t,reposToMove:a}},et=()=>{let{draftsToMove:t,reposToMove:a}=ee(K);x(!0),e(e0.to({type:PZ,data:{draftsToDelete:t,reposToDelete:a,deleteAllDraftsAsync:K.length>100,setSynchronousFileTransferInProgress:S,onDeleteSuccess:X,onClose:Z}}))},ea=()=>{let{draftsToMove:t,reposToMove:a}=ee(K);x(!0),e(e0.to({type:P5,data:{draftsToMove:t,reposToMove:a,moveAllDraftsAsync:K.length>100,onMoveSuccess:Q,onClose:Z,setSynchronousFileTransferInProgress:S}}))},er=function(e,t,a,r){let n=r>=1200,l=[{name:(0,e$.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--BD6M4 drafts_to_move_page_view--column--ZQepb table--column--974RA",getSortValue:e=>E1.Tf.getName(e),cellComponent:e=>ep.createElement(Bc,{item:e,shouldDisplayFileDates:!n})}];return n&&l.push({name:(0,e$.t)("file_browser.drafts_to_move.table_header_last_modified"),className:Ba,getSortValue:e=>E1.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=E1.Tf.getTouchedAt(e);return t?ep.createElement(i7.h1,{date:t}):""}},{name:(0,e$.t)("file_browser.drafts_to_move.table_header_created"),className:Ba,getSortValue:e=>E1.Tf.getCreatedAt(e),cellComponent:e=>ep.createElement(i7.h1,{date:E1.Tf.getCreatedAt(e)})}),l.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--3-geg drafts_to_move_page_view--column--ZQepb table--column--974RA",cellComponent:r=>0===a?ep.createElement(ep.Fragment,null,ep.createElement(eI.tM,{className:eS()("drafts_to_move_page_view--openDraftButton--ly3lx",eT.cx.if(!!E1.Tf.getTrashedAt(r),eT.cx.invisible).$),onClick:e=>t(e,r)},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.open_draft_button"})),ep.createElement(eI.tM,{className:"drafts_to_move_page_view--moveDraftButton--4LqqD",onClick:t=>e(t,r)},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.move_draft_button"}))):ep.createElement(ep.Fragment,null)}),l}((t,a)=>{let{draftsToMove:r,reposToMove:n}=ee([a]);e(e0.to({type:P5,data:{draftsToMove:r,reposToMove:n,onMoveSuccess:Q,onClose:Z,setSynchronousFileTransferInProgress:S}})),t.stopPropagation()},(t,a)=>{Pk(a,t,0,e,s,o,c,i),t.stopPropagation()},K.length,h),[en,el,ei]=(0,be.z)({columnName:"name",isReversed:!1},q,er),es=ep.createElement("div",{className:Br},ep.createElement("span",{className:Bn},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.empty_header"})),ep.createElement("span",null,ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.empty_content_description",tab:ep.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--Ugp5u",onClick:()=>w("draft-files"===y?"deleted-draft-files":"draft-files")},"draft-files"===y?(0,e$.t)("file_browser.drafts_to_move.deleted_drafts"):(0,e$.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==C)return ep.createElement(Bd,{currentFileTransferState:C});let eo=K.length<=0||K.length>100,ec=ep.createElement(gK.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--OOOaP",loadingElementId:"loading-content-pane",loaded:M},Y?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--tLSsD"},ep.createElement(bD.Cj,{selectAllDisabled:ei.length>100,items:ei,columns:er,actionBarClassName:eS()("drafts_to_move_page_view--actionBar--TG5Rc",{"drafts_to_move_page_view--actionBarHidden--avoi-":T}),getItemKey:e=>E1.Tf.getFileKey(e)??"",minContentWidth:728,actionBar:e=>ep.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--hdDze"},!eo&&ep.createElement(eI.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--5lOW1",onClick:et},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.bulk_delete_drafts_button"})),ep.createElement(eI.vd,{className:"drafts_to_move_page_view--moveDraftsButton---AGWm",disabled:eo,onClick:ea},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.bulk_move_drafts_button",numSelected:K.length}))),emptyContent:"",onSelectedItemsChange:J,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,e$.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!Be.s1,sortState:en,onSetSortState:el,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--sUqHh",header:"drafts_to_move_page_view--header--ZUjyY",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--9p9z3",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--P7CXQ"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--1fyPB",rowHeightOverride:Bl}))):z?es:ep.createElement(Bd,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,eH.T8)(ep.createElement(v6.r,{content:ec,viewbar:z&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"drafts_to_move_page_view--viewbar--M3i1n"},ep.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--Q2lBr"},ep.createElement(Er.EG,{className:"drafts_to_move_page_view--yellowIcon--dyZ0F"}),ep.createElement("div",{className:"drafts_to_move_page_view--viewBarBody--t13WB"},ep.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--xz8J7"},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.viewbar_heading"})),ep.createElement("p",{className:"drafts_to_move_page_view--viewbarDescription--UMuY-"},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.viewbar_draft_sections_description",learnMoreLink:ep.createElement(eI.Us,{trusted:!0,href:"https://help.figma.com/hc/articles/18409526530967",target:"_blank"},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.viewbar_learn_more_link"}))})),ep.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--pgDjN"},ep.createElement(eI.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--kVs-g",onClick:()=>{x(!0),e(e0.to({type:P5,data:{reposToMove:H.map(e=>e.repo),draftsToMove:W.map(e=>e.file),onMoveSuccess:Q,isMoveAll:!0,moveAllDraftsAsync:W.length>100,onClose:Z,setSynchronousFileTransferInProgress:S}}))}},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.move_all_drafts_button"})),ep.createElement(eI.NY,{className:"drafts_to_move_page_view--deleteAllDraftsButton--CSNqr drafts_to_move_page_view--moveAllDraftsButton--kVs-g",onClick:()=>e(e0.to({type:PZ,data:{draftsToDelete:W.map(e=>e.file),reposToDelete:H.map(e=>e.repo),isDeleteAll:!0,deleteAllDraftsAsync:W.length>100,setSynchronousFileTransferInProgress:S,onDeleteSuccess:X,onClose:Z}}))},ep.createElement(e$.Tx,{id:"file_browser.drafts_to_move.delete_all_drafts_button"})))))),ep.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--B45K9"},ep.createElement(Bo,{selectedTab:y,setSelectedTab:w})))}),e4.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:y})}var Bu=a(257240),B_=a(869765),Bp=a(601762),Bg=a(962357);let BE="seen_pro_onboarding_unlimited_files_overlay",Bf=(0,tZ.r1)(BE);function Bh({teamId:e,canCreateFigjamBoard:t}){var a;let r=(0,tY.md)(Bf),n=(0,tY.md)(Bu.e),l=null==(a=(0,eg.d4)(e=>e.userTeamFlags)[e])?void 0:a[Bg.UA],i=(0,uF.kO)(),{show:s,isShowing:o,complete:c}=(0,tJ.e)({overlay:t4.jVB,priority:tQ.N.DEFAULT_MODAL,experiment:{check:i,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,tz.h)(()=>{l&&s({canShow:(t,a)=>a.some(t=>t.id===e)})}),o)?ep.createElement(t0.M,{isShowing:o,userFlagOnShow:BE},ep.createElement(eH.fu,{name:B_.S.getTooltipTrackingContext("Unlimited Files"),properties:B_.S.getTrackingProperties(e)},ep.createElement(Bp.yG,{dismissModal:c,canCreateFigjamBoard:t}))):null}function Bv(e){var t,a;let{selectedView:r,userFlags:n,userTeamFlags:l,userEduVerified:i,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,...d}=(0,O5.R)(e=>{var t;return{selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!(null==(t=e.user)?void 0:t.student_validated_at),loadedFolders:e.loadedFolders,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,mG.getPermissionsState)(e)}}),m=(0,eg.wA)(),u=(0,t5.Rs)(ai.UpR,{}),{teamId:_,selectedTab:p}=e,g=d.teams[_],E=!!(null==g?void 0:g.org_id),f=!!(null==g?void 0:g.subscription),h=_&&(0,mG.canAdminTeam)(_,d);(0,ep.useEffect)(()=>{(0,eh.kc)().requires_action_3ds_banner&&_&&!E&&f&&h&&m(pR.Be({teamId:_}))},[m,_,E,f,h]);let v=(0,eg.d4)(e=>{var t;return null==(t=e.teamBilling)?void 0:t.summary}),b=FN(lB.vt.TEAM,g,_,{selectedView:r,userFlags:n,userTeamFlags:l,selectedTab:p,loadedFolders:s,isFreeUser:o,userAnalyticsData:c,eduPeriodEnd:null==(a=null==(t=u.data)?void 0:t.currentUser)?void 0:a.eduPeriodEnd,billingSummary:v,...d},m);if(!b)return ep.createElement("div",null);let y=FS({resourceType:lB.vt.TEAM,teamId:_},b),w=b.severity===O6.WARN?O9:"",T=b.bannerClassName||"",x=`${Fo} ${w} ${T}`;return ep.createElement("div",{className:x},ep.createElement(Fp,{...b,tracking:y}))}var Bb=a(449824),By=a(850191),Bw=a(759063);function BT({header:e,onClose:t,rightTextCta:a,tilesContent:r}){return ep.createElement("div",{className:"recommendation_banner--container--jBT-5"},ep.createElement("div",{className:"recommendation_banner--headerContainer--jXVDL"},ep.createElement("div",{className:"recommendation_banner--header--kRx-1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e),ep.createElement("div",{className:"recommendation_banner--headerRight--mLXdu"},ep.createElement("div",{className:"recommendation_banner--rightTextCta--f1Kay text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),ep.createElement(u7.Jn,{className:"recommendation_banner--closeButton--sXqw1",onClick:t}))),ep.createElement("div",{className:"recommendation_banner--tilesContainer--Ls9Wd tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC"},r.map((e,t)=>ep.createElement("div",{key:t,className:"recommendation_banner--tile--i7A92"},e))))}let Bx=[{featureType:"unlimited_files_and_projects",getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.consumption_limit"),imgSrc:"https://static.figma.com/uploads/7b0a8059eef8715404092dd314a2259303f727ed",gifSrc:"https://static.figma.com/uploads/519c3e21c17f32b5f0180b52d1e0f9ba6b1e6a93",href:"https://help.figma.com/hc/articles/360038006494"},{featureType:By.qv.COMPONENT_PUBLISHING,getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.component_libraries"),imgSrc:"https://static.figma.com/uploads/597204c016801ba12cab10e9c048b1c6d5807a46",gifSrc:"https://static.figma.com/uploads/948d9b9b25fe5c298216981f3b67871986136b72",href:"https://help.figma.com/hc/articles/360041051154-Guide-to-libraries-in-Figma"},{featureType:By.qv.PASSWORD_PROTECTION,getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.password_protection"),imgSrc:"https://static.figma.com/uploads/bd1e60801b4b2b5e3d8f85d570d909f8e6aecd46",gifSrc:"https://static.figma.com/uploads/c736fefeffa56ad1fef0e503f3a806a34376a24e",href:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files"},{featureType:By.qv.OPEN_SESSIONS,getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.collaboration"),imgSrc:"https://static.figma.com/uploads/d718a8c9af11f5689629e016beb629c0a1aded39",gifSrc:"https://static.figma.com/uploads/389ab0b9dcb7f7c2ce3b597b4b7aa8d12a762d79",href:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session"},{featureType:"voting",getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.voting"),imgSrc:"https://static.figma.com/uploads/07061babefc345310003bf470a357f7c1a4f039d",gifSrc:"https://static.figma.com/uploads/15206fd8262e4243eb5b6a466c4227a6f8e700e6",href:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam"},{featureType:By.qv.AUDIO,getTileTitle:()=>(0,e$.t)("team_view.pro_trials.feature_awareness_banner.audio"),imgSrc:"https://static.figma.com/uploads/d44e0e27103010a5a793e2481a49b37baf284fe9",gifSrc:"https://static.figma.com/uploads/9320e75867473c558394562fe255795e975bac3e",href:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team"}];function BC({teamId:e}){let t=(0,h4.TN)(e),a=(0,eg.wA)(),r=!!(0,Bb.q)({flag:"pro_trials_feature_awareness_banner_dismissed",teamId:e});return!hW.ng.canSeeProTrialUx(t)||r?null:ep.createElement(eH.fu,{name:"Pro trials feature awareness banner",properties:hW.ng.getTrackingProperties()},ep.createElement("div",{className:"pro_feature_awareness_banner--container--5qxHd"},ep.createElement(BT,{header:ep.createElement(e$.Tx,{id:"team_view.pro_trials.feature_awareness_banner.title"}),rightTextCta:ep.createElement(eI.Ph,{className:"pro_feature_awareness_banner--learnMoreLink--eC4zT text--fontPos11--2LvXf text--_fontBase--QdLsd",trusted:!0,href:"https://www.figma.com/professional/",target:"_blank"},ep.createElement(e$.Tx,{id:"team_view.pro_trials.feature_awareness_banner.learn_more"})),onClose:()=>{a(Fg.bE({all_team_flags:[{team_id:e,flags:{pro_trials_feature_awareness_banner_dismissed:!0}}]}))},tilesContent:Bx.map(({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n},l)=>ep.createElement(BN,{key:l,getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}))})))}function BN({getTileTitle:e,imgSrc:t,gifSrc:a,href:r,featureType:n}){let[l,i]=(0,ep.useState)(!1);return ep.createElement("div",{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},ep.createElement(Bw.zq,{image:ep.createElement("div",{className:"pro_feature_awareness_banner--imageContainer--S9gtC pro_feature_awareness_banner--base_cardImageContainer--mWhdn pro_feature_awareness_banner--_hasBorder--3MWsn"},ep.createElement("div",{className:"pro_feature_awareness_banner--imageAspectRatio--iVQ44"}),ep.createElement("div",{className:"pro_feature_awareness_banner--imageWrapper--CW6Sp"},ep.createElement(eI.Ph,{trusted:!0,target:"_blank",href:r,trackingProperties:{featureType:n}},ep.createElement(rW.Ho,{image:l?a:t,isSet:!0,isWhiteboard:!1,hubFileId:void 0,alt:e(),includeChromiumDownscalingFix:!0})))),bottomRow:ep.createElement("div",{className:"pro_feature_awareness_banner--tileTitle--vGojT text--fontPos13--xW8hS text--_fontBase--QdLsd"},e())}))}var Bk=a(848201),BS=a(746731),BI=a(653082),BA=a(986683),BL=a(191883),BR=a(695784),BO=a(804160);let BF="templates_bar--seeMoreIcon--z8QbG",BM="templates_bar--seeMoreTitle--zCP8Q text--fontPos13--xW8hS text--_fontBase--QdLsd";function BD(e){let t=(0,eg.wA)(),a=(0,tR.iZ)(),r=(0,BL.vD)(a),n=(0,BL.Qk)(!1,r),l=(0,e1.oh)(n),i=(0,e1.mC)(n),s=BL.NV.has(r)?r:tv.iF.ALL;ep.useEffect(()=>{if(!l&&!i)return null!==s?t(BI.Dw({shelfType:tv.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:s})):t(BI.sz({shelfType:tv.cS.FILE_BROWSER_TEMPLATES_BAR}))},[l,i,t,r,s]);let o=(0,eg.d4)(e=>e.communityHub.shelves[tv.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),c=ep.useMemo(()=>{let e=new Map;return o.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[o]),d=ep.useMemo(()=>{let e=[];return o.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title})}),e},[o]);return e.isShowing&&0!==d.length?ep.createElement(eH.fu,{name:"topbar_templates_shown"},ep.createElement("div",{className:"templates_bar--container--4CkSW"},ep.createElement(BP,{tabNameToTemplatesMap:c,folderId:e.folderId,onClose:e.onClose,tabList:d,newFileFrom:e.newFileFrom,normJobPrefix:r}))):null}function BP(e){let[t,a]=ep.useState(e.tabList[0]),[r,n]=ep.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),l=(0,tR.iZ)(),i=(0,BL.rU)(l),[s,o]=ep.useState(null),{sizeRef:c,numTemplates:d,templateWidth:m,templateHeight:u}=function(e){let t=(0,ep.useRef)(null),[a,r]=(0,ep.useState)(0),n=a-48;(0,ep.useLayoutEffect)(()=>{var e;r((null==(e=null==t?void 0:t.current)?void 0:e.offsetWidth)??0)},[r,t]),(0,Bk.w)(t,e=>{r(e.width)});let l=(0,ep.useMemo)(()=>n?Math.min(Math.floor(n/174)-1,e):0,[n,e]),i=l&&n?Math.floor(n/(l+1))-24:0;return{sizeRef:t,numTemplates:l,templateWidth:i,templateHeight:i?Math.floor(125*i/150):0}}((null==r?void 0:r.length)??0);return ep.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];a(t),n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),ep.useEffect(()=>{n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]),ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"templates_bar--headerContainer--gyRwu"},ep.createElement("div",{className:"templates_bar--headerLeft--Tn2Qa"},ep.createElement(BU,null),ep.createElement(BW,{normJobPrefix:e.normJobPrefix})),ep.createElement(BG,{tabs:e.tabList,activeTab:t,setActiveTab:a}),ep.createElement("div",{className:"templates_bar--headerRight--A1wCT"},ep.createElement(u7.Jn,{className:"templates_bar--closeButton--L8Jev templates_bar--headerIcon--mb0fo",onClick:e.onClose}))),ep.createElement("div",{className:"templates_bar--body--Ll31S",ref:c},ep.createElement("div",{className:"templates_bar--tilesContainer--3nB55"},null==r?void 0:r.slice(0,d??0).map((a,r)=>ep.createElement("div",{key:a.id,style:{width:m,height:u,marginRight:24}},ep.createElement(BV,{hubFile:a,rank:r,folderId:e.folderId,overrideThumbnailUrl:(0,BL.oC)(a.id,i),tab:t,duplicatingHubId:s,setDuplicatingHubId:o,newFileFrom:e.newFileFrom})))),ep.createElement(BB,{activeTab:t,width:m,height:u})))}function BB(e){var t;let a=(0,eg.wA)(),r=(t=e.activeTab.tabTitle,ep.useMemo(()=>{switch(t){case"Brainstorm":let e="https://static.figma.com/uploads/1b49485e3b8b3a7e8a6f8099d37025abf445eaa9";return{color:"#FFBDF2",bgColor:"#FFF5FD",src:e,srcSet:`https://static.figma.com/uploads/17a263251c06e92c17ebcf534106f46de670f126, ${e} 2x`};case"All":let a="https://static.figma.com/uploads/f48b345384c95e6becd8f0afd653da77516f3754";return{color:"#80CAFF",bgColor:"#D5EAFA",src:a,srcSet:`https://static.figma.com/uploads/4fb27f103e1c26fd5018968f50d4de3ffc525981, ${a} 2x`};case"Diagram":let r="https://static.figma.com/uploads/fb96122b14ed3ae9c4f99858e53f198e4519881d";return{color:"#FFD966",bgColor:"#FFECB4",src:r,srcSet:`https://static.figma.com/uploads/b7d203490b07b0cc0996a32539727dd689542562, ${r} 2x`};case"Meetings":let n="https://static.figma.com/uploads/5bd4f8be4b68b3406a4efc955452d597843fe395";return{color:"#FF8311",bgColor:"#F9CA9F",src:n,srcSet:`https://static.figma.com/uploads/7919f8b041bc650fc00a468edb5639ca277fce09, ${n} 2x`};case"Planning":let l="https://static.figma.com/uploads/a5b7b70525c9fd5b075019212a36a4c85f296f0c";return{color:"#DA9DFF",bgColor:"#EBCAFF",src:l,srcSet:`https://static.figma.com/uploads/5df93072bc6c4eff89a96011b823515116dd80f2, ${l} 2x`};default:return null}},[t]));return r?ep.createElement("div",{className:"templates_bar--seeMoreContainer--RSV72"},ep.createElement("button",{className:"templates_bar--seeMore--ZTqIJ",style:{backgroundColor:r.bgColor,width:e.width,height:e.height},onClick:()=>{(0,al.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_see_more_clicked"),(0,BO.KF)(a,{templateInsertionLocation:tO.RD.NEW_FILE,triggeredFrom:"templatesShelfSeeMore",initiallySelectedCategoryTitle:e.activeTab.tabTitle})}},ep.createElement("div",{className:eS()({"templates_bar--seeMoreImageWrapper--O7D4Y":!0,"templates_bar--seeMoreImageDiagrammingWrapper--1NuRi":"Diagram"===e.activeTab.tabTitle})},ep.createElement("img",{className:"templates_bar--seeMoreImage--Awtac",srcSet:r.srcSet,src:r.src,alt:`See all ${e.activeTab.tabTitle} templates`})),ep.createElement("div",{className:"templates_bar--seeMoreSwoopWrapper--RYmj8",style:{width:e.width,height:e.height}},ep.createElement("svg",{className:"templates_bar--seeMoreSwoop--Jf9z-",viewBox:"0 0 180 116",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M180 44.5161C165.063 48.0094 149.5 49.856 133.51 49.856C82.5172 49.856 35.8722 31.0768 0 0V116H180V44.5161Z",fill:r.color}))),ep.createElement("div",{"data-preferred-theme":"light",className:"templates_bar--seeMoreContent--W-RMv"},"All"===e.activeTab.tabTitle?ep.createElement("div",{className:BM},ep.createElement(e$.Tx,{id:"file_browser.templates_shelf.see_all"}),ep.createElement(eL.B,{className:BF,svg:x5.A})):ep.createElement(ep.Fragment,null,ep.createElement("div",{className:BM},e.activeTab.tabTitle),ep.createElement("div",{className:"templates_bar--seeMorePrompt--LBBME text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.templates_shelf.see_more"}),ep.createElement(eL.B,{className:BF,svg:x5.A})))))):null}function BU(){return ep.createElement("svg",{className:"templates_bar--headerIconLeft--H66tS",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ep.createElement("path",{d:"M0.997498 3.32344C0.997498 2.22161 1.89071 1.3284 2.99254 1.3284H12.9678C14.0696 1.3284 14.9628 2.22161 14.9628 3.32344V13.2987C14.9628 14.4005 14.0696 15.2937 12.9678 15.2937H2.99254C1.89071 15.2937 0.997498 14.4005 0.997498 13.2987V3.32344Z",fill:"#9747FF"}),ep.createElement("mask",{id:"path-2-inside-1_1042_9371",fill:"white"},ep.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99255 4.32095H12.9678V12.3011H2.99255V4.32095ZM3.99007 5.31847H11.9702V7.31355H3.99007V5.31847ZM11.9702 8.31107H6.98264V11.3036H11.9702V8.31107ZM5.98512 11.3036H3.99007V8.31107H5.98512V11.3036Z"})),ep.createElement("path",{d:"M3.99007 5.31847V4.32095H2.99255V5.31847H3.99007ZM11.9702 5.31847H12.9678V4.32095H11.9702V5.31847ZM11.9702 7.31355V8.31107H12.9678V7.31355H11.9702ZM3.99007 7.31355H2.99255V8.31107H3.99007V7.31355ZM2.99255 4.32095V3.32343H1.99503V4.32095H2.99255ZM12.9678 4.32095H13.9653V3.32343H12.9678V4.32095ZM12.9678 12.3011V13.2986H13.9653V12.3011H12.9678ZM2.99255 12.3011H1.99503V13.2986H2.99255V12.3011ZM11.9702 8.31107H12.9678V7.31355H11.9702V8.31107ZM6.98264 8.31107V7.31355H5.98512V8.31107H6.98264ZM6.98264 11.3036H5.98512V12.3011H6.98264V11.3036ZM11.9702 11.3036V12.3011H12.9678V11.3036H11.9702ZM5.98512 11.3036V12.3011H6.98264V11.3036H5.98512ZM3.99007 11.3036H2.99255V12.3011H3.99007V11.3036ZM3.99007 8.31107V7.31355H2.99255V8.31107H3.99007ZM5.98512 8.31107H6.98264V7.31355H5.98512V8.31107ZM3.99007 6.316H11.9702V4.32095H3.99007V6.316ZM10.9727 5.31847V7.31355H12.9678V5.31847H10.9727ZM4.9876 7.31355V5.31847H2.99255V7.31355H4.9876ZM11.9702 7.31355H6.98264V9.30859H11.9702V7.31355ZM5.98512 8.31107V11.3036H7.98016V8.31107H5.98512ZM6.98264 12.3011H11.9702V10.3061H6.98264V12.3011ZM12.9678 11.3036V8.31107H10.9727V11.3036H12.9678ZM5.98512 10.3061H3.99007V12.3011H5.98512V10.3061ZM4.9876 11.3036V8.31107H2.99255V11.3036H4.9876ZM3.99007 9.30859H5.98512V7.31355H3.99007V9.30859ZM4.9876 8.31107V11.3036H6.98264V8.31107H4.9876ZM11.9702 6.31603H3.99007V8.31107H11.9702V6.31603ZM3.99007 12.3011V4.32095H1.99503V12.3011H3.99007ZM2.99255 5.31847H12.9678V3.32343H2.99255V5.31847ZM11.9702 4.32095V12.3011H13.9653V4.32095H11.9702ZM12.9678 11.3036H2.99255V13.2986H12.9678V11.3036Z",fill:"white",mask:"url(#path-2-inside-1_1042_9371)"}))}function BW(e){let[t,a]=(0,BL.sh)(e.normJobPrefix);return ep.createElement("div",{className:"templates_bar--headerTitle--m5Vbg text--fontPos13--xW8hS text--_fontBase--QdLsd"},t??ep.createElement(e$.Tx,{id:"file_browser.templates_shelf.title"}))}function BV(e){let t=(0,eg.wA)(),a=e.hubFile,r=a.id,n=null!==e.duplicatingHubId,l=e.duplicatingHubId===r,i=a&&(0,tO.a6)(e.hubFile),s=n=>{n.stopPropagation(),e.setDuplicatingHubId(r),t(tI.rL({hubFileId:r,hubFileName:(null==i?void 0:i.name)||"this file",openInNewTab:!1,folderId:e.folderId,source:up.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,al.Cu)({fileKey:t,rank:e.rank,templateId:r,productType:a.viewer_mode===lB.y4.WHITEBOARD?"figjam":"design"},"topbar_template_selected"),(0,BA._)("resource_inserted",{fileKey:t,resourceId:r,resourceName:i.name,resourceType:"template",templateType:BR.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return a?ep.createElement(Bw.zq,{containerStyle:"templates_bar--templatesTileContainer--hTKQ-",onClick:n?void 0:s,image:ep.createElement(Bw.FK,{backgroundColor:(0,lD.Cn)(a.client_meta),removeBorder:!0,className:"templates_bar--templatesTileImage--bDNev",customRatioClassName:"templates_bar--imageRatio--Dr7uR"},ep.createElement(Bw.zx.Cover,null,ep.createElement("button",{className:"templates_bar--hoverOverlay--QIEvX browse_templates_modal--hoverOverlay--sFj3y",onClick:s,disabled:n})),ep.createElement(Bw.zx.Center,null,ep.createElement(u9.$$,{onClick:s,className:"templates_bar--useTemplateButton--CWxra",disabled:n,tabIndex:-1},l?ep.createElement(e8.kt,{size:"medium"}):ep.createElement(e$.Tx,{id:"file_browser.new_file_creation_topbar.use_templates"}))),ep.createElement(rW.Ho,{image:e.overrideThumbnailUrl||a.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!a.thumbnail_is_set,isWhiteboard:a.viewer_mode===lB.y4.WHITEBOARD,hubFileId:a.id,alt:(0,tO.a6)(a).name,imageClassName:"templates_bar--thumbnailImage--DWIMN",resizedThumbnailUrls:a.resized_thumbnail_urls})),bottomRow:ep.createElement(Bw.Wf.NameMetadata,{name:i.name,className:"templates_bar--tilesBottomRowContainer--SSuN1",textClassName:"templates_bar--tileBottomRowNameOnly--UNxtD text--fontPos13--xW8hS text--_fontBase--QdLsd"}),bottomRowStyle:"templates_bar--bottomRowStyle--ozdyD"}):null}function BG(e){let t=(0,eg.wA)();return ep.createElement("div",{className:"templates_bar--tabs--17Jyk text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(BS.GG,{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("file_browser.templates_shelf.search_tooltip"),"aria-label":(0,e$.t)("file_browser.templates_shelf.search_tooltip"),className:"templates_bar--searchButton--WVmXI templates_bar--headerIcon--mb0fo",onClick:()=>{(0,al.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_search_clicked"),(0,BO.KF)(t,{templateInsertionLocation:tO.RD.NEW_FILE,triggeredFrom:"templatesShelfSearch"})}},ep.createElement(le.In,{icon:"search-32"})),e.tabs.map(t=>ep.createElement(B$,{key:t.tabKey,tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab})))}function B$(e){return ep.createElement(BS.GG,{className:eS()({"templates_bar--tab--qvVIz":!0,"templates_bar--activeTab--N8Kqo":e.isActive}),onClick:()=>{(0,al.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)}},e.tab.tabTitle)}function Bj(e){let t=e.team&&(0,yI.D)(e.team.id,e.team.org_id),a=(0,t5.Rs)(ai.d3q,{projectId:e.folderId||"0"}),r=ep.useMemo(()=>{if(a&&"loaded"===a.status&&a.data)return(0,t5.oA)(a.data.project)},[a]),n=(0,um.gj)(e.folderId||null,lB._Y.WHITEBOARD),l=(0,um.gj)(e.folderId||null,lB._Y.DESIGN),i=t&&r?(0,t5.oA)(r.canCreateFigJamFileV2)&&(0,t5.oA)(r.canEdit):n,s=t&&r?(0,t5.oA)(r.canCreateDesignFileV2)&&(0,t5.oA)(r.canEdit):l,o=(0,tR.TA)(),c=e.team&&hW.ng.getProTrialStatus(e.team)===FE.a.IN_TRIAL,{recommendedTemplatesIsOpen:d,toggleRecommendedTemplates:m}=e,u=ep.useCallback(()=>{m(),(0,al.Cu)({userId:o,opening:!d},"topbar_recommended_templates_toggled")},[d,o,m]),_=!c&&!e.disableRecommendedTemplates&&i;return!eb.Ay.mobile&&(s||i)?ep.createElement(ep.Fragment,null,_&&ep.createElement(BD,{isShowing:e.recommendedTemplatesIsOpen,onClose:u,folderId:e.folderId,newFileFrom:e.newFileFrom}),c&&ep.createElement(BC,{teamId:e.team.id})):null}(0,tZ.r1)("dismissed_figjam_ai_file_browser_bar"),Bj.displayName="NewFileCreationTopbar";var BH=a(752971);function Bq(e){let[t,a]=ep.useState(!1),[r]=ep.useState(()=>new BH.W),{isSelected:n,selectPinnedFile:l,file:i,index:s,openFile:o}=e,c=ep.useCallback(e=>{t?(n&&l(i.file,e),o(i.file,e,s)):(l(i.file,e),r.reset(),r.scheduleOnce(()=>{a(!1)},500),a(!0),e.preventDefault(),e.stopPropagation())},[r,s,n,o,i.file,l,t]);ep.useEffect(()=>()=>r.reset(),[r]);let d=e.file.file,m=t?(0,uu.jN)({file:e.file.file}):void 0;return m&&(m=(0,l2.mc)(m,e.user),m=(0,l2.vk)(m,e.currentOrgId,e.currentTeamId,e.selectedView)),ep.createElement("a",{className:eS()(Pd.GC,{[Pd.GV]:e.isSelected}),href:m,rel:"noopener",onClick:c,onContextMenu:t=>{e.onFileContextMenu(e.file.file,t,e.index)}},ep.createElement("div",{className:Pd.PP},ep.createElement(fw.H,{file:{key:d.key,editor_type:d.editorType,client_meta:(0,eh.kc)().thumbnail_lg_client_meta?d.checkpointClientMeta||null:d.clientMeta,thumbnail_url:d.thumbnailUrl,thumbnail_url_override:d.thumbnailUrlOverride,thumbnail_guid:d.thumbnailGuid,has_file_link_password:d.hasFileLinkPassword,link_access:d.linkAccess,touched_at:null,updated_at:null},fillContainer:!0})),ep.createElement("div",{className:Pd.q6},ep.createElement("div",{className:Pd.z6},ep.createElement(du.E,{fontSize:13,fontWeight:"medium",truncate:!0},d.name)),ep.createElement("div",{className:Pd.h7},e.file.pinnedByUser?ep.createElement(du.E,{i18nId:"tile.file_tile.pinned_by_user",i18nParams:{name:e.file.pinnedByUser.name},fontSize:11,fontWeight:"regular",truncate:!0}):ep.createElement(du.E,{i18nId:"tile.file_tile.pinned_just_now",fontSize:11,fontWeight:"regular",truncate:!0}))))}let Bz="tile-actions-dropdown";function BY(e){let t=ep.useRef(null),a=ep.useRef(null),r=ep.useRef(null),n=ep.useRef(null),l=ep.useRef(null),{dropdownShown:i,selectedView:s,tileSelect:o,fileByKey:c,currentOrgId:d,currentTeamId:m,user:u}=(0,O5.R)(e=>({dropdownShown:e.dropdownShown,selectedView:e.selectedView,tileSelect:e.tileSelect,fileByKey:e.fileByKey,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user})),_=(0,eg.wA)(),p=ep.useCallback((e,t,a,r)=>{let n=t.shiftKey&&t.altKey;if(e.type===E1.nb.PINNED_FILE&&o&&o[E9.F.PINNED_FILES]){if(o[E9.F.PINNED_FILES][e.file.key]){_(tL.j7({type:Bz,data:{tile:e,targetRect:a,index:r,enableRestore:n}}));return}if(t.shiftKey||t.metaKey||t.ctrlKey){_(EQ.y$({type:E9.F.PINNED_FILES,tiles:[e]})),_(tL.j7({type:Bz,data:{tile:e,targetRect:a,index:r,enableRestore:n}}));return}}t.shiftKey||t.metaKey||t.ctrlKey||_(EQ.an()),_(EQ.y$({type:E9.F.PINNED_FILES,tiles:[e]})),_(tL.j7({type:Bz,data:{tile:e,targetRect:a,index:r,enableRestore:n}}))},[_,o]),g=ep.useCallback((e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};p({type:E1.nb.PINNED_FILE,file:e},t,r,a)},[p]),E=ep.useCallback((e,t)=>{if(i){_(tL.oB());return}if(eb.Ay.mobile||eb.Ay.tablet){ef.Ay.redirect((0,uu.jN)({file:e}));return}t.stopPropagation();let a=o&&o[E9.F.PINNED_FILES]&&o[E9.F.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)a?_(EQ.TK({tileKeys:[e.key]})):_(EQ.y$({type:E9.F.PINNED_FILES,tiles:[{type:E1.nb.PINNED_FILE,file:e}]}));else{if(a)return;_(EQ.an()),_(EQ.y$({type:E9.F.PINNED_FILES,tiles:[{type:E1.nb.PINNED_FILE,file:e}]}))}},[_,i,o]),f=ep.useCallback((e,t)=>{var a,r;eE.eD&&(0,tn.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(s)}),_(mB.UN({fileKey:e.key,entrypoint:"pinned files"}));let n=eb.Ay.mac?t.metaKey:t.ctrlKey,l=null;if(n&&t.shiftKey?l=eE.aw.FOCAL_TAB:n?l=eE.aw.BACKGROUND_TAB:t.shiftKey&&(l=eE.aw.NEW_WINDOW),null!=l){_(tL.oB()),eE.eD&&(t.preventDefault(),t.stopPropagation(),eE.eD.openFile({fileKey:e.key,title:e.name||"Untitled",editorType:e.editorType,target:l,isTeamTemplate:e.isTeamTemplate,userId:null==u?void 0:u.id}));return}t.preventDefault(),t.stopPropagation(),_(Pe.p4({planId:d||Ps.P}));let i=s&&("recentsAndSharing"===s.view||"folder"===s.view)?s:void 0,o=(0,eh.kc)().ps_benchmark;(0,l2.N7)(d,null==(a=c[e.key])?void 0:a.parent_org_id,m,null==(r=c[e.key])?void 0:r.team_id)?(0,l2.QV)(e.key,u,d,o?m:null,s):_(tL.$T({view:"fullscreen",fileKey:e.key,editorType:e.editorType??"design",prevSelectedView:i}))},[_,d,m,c,s,u]),h=ep.useCallback(()=>{var t;let a=!1,r=null;return i&&i.type===Bz&&i.data&&i.data.tile&&i.data.tile.type===E1.nb.PINNED_FILE&&(a=!0,r=null==(t=null==i?void 0:i.data)?void 0:t.tile),ep.createElement(Pb.i,{...e,tile:r,openTile:e=>{(null==r?void 0:r.file)&&f(r.file,e)},dropdownVisible:a})},[i,f,e]),v=ep.useCallback(e=>{(e.target===t.current||e.target===a.current||e.target===r.current||e.target===l.current||n.current&&n.current.contains(e.target))&&(_(tL.oB()),_(EQ.an()))},[_]),b=o[E9.F.PINNED_FILES],y=Pw+` ${Pd.dp}`;ep.useEffect(()=>{if(eb.Ay.mobile&&eb.Ay.safari&&t.current){let e=t.current.className;window.addEventListener("load",()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)})}},[]);let w=ep.useMemo(()=>e.files.map(e=>{var t;return null==(t=e.file)?void 0:t.key}).filter(e=>!!e),[e.files]);return(0,D3.iu)(w,!!(0,eh.kc)().tile_action_dropdown_lg),ep.createElement("div",{className:"tiles_view--pinnedContainer--b-AJl",onMouseDown:v,ref:t},ep.createElement("div",{className:y,ref:a},ep.createElement("div",{ref:r,key:"grid",className:eS()(Py,"tiles_view--tilesGridPinned--KRPsq")},e.files.map((e,t)=>{let a=!!(b&&b[e.file.key]);return ep.createElement(Bq,{file:e,openFile:f,index:t,onFileContextMenu:g,isSelected:a,selectPinnedFile:E,key:`file-${e.file.key}`,currentOrgId:d,currentTeamId:m,selectedView:s,user:u})}))),h())}function BK(e){return ep.createElement("div",{className:eS()("starter_team_overview_item--container--zUiy2",{"starter_team_overview_item--containerDisabled--US4qT":e.disabled,"starter_team_overview_item--containerDefault--tZ7Uf":!e.disabled})},ep.createElement(eL.B,{className:"starter_team_overview_item--icon--OpyCt",svg:e.icon}),ep.createElement("p",{className:"starter_team_overview_item--text--0KPWH"},e.text))}var BJ=a(174726),BZ=a(965821);function BQ(e){var t,a,r,n;let l=(0,t5.Rs)(ai.bel,{teamId:e.teamId});if("loaded"!==l.status)return null;let i=(null==(a=null==(t=l.data.team)?void 0:t.teamFileCounts)?void 0:a.designFileCount)??0,s=(null==(n=null==(r=l.data.team)?void 0:r.teamFileCounts)?void 0:n.whiteboardFileCount)??0;return ep.createElement(ep.Fragment,null,ep.createElement(BK,{icon:BZ.A,text:(0,e$.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:i,maxFreeFiles:pM.WW})}),ep.createElement(BK,{icon:BJ.A,text:(0,e$.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:s,maxFreeFiles:pM.WW})}))}function BX(e){return ep.createElement("div",{className:"starter_team_overview--container--MAjuS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},ep.createElement("div",{className:"starter_team_overview--header--x0fxV text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.folder.starter_team_overview"})),ep.createElement("div",{className:"starter_team_overview--detailsWithFigjam--HLbbz"},ep.createElement(BQ,{teamId:e.team.id})))}function B0({team:e}){let t=(0,eg.wA)(),a=ep.createElement(eI.tM,{key:"upgrade_button",className:eS()(eT.cx.flex.itemsCenter.justifyCenter.mt8.$,"starter_team_project_upsell_footer--primaryCtaButton--SfjSr basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"),innerText:(0,e$.t)("file_browser.starter_team.view_plans"),onClick:()=>{t((0,e0.to)({type:hc.V,data:{teamId:e.id,upsellSource:pZ.b.STARTER_TEAM_PROJECT_FOOTER}}))},trackingProperties:{trackingDescriptor:o3.c.VIEW_PLANS}},ep.createElement(e$.Tx,{id:"file_browser.starter_team.view_plans"}));return ep.createElement("div",{className:eS()(eT.cx.flex.p32.mt16.mb16.bRadius6.justifyCenter.colorBorder.$,"starter_team_project_upsell_footer--borderStyle--wGL35"),"data-testid":"StarterTeamProjectUpsellFooter"},ep.createElement("div",{className:eS()(eT.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_project_upsell_footer--contentWrapper--22mjT")},ep.createElement(du.E,{fontWeight:"semi-bold",fontSize:18,i18nId:"file_browser.starter_folder.ready_for_an_upgrade"}),ep.createElement("div",{className:eT.cx.alignCenter.mt8.$},ep.createElement(du.E,{fontSize:13,i18nId:"file_browser.starter_folder.folder_upgrade_info"})),ep.createElement(BQ,{teamId:e.id}),a))}let B1="upgrade_section--sidebarDivider--8emKU",B2="upgrade_section--teamProUpgrade--3X-un text--fontPos11--2LvXf text--_fontBase--QdLsd",B4="upgrade_section--upsellDescription--imWwC text--fontPos13--xW8hS text--_fontBase--QdLsd";class B3 extends ep.Component{constructor(){super(...arguments),this.canSeeProUpsell=()=>this.props.isTeamStarter&&this.props.canUserUpgradeTeamToPro,this.canSeeSingleTeamOrgUpsell=()=>this.props.canUserUpgradeTeamToOrg&&this.props.orgUpsellEligibility===uU.VY.SINGLE_TEAM,this.canSeeMultiTeamOrgUpsell=()=>this.props.canUserUpgradeTeamToOrg&&this.props.orgUpsellEligibility===uU.VY.MULTIPLE_TEAMS,this.getOrgUpgradePrompt=()=>this.canSeeSingleTeamOrgUpsell()?(0,e$.t)("team_view.upgrade.org_upgrade"):this.canSeeMultiTeamOrgUpsell()?(0,e$.t)("team_view.upgrade.multi_team_org_upgrade"):void 0,this.getTrackingContextName=()=>this.canSeeSingleTeamOrgUpsell()?pZ.b.SINGLE_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:this.canSeeMultiTeamOrgUpsell()?pZ.b.MULTI_TEAM_EVERGREEN_ORG_UPGRADE_SECTION:this.props.canSeeProTrialUx?pZ.b.PRO_TRIAL_UPSELL_MODAL:pZ.b.UPGRADE_SECTION}render(){let e=this.canSeeSingleTeamOrgUpsell()||this.canSeeMultiTeamOrgUpsell();return this.canSeeProUpsell()||e||this.props.canSeeProTrialUx?e?ep.createElement(eH.fu,{name:this.getTrackingContextName(),properties:{buttonColor:h0.m.BLUE}},ep.createElement("div",{className:B1}),ep.createElement("p",{className:B4},this.getOrgUpgradePrompt()),ep.createElement("div",{className:B2},ep.createElement(eI.vd,{onClick:this.props.launchOrgUpgrade,trackingProperties:{teamId:this.props.teamId,trackingDescriptor:o3.c.UPGRADE,upsellSource:this.getTrackingContextName()}},ep.createElement(e$.Tx,{id:"team_view.upgrade.upgrade"})))):this.props.canSeeProTrialUx?ep.createElement(eH.fu,{name:this.getTrackingContextName(),properties:hW.ng.getTrackingProperties()},ep.createElement("div",{className:B1}),ep.createElement("p",{className:"upgrade_section--upsellTitle--jx9FJ text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(du.E,{i18nId:"team_view.upgrade.pro_trials.title",fontSize:13,fontWeight:"medium"})),ep.createElement("p",{className:B4},ep.createElement(du.E,{i18nId:"team_view.upgrade.pro_trials.description",fontSize:13})),ep.createElement("div",{className:B2},ep.createElement(eI.vd,{onClick:this.props.showPlanComparisonModal(this.getTrackingContextName()),trackingProperties:{teamId:this.props.teamId,trackingDescriptor:o3.c.UPGRADE_TO_PROFESSIONAL}},ep.createElement(e$.Tx,{id:"team_view.upgrade.pro_trials.upgrade_to_professional_cta"})))):ep.createElement(eH.fu,{name:this.getTrackingContextName()},ep.createElement("div",{className:B1}),ep.createElement("p",{className:B4},ep.createElement(eI.Us,{onClick:this.props.showPlanComparisonModal(this.getTrackingContextName()),trackingProperties:{trackingDescriptor:o3.c.UPGRADE_YOUR_TEAM},trusted:!0},ep.createElement(e$.Tx,{id:"team_view.upgrade.upgrade_your_team"})),ep.createElement(e$.Tx,{id:"team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"}))):null}}B3.displayName="UpgradeSection";let B8=(0,eg.Ng)((e,t)=>{var a;let r=e.teams[t.teamId];return{canUserUpgradeTeamToPro:r&&!r.org_id&&!r.subscription&&(0,mG.canEditTeam)(r.id,e),orgUpsellEligibility:(0,uU.hF)(e,e),isTeamStarter:r&&!(0,pM.w5)(r),canUserUpgradeTeamToOrg:(0,uU.mW)(e,r),userIsInAnOrg:(0,uW.Yj)(e),userId:(null==(a=e.user)?void 0:a.id)||null,userFlags:e.userFlags}},null,(e,t,a)=>{let{orgUpsellEligibility:r}=e,{dispatch:n}=t;return{showPlanComparisonModal:e=>()=>{n((0,e0.to)({type:hc.V,data:{teamId:a.teamId,upsellSource:e}}))},launchOrgUpgrade:()=>{r===uU.VY.SINGLE_TEAM&&n((0,e0.to)({type:hP,data:{upsellSource:pZ.b.ORG_UPGRADE_SECTION}})),r===uU.VY.MULTIPLE_TEAMS&&n((0,e0.to)({type:hA,data:{upsellSource:pZ.b.ORG_UPGRADE_SECTION}}))},...e,...a}})(B3);function B5(e){let t=(0,h4.TN)(e.teamId),a=hW.ng.canSeeProTrialUx(t);return ep.createElement(B8,{teamId:e.teamId,canSeeProTrialUx:a})}function B6(e){let t=e.tiles,{fileTilesByFileKey:a,repoTilesByRepoId:r,prototypeTilesByPrototypeId:n}=ep.useMemo(()=>{let e={},a={},r={};return t.forEach(t=>{var n,l,i;if(t)switch(t.type){case E1.nb.FILE:let s=null==(n=t.file)?void 0:n.key;s&&(e[s]=t);break;case E1.nb.REPO:let o=null==(l=t.repo)?void 0:l.id;o&&(a[o]=t);break;case E1.nb.PROTOTYPE:let c=null==(i=t.prototype)?void 0:i.id;c&&(r[c]=t)}}),{fileTilesByFileKey:e,prototypeTilesByPrototypeId:r,repoTilesByRepoId:a}},[t]),{fileKeys:l,repoIds:i,prototypeIds:s}=ep.useMemo(()=>({fileKeys:Object.keys(a),prototypeIds:Object.keys(n),repoIds:Object.keys(r)}),[a,n,r]),{isLoaded:o,permsByFileKey:c}=(0,D3.t5)(l),{isLoaded:d,permsByPrototypeId:m}=(0,D8.fI)(s),{isLoaded:u,permsByRepoId:_}=(0,D5.BS)(i);return l.forEach(e=>{a[e].filePerms=c[e]}),s.forEach(e=>{n[e].prototypePerms=m[e]}),i.forEach(e=>{r[e].repoPerms=_[e]}),ep.createElement(PU,{tileActions:e.tileActions,sortFilterOptions:e.sortFilterOptions,newFileTile:e.newFileTile,emptyStateText:e.emptyStateText,hideSorter:e.hideSorter,isFolder:e.isFolder,sharedWithYouFilters:e.sharedWithYouFilters,tiles:t,permsByFileKey:c,permsByRepoId:_,permsByPrototypeId:m,useLGPerms:!0,areLGPermsLoaded:o&&d&&u})}var B9=a(754662);class B7 extends ep.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(tL.$T({view:"user",userId:t.id,userViewTab:Ns.o.INTERNAL_PROFILE}))}}componentDidMount(){B9.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return ep.createElement("div",{className:"contributors--contributors--q3Ycv text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement("div",{className:"contributors--contributorsHeader--74xhE"},ep.createElement(e$.Tx,{id:"file_browser.folder.recent_contributors"})),ep.createElement(eV.x,{className:"contributors--loading--TWuwa",isLoading:!this.state.contributors},()=>ep.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>ep.createElement(e7.az,{key:t.user.id,className:"contributors--contributorAvatar--3GcQw",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&ep.createElement("div",{className:"contributors--contributorEmpty--A202a text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.folder.people_who_have_edited_this_project_will_appear_here"})))))}}let Ue=(0,eg.Ng)((e,t)=>{let a=e.folders[t.folderId],r=a&&a.team_id?e.teams[a.team_id]:null;return{folderOrg:r&&r.org_id?e.orgById[r.org_id]:null,currentUserId:e.user?e.user.id:null}})(B7);var Ut=a(329734);function Ua(e,t,a,r,n){let l=(0,Ut.Bq)(r),i=(0,eg.wA)(),s=(0,tR.TA)(),o=(0,eg.d4)(e=>{let t=r?e.folders[r]:void 0;return t&&t.team_id?e.teams[t.team_id]:void 0});return(0,ep.useCallback)(c=>{i((0,us.zE)({state:l,editorType:e,team:o,from:t,openNewFileIn:(0,ou.oJ)(c)?up.ai.NEW_TAB:up.ai.SAME_TAB,folderId:n?r:void 0,callback:e=>{(0,al.Cu)({userId:s,fileKey:e},a)}}))},[a,i,e,r,o,n,t,l,s])}var Ur=a(878301),Un=a(871692);let Ul=(0,am.Ju)(function({folder:e}){let t=(0,eg.wA)();return ep.createElement(NR.c,{initialName:e.name,placeholder:(0,e$.t)("resource_rename_modal.project.placeholder"),submitText:(0,e$.t)("resource_rename_modal.project.submit"),onRename:a=>{t((0,gR.xv)({folderId:e.id,folderName:a})),t((0,gL.TI)())},maxLength:eI.wG})},"FolderRenameModal");var Ui=((K=Ui||{}).FB_PROJECT_VIEWER="fb_project_viewer",K);let Us=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=function(e){switch(e){case uP.Te.DESIGN:return ep.createElement(e$.Tx,{id:"org_upgrade.viewer_upgrade_confirm_title_design"});case uP.Te.WHITEBOARD:return ep.createElement(e$.Tx,{id:"org_upgrade.viewer_upgrade_confirm_title_figjam"});default:(0,eC.xb)(e)}}(e.licenseType);return ep.createElement(sn.XV,{title:a,maxWidth:360,minWidth:360,onClose:()=>{t(e0.Lo())},headerClassName:"confirm_viewer_upgrade_modal--headerRow--h12cH",dataTestId:"confirm_viewer_upgrade_modal"},ep.createElement("div",{className:"confirm_viewer_upgrade_modal--contentContainer--h0lhe"},function(e,t){let a=ep.createElement(e$.Tx,{id:"org_upgrade.action_text.upgrade_to_paid_seat"});return"fb_project_viewer"===e?t===uP.Te.DESIGN?ep.createElement(e$.Tx,{id:"org_upgrade.action_text.create_edit_import_design_files",requestUpgradeInstructions:a}):t===uP.Te.WHITEBOARD?ep.createElement(e$.Tx,{id:"org_upgrade.action_text.create_edit_import_figjam_boards",requestUpgradeInstructions:a}):ep.createElement(e$.Tx,{id:"org_upgrade.action_text.edit_files",requestUpgradeInstructions:a}):ep.createElement(e$.Tx,{id:"org_upgrade.action_text.edit_files",requestUpgradeInstructions:a})}(e.upgradeReason,e.licenseType),ep.createElement("div",{className:"confirm_viewer_upgrade_modal--buttonRowRight--3p83I"},ep.createElement(u9.vd,{onClick:e.onConfirm},ep.createElement(e$.Tx,{id:"org_upgrade.action_text.upgrade_now"})))))},"CONFIRM_VIEWER_UPGRADE_MODAL");var Uo=a(159331);function Uc(e){let t=(0,eg.wA)(),a=ep.useRef(null),r=(0,eg.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,l=gY.findDOMNode(a.current),i=[];return e.canCreateDesignFile&&i.push(ep.createElement(pv.W.Option,{key:"new-design-file",children:ep.createElement(ep.Fragment,null,ep.createElement(_7.oS,{className:eT.cx.pr6.$,size:_7.LE.SMALL,type:_7.y1.DESIGN}),ep.createElement(e$.Tx,{id:"file_browser.tool_bar.new_design_file"})),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&i.push(ep.createElement(pv.W.Option,{key:"new-figjam-board",children:ep.createElement(ep.Fragment,null,ep.createElement(_7.oS,{className:eT.cx.pr6.$,size:_7.LE.SMALL,type:_7.y1.WHITEBOARD}),ep.createElement(e$.Tx,{id:"file_browser.tool_bar.new_figjam_board"})),onClick:e.onNewWhiteBoardClick})),ep.createElement("button",{className:eS()(eT.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--EMhKI"),ref:a,onClick:a=>{e.dropdownKey&&l&&t(tL.j7({type:e.dropdownKey,data:{targetRect:null==l?void 0:l.getBoundingClientRect()}}))}},ep.createElement(eL.B,{svg:O1.A,className:eS()(eT.cx.pr6.$,"new_file_toolbar_dropdown--svg--i6V7L")}),ep.createElement(e$.Tx,{id:"file_browser.tool_bar.new"}),n&&ep.createElement(Uo.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},i))}var Ud=a(558011);function Um(e){var t,a,r,n;let l=(0,eg.wA)(),i=ep.useRef(null),s=(0,eg.d4)(({dropdownShown:e})=>e),o=(0,eg.d4)(t=>(0,fv.oq)(e.folder.id,t))??null,c=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),d=(0,Ew.S)(),m=(0,p8.Q)({currentOrgId:o,currentTeamId:null}),u=ep.useMemo(()=>{if("loaded"===m.status)return(0,gO.T0)(m.data,e.folder.id)},[m,e.folder.id]);if("loaded"!==m.status)return ep.createElement("div",{className:eT.cx.flex.itemsCenter.colorIcon.$},ep.createElement(eL.B,{svg:rN.A}));let _=(0,gO.gV)(m.data,o),p=e.dropdownKey&&s&&s.type===e.dropdownKey&&s.data&&s.data.targetRect,g=i.current&&(null==(t=null==s?void 0:s.data)?void 0:t.targetRef)===i.current&&(null==s?void 0:s.type)===fg.Ne,E=i.current,f=[];return e.folder.canCreateDesignFile&&f.push(ep.createElement(pv.W.Option,{key:"import",children:ep.createElement(e$.Tx,{id:"file_browser.folder.import"}),onClick:e.onImportClick})),e.folder.canView&&f.push(ep.createElement(pv.W.Option,{key:"share",children:ep.createElement(e$.Tx,{id:"file_browser.folder.share"}),onClick:e.onShareClick})),e.setFavorite&&(d?f.push(ep.createElement(pv.W.Option,{key:"add-to-favorites-section",children:ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.w150.$},ep.createElement(e$.Tx,{id:"favorited_resources.add_to_sidebar"}),ep.createElement(eL.B,{svg:Ud.A})),onClick:t=>{t.stopPropagation(),i.current&&l(tL.j7({type:fg.Ne,data:{targetRect:E.getBoundingClientRect(),targetRef:E,resourceId:e.folder.id}}))}})):f.push(ep.createElement(pv.W.Option,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?ep.createElement(e$.Tx,{id:"sidebar.remove_from_favorites"}):ep.createElement(e$.Tx,{id:"sidebar.add_to_favorites"}),onClick:t=>{t.stopPropagation(),l(gL.ZJ({folderId:e.folder.id,folderName:e.folder.path,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),ep.createElement("button",{className:eT.cx.flex.itemsCenter.colorIcon.$,ref:i,onClick:t=>{e.dropdownKey&&E&&l(tL.j7({type:e.dropdownKey,data:{targetRect:null==E?void 0:E.getBoundingClientRect()}}))}},ep.createElement(eL.B,{svg:rN.A}),p&&ep.createElement(Uo.Cf,{targetRect:s.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},f),g&&ep.createElement(fg.tZ,{updateFavorite:(t,a)=>{(!_||t)&&(e.setFavorite&&e.setFavorite(t,null==u?void 0:u.resource.id,a),t&&a&&(c.delete(a),l(gJ.U6({collapsedCustomSections:c})),Eq.Fp({type:"topLevel",id:"custom",orgId:o,sectionId:a},!0)))},resourceId:e.folder.id,resourceType:lB.bk.FOLDER,isFavorited:void 0!==u,currentSectionId:(null==u?void 0:u.resource.sidebarSectionId)??void 0,sections:m.data.currentUser.userSidebarSections??[],customSectionOrdering:(null==(n=null==(r=null==(a=m.data.currentUser)?void 0:a.baseOrgUser)?void 0:r.fileBrowserPreferences)?void 0:n.orderedSidebarSections)??[],showPoint:!0}))}var Uu=a(122454),U_=a(300013),Up=a(714236);function Ug({folder:e,user:t,dispatch:a,team:r,shouldShowRenameModal:n,onClaimClick:l,lgFolder:i,scTeamUpdatedExperience:s}){var o,c,d,m,u,_,p,g;let[E,f]=ep.useState(void 0),h=()=>{e.name&&P&&(a(gL.WC()),a(e0.to({type:Ul,data:{folder:e}})))},v=()=>{CW.S.getFolderTransfer({folderId:e.id}).then(({data:e})=>{f(e.meta)},e=>{f(void 0)})};(0,tz.h)(()=>{v()}),(0,tz.h)(()=>{n&&h()});let b=(0,uF.fn)()===uF.ih.CONTROL,y=(0,mG.usePermissionsState)(),w=(0,eg.d4)(e=>e.currentUserOrgId),T=(0,eg.d4)(e=>e.teamRoleRequests),x=ep.useMemo(()=>{var e;return!s&&(null==(e=y.user)?void 0:e.id)!=null&&null!=r&&(0,mG.canViewTeam)(r.id,y)&&!(0,mG.hasMinRole)((0,mG.getRolesForUserAndTeam)(r.id,y),m5.e.VIEWER)},[y,r,s]),C=ep.useMemo(()=>{var t,a;return s?i&&i.team&&(null==(t=(0,v9.oA)(i.team.org))?void 0:t.id):null==(a=e.team)?void 0:a.org_id},[e,s,i]),N=ep.useMemo(()=>{var t;return s?i&&i.team&&i.team.id:null==(t=e.team)?void 0:t.id},[e,s,i]),k=ep.useMemo(()=>{var e;return s?!!(null==(e=null==i?void 0:i.team)?void 0:e.canAdmin):!!r&&(0,mG.canAdminTeam)(r.id,y)},[y,r,s,i]),S=ep.useMemo(()=>s?k:x&&k,[x,k,s]),I=()=>{ae.Ay.del(`/api/asset_transfer/${null==E?void 0:E.id}`).then(()=>{f(void 0),a(t6.F.enqueue({message:"Transfer revoked."}))},e=>{a(t6.F.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))})},A=()=>{a(e0.to({type:fe.W,data:{folderId:e.id}}))},L=ep.useMemo(()=>{let t=!s&&!x&&!k&&e&&null!==w&&!(0,mG.canEditFolder)(e.id,y)&&!e.is_invite_only&&!e.is_view_only,a=s&&!k&&e&&null!==w&&!(null==i?void 0:i.canEdit);return t||a},[x,k,e,w,y,s,i]),R=ep.useMemo(()=>s&&i&&"loaded"===i.canCreateFigJamFileV2.status?i.canCreateFigJamFileV2.data&&i.canEdit:e.canCreateWhiteboardFile,[e,i,s]),O=ep.useMemo(()=>s&&i&&"loaded"===i.canCreateDesignFileV2.status?i.canCreateDesignFileV2.data&&i.canEdit:e.canCreateDesignFile,[e,i,s]),F=O&&null!==w&&(0,U_.i)(),M=R||O,D=ep.useMemo(()=>s&&i?i.canRead:e.canView,[e,i,s]),P=ep.useMemo(()=>s&&i?i.canEdit:e.canEdit,[e,i,s]),B=ep.useMemo(()=>s&&i?(0,v9.oA)(i.isEditingLockedForUser):e.isEditingLocked,[e,i,s]),U=ep.useMemo(()=>{if(L&&T&&r&&T[r.id]&&T[r.id].status===Un.c.PENDING)return T[r.id].id},[L,T,r]);ep.useEffect(()=>{L&&w&&a((0,pE.Rw)())},[L,a,w]);let W=(0,EX.jm)(C,N),V=(0,Ew.S)(),G=N?(0,xb.GR)(a,N):()=>{},$=N?(0,xb.GR)(a,N,m5.e.ADMIN):()=>{},j=(0,f8.a)(),H=(null==(c=null==(o=null==i?void 0:i.team)?void 0:o.org)?void 0:c.status)==="loaded"?null==(u=null==(m=null==(d=null==i?void 0:i.team)?void 0:d.org)?void 0:m.data)?void 0:u.currentBaseOrgUser:null,q=(null==(p=null==(_=null==i?void 0:i.team)?void 0:_.currentTeamUser)?void 0:p.status)==="loaded"?null==(g=null==i?void 0:i.team)?void 0:g.currentTeamUser.data:null,z=(0,ey.I7)("exp_pro_upgrade_project_view"),Y=(0,ey.I7)("exp_org_upgrade_project_view"),K=(e,t)=>{var a,r,n,l,i,s;return!!((e===ro._YF.WHITEBOARD?H&&H.whiteboardPaidStatus===lB.El.STARTER||q&&q.whiteboardPaidStatus===pO.Zf.STARTER:e===ro._YF.DESIGN&&(H&&H.designPaidStatus===lB.El.STARTER||q&&q.designPaidStatus===pO.Zf.STARTER))&&t&&t.team&&(null==(a=t.team)?void 0:a.isStarterTeam.status)==="loaded"&&!(null==(n=null==(r=t.team)?void 0:r.isStarterTeam)?void 0:n.data)&&(null==(l=t.team)?void 0:l.isStudentTeam.status)==="loaded"&&!(null==(s=null==(i=t.team)?void 0:i.isStudentTeam)?void 0:s.data)&&(H&&Y.getConfig().getValue("showExp",!1)&&t.canEdit||q&&z.getConfig().getValue("showExp",!1)&&t.canEdit))},J=(e,t)=>K(t,i)?()=>{a(e0.to({type:Us,data:{upgradeReason:Ui.FB_PROJECT_VIEWER,licenseType:(0,uP.vc)(t),onConfirm:e}}))}:e,Z=Ua(lB._Y.DESIGN,up.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_design_created",e.id,!!(s&&!r&&i&&i.canEdit)),Q=Ua(lB._Y.WHITEBOARD,up.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_figjam_created",e.id,!!(s&&!r&&i&&i.canEdit)),X=Ua(lB._Y.SLIDES,up.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_slides_created",e.id,!!(s&&!r&&i&&i.canEdit)),ee=(t,r,n)=>{if(e){let l={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:r};t?a(gJ.Mv(l)):a(gJ.jv(l))}},et=()=>{a(mB.gN(e.id)),a((0,Ur.L)({showImportModal:(0,eh.kc)().figjam_3p_file_importer}))},ea=!!(0,fv.c8)(e,y).data;return ep.createElement(Mb,{title:e.name,rightSideActions:(()=>{let n=[],i=(0,eh.kc)().ps_benchmark&&(0,ph.R$)(t,w);ea&&n.push({kind:OQ.A.BUTTON,key:OQ.D.CLAIM,displayText:(0,e$.t)("file_browser.folder.join_as_owner"),onClick:l});let s={"data-onboarding-key":"folder-page-view-new-board-cta",dataTestId:"new-whiteboard-file-button",kind:OQ.A.ICON_TEXT_BUTTON,key:OQ.D.NEW_WHITEBOARD_FILE,displayText:(0,e$.t)("file_browser.tool_bar.new_figjam_board"),onClick:J(Q,lB._Y.WHITEBOARD),icon:O1.A,styleClass:Up.pI,svgStyleClass:Up.sI},o={"data-onboarding-key":"folder-page-view-new-file-cta",dataTestId:"new-design-file-button",kind:OQ.A.ICON_TEXT_BUTTON,key:OQ.D.NEW_FILE,displayText:(0,e$.t)("file_browser.tool_bar.new_design_file"),onClick:J(Z,lB._Y.DESIGN),icon:O1.A,styleClass:Up.l8,svgStyleClass:Up.sI};if(!B&&!i&&(O&&n.push(o),R&&n.push(s),F)){let e=gx(X);n.push(e)}if(M&&!i&&n.push({kind:OQ.A.BUTTON,key:OQ.D.IMPORT,displayText:(0,e$.t)("file_browser.folder.import"),onClick:et,"data-onboarding-key":DY._}),x)S?n.push({kind:OQ.A.BUTTON,key:OQ.D.JOIN_TEAM,displayText:(0,e$.t)("file_browser.team.join_team"),onClick:$}):n.push({kind:OQ.A.BUTTON,key:OQ.D.JOIN_TEAM,displayText:(0,e$.t)("file_browser.team.join_team"),onClick:G});else if(D){let e={kind:OQ.A.BUTTON,key:OQ.D.SHARE,displayText:(0,e$.t)("file_browser.folder.share"),onClick:A};n.push(e)}L&&n.push({kind:OQ.A.BUTTON,key:OQ.D.REQUEST_TO_EDIT,displayText:void 0!==U?(0,e$.t)("file_browser.team.cancel_request"):(0,e$.t)("file_browser.team.request_to_edit"),onClick:()=>{U?a(C0.lT({requestId:U})):r&&a(e0.to({type:C1.$S,data:{team:r,requesterCurrentLevel:m5.e.VIEWER,source:"FolderPageView"}}))}});let c=V?ep.createElement(fy.r,{setFavorite:ee,favoriteType:lB.bk.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:w,teamId:N??null}):ep.createElement(Uu.d,{folder:e});if(b&&(!(0,eh.kc)().ps_benchmark||W)&&n.push({kind:OQ.A.CUSTOM_BUTTON,key:OQ.D.FAVORITE,element:c}),!B&&(O||R)){let e=ep.createElement(Uc,{dropdownKey:"new-file-dropdown",canCreateDesignFile:O,canCreateWhiteBoardFile:R,onNewDesignFileClick:J(Z,lB._Y.DESIGN),onNewWhiteBoardClick:J(Q,lB._Y.WHITEBOARD)});n.push({kind:OQ.A.CUSTOM_BUTTON,key:OQ.D.NEW_FILE_DROPDOWN,styleClass:eT.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let d=ep.createElement(Um,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:et,onShareClick:A,setFavorite:W?ee:null});return n.push({kind:OQ.A.CUSTOM_BUTTON,key:OQ.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:d}),n})(),rightSideOfTitleAction:(()=>{let t=j({folder:{...(0,up.Kk)(e,P),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:h,onRevokeTransfer:I,shouldShowJoinButton:x,getPendingInfo:v,pendingTransfer:E});return D&&t.length>0?{kind:OQ.A.CUSTOM,key:OQ.D.DROPDOWN,element:ep.createElement(Mw,{buttonAriaLabel:(0,e$.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}let UE="folder_page_view--sidebarDivider--IaP8x";function Uf(e){var t,a,r,n;let{folderId:l,selectedTab:i}=e,s=(0,eg.d4)(e=>e.loadedFolders),o=(0,eg.d4)(e=>e.folders[l]),c=(0,eg.d4)(e=>o&&o.team_id?e.teams[o.team_id]:void 0),d=(0,eg.wA)(),m=(0,t5.Rs)(ai.Udv,{id:l});ep.useLayoutEffect(()=>{var e;"loaded"!==m.status||(null==(e=m.data.project)?void 0:e.hasPermission)||d(tL.$T({view:"recentFiles"}))},[d,m]);let u=(0,tR.TA)(),_=(0,t5.Rs)(ai.L8O,{projectId:l});if(ep.useEffect(()=>{o&&!o.is_invite_only&&o.team_id&&!c&&d(m3.Jt({teamId:o.team_id})),d((0,gR.jl)({folderId:l,loadedFolders:s}))},[d,l,s,o,c]),!o||"loaded"!==_.status)return ep.createElement("div",{className:"folder_page_view--loading--clD4x"},ep.createElement(e8.kt,null));let p=null==(t=_.data)?void 0:t.project,g=p&&p.team&&p.team.org?null==(a=(0,t5.oA)(p.team.org))?void 0:a.id:null,E=!!p&&(0,yI.D)((null==(r=p.team)?void 0:r.id)||null,g||null);return ep.createElement(Ub,{folderId:l,userId:u,shouldShowRenameModal:e.shouldShowRenameModal||!1,team:c,teamOrgAccess:null==c?void 0:c.org_access,selectedTab:i,lgFolder:(null==(n=_.data)?void 0:n.project)||null,updatedTeamExperience:E})}function Uh(e){let t=(0,eg.wA)(),a=(0,t5.Rs)(ai.CH9,{folderId:e.folderId}),r=ep.useMemo(()=>{var e;return"loaded"===a.status?((null==(e=a.data.project)?void 0:e.pinnedFiles)||[]).filter(e=>!!e.file):[]},[a]);ep.useEffect(()=>{t(gL.MR({folderId:e.folderId,fileKeys:r.map(e=>e.file.key)}))},[r,t,e.folderId]);let n=ep.useCallback(()=>{t(EQ.an())},[t]);return 0!==r.length?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"folder_page_view--pinnedHeader--dJxEr",onMouseDown:n},ep.createElement(du.E,{i18nId:"file_browser.folder.pinned",fontSize:13,color:"secondary"})),ep.createElement(BY,{files:r,tileActions:e.tileActions,repos:e.repos})):null}let Uv={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToTop:!0},Ub=(0,eg.Ng)(()=>{let e=(0,DX.xx)(fv.r$),t=(0,DX.xx)(fv.ZN);return(a,{folderId:r})=>{var n;let l=null==(n=a.folders[r])?void 0:n.team_id,i=(0,dN.wA)(a),s=(0,mG.getPermissionsStateMemoized)(a),o=e(r,a.folders,a.fileByKey,a.fileKeysByFolderId,a.fileKeysByRepoId,a.repos,a.repoIdsByFolderId,s);return{folder:o,sortFilterOptions:t(r,a.tileSortFilterStateByView),loadedFolders:a.loadedFolders,optedOutOfRemoteWorkTemplates:(0,dN.yK)(a),hasBanner:!!o.team&&Fk(a,lB.vt.TEAM,o.team,l),recommendedTemplatesIsHidden:!!a.userFlags.hide_recommended_templates_in_projects,isGuest:!!(i&&!(0,mG.canMemberOrg)(i.id,a)),selectedBranchKeyByRepoId:a.selectedBranchKeyByRepoId,...(0,Pa.Kl)(a)}}})(function(e){let t=()=>{e.dispatch(rc.b({hide_recommended_templates_in_projects:!e.recommendedTemplatesIsHidden}))},a=e.lgFolder,r=e.updatedTeamExperience&&a?a.canCreateFigJamFileV2&&"loaded"===a.canCreateFigJamFileV2.status&&a.canCreateFigJamFileV2.data&&a.canEdit:e.folder.canCreateWhiteboardFile,n=e.updatedTeamExperience&&a?"loaded"===a.canCreateDesignFileV2.status&&a.canCreateDesignFileV2.data&&a.canEdit:e.folder.canCreateDesignFile,l=e.updatedTeamExperience&&a?a.canEdit:e.folder.canEdit,i=e.updatedTeamExperience&&a?a.canRead:e.folder.canView,s=()=>!e.hasBanner&&!e.recommendedTemplatesIsHidden,o=()=>{e.dispatch(gL.B7({folderId:e.folder.id}))},c=(0,mG.usePermissionsState)(),d=(0,fv.c8)(e.folder,c),m=t=>{e.dispatch(gL.ub({folderId:e.folder.id,description:t.trim()}))},{id:u,canEdit:_}=e.folder,p={view:"project",folderId:u,canEdit:_,userSpace:e.currentUserOrgId?e4.qo.ORG:e4.qo.PERSONAL},g=[gf.h.SETTINGS].includes(e.selectedTab),E=e.folder.team&&!(0,pM.w5)(e.folder.team);return(0,eH.T8)(ep.createElement(v6.Z,{containerClass:eS()({"folder_page_view--xOverflowFileBrowserContainer--4aBZ5":g}),contentContainerClass:eS()({"folder_page_view--xOverflowFileBrowserContentContainer--wiRfj":g}),content:ep.createElement("div",{className:eT.cx.flex.flexColumn.$},(()=>{let{repos:a,filesByRepoId:l,isEditingLocked:i,files:c}=e.folder,m=(n||r)&&!i,u=m?"":(0,e$.t)("file_browser.folder.no_files_yet");if("loaded"!==e.loadedFolders[e.folder.id]||"loaded"!==d.status)return null;let _=[...c.map(e=>({type:E1.nb.FILE,file:e})),...a.filter(e=>!e.trashed_at).map(t=>({type:E1.nb.REPO,repo:t,branches:l[t.id],selectedBranchKey:e.selectedBranchKeyByRepoId[t.id]||""}))],p=ep.createElement(ep.Fragment,null,ep.createElement(Bj,{team:e.folder.team||void 0,newFileFrom:up.f6.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:e.optedOutOfRemoteWorkTemplates,folderId:e.folder.id,recommendedTemplatesIsOpen:s(),toggleRecommendedTemplates:t,isInProjectsView:!0}),ep.createElement(Uh,{folderId:e.folderId,repos:a,tileActions:Uv}),ep.createElement(B6,{newFileTile:m,tiles:_,tileActions:Uv,sortFilterOptions:e.sortFilterOptions,emptyStateText:u,isFolder:!0})),g=ep.createElement(PW,{emptyStateText:(0,e$.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:o});return d.data?g:p})(),ep.createElement(DW.cx,null)),metaContent:eb.Ay.mobile||!E||(0,eh.kc)().fbg_starter_project_redesign?void 0:(()=>{let t=e.folder,a=l&&!t.isEditingLocked,r=e.folder.team&&!(0,pM.w5)(e.folder.team),n=e.folder.team;return ep.createElement("div",{className:"folder_page_view--metaColumn--im-Ju"},(a||t.description)&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:UE}),ep.createElement("div",{className:"folder_page_view--folderDescription--FNP0x text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement("h3",{className:eT.cx.font13.fontMedium.$},ep.createElement(e$.Tx,{id:"file_browser.about"})),ep.createElement(tp,{value:t.description||"",placeholder:(0,e$.t)("file_browser.folder.add_a_description"),formatter:t_,submit:m,readOnly:!a}))),e.folder.team_id&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:UE})),i&&!eb.Ay.mobile?ep.createElement(Ue,{key:t.id,folderId:t.id}):null,n&&r&&ep.createElement(BX,{team:n}),e.folder.team_id&&ep.createElement(B5,{teamId:e.folder.team_id}))})(),banner:e.folder.team&&e.hasBanner?ep.createElement(Bv,{teamId:e.folder.team.id}):void 0,header:ep.createElement(ep.Fragment,null,ep.createElement(Ug,{dispatch:e.dispatch,user:e.user,folder:e.folder,team:e.team,currentOrgId:e.currentUserOrgId,onClaimClick:o,shouldShowRenameModal:e.shouldShowRenameModal,lgFolder:e.lgFolder,scTeamUpdatedExperience:e.updatedTeamExperience}),e.folder.canCreateDesignFile&&e.folder.team&&ep.createElement(Bh,{teamId:e.folder.team.id,canCreateFigjamBoard:e.folder.canCreateWhiteboardFile})),footer:e.folder.team&&(0,mG.canEditTeam)(e.folder.team.id,e)&&E&&(0,eh.kc)().fbg_starter_project_redesign?ep.createElement(B0,{team:e.folder.team}):ep.createElement(ep.Fragment,null)}),e4.e0.FILE_BROWSER,p)});var Uy=a(232753),Uw=a(496318);let UT="offline_create_file_buttons--subtext--GerJd text--fontPos11--2LvXf text--_fontBase--QdLsd",Ux="offline_create_file_buttons--icon--0tuCg",UC="offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd",UN="offline_create_file_buttons--disabledFileTile--d1WAu offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd",Uk="offline_create_file_buttons--tileText--0MvHE";var US=a(852068);function UI(e){let t=(0,um.gj)(e.folderId||null,lB._Y.DESIGN),a=(0,um.gj)(e.folderId||null,lB._Y.WHITEBOARD),r=(0,um.WV)(e.folderId||null,lB._Y.WHITEBOARD),n=(0,um.WV)(e.folderId||null,lB._Y.DESIGN),l=(0,eg.d4)(e=>(0,mG.isFigJamDisabledForOrg)(e.currentUserOrgId,(0,mG.getPermissionsState)(e)));return r||n?ep.createElement(ep.Fragment,null,ep.createElement(UL,{text:(0,e$.t)("file_browser.new_file_creation_topbar.new_design_file"),className:n?UC:UN,editorType:lB._Y.DESIGN,newFileFrom:e.newFileFrom,disabledType:n?void 0:"for_user",team:e.team,subtext:n&&!t?(0,e$.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,e$.t)("file_browser.new_file_creation_topbar.design_and_prototype"),triggerOrgUpgradeModal:n&&!t,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-file-cta"}),ep.createElement(UL,{text:(0,e$.t)("file_browser.new_file_creation_topbar.new_figjam_file"),className:r?UC:UN,editorType:lB._Y.WHITEBOARD,newFileFrom:e.newFileFrom,team:e.team,disabledType:r?void 0:l?"for_org":"for_user",subtext:l?(0,e$.t)("file_browser.new_file_creation_topbar.disabled_by_your_organization"):r&&!a?(0,e$.t)("file_browser.new_file_creation_topbar.need_an_upgrade_to_create"):(0,e$.t)("file_browser.new_file_creation_topbar.whiteboard_and_diagram"),triggerOrgUpgradeModal:r&&!a,hidePlusIcon:e.hidePlusIcons,dataOnboardingKey:"folder-page-view-new-board-cta"}),!e.hideImportButton&&ep.createElement(UR,{disabled:!a&&!t,isInProjectsView:!!e.isInProjectsView})):null}var UA=((J=UA||{}).FOR_ORG="for_org",J.FOR_USER="for_user",J);function UL(e){var t;let a=(0,eg.wA)(),r=(0,Ut.Bq)(e.folderId),n=null==(t=r.user)?void 0:t.id,l=r.currentUserOrgId,i=l&&r.orgUsersByOrgId.orgUsers[l],s=n&&i&&i[n],o=ep.useCallback((t,i)=>{if(t.stopPropagation(),t.preventDefault(),e.triggerOrgUpgradeModal){l&&s&&a((0,e0.to)({type:Uw.Y,data:{orgId:l,orgUser:s,entryPoint:bl.PE.CreateFile,licenseType:(0,uP.vc)(e.editorType)}}));return}a(us.zE({state:r,editorType:e.editorType,team:e.team,from:e.newFileFrom,openNewFileIn:i?up.ai.NEW_TAB:(0,ou.oJ)(t)?up.ai.NEW_TAB:up.ai.SAME_TAB,callback:t=>{(0,al.Cu)({userId:n,fileKey:t},"design"===e.editorType?"topbar_design_created":"topbar_figjam_created")}}))},[a,e.editorType,r,e.newFileFrom,e.team,n,e.triggerOrgUpgradeModal,l,s]),c="whiteboard"===e.editorType?_7.y1.WHITEBOARD:_7.y1.DESIGN;return ep.createElement("a",{className:e.className,onClick:e.disabledType?void 0:o,onAuxClick:e.disabledType?void 0:e=>o(e,!0),"data-onboarding-key":e.dataOnboardingKey},ep.createElement(_7.oS,{type:c,className:Ux}),ep.createElement("div",{className:Uk,"data-testid":`new-${e.editorType}-file-button`},e.text,e.subtext&&ep.createElement("div",{className:UT},e.subtext)),!e.hidePlusIcon&&ep.createElement(eL.B,{svg:_0.A,className:"offline_create_file_buttons--plusIcon--GOEF-"}))}function UR(e){let t=(0,eg.wA)(),a=e.disabled?UN:"offline_create_file_buttons--importFileTile--BeRPK offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd";return e.isInProjectsView&&(a+=" offline_create_file_buttons--importFileTileInProjects--XMydq offline_create_file_buttons--tile--eC4xn text--fontPos13--xW8hS text--_fontBase--QdLsd"),ep.createElement("div",{className:a,onClick:e.disabled?void 0:()=>{e.folderId&&t(mB.gN(e.folderId)),t((0,Ur.L)({showImportModal:(0,eh.kc)().figjam_3p_file_importer}))},role:"button",tabIndex:0,"data-testid":"file-import-button","data-onboarding-key":DY._},ep.createElement(eL.B,{svg:US.A,className:eS()(Ux,"offline_create_file_buttons--importIcon--Rq9PF")}),ep.createElement("div",{className:Uk},ep.createElement(e$.Tx,{id:"file_browser.new_file_creation_topbar.import_file"}),ep.createElement("div",{className:UT},ep.createElement(e$.Tx,{id:"file_browser.new_file_creation_topbar.import_file_types"}))))}UL.displayName="NewFileTile";var UO=a(639425);let UF={open:!0,rename:!0},UM={tileSortFilterConfig:{viewMode:Mz.XU.GRID,sort:{key:Mz.C0.TOUCHED_AT,dir:Mz.ue.DESC},filters:{creator:Mz.rJ.ANY,fileType:Mz.t2.ANY}},sortKeys:[]};function UD(){let e=(0,eg.d4)(e=>e.currentUserOrgId),t=Object.values((0,uo.Rp)()).filter(t=>(t.orgId??null)===e).map(E1.gB);return ep.useEffect(()=>{if("visible"!==Uy.Zt())return Uy.B1(e=>{"visible"===e&&(0,ul.cG)()});(0,ul.cG)()},[]),ep.createElement(v6.r,{content:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"offline_files_view--newFileTilesContainer---Obo6 tiles_view--tilesGrid--JGwjc tiles_view--tiles--mVpCC"},ep.createElement(UI,{newFileFrom:up.f6.FILE_BROWSER_TOPBAR_OFFLINE,hideImportButton:!0})),ep.createElement(PU,{tiles:t,tileActions:UF,sortFilterOptions:UM,newFileTile:!1,emptyStateText:"",emptyStateContent:ep.createElement(UP,null),hideSorter:!0}))})}function UP(){return ep.createElement("div",{className:"offline_files_view--emptyState--CfmQ4"},ep.createElement(eL.B,{className:"offline_files_view--emptyStateIcon--V9IxY",svg:UO.A,height:"200px",width:"200px",autosize:!0}),ep.createElement("div",{className:"offline_files_view--emptyStateText--AIw14 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.offline_files.empty"})))}var UB=a(310435),UU=a(58716);function UW(){return eE.eD||!(0,eh.kc)().desktop_get_app_navbar?null:ep.createElement(OZ.K,{action:{kind:OZ.A.CUSTOM,key:OQ.D.GET_DESKTOP_APP,element:ep.createElement("button",{onClick:()=>{ef.Ay.redirect(`/download/desktop/${eb.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:UB.Fu},ep.createElement(eL.B,{className:UB.Kk,svg:UU.A}),ep.createElement(e$.Tx,{id:"banner.desktop_download_button"}))}})}function UV(e){let t=Ua(lB._Y.DESIGN,e.from,"toolbar_design_created");return ep.createElement(OZ.K,{action:{kind:OZ.A.ICON_TEXT_BUTTON,key:OQ.D.NEW_FILE,displayText:(0,e$.t)("file_browser.tool_bar.new_design_file"),onClick:t,icon:O1.A,styleClass:Up.l8,svgStyleClass:Up.sI,dataTestId:"new-design-file-button"}})}var UG=a(492747);function U$(e){let t=Ua(lB._Y.WHITEBOARD,e.from,"toolbar_figjam_created");return ep.createElement(OZ.K,{action:{kind:OZ.A.ICON_TEXT_BUTTON,key:OQ.D.NEW_WHITEBOARD_FILE,displayText:(0,e$.t)("file_browser.tool_bar.new_figjam_board"),onClick:t,icon:O1.A,styleClass:Up.pI,svgStyleClass:Up.sI,dataTestId:"new-whiteboard-file-button"}})}function Uj(e){let t;let a=(0,t5.Rs)(ai.RIo,{orgId:null});return"loaded"!==a.status?null:(t=a.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>!!(e&&e.projects&&!e.deletedAt&&e.projects.length>0))).length?ep.createElement(eH.fu,{name:e.dropdownType===UG.$c.DESIGN?"New File Creation Dropdown Design":"New File Creation Dropdown FigJam",properties:{userId:a.data.currentUser.id,numberOfEditableProjects:t.length,fileCreationDefaultsDropdownType:e.dropdownType}},ep.createElement(UG.X8,{buttonText:e.dropdownType===UG.$c.DESIGN?(0,e$.t)("file_browser.tool_bar.new_design_file"):(0,e$.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:e.dataTestId,teamsWithEditableProjects:t,dropdownType:e.dropdownType,hideOnMobile:!0})):e.dropdownType===UG.$c.DESIGN?ep.createElement(UV,{key:"newDesignAction",from:up.f6.FILE_BROWSER_TOPBAR_RECENTS}):ep.createElement(U$,{key:"newFigjamAction",from:up.f6.FILE_BROWSER_TOPBAR_RECENTS})}function UH(){let e=(0,eg.wA)(),t=(0,tR.Pc)();return ep.createElement(OZ.K,{action:{kind:OZ.A.BUTTON,key:OQ.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(tL.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,e$.t)("internal_profile.view_community_profile"),styleClass:eT.cx.colorText.$}})}var Uq=a(536986),Uz=a(884769),UY=a(545492),UK=a(46148),UJ=a(155195),UZ=a(39963),UQ=a(228035),UX=a(435095);let U0=e=>ep.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),U1=(0,am.Ju)(function(e){let t=(0,eg.wA)(),a=(0,tR.iZ)();return a?ep.createElement(UZ.u,{tintedModalBackground:!0,headerText:(0,e$.t)("interstitial.unsubscribe_success_header")},ep.createElement("div",{className:UX.Yg},ep.createElement(e$.Tx,{id:"interstitial.unsubscribe_success_subheader_with_address",emailName:U0((()=>{switch(e.policyType){case"FileCommentActivity":return(0,e$.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,e$.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,e$.t)("interstitial.feed_weekly_digest");default:(0,eC.xb)(e.policyType)}})()),emailAddress:U0(a.email)})),ep.createElement(eI.nD,{onClick:()=>{t(e0.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},ep.createElement(e$.Tx,{id:"interstitial.done"})),ep.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,e0.to)({type:UQ.s,data:{tab:UQ.c.NOTIFICATIONS}})),t(e0.aZ())}},ep.createElement(e$.Tx,{id:"interstitial.open_notifications_settings"}))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");class U2 extends ep.Component{constructor(e){super(e),this.accountModalTabViewToTab=e=>{switch(e){case e2.bb.ACCOUNT:return UQ.c.ACCOUNT;case e2.bb.COMMUNITY:return UQ.c.COMMUNITY;case e2.bb.NOTIFICATIONS:return UQ.c.NOTIFICATIONS}},this.manageNotifications=()=>{this.props.dispatch((0,e0.to)({type:UQ.s,data:{tab:this.accountModalTabViewToTab(e2.bb.NOTIFICATIONS)}})),this.props.dispatch(t6.F.dequeue({}))},this.tileActions={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},this.state={trackedScroll:!1}}componentDidMount(){let e=(0,mK.QL)("upgrade_modal_type"),t=(0,uP.px)(e||""),a=null;if(null!==t){(0,mK.EM)("upgrade_modal_type");let e=(0,mK.QL)("entry_point");(0,mK.EM)("entry_point");let r=this.props.currentOrgUser;e&&(Object.values(bl.PE).includes(e)?a=e:Object.values(UK.i).includes(e)&&(a=e)),r&&(0,uW.oE)(r,t)&&this.props.dispatch((0,e0.to)({type:Uw.Y,data:{orgId:this.props.currentUserOrgId,orgUser:r,entryPoint:a||(t===uP.oM.DEV_MODE?UK.i.DowngradeEmail:bl.PE.Recents),licenseType:t,trackForDowngradeNotificationExperiment:!0}}))}this.loadModalsIfNeeded(void 0)}componentDidUpdate(e){this.loadModalsIfNeeded(e)}loadModalsIfNeeded(e){if(this.props.accountModalTab&&this.props.accountModalTab!==(null==e?void 0:e.accountModalTab))this.props.dispatch((0,e0.to)({type:UQ.s,data:{tab:this.accountModalTabViewToTab(this.props.accountModalTab)}})),this.props.dispatch(tL.$T({view:"recentFiles"}));else if(this.props.universalPublishingModal&&this.props.universalPublishingModal!==(null==e?void 0:e.universalPublishingModal))this.props.dispatch((0,e0.to)({type:d4.R,data:{source:tv.Zm.RECENT_FILES_DIRECT_LINK}})),this.props.dispatch(tL.$T({view:"recentFiles"}));else if(this.props.emailPolicyToUnsubscribeFrom&&this.props.emailPolicyToUnsubscribeFrom!==(null==e?void 0:e.emailPolicyToUnsubscribeFrom)){let e=this.props.emailPolicyToUnsubscribeFrom;UJ.z.updateUserCommunicationPreference({channelType:"email",policyType:e,policySetting:"none"}).then(()=>{this.props.dispatch((0,e0.to)({type:U1,data:{policyType:e}}))}).catch(e=>{this.manageNotifications()}),this.props.dispatch(tL.$T({view:"recentFiles"}))}}render(){let{sortFilterOptions:e,tiles:t}=this.props,a=eb.Ay.mobile||eb.Ay.tablet?(0,e$.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",r="loaded"===t.status;return ep.createElement(gK.A,{loadingElementId:"loading-content-pane",loaded:r,loadingElementClassName:eT.cx.pr32.$},ep.createElement(B6,{tiles:t.data,tileActions:this.tileActions,sortFilterOptions:e,newFileTile:!0,emptyStateText:a,hideSorter:!0}),ep.createElement(DW.cx,null))}}U2.displayName="RecentFilesPageView";let U4=(0,eg.Ng)(()=>{let e=(0,DX.xx)(e=>({tileSortFilterConfig:e.recentsAndSharing.recents,sortKeys:[Mz.C0.NAME,Mz.C0.CREATED_AT,Mz.C0.ACCESSED_AT]}));return t=>({sortFilterOptions:e(t.tileSortFilterStateByView),dropdownShown:t.dropdownShown,selectedView:t.selectedView,currentUserOrgId:t.currentUserOrgId,hasBanner:Fk(t,lB.vt.FOLDER,null,null),trackScroll:()=>(0,al.uE)("Recents Page Scrolled",t)})})(U2);function U3(e){let t=(0,eg.d4)(e=>e.currentUserOrgId),a=(0,eh.kc)().recent_files_lg_use_100x?Uq.kx.LG100:Uq.kx.CLASSIC,r=(0,Uq.ql)(t||null,Uz.xBc.CAN_VIEW_PROTOTYPE,!0),n=(0,Uq.lP)(t||null,Uz.xBc.CAN_VIEW_PROTOTYPE,!!(0,eh.kc)().recent_files_lg);ep.useEffect(()=>{Uq.uQ.clear()},[]);let[l,i]=ep.useState(!1);if("loaded"===r.status&&"loaded"===n.status&&!l){i(!0);try{let e=n.data.filter(e=>null===e.file_repo_id&&e.parent_org_id===(t||null)),r=new Set(["hub_file","realtime_token","thumbnail_url","thumbnail_url_override","checkpoint_token","is_trashed","track_tags.is_templated","track_tags.default_key","track_tags.migrated_from_drafts_folder_id","track_tags.source.source"]),l=new Set(["accessed_at","created_at","last_published_at","touched_at","updated_at"]),i=(0,v7.cQ)(Uq.uQ.getData().recent_files,e,r,"key",l);(0,tn.sx)("Recent Files: Sinatra LG diffs",{orgId:t,differences:JSON.stringify(i),lgSource:a})}catch(e){(0,tn.sx)("Recent Files: Sinatra LG diffs",{orgId:t,error:JSON.stringify(e),lgSource:a})}}let s=(0,Uq.O8)(t||null,Uz.xBc.CAN_VIEW_PROTOTYPE),o=(0,h2.a9)(),c=(0,uo.Rp)(),d=ep.useMemo(()=>r.transform(e=>e.map(E1.fA)),[r]),m=ep.useMemo(()=>s.transform(e=>e.map(E1.Nu)),[s]),u=(0,eg.d4)(e=>e.recentRepos),_=(0,eg.d4)(e=>e.selectedBranchKeyByRepoId),p=ep.useMemo(()=>u.map(e=>(0,E1.uy)(e,_)),[u,_]),g=ep.useMemo(()=>Object.values(c).map(E1.gB),[c]),E=ep.useMemo(()=>UY.Qw.merge([d,m],p,g),[g,d,m,p]);return ep.createElement(U4,{accountModalTab:e.accountModalTab,universalPublishingModal:e.universalPublishingModal,emailPolicyToUnsubscribeFrom:e.emailPolicyToUnsubscribeFrom,currentOrgUser:o,tiles:E})}let U8="banner--bullet--TXPR6",U5="banner--primary_button---HbtH",U6="banner--secondary_button--8cU3d",U9="banner--svg--U4OZC";var U7=a(609345),We=a(577703),Wt=a(313673);function Wa(){let e=(0,eg.wA)(),t=!!(0,o9.f)("dismissed_config_2024_promo_banner"),a=()=>{e(rc.b({dismissed_config_2024_promo_banner:!0}))},r=()=>{a()},n=()=>{(0,l2.FJ)("https://config.figma.com/?utm_source=figma&utm_medium=prod&utm_campaign=build_products","_blank")};return(0,eh.kc)().config_2024_promo_banner&&!t?ep.createElement(eH.fu,{name:"Config 2024 Promo Banner",properties:{severity:O6.EVENT}},ep.createElement("div",{className:"banner--wrapper--2-3jR"},ep.createElement("div",{className:"banner--logo_cta_wrapper--GAw-F"},ep.createElement(eL.B,{svg:Wt.A,svgClassName:["banner--logo--SIeox",U9].join(" ")}),ep.createElement(eI.e2,{className:"banner--button_group_mobile--GqZFN"},ep.createElement(eI.vd,{className:U5,onClick:n},(0,e$.t)("banner.config_2024_promo.primary_cta")),ep.createElement(eI.tM,{className:U6,onClick:r},(0,e$.t)("banner.config_2024_promo.secondary_cta")))),ep.createElement("div",{className:"banner--text--LnLSL"},ep.createElement("div",{className:"banner--title--6lfBu"},ep.createElement(eL.B,{svg:We.A,svgClassName:U9,className:[U8,"banner--title_bullet_point--C6ELH"].join(" ")}),(0,e$.t)("banner.config_2024_promo.title")),ep.createElement("div",{className:"banner--subtitle--fvHo3"},ep.createElement(eL.B,{svg:U7.A,svgClassName:U9,className:U8}),(0,e$.t)("banner.config_2024_promo.subtitle"))),ep.createElement(eI.e2,{className:"banner--button_group_desktop--NYqRR"},ep.createElement(eI.vd,{className:U5,onClick:n},(0,e$.t)("banner.config_2024_promo.primary_cta")),ep.createElement(eI.tM,{className:U6,onClick:r},(0,e$.t)("banner.config_2024_promo.secondary_cta"))))):null}function Wr(){let e=(0,eg.wA)(),t=(0,eg.d4)(({orgById:e})=>e),a=(0,eg.d4)(({currentUserOrgId:e})=>e),r=(0,dN.yK)({orgById:t,currentUserOrgId:a}),n=!!(0,eg.d4)(e=>e.userFlags).hide_recommended_templates_in_recents;return ep.createElement(Bj,{newFileFrom:up.f6.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:r,recommendedTemplatesIsOpen:!n,toggleRecommendedTemplates:()=>e(rc.b({hide_recommended_templates_in_recents:!n}))})}let Wn=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,rI.vh)(),this.PlanFilterOptionsSchemaValidator=(0,rI.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function Wl(){return{"":{label:(0,e$.t)("shared_with_you.filters.all_organizations")}}}let Wi=nk.M4.Query({fetch:async e=>{let t=await Wn.getPlanFilterOptions({resource_type:e}),a={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(a[e.plan_id]=t)}),{...Wl(),...a}}});function Ws(e){let t=e.join("&resource_type[]="),[a]=(0,nk.IT)(Wi(t));return a.data||Wl()}let Wo={"":"Anyone"};function Wc(e){let[t,a]=(0,ep.useState)(Wo),r=e.join("&resource_type[]=");return(0,ep.useEffect)(()=>{Wn.getSharerFilterOptions({resource_type:r}).then(({data:e})=>{a(e.meta.shared_by_filters.reduce((e,{user_id:t,label:a})=>({...e,[t]:a}),{...Wo}))})},[r]),t}let Wd=(e,t)=>`${t}:${e}`;function Wm(e){let t=(0,eg.wA)(),a=(0,t5.Rs)(ai.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),r=(0,ep.useCallback)(e=>{switch(e.type){case"fetchNextPage":"loaded"===a.status&&a.data.sharedWithYouResources.hasNextPage()&&a.data.sharedWithYouResources.loadNext(30);break;case"subscribe":case"unsubscribe":return;default:throw Error(`Unsupported action ${e.type}`)}},[a]),n="loaded"===a.status&&a.data.sharedWithYouResources.isLoadingNextPage;return[{data:(0,ep.useMemo)(()=>"loaded"!==a.status?{}:a.data.sharedWithYouResources.reduce((e,a)=>{var r;if(a.sharedWithYouFile){let r=function(e){if(!e||!e.file)return null;let{file:t,...a}=e,r=(0,E3.V1)({...t,...a,edit_url:`${window.location.origin}/file/${t.key}/${(0,to.sy)(t.name||"")}`,client_meta:t.checkpointClientMeta}),n=(0,E3.V1)({type:E1.nb.FILE,file:r},{filePerms:(0,D3.ru)(t)});return{file:r,tile:n}}(a.sharedWithYouFile);if(!r)return e;e[Wd(a.id,"file")]={resourceKey:Wd(a.id,"file"),tile:r.tile,actions:{},subscribed:!0},(0,eh.kc)().shared_with_you_push_to_redux&&t(EK.yJ({file:r.file}))}else if(a.sharedWithYouFolder){let{folder:t,...n}=a.sharedWithYouFolder;if(null==t)return e;let l=(0,E3.V1)({...t,...n},{created_at:t.createdAt.toString(),updated_at:t.updatedAt.toString(),deleted_at:(null==(r=t.deletedAt)?void 0:r.toString())||null}),i=(0,E3.V1)({type:E1.nb.PROJECT,folder:l}),s=Wd(a.id,"folder");e[s]={resourceKey:s,tile:i,actions:{},subscribed:!0}}else if(a.sharedWithYouRepo){let r=function(e){var t;let{repo:a,...r}=e;if(null===a)return null;let{branches:n,...l}=a,i=(null==(t=null==n?void 0:n.filter(e=>null!=e))?void 0:t.map(e=>(0,E3.V1)({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${(0,to.sy)(e.name||"")}`:"",client_meta:e.checkpointClientMeta})))??[],s=(0,E3.V1)({...l,...r}),o=(0,E3.V1)({type:E1.nb.REPO,repo:s,branches:i,selectedBranchKey:""},{repoPerms:(0,D5.zh)(a)});return{repo:s,branches:i,tile:o}}(a.sharedWithYouRepo);if(!r)return e;let n=Wd(a.id,"file_repo");e[n]={resourceKey:n,tile:r.tile,actions:{},subscribed:!0},(0,eh.kc)().shared_with_you_push_to_redux&&(t(EZ.uo({repos:[r.repo]})),t(EK.uo({files:r.branches})))}else if(a.sharedWithYouPrototype){let t=function(e){let{prototype:t,...a}=e;if(null==t)return null;let r=(0,E3.V1)({...t,...a});return(0,E3.V1)({type:E1.nb.PROTOTYPE,prototype:r},{prototypePerms:(0,D8.Ro)(t)})}(a.sharedWithYouPrototype);if(!t)return e;let r=Wd(a.id,"prototype");e[r]={resourceKey:r,tile:t,actions:{},subscribed:!0}}return e},{}),[t,a]),errors:a.errors,status:a.status,isFetchingNextPage:n},r]}function Wu(){var e,t;let a=(0,d2._6)(),r=(0,eg.d4)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,l=Wc(["file","file_repo","prototype"]),i=Ws(["file","file_repo","prototype"]),s={tileSortFilterConfig:n,sortKeys:[Mz.C0.SHARED_AT]},o=e=>{switch(e){case Mz.t2.DESIGN:return"design";case Mz.t2.FIGJAM:return"whiteboard";case Mz.t2.PROTOTYPE:return"prototype";case Mz.t2.SLIDES:return"slides";case Mz.t2.ANY:return null;default:(0,eC.xb)(e)}},[c,d]=Wm(ep.useMemo(()=>{var e,t;return{resourceTypes:["file","file_repo","prototype"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",fileType:o(n.filters.fileType)??"",sortOrder:n.sort.dir===Mz.ue.ASC?"asc":"desc",sortKey:(0,Mz.De)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.fileType,n.sort.dir,n.sort.key])),m=(0,ep.useMemo)(()=>c.data??{},[c.data]),u=(0,ep.useMemo)(()=>Object.values(m).map(e=>{let t=e.tile;return(t.type===E1.nb.FILE||t.type===E1.nb.REPO)&&(t.renameCallbacks={onBeginRename:()=>{t.type===E1.nb.FILE?t.file.appData={isRenaming:!0}:t.type===E1.nb.REPO&&(t.repo.appData={isRenaming:!0})},onStopRename:e=>{t.type===E1.nb.FILE?(t.file.appData={isRenaming:!1},t.file.name=e??t.file.name):t.type===E1.nb.REPO&&(t.repo.appData={isRenaming:!1},t.repo.name=e??t.repo.name)}}),t}),[m]),{trackPerformanceEvent:_}=(0,Op.S)("swy_files_pagination_performance","livegraph");(0,ep.useEffect)(()=>{_("fetch_end")},[_,u.length]),(0,ep.useEffect)(()=>{c.status===MY.ERRORS&&_("fetch_error",{errors:JSON.stringify(c.errors??{})})},[_,c.status,c.errors]),(0,ep.useEffect)(()=>(_("fetch_start"),()=>{_("fetch_cancel")}),[_]);let p=(0,ep.useCallback)(()=>{c.isFetchingNextPage||(_("fetch_next"),d({type:"fetchNextPage"}))},[c.isFetchingNextPage,d,_]),g=P$(u,(0,ep.useCallback)((e,t)=>{var a,r,n,l;let i=Object.values(m).find(e=>e.tile===t);e.isIntersecting?null==(r=null==(a=null==i?void 0:i.actions)?void 0:a.subscribe)||r.call(a):null==(l=null==(n=null==i?void 0:i.actions)?void 0:n.unsubscribe)||l.call(n)},[m]),{rootMargin:"100% 0px 100% 0px"}),E={},f={};return u.forEach(e=>{switch(e.type){case E1.nb.FILE:e.file&&e.filePerms&&(E[e.file.key]=e.filePerms);break;case E1.nb.REPO:e.repo&&e.repoPerms&&(f[e.repo.id]=e.repoPerms)}}),ep.createElement(gK.A,{loadingElementId:"loading-content-pane",delay:250,loaded:c.status===MY.LOADED,loadingElementClassName:eT.cx.pr32.$},ep.createElement(Pj,{onShouldFetchNextPage:p},ep.createElement(PU,{tiles:u,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},getTileRef:e=>g.get(e)??null,chunkSize:u.length,sortFilterOptions:s,newFileTile:!1,emptyStateText:c.isFetchingNextPage?"":(0,e$.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:l,plan:i,fileType:!0},hideSorter:!0,useLGPerms:!0,permsByFileKey:E,permsByRepoId:f,areLGPermsLoaded:!0,currentPlanFilter:n.filters.plan,currentSharedByFilter:n.filters.sharedBy})))}var W_=a(679182),Wp=a(623452);function Wg(e,t,a){return e&&t&&!(0,pM.w5)(e)&&"recentsAndSharing"!==a}function WE({canEditTeam:e}){let t=(0,eg.wA)(),a=(0,gg.ol)(),r=(0,d2.z3)(),n=(0,ey.I7)("exp_fbg_project_limit_upsell");if(!Wg(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let l=ep.createElement(eI.Us,{className:eT.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,e0.to)({type:hc.V,data:{upsellSource:pZ.b.FOLDER_UPSELL_CARD,teamId:null==a?void 0:a.id}}))},trackingProperties:{trackingDescriptor:o3.c.PROFESSIONAL_PLAN},trusted:!0},ep.createElement(e$.Tx,{id:"team_view.folder_upsell.professional_plan"}));return ep.createElement(eH.fu,{name:"Folder Upsell Card"},ep.createElement(eH.$z,{className:eS()(eT.cx.flex.alignLeft.p24.$,"folder_upsell--card--bpbsz"),onClick:()=>{t((0,e0.to)({type:A8.DV,data:{team:a,resource:AX.vL.FOLDER,action:E6.ZN.CREATE_FOLDER,currentPlan:AZ.F.Plan.STARTER,upsellPlan:AZ.F.Plan.PRO}}))},trackingProperties:{trackingDescriptor:o3.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},ep.createElement("div",{style:u1.sx.add({paddingBottom:"85%"}).$})," ",ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement("div",{className:eT.cx.relative.wFull.hFull.$},ep.createElement("div",{style:u1.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},ep.createElement(ej.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},ep.createElement(le.In,{icon:"new-40",fill:"onbrand"}))),ep.createElement(ej.Y,{direction:"vertical",spacing:"12px"},ep.createElement(ej.Y,{direction:"horizontal",spacing:"12px"},ep.createElement(ej.Y,{cornerRadius:8,backgroundColor:"default"}),ep.createElement(ej.Y,{cornerRadius:8,backgroundColor:"default"})),ep.createElement(ej.Y,{direction:"horizontal",spacing:"12px"},ep.createElement(ej.Y,{cornerRadius:8,backgroundColor:"default"}),ep.createElement(ej.Y,{cornerRadius:8,backgroundColor:"default"})))),ep.createElement(ej.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},ep.createElement(du.E,{i18nId:"team_view.folder_upsell.upgrade_to_create_more_projects",fontSize:13,fontWeight:"medium"}),ep.createElement(du.E,{fontSize:11,color:"secondary",i18nId:"team_view.folder_upsell.get_unlimited_everything",i18nParams:{professionalPlanLink:l}})))))}function Wf({canEditTeam:e}){let t=(0,eg.wA)(),a=(0,gg.ol)(),r=(0,d2.z3)(),n=(0,ey.I7)("exp_fbg_project_limit_upsell");if(!Wg(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let l=ep.createElement(eI.Us,{className:eT.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,e0.to)({type:hc.V,data:{upsellSource:pZ.b.FOLDER_UPSELL_CARD,teamId:null==a?void 0:a.id}}))},trackingProperties:{trackingDescriptor:o3.c.PROFESSIONAL_PLAN},trusted:!0},ep.createElement(e$.Tx,{id:"team_view.folder_upsell.professional_plan"}));return ep.createElement(eH.fu,{name:"Folder Upsell List"},ep.createElement("div",{className:eT.cx.flex.mt16.bRadius8.b1.colorBorder.$,style:u1.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},ep.createElement(eH.$z,{className:eS()(eT.cx.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--Jrhrl"),onClick:()=>{t((0,e0.to)({type:A8.DV,data:{team:a,resource:AX.vL.FOLDER,action:E6.ZN.CREATE_FOLDER,currentPlan:AZ.F.Plan.STARTER,upsellPlan:AZ.F.Plan.PRO}}))},trackingProperties:{trackingDescriptor:o3.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},ep.createElement("div",{className:eS()(eT.cx.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--kcbDu")},ep.createElement("div",{style:u1.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},ep.createElement(ej.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},ep.createElement(le.In,{icon:"plus-32",fill:"onbrand"}))),ep.createElement(ej.Y,{direction:"vertical",spacing:4},ep.createElement(ej.Y,{direction:"horizontal",spacing:4},ep.createElement(ej.Y,{cornerRadius:2,backgroundColor:"default"}),ep.createElement(ej.Y,{cornerRadius:2,backgroundColor:"default"})),ep.createElement(ej.Y,{direction:"horizontal",spacing:4},ep.createElement(ej.Y,{cornerRadius:2,backgroundColor:"default"}),ep.createElement(ej.Y,{cornerRadius:2,backgroundColor:"default"})))),ep.createElement(ej.Y,{direction:"vertical",spacing:0},ep.createElement(du.E,{fontSize:13,i18nId:"team_view.folder_upsell.upgrade_to_create_more_projects"}),ep.createElement(du.E,{fontSize:11,color:"secondary",i18nId:"team_view.folder_upsell.get_unlimited_everything",i18nParams:{professionalPlanLink:l}})))))}var Wh=a(5617),Wv=a(279102);let Wb="folder_list_view--emptyState--GUJd9 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",Wy="project-card";function Ww(e){let t=(0,eg.wA)(),a=(0,eg.d4)(e=>e.dropdownShown),r=(0,eg.d4)(e=>e.folders),n=(0,eg.d4)(e=>e.currentUserOrgId),l=(0,Ew.S)(),i=(0,eg.d4)(e=>e.user),s=(0,um.FC)(),o=e.folderList.map(t=>{let a=(0,dN.wA)(s),r=s.user&&s.roles.byFolderId[t.id]?s.roles.byFolderId[t.id][s.user.id]:void 0;return{...t,canView:(0,mG.canViewResource)(lB.vt.FOLDER,t.id,s),hideSubtitle:!!(a&&!(0,mG.canMemberOrg)(a.id,s)),currentUserHasViewRole:!!e.isCurrentUserInTeam||!!r&&r.level>=m5.e.VIEWER}}),c=()=>e.viewMode===Mz.XU.LIST,d=l?(0,gD.He)(a):void 0,m=(t,a)=>{var r;let{hideSubtitle:n,...i}=t,s=!n&&e.showTeamNameOrAuthor,o=t.currentUserHasViewRole||l;return ep.createElement(Wp.Z,{key:t.id,showTeamNameOrAuthor:s,folder:i,folderRef:null==(r=e.getFolderRef)?void 0:r.call(e,t),hideSubscribe:!o,dataOnboardingKey:a,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter})};return 0===o.length?ep.createElement(ep.Fragment,null,e.onCreateNewFolder&&!(0,ph.R$)(i,n)?ep.createElement("div",{className:Wb},e.canEditTeamContents?ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"folder_list_view--emptyTitle--zy2c5 tiles_view--emptyTitle--Ir5LP"},ep.createElement(e$.Tx,{id:"team_view.folder_empty_view.no_projects_yet"})),ep.createElement(e$.Tx,{id:"team_view.folder_empty_view.projects_help_you_organize"}),ep.createElement(eI.cw,{className:"folder_list_view--emptyButton--DID6b tiles_view--emptyButton--3MMre",onClick:e.onCreateNewFolder},ep.createElement(eL.B,{svg:g2.A,className:"folder_list_view--newProjectIcon--ma0OH tiles_view--newFileIcon--1n9v-"}),ep.createElement(e$.Tx,{id:"team_view.folder_empty_view.new_project"}))):ep.createElement(e$.Tx,{id:"team_view.folder_empty_view.this_team_does_not_have_any_projects_yet"})):null!=e.emptyStateText?ep.createElement("div",{className:Wb},e.emptyStateText):ep.createElement(e$.Tx,{id:"team_view.folder_empty_view.no_projects"})):ep.createElement(ep.Fragment,null,(()=>{let t=o.length>=2?1:1===o.length?0:void 0,a=c()+o.map(e=>e.id).join(",");return c()?ep.createElement(ep.Fragment,null,ep.createElement(Wh.u,{folderList:o,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:Wy,dataOnboardingKeyIndex:t}),ep.createElement(Wf,{canEditTeam:e.canEditTeamContents})):ep.createElement(D7.o,{chunkSize:e.chunkSize??30,className:c()?"folder_list_view--foldersContainerList--Tbl-m":"folder_list_view--foldersContainerGrid--YLPKJ",listKey:a},ep.createElement(FK,{containerClassName:"folder_list_view--tileGrid--Fvj1y",tileSize:FY.Medium,emptyView:ep.createElement(ep.Fragment,null)},o.map((e,a)=>a===t?m(e,Wy):m(e,"")),ep.createElement(WE,{canEditTeam:e.canEditTeamContents})))})(),d&&ep.createElement(f8.p,{folder:d,onRenameClick:()=>{if(!d||!d.canEdit)return;let e=r[null==d?void 0:d.id];t((0,gL.WC)()),t((0,e0.to)({type:Ul,data:{folder:e}}))}}))}let WT=[E5.Dq.NAME,E5.Dq.TEAM,E5.Dq.OWNER,E5.Dq.LAST_MODIFIED],Wx=[E5.Dq.SHARED_AT],WC=[E5.Dq.NAME,E5.Dq.TEAM,E5.Dq.OWNER,E5.Dq.LAST_MODIFIED,E5.Dq.SHARED_AT],WN=[E5.Dq.NAME,E5.Dq.LAST_MODIFIED],Wk={[E5.Dq.NAME]:Mz.ue.ASC,[E5.Dq.TEAM]:Mz.ue.ASC,[E5.Dq.OWNER]:Mz.ue.ASC,[E5.Dq.LAST_MODIFIED]:Mz.ue.DESC,[E5.Dq.SHARED_AT]:Mz.ue.DESC},WS={[Mz.XU.GRID]:{[E5.Dq.NAME]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[E5.Dq.TEAM]:ep.createElement(e$.Tx,{id:"tile.sort_filter.owner"}),[E5.Dq.OWNER]:ep.createElement(e$.Tx,{id:"tile.sort_filter.team"}),[E5.Dq.LAST_MODIFIED]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_last_modified"}),[E5.Dq.SHARED_AT]:ep.createElement(e$.Tx,{id:"tile.sort_filter.date_shared"}),[E5.Dq.CREATED_AT]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_date_created"})},[Mz.XU.LIST]:{[E5.Dq.NAME]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[E5.Dq.TEAM]:ep.createElement(e$.Tx,{id:"tile.sort_filter.owner"}),[E5.Dq.OWNER]:ep.createElement(e$.Tx,{id:"tile.sort_filter.team"}),[E5.Dq.LAST_MODIFIED]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_last_modified"}),[E5.Dq.SHARED_AT]:ep.createElement(e$.Tx,{id:"tile.sort_filter.date_shared"}),[E5.Dq.CREATED_AT]:ep.createElement(e$.Tx,{id:"tile.sort_filter.sort_date_created"})}},WI={viewMode:Mz.XU.GRID,sortMode:{sortKey:E5.Dq.LAST_MODIFIED,sortDesc:!0}},WA={...WI,sortMode:{sortKey:E5.Dq.SHARED_AT,sortDesc:!0}},WL={name:rS.f.byProperty("name",rS.f.LEXICOGRAPHICALLY),lastModified:rS.f.byProperty("folderLastUpdated"),team:rS.f.byProperty("folderTeamName",rS.f.LEXICOGRAPHICALLY),owner:rS.f.byProperty("folderOwnerName",rS.f.LEXICOGRAPHICALLY),sharedAt:rS.f.byProperty("folderSharedAt"),createdAt:rS.f.byProperty("created_at")};function WR(e){let{sortFilterOptions:t,sharedWithYouFilters:a,onChangeViewModeOption:r,viewBarOptions:n}=e,l=(0,eg.wA)(),i=(0,d2._6)();if("sharedWithYou"!==i.view)return null;if(null==t)return(0,eC.KF)(!0,`sortFilterOptions prop is ${t}`),null;let s=ep.createElement(dc.$f,{options:t,selectedView:i,dispatch:l}),o=ep.createElement("div",{className:eT.cx.flex.alignCenter.$},ep.createElement(dc.$c,{initialViewMode:n.viewMode,onViewModeChange:r})),c=ep.createElement("div",{className:eT.cx.flex.$},s,o),d=ep.createElement(dc.C9,{options:t,selectedView:i,dispatch:l,sharedWithYouFilters:a});return ep.createElement(dc.lU,{leftSide:d,rightSide:c})}let WO=(0,eg.Ng)((e,t)=>{let a=t.isSharerInfoIncluded?Wx:WT,r=t.showTeamNameOrAuthor?a:WN,n=t.isSharerInfoIncluded?WA:WI;return{teams:e.teams,roles:e.roles,fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,viewBarOptions:{viewMode:(0,W_.y2)(t.viewId,e.viewBarViewModeOptionByView,n.viewMode),sortMode:(0,W_.bV)(t.viewId,e,r,n.sortMode)}}},(e,t)=>({dispatch:e,onChangeSortOptions:a=>{e(tL.ZR({viewId:t.viewId,sortMode:{sortKey:a.sortKey,sortDesc:a.sortDesc}}))},onChangeViewModeOption:a=>{e(tL.uV({viewId:t.viewId,viewMode:a}))}}))(function(e){let{folderList:t,...a}=e,r=e.isSharerInfoIncluded?Wx:WT,n=e.showTeamNameOrAuthor?r:WN,l=e.isSharerInfoIncluded?"folder_list_row--sharedWithYouFolderColumnHeader--mM-6P folder_list_row--columns--QcXFO":"folder_list_row--allFolderColumnHeader--EF9wL folder_list_row--columns--QcXFO",i=e.showTeamNameOrAuthor?l:"folder_list_row--basicFolderColumnHeader--v4HDN folder_list_row--columns--QcXFO",s="sharedWithYou"===e.selectedView.view,o="recentsAndSharing"===e.selectedView.view,c=!s&&!o,d=ep.useCallback(t=>t.map(t=>({...t,...(0,Wv.Z)(e,t)})),[e]),m=ep.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=WL[e.viewBarOptions.sortMode.sortKey];if(t){let a=e.viewBarOptions.sortMode.sortDesc?rS.f.reverse(t):t,r=d(e.folderList);return r.sort(a),r}return e.folderList},[e.selectedView.view,e.viewBarOptions.sortMode,e.folderList,d]);return ep.createElement("div",{className:"folder_list_view--tabContentContainer--mtAzG"},s?ep.createElement(WR,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:e.onChangeViewModeOption,viewBarOptions:e.viewBarOptions}):null,c?ep.createElement(dc.fB,{sortKeys:n,listSortKeys:n,initialSortOrders:Wk,mobileListSortKeys:n,tabletListSortKeys:n,sortKeyDescriptions:WS,listHeaderClassName:`folder_list_view--listViewHeader---6zkp text--fontPos13--xW8hS text--_fontBase--QdLsd ${i}`,options:e.viewBarOptions,onChangeSortOptions:e.onChangeSortOptions,onChangeViewModeOption:e.onChangeViewModeOption,displayColumns:s?WC:n,hideViewModeToggle:s||o}):null,ep.createElement(Ww,{folderList:m,getFolderRef:e.getFolderRef,chunkSize:e.chunkSize,viewMode:e.viewBarOptions.viewMode,...a}))});function WF(){return{[Mz.cT.ALL]:(0,e$.t)("shared_with_you.filters.org_deleted_drafts.all"),[Mz.cT.SHARED]:(0,e$.t)("shared_with_you.filters.org_deleted_drafts.shared"),[Mz.cT.ORG_DELETED_DRAFTS]:(0,e$.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function WM(){var e,t;let a=(0,d2._6)(),r=(0,eg.d4)(e=>e.tileSortFilterStateByView),n="recentsAndSharing"===a.view?r.recentsAndSharing.sharedProjects:r.sharedWithYou,l=Wc(["folder"]),i=Ws(["folder"]),s=WF(),o={tileSortFilterConfig:n,sortKeys:[Mz.C0.SHARED_AT]},[c,d]=Wm((0,ep.useMemo)(()=>{var e,t;return{resourceTypes:["folder"],sharedBy:n.filters.sharedBy??"",planId:(null==(e=n.filters.plan)?void 0:e.planId)??"",planType:(null==(t=n.filters.plan)?void 0:t.planType)??"",orgDeletedDrafts:n.filters.orgDeletedDrafts??"",sortOrder:n.sort.dir===Mz.ue.ASC?"asc":"desc",sortKey:(0,Mz.De)(n.sort.key)??"shared_at"}},[n.filters.sharedBy,null==(e=n.filters.plan)?void 0:e.planId,null==(t=n.filters.plan)?void 0:t.planType,n.filters.orgDeletedDrafts,n.sort.dir,n.sort.key])),m=(0,ep.useMemo)(()=>c.data??{},[c.data]),u=(0,ep.useMemo)(()=>Object.values(m).map(e=>e.tile).filter(e=>e.type===E1.nb.PROJECT).map(e=>e.folder),[m]),_=(0,ep.useMemo)(()=>u.map(e=>e.id),[u]),{trackPerformanceEvent:p}=(0,Op.S)("swy_projects_pagination_performance","livegraph");(0,ep.useEffect)(()=>{p("fetch_end")},[p,_.length]),(0,ep.useEffect)(()=>{c.status===MY.ERRORS&&p("fetch_error",{errors:JSON.stringify(c.errors??{})})},[p,c.status,c.errors]),(0,ep.useEffect)(()=>(p("fetch_start"),()=>{p("fetch_cancel")}),[p]);let g=(0,ep.useCallback)(()=>{c.isFetchingNextPage||(p("fetch_next"),d({type:"fetchNextPage"}))},[c.isFetchingNextPage,d,p]),E=P$(_,(0,ep.useCallback)((e,t)=>{var a,r,n,l;let i=Object.values(m).find(e=>e.tile.type===E1.nb.PROJECT&&e.tile.folder.id===t);e.isIntersecting?null==(r=null==(a=null==i?void 0:i.actions)?void 0:a.subscribe)||r.call(a):null==(l=null==(n=null==i?void 0:i.actions)?void 0:n.unsubscribe)||l.call(n)},[m]),{rootMargin:"100% 0px 100% 0px"});return ep.createElement(gK.A,{loadingElementId:"loading-content-pane",delay:250,loaded:c.status===MY.LOADED,loadingElementClassName:eT.cx.pr32.$},ep.createElement(Pj,{onShouldFetchNextPage:g},ep.createElement(WO,{viewId:"shared-with-you-projects",folderList:u,getFolderRef:e=>E.get(e.id)??null,chunkSize:u.length,showTeamNameOrAuthor:!1,isCurrentUserInTeam:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:l,plan:i,orgDeletedDrafts:s},sortFilterOptions:o,selectedView:a,emptyStateText:c.isFetchingNextPage?"":(0,e$.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:n.filters.plan})))}let WD="seen_shared_files_onboarding",WP=(0,tZ.r1)("seen_account_profile_switcher_onboarding"),WB=(0,tZ.r1)(WD);function WU(){let e=(0,tY.md)(WP),t=(0,tY.md)(WB),a=(0,tJ.e)({overlay:t4.fz8,priority:tQ.N.SECONDARY_MODAL},[t,e]);return(0,tz.h)(()=>{a.show({canShow:(e,t)=>t&&!e})}),ep.createElement(vI.rq,{targetKey:dE.Bh,isShowing:a.isShowing,title:ep.createElement(e$.Tx,{id:"rcs.shared_with_you.shared_files_title"}),description:ep.createElement(e$.Tx,{id:"rcs.shared_with_you.shared_files_description",recents:ep.createElement("span",{className:eT.cx.fontBold.$},ep.createElement(e$.Tx,{id:"rcs.shared_with_you.recents"}))}),primaryCta:{type:"button",label:ep.createElement(e$.Tx,{id:"rcs.got_it"}),onClick:a.complete,ctaTrackingDescriptor:o3.c.DONE},width:350,onClose:a.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:WD})}let WW=e=>{switch(e){case gb.G.RECENTLY_VIEWED:return(0,e$.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case gb.G.SHARED_PROJECTS:return(0,e$.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case gb.G.SHARED_FILES:return(0,e$.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,eC.xb)(e)}};function WV(e){var t,a,r,n,l,i;let s=(0,tR.TA)(),o=(0,eg.d4)(e=>e.orgUsersByOrgId.orgUsers),c=ep.useMemo(()=>null!==s&&Object.values(o).some(e=>{var t;return(null==(t=e[s])?void 0:t.permission)===lB._D.ADMIN}),[s,o]),d=e.options.tileSortFilterConfig.filters.sharedBy,m=e.options.tileSortFilterConfig.filters.plan;return ep.createElement("div",{className:"recents_and_sharing_viewbar--dropdownCollectionContainer--2Yk4e"},ep.createElement(ep.Fragment,null,(null==(t=e.filters)?void 0:t.sharer)&&Object.keys(null==(a=e.filters)?void 0:a.sharer).length>1&&ep.createElement(ep.Fragment,null,d&&ep.createElement(dc.qD,{userId:d}),ep.createElement(dc.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),(null==(r=e.filters)?void 0:r.plan)&&Object.keys(null==(n=e.filters)?void 0:n.plan).length>1&&ep.createElement(ep.Fragment,null,(null==m?void 0:m.planId)&&ep.createElement(dc.lV,{planOption:e.filters.plan[m.planId]}),ep.createElement(dc.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),(null==(l=e.filters)?void 0:l.fileType)&&ep.createElement(ep.Fragment,null,ep.createElement(dc.ye,{config:e.options.tileSortFilterConfig,tab:e.tab})),(null==(i=e.filters)?void 0:i.orgDeletedDrafts)&&c&&ep.createElement(ep.Fragment,null,ep.createElement(dc.T3,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab}))))}function WG(e){let t=e.selectedTab,a=(0,eg.wA)(),r=(0,d2._6)(),n=(0,eg.d4)(e=>e.tileSortFilterStateByView),l=t===gb.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],i=Wc(l),s=function(){var e;let t=(0,tR.TA)(),a=(0,eg.d4)(e=>e.authedUsers);return((t?null==(e=a.byId[t])?void 0:e.plans:[])??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"})).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...Wl()})}(),o=Ws(l),c=WF(),d={sharer:t!==gb.G.RECENTLY_VIEWED?i:void 0,plan:t===gb.G.RECENTLY_VIEWED?s:o,fileType:t!==gb.G.SHARED_PROJECTS,orgDeletedDrafts:t===gb.G.SHARED_PROJECTS?c:void 0},m=ep.useMemo(()=>{let e;switch(t){case gb.G.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case gb.G.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case gb.G.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,eC.xb)(t)}return{tileSortFilterConfig:e,sortKeys:gb.o[t]}},[t,n]),u=e=>{e===gb.G.SHARED_FILES?(0,tn.sx)("file_browser_shared_files"):e===gb.G.SHARED_PROJECTS&&(0,tn.sx)("file_browser_shared_projects"),a(tL.$T({view:"recentsAndSharing",tab:e}))},_=e=>{(0,tn.sx)("file view toggle",{viewType:e===Mz.XU.GRID?"grid":"list"}),Object.keys(gb.G).map(t=>{a(tL.JF({selectedView:r,config:{...m.tileSortFilterConfig,viewMode:e},tab:gb.G[t]}))},a(tL.uV({viewId:"shared-with-you-projects",viewMode:e})))},p=ep.createElement("div",{className:eT.cx.flex.alignCenter.$},ep.createElement(dc.$c,{initialViewMode:m.tileSortFilterConfig.viewMode,onViewModeChange:_})),g=ep.createElement(dc.mc,{options:m,selectedView:r,dispatch:a,tab:t}),E=ep.createElement("div",{className:eT.cx.flex.$,key:"sortWithViewOptions"},g,p),f=ep.createElement(WV,{options:m,filters:d,tab:t,key:"recentsAndSharingTileFilters"}),h=ep.createElement(dc.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:m,filters:d,onViewModeChange:_,tab:t}),v=Object.keys(gb.G).map(t=>{let a="SHARED_FILES"===t?dE.Bh:"";return ep.createElement(CJ.r,{tab:gb.G[t],onClick:u,isSelected:e.selectedTab===gb.G[t],tabName:WW(gb.G[t]),key:t,dataOnboardingKey:a})});return ep.createElement(ep.Fragment,null,ep.createElement(tq.p,null,ep.createElement(WU,null)),ep.createElement(dc.g2,{leftSide:ep.createElement(CJ.f,{tabs:v}),rightSide:[f,E],rightSideMobile:h}))}function W$(e){switch(e){case e2.bb.ACCOUNT:return UQ.c.ACCOUNT;case e2.bb.COMMUNITY:return UQ.c.COMMUNITY;case e2.bb.NOTIFICATIONS:return UQ.c.NOTIFICATIONS}}function Wj(e){let t=(0,eg.wA)(),{selectedTab:a,accountModalTab:r,emailPolicyToUnsubscribeFrom:n}=e,l=ep.createElement(WG,{selectedTab:a}),i=(0,om.Z)(r),s=(0,om.Z)(n);return(0,ep.useEffect)(()=>{r&&r!==i?(t((0,e0.to)({type:UQ.s,data:{tab:W$(r)}})),t(tL.$T({view:"recentsAndSharing",tab:gb.G.RECENTLY_VIEWED}))):n&&n!==s&&(UJ.z.updateUserCommunicationPreference({channelType:"email",policyType:n,policySetting:"none"}).then(()=>{t((0,e0.to)({type:U1,data:{policyType:n}}))}).catch(e=>{t((0,e0.to)({type:UQ.s,data:{tab:W$(e2.bb.NOTIFICATIONS)}})),t(t6.F.dequeue({}))}),t(tL.$T({view:"recentsAndSharing",tab:gb.G.RECENTLY_VIEWED})))},[r,i,n,s,t]),ep.createElement(v6.r,{banner:ep.createElement(Wa,null),viewbar:l,viewBarSticky:!0,toolbar:ep.createElement(Wr,null),content:function(e){switch(e){case gb.G.SHARED_FILES:return ep.createElement(Wu,null);case gb.G.SHARED_PROJECTS:return ep.createElement(WM,null);case gb.G.RECENTLY_VIEWED:return ep.createElement(U3,null)}}(a)})}var WH=a(213331);let Wq=(0,xc.rw)();function Wz(e){let t=(0,eg.wA)(),a=[ep.createElement(Wq,{tab:WH.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(tL.$T({view:"sharedWithYou",tab:WH.G.FILES}))},mobileNavTabTitle:(0,e$.t)("shared_with_you.toolbar.files")},ep.createElement(e$.Tx,{id:"shared_with_you.toolbar.files"})),ep.createElement(Wq,{tab:WH.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(tL.$T({view:"sharedWithYou",tab:WH.G.PROJECTS}))},mobileNavTabTitle:(0,e$.t)("shared_with_you.toolbar.projects")},ep.createElement(e$.Tx,{id:"shared_with_you.toolbar.projects"}))];return ep.createElement(xo.W,{hideToolBarOnDesktop:!1,resetTileSelectionOnMouseDown:!0,tabs:a})}function WY(e){return ep.createElement(v6.r,{toolbar:ep.createElement(Wz,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return ep.createElement(Wu,null);case"projects":return ep.createElement(WM,null)}}(e.tab)})}function WK({team:e}){return ep.createElement(Id,{supportedLicenses:[uP.oM.DESIGN,uP.oM.WHITEBOARD],planType:El.ps.TEAM,planId:e.id})}function WJ({team:e,shouldShowDevModeSuggestedUpgradesModal:t}){let a=(0,eg.wA)(),r=(0,eg.d4)(e=>e.avatarEditorState),n=(0,eh.kc)().billing_dev_mode_customer_ui,l=(0,El.IA)({planType:El.ps.TEAM,planId:e.id}),[i,s]=(0,tY.fp)(S5._),[o,c]=ep.useState(n&&l);ep.useEffect(()=>{if(null!==l){c(n&&l);let t=[El.ps.TEAM,e.id].toString(),a={...i};a[t]=!!(n&&l),s(a)}},[n,l,e.id]);let d=()=>{c(!1);let t=[El.ps.TEAM,e.id].toString(),a={...i};a[t]=!1,s(a)},m=()=>{a(e0.to({type:Ie,data:{planId:e.id,planType:El.ps.TEAM,onNoUpgrades:d}}))};return(0,tz.h)(()=>{n&&(0,eh.kc)().dev_mode_suggested_upgrades&&t&&e.pro_team&&m()}),ep.createElement("div",{style:u1.sx.add({width:"780px",marginLeft:"auto",marginRight:"auto"}).$},ep.createElement("div",{style:u1.sx.flex.flexRow.gap24.justifyStart.add({marginTop:"40px",marginBottom:"40px"}).$},ep.createElement(fp.ER,{dispatch:a,entityType:f_.ck.TEAM,entity:e,size:80,avatarEditorState:r}),ep.createElement("div",{className:eT.cx.flex.flexColumn.justifyCenter.itemsStart.$},ep.createElement(du.E,{fontWeight:"regular",fontSize:24},e.name),e.community_profile_handle&&ep.createElement(eH.jm,{className:eS()(eT.cx.lh24.font13.cursorPointer.$,"admin_dashboard_tab--communityHandle--H8wF1"),onClick:()=>{a(tL.$T({view:"communityHub",subView:"handle",handle:e.community_profile_handle}))}},"@",e.community_profile_handle))),e.pro_team&&ep.createElement(ej.Y,{spacing:16,direction:"vertical"},o&&ep.createElement(eH.fu,{name:e4.e0.DEV_MODE_SUGGESTED_UPGRADES_ACTION_CARD,properties:{adminRequestsDashboard:!0,teamId:e.id}},(0,eh.kc)().dev_mode_suggests_tile_dismissal?ep.createElement(S8,{onClick:m,title:(0,e$.t)("admin_dashboard.suggested.tile.title",{dateObject:El.Se}),subText:ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.tile.subtext.main",dismissalLink:ep.createElement("span",{className:"admin_dashboard_tab--suggestedUpgradesDismissalLink--mN1Pi",role:"button",onClick:()=>{S7.dismissDevModeSuggestedUpgrades({team_id:e.id}),c(!1)},tabIndex:0},ep.createElement(e$.Tx,{id:"admin_dashboard.suggested.tile.subtext.dismissal_link"}))}),buttonText:(0,e$.t)("admin_dashboard.suggested.button"),color:S2.YELLOW,dataTestId:"dev-mode-suggested-upgrades-team"}):ep.createElement(S3,{onClick:m,title:(0,e$.t)("admin_dashboard.suggested.tile.title",{dateObject:El.Se}),text:(0,e$.t)("admin_dashboard.suggested.tile.body.dm_opted_in"),color:S2.YELLOW,dataTestId:"dev-mode-suggested-upgrades-team"})),ep.createElement("div",{className:eT.cx.mb16.$},ep.createElement(WK,{team:e}))))}function WZ(e){return ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"change_annual_plan_modal.number_of_editors.seat_rename",productType:(0,pD.E)((0,uP.vc)(e.editorType))}),ep.createElement(eI.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:pM.m,value:e.tempNumEditors,onChange:t=>{let a=t.target.value;e.setTempEditorsValue(parseInt(a))}}))}let WQ="team-admin-change-annual-plan";function WX(e){let t=(0,u2.mF)(mq.tY.ANNUAL);return ep.createElement(W0,{...e,showJamboardOfferBanner:t})}(0,am.qK)(WQ,e=>ep.createElement(WX,{...e,promotionCodeId:e.modalShown.data.promotionCodeId,selectedView:e.selectedView}));class W0 extends ep.PureComponent{constructor(e){super(e),this.team=()=>this.props.teams[this.props.selectedView.teamId],this.confirmSeats=(e,t,a)=>{this.props.dispatch(m2.MV({teamId:this.team().id,annualQuantity:e,annualWhiteboardQuantity:t,promotionCodeId:a??void 0}))},this.onSubmit=()=>{var e,t,a;isNaN(this.state.tempDesignEditors)||isNaN(this.state.tempWhiteboardEditors)||this.state.tempDesignEditors<0||this.state.tempWhiteboardEditors<0||0===this.state.tempDesignEditors&&0===this.state.tempWhiteboardEditors?this.props.dispatch(e5.s.error((0,e$.t)("change_annual_plan_modal.invalid_seats_error"))):this.state.tempDesignEditors+this.state.tempWhiteboardEditors>pM.m?(this.props.dispatch(e5.s.error(ep.createElement("div",null,ep.createElement(e$.Tx,{id:"change_annual_plan_modal.contact_support_to_purchase_more_seats_error",maxAnnualSubscriptions:pM.m,contactSupportLink:ep.createElement("a",{href:"mailto:support@figma.com"},(0,e$.t)("change_annual_plan_modal.contact_support_link"))})))),this.setState({tempDesignEditors:(null==(e=this.annualSub())?void 0:e.design_quantity)||(null==(t=this.annualSub())?void 0:t.quantity)||0,tempWhiteboardEditors:(null==(a=this.annualSub())?void 0:a.whiteboard_quantity)||0})):this.state.tempWhiteboardEditors+this.state.tempDesignEditors>100?this.props.dispatch(e0.to({type:pH,data:{numAnnualEditors:this.state.tempDesignEditors+this.state.tempWhiteboardEditors,onConfirm:this.confirmSeats.bind(this,this.state.tempDesignEditors,this.state.tempWhiteboardEditors,this.state.promotionCodeId)}})):this.props.dispatch(m2.MV({teamId:this.team().id,annualQuantity:this.state.tempDesignEditors,annualWhiteboardQuantity:this.state.tempWhiteboardEditors,promotionCodeId:this.state.promotionCodeId??void 0}))},this.annualSub=()=>{try{let e=this.props.teamBilling.summary;if(null==e?void 0:e.annual_subscription)return(null==e?void 0:e.annual_subscription)||void 0;return}catch(e){return}},this.cancelPlan=()=>{this.props.dispatch(e0.to({type:W1}))},this.hide=()=>{this.props.dispatch(e0.Ce())},this.renderInstructions=()=>{let e=this.props.teamBilling.summary.currency,t=new aQ.vr(e),a=t.getPrices();return ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"change_annual_plan_modal.instructions.seat_rename",monthlyEditorCost:t.formatMoney(a.monthlyFigma,{showCents:!1}),editorProduct:(0,pD.E)(uP.oM.DESIGN),monthlyFigjamCost:t.formatMoney(a.monthlyFigjam,{showCents:!1}),figJamProduct:(0,pD.E)(uP.oM.WHITEBOARD)}))};let t=this.annualSub(),a=(null==t?void 0:t.whiteboard_quantity)||0;this.state={tempDesignEditors:(null==t?void 0:t.design_quantity)||(null==t?void 0:t.quantity)||0,tempWhiteboardEditors:a,promotionCodeId:e.promotionCodeId}}render(){var e,t;let a=this.annualSub(),r=!!(null==a?void 0:a.trial_end)&&!!(0,pM.mt)(a.trial_end),n=a?(0,e$.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(a.current_period_end)}):(0,e$.t)("change_annual_plan_modal.unknown_start_date"),l=r?(0,e$.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:n}):(0,e$.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:n});return ep.createElement(eH.fu,{name:"Change Annual Plan Modal",properties:{teamId:this.team().id,userId:null==(e=this.props.user)?void 0:e.id}},ep.createElement(au.Rw,{confirmationTitle:l,confirmText:(0,e$.t)("change_annual_plan_modal.confirm_text"),onConfirm:this.onSubmit,onCancel:this.hide,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending,trackedConfirmationProperties:{teamId:this.team().id,userId:null==(t=this.props.user)?void 0:t.id,monthly_quantity_design:this.state.tempDesignEditors,monthly_quantity_figjam:this.state.tempWhiteboardEditors},...this.props},ep.createElement("br",null),ep.createElement(e$.Tx,{id:"change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"}),ep.createElement("br",null),ep.createElement("br",null),this.renderInstructions(),ep.createElement("br",null),ep.createElement("br",null),ep.createElement(WZ,{editorType:lB._Y.DESIGN,tempNumEditors:this.state.tempDesignEditors,setTempEditorsValue:e=>this.setState({tempDesignEditors:e}),dispatch:this.props.dispatch}),ep.createElement(ep.Fragment,null,ep.createElement("br",null),ep.createElement("br",null),ep.createElement(WZ,{editorType:lB._Y.WHITEBOARD,tempNumEditors:this.state.tempWhiteboardEditors,setTempEditorsValue:e=>this.setState({tempWhiteboardEditors:e}),dispatch:this.props.dispatch})),ep.createElement("br",null),ep.createElement("br",null),this.props.showJamboardOfferBanner&&ep.createElement("div",{className:eT.cx.pb16.$},ep.createElement(_o,{numOfferSeatsRemaining:(0,u2.lA)(isNaN(this.state.tempWhiteboardEditors)?0:this.state.tempWhiteboardEditors)})),ep.createElement("a",{className:"change_annual_plan_modal--link--X4F62 blue_link--blueLink--9rlnd",onClick:this.cancelPlan},r?(0,e$.t)("change_annual_plan_modal.remove_annual_plan"):(0,e$.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}}W0.displayName="ChangeAnnualPlanModal";let W1="team-admin-cancel-annual-plan";function W2(e){let t=e.teams[e.selectedView.teamId],a=(0,eg.wA)(),r=e.teamBilling.summary.currency,n=new aQ.vr(r),l=n.getPrices();return ep.createElement(au.Rw,{confirmationTitle:(0,e$.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,e$.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,e$.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{let e=t.id;a(m2.MV({teamId:e,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{a(e0.to({type:WQ,data:{}}))},dontClose:!0,disableConfirm:e.payment.submitPutAnnualQuantityPending,...e},ep.createElement("br",null),ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_text.seat_rename",monthlyEditorCost:n.formatMoney(l.monthlyFigma),monthlyFigJamEditorCost:n.formatMoney(l.monthlyFigjam)})),ep.createElement("br",null),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"change_annual_plan_modal.cancel_annual_plan_subtext"}))}(0,am.qK)(W1,e=>ep.createElement(W2,{...e,selectedView:e.selectedView}));let W4="cost_breakdown--row--0ykUQ",W3="cost_breakdown--primary--DX3HO",W8="cost_breakdown--secondary--BRXvV",W5="cost_breakdown--currency--hNdBB";function W6(e){let t=new aQ.vr(e.currency),a=t.formatMoney(e.whiteboardCostAnnual),r=t.formatMoney(e.whiteboardCostMonthly),n=t.getPrices(),l=(0,e$.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),i=(0,e$.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,e$.t)("org_admin_settings.cost_breakdown.12_months");return ep.createElement(ep.Fragment,null,e.whiteboardSeatsAnnual>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),ep.createElement("span",{className:W5},a)),ep.createElement("div",{className:W8},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:t.formatMoney(n.annualFigjam),seats:i,numMonths:s}))),e.whiteboardSeatsMonthly>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),ep.createElement("span",{className:W5},r)),ep.createElement("div",{className:W8},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:t.formatMoney(n.monthlyFigjam),seats:l}))))}function W9(e){let t=e.currency,a=new aQ.vr(t),r=a.getPrices(),n=e.nDesignEditorsMonthly,l=e.nDesignEditorsAnnual,i=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,o=e.nFigjamEditors,c=e.whiteboardCotermUpgrades,d=(null==c?void 0:c.amount)||0,m=a.formatMoney(d),u=e.designCotermUpgrades,_=12*r.annualFigma*e.nDesignEditorsAnnual,p=r.monthlyFigma*e.nDesignEditorsMonthly,g=_+p,E=a.formatMoney(_),f=a.formatMoney(p),h=(null==u?void 0:u.amount)||0,v=a.formatMoney(h),b=12*r.annualFigjam*s,y=r.monthlyFigjam*i,w=b+y,T=a.formatMoney(g+w+h+d),x=(0,e$.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),C=(0,e$.t)("org_admin_settings.cost_breakdown.seats",{seats:l}),N=(0,e$.t)("org_admin_settings.cost_breakdown.12_months");return ep.createElement("div",{className:"cost_breakdown--container--XzO4k"},l>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",designSeatsAnnual:l})),ep.createElement("span",{className:W5},E)),ep.createElement("div",{className:W8},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_triple",cost:a.formatMoney(r.annualFigma),seats:C,numMonths:N}))),n>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",designSeatsMonthly:n})),ep.createElement("span",{className:W5},f)),ep.createElement("div",{className:W8},ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.cost_breakdown_string_double",cost:a.formatMoney(r.monthlyFigma),seats:x}))),ep.createElement(W6,{whiteboardSeatsMonthly:i,whiteboardSeatsAnnual:s,whiteboardCostMonthly:y,whiteboardCostAnnual:b,figjamSeats:o,currency:t}),u&&u.quantity>0&&u.amount>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",seatsCotermed:u.quantity})),ep.createElement("span",{className:W5},v))),c&&c.quantity>0&&c.amount>0&&ep.createElement("div",{className:W4},ep.createElement("div",{className:W3},ep.createElement("span",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",seatsCotermed:c.quantity})),ep.createElement("span",{className:W5},m))),ep.createElement("div",{className:"cost_breakdown--divider--xV4yx"}),ep.createElement("div",{className:"cost_breakdown--total--BrmSb"},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"org_admin_settings.cost_breakdown.total"})),ep.createElement("div",{className:W5},T)))}let W7=(0,am.Ju)(function(e){let t=(0,eg.wA)();return ep.createElement(sn.XV,{onClose:()=>t(e0.Ce()),title:e.title,minWidth:341,maxWidth:341},ep.createElement(W9,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}))},"ProCostBreakdown"),Ve="billing_overview--metadataRow--P--In billing_details_figjam--metadataRow--H1vpp",Vt="billing_overview--cell--exAWf billing_details_figjam--cell--HFItG",Va="billing_overview--container--U-Uxd billing_details_figjam--container--WyQin",Vr="billing_overview--header--rKibN billing_details_figjam--header---1eWo",Vn="billing_overview--primaryData--LWql8 billing_details_figjam--primaryData--EMIYm",Vl="billing_overview--secondaryData--qQKaw billing_details_figjam--secondaryData--WdsSw",Vi="billing_overview--link--TqR9h billing_details_figjam--link--D3k8I billing_tab--link--Lzuhx blue_link--blueLink--9rlnd";function Vs(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.annual_subscription,l=t.summary.monthly_subscription;return(null==n?void 0:n.canceled_at)||(null==l?void 0:l.canceled_at)?ep.createElement(Vc,{billing:t,dispatch:a,team:r}):ep.createElement(Vo,{billing:t,dispatch:a,team:r})}function Vo(e){let{billing:t,dispatch:a}=e,r=t.summary.monthly_subscription,n=t.summary.annual_subscription,l=(null==n?void 0:n.design_quantity)||(null==n?void 0:n.quantity)||0,i=(null==r?void 0:r.design_quantity)||(null==r?void 0:r.quantity)||0,s=(null==n?void 0:n.whiteboard_quantity)||0,o=(null==r?void 0:r.whiteboard_quantity)||0,c=null==r?void 0:r.design_coterm_upgrades,d=null==r?void 0:r.whiteboard_coterm_upgrades,m=(0,u2.hP)(mq.tY.ANNUAL),u=Vg((null==r?void 0:r.estimated_amount_due)||0,(null==n?void 0:n.estimated_amount_due)||0,null==r?void 0:r.current_period_end,null==n?void 0:n.current_period_end);if(!u)return ep.createElement(ep.Fragment,null);let{nextInvoiceAt:_,invoiceTotal:p,areInvoicesCombined:g}=u,E=(0,pN.A)(new Date),f=n&&E.isAfter((0,pN.A)(n.current_period_end).add(-30,"days")),h=!!(null==n?void 0:n.trial_end)&&(0,pM.mt)(n.trial_end),v=!!(null==r?void 0:r.trial_end)&&(0,pM.mt)(r.trial_end),b=pZ.b.BILLING_OVERVIEW,y=g||!r?l:0,w=g||!r?s:0,T=o+s;return ep.createElement("div",{className:Va},ep.createElement("div",{className:Ve},ep.createElement(Vm,{nextInvoiceAt:VE(_)}),ep.createElement(V_,{annualSeats:l,monthlySeats:i,monthlySeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),ep.createElement(V_,{annualSeats:s,monthlySeats:o,monthlySeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})}),ep.createElement(Vu,{currency:t.summary.currency,invoiceTotal:p,isCurrent:!0,isPlural:g,annualDesignSeats:y,monthlyDesignSeats:i,annualWhiteboardSeats:w,monthlyWhiteboardSeats:o,figjamSeats:t.summary.whiteboard_quantity||0,designCotermUpgrades:c,whiteboardCotermUpgrades:d})),ep.createElement("div",{className:Ve},ep.createElement("div",{className:Vt},n&&!h&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.professional_plan_annual_renewal"})),ep.createElement("div",{className:Vl},VE(n.current_period_end))),n&&h&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.professional_plan_annual_subscription_start"})),ep.createElement("div",{className:Vl},VE(h))),r&&!v&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.professional_plan_monthly_renewal"})),ep.createElement("div",{className:Vl},VE(r.current_period_end))),r&&v&&ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.professional_plan_monthly_subscription_start"})),ep.createElement("div",{className:Vl},VE(v))),ep.createElement(eI.Ph,{className:Vi,onClick:()=>{a(tL.$T({view:"orgSelfServe",upsellSource:b}))},trackingProperties:{trackingDescriptor:o3.c.UPGRADE_TO_ORGANIZATION,upsellSource:pZ.b.BILLING_OVERVIEW},trusted:!0},ep.createElement(e$.Tx,{id:"team_view.billing.upgrade_plan_to_organization"})),f&&ep.createElement(eI.Ph,{className:Vi,onClick:()=>{a((0,e0.to)({type:WQ,data:{promotionCodeId:m}}))},trusted:!0},ep.createElement(e$.Tx,{id:"team_view.billing.change_annual_plan"}))),ep.createElement("div",{className:Vt},ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.total_editor_seats_today.seat_rename"})),ep.createElement("div",{className:Vl},ep.createElement(e$.Tx,{id:"team_view.billing.monthly_design_seats_breakdown",designSeats:i+l,figjamSeats:T})))))}function Vc(e){let{billing:t,dispatch:a,team:r}=e,n=t.summary.last_monthly_invoice,l=t.summary.last_annual_invoice,i=t.summary.monthly_subscription,s=t.summary.annual_subscription,o=(null==s?void 0:s.design_quantity)||(null==s?void 0:s.quantity)||0,c=(null==i?void 0:i.design_quantity)||(null==i?void 0:i.quantity)||0,d=(null==s?void 0:s.whiteboard_quantity)||0,m=(null==i?void 0:i.whiteboard_quantity)||0,u=(null==l?void 0:l.total)===0,_=(null==n?void 0:n.design_quantity)||0,p=(null==l?void 0:l.design_quantity)||0,g=(null==n?void 0:n.whiteboard_quantity)||0,E=(null==l?void 0:l.whiteboard_quantity)||0,f=Vg((null==n?void 0:n.total)||0,(null==l?void 0:l.total)||0,null==n?void 0:n.date,null==l?void 0:l.date);if(!f)return ep.createElement(ep.Fragment,null);let{invoiceTotal:h,areInvoicesCombined:v}=f,b=!!((null==i?void 0:i.canceled_at)||(null==s?void 0:s.canceled_at)),y=!v&&i||u?0:p,w=!v&&i||u?0:E;return ep.createElement("div",{className:Va},ep.createElement("div",{className:Ve},ep.createElement(Vm,{nextInvoiceAt:(0,e$.t)("team_view.billing.canceled")}),ep.createElement(Vu,{currency:t.summary.currency,invoiceTotal:h,isCurrent:!1,isPlural:v,monthlyDesignSeats:_,annualDesignSeats:y,figjamSeats:t.summary.whiteboard_quantity||0,monthlyWhiteboardSeats:g,annualWhiteboardSeats:w}),ep.createElement(V_,{annualSeats:y,monthlySeats:_,monthlySeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.monthly_design_editor_seats.seat_rename"}),totalSeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.total_design_editor_seats.seat_rename"})}),ep.createElement(V_,{annualSeats:w,monthlySeats:g,monthlySeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.monthly_fig_jam_editor_seats.seat_rename"}),totalSeatsHeaderText:ep.createElement(e$.Tx,{id:"team_view.billing.total_fig_jam_editor_seats.seat_rename"})})),ep.createElement("div",{className:Ve},ep.createElement("div",{className:Vt},(null==i?void 0:i.canceled_at)&&ep.createElement(Vd,{sub:i,expiringDesignSeatCount:c,expiringWhiteboardSeatCount:m,billingPeriod:"monthly"}),(null==s?void 0:s.canceled_at)&&ep.createElement(Vd,{sub:s,expiringDesignSeatCount:o,expiringWhiteboardSeatCount:d,billingPeriod:"annual"}),ep.createElement(eI.Ph,{className:Vi,onClick:()=>(0,pR.C8)({team:r,dispatch:a,cancelling:b,monthlySub:i,annualSub:s}),trusted:!0},ep.createElement(e$.Tx,{id:"team_view.billing.reactivate_professional_plan"}))),t.summary.billing_contact&&ep.createElement(Vp,{billingContact:t.summary.billing_contact,team:r,dispatch:a})))}function Vd(e){return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.professional_plan_billing_period_cancellation",billingPeriod:e.billingPeriod})),ep.createElement("div",{className:Vl},ep.createElement(e$.Tx,{id:"team_view.add_to_favorites.billing.lost_access",canceledAt:VE(e.sub.canceled_at),listOfEditorsLosingAccess:(0,to.Yx)([(0,e$.t)("team_view.add_to_favorites.billing.figma_design_editors.seat_rename",{designSeats:e.expiringDesignSeatCount}),(0,e$.t)("team_view.add_to_favorites.billing.figjam_editors.seat_rename",{figjamSeats:e.expiringWhiteboardSeatCount})]),currentPeriodEnd:VE(e.sub.current_period_end)})))}function Vm(e){return ep.createElement("div",{className:Vt},ep.createElement("span",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.next_invoice_issue_date"})),ep.createElement("div",{className:Vn}," ",e.nextInvoiceAt))}function Vu(e){let t=(0,eg.wA)(),a=new aQ.vr(e.currency);return ep.createElement("div",{className:Vt},ep.createElement("span",{className:Vr},e.isCurrent?ep.createElement(e$.Tx,{id:"team_view.billing.invoices_total",numInvoices:e.isPlural?2:1}):ep.createElement(e$.Tx,{id:"team_view.billing.last_invoices_total",numInvoices:e.isPlural?2:1})),ep.createElement("div",{className:Vn},a.formatMoney(e.invoiceTotal)),e.invoiceTotal>0&&ep.createElement("span",{className:"billing_overview--costBreakdownLink--A4Uf1 billing_details_figjam--link--D3k8I billing_tab--link--Lzuhx blue_link--blueLink--9rlnd",onClick:()=>t((0,e0.to)({type:W7,data:{title:"Cost Breakdown",currency:e.currency,nDesignEditorsAnnual:e.annualDesignSeats,nDesignEditorsMonthly:e.monthlyDesignSeats,nFigjamEditors:e.figjamSeats,nWhiteboardEditorsAnnual:e.annualWhiteboardSeats,nWhiteboardEditorsMonthly:e.monthlyWhiteboardSeats,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades}}))},ep.createElement(e$.Tx,{id:"team_view.billing.see_cost_breakdown"})))}function V_(e){let{monthlySeats:t,annualSeats:a,monthlySeatsHeaderText:r,totalSeatsHeaderText:n}=e;if(!a||0===a)return ep.createElement("div",{className:Vt},ep.createElement("span",{className:Vr},r),ep.createElement("div",{className:Vn},t));let l=a+t;return ep.createElement("div",{className:Vt},ep.createElement("span",{className:Vr},n),ep.createElement("div",{className:Vn},l),ep.createElement("div",{className:"billing_overview--totalSeatsNextInvoiceBadges--eUrPc"},ep.createElement(dd.Ex,{color:dd.zE.DEFAULT,text:(0,e$.t)("team_view.billing.annual_seats_annual",{annualSeats:a})}),ep.createElement(dd.Ex,{color:dd.zE.DEFAULT,text:(0,e$.t)("team_view.billing.monthly_seats_monthly",{monthlySeats:t})})))}function Vp(e){let{billingContact:t,team:a,dispatch:r}=e,n=async e=>await pR.BO({email:e,dispatch:r,teamId:a.id});return ep.createElement("div",{className:Vt},ep.createElement("div",{className:Vr},ep.createElement(e$.Tx,{id:"team_view.billing.invoices_sent_to"})),ep.createElement("div",{className:Vl},t),ep.createElement("div",{className:Vi,onClick:()=>r((0,e0.to)({type:LF,data:{currentContacts:t,onSubmit:n,isOrg:!1}}))},ep.createElement(e$.Tx,{id:"team_view.billing.change_contact"})))}function Vg(e,t,a,r){try{let n=a&&(0,pN.A)(a),l=r&&(0,pN.A)(r),i=r&&a&&n?n.diff(l,"days"):null;if((i||0===i)&&i>=-1&&i<=1)return{invoiceTotal:e+t,nextInvoiceAt:a,areInvoicesCombined:!0};if(a)return{invoiceTotal:e,nextInvoiceAt:a,areInvoicesCombined:!1};if(r)return{invoiceTotal:t,nextInvoiceAt:r,areInvoicesCombined:!1};throw Error(`Invalid invoices. Month: ${a}. Annual: ${r}`)}catch(e){console.error(e)}return{invoiceTotal:0,nextInvoiceAt:"",areInvoicesCombined:!1}}let VE=e=>(0,pN.A)(e).format("MMM D, YYYY"),Vf="invoices_table--colDate--ltJux",Vh="invoices_table--colDescription--owrLP",Vv="invoices_table--colSeats--YSOh8 invoices_table--_rightAligned--9BWDS",Vb="invoices_table--colStatus--3BUus";function Vy(e){return ep.createElement(ep.Fragment,null,ep.createElement(Vw,null),e.invoices.map((e,t)=>"open"!==e.status&&"paid"!==e.status?null:ep.createElement(VT,{key:t,invoice:e})))}function Vw(){return ep.createElement(yF.Hj,{header:!0,useAdminTableStyles:!0,leftPadding:!0},ep.createElement("div",{className:Vf},ep.createElement(e$.Tx,{id:"team_view.invoices_table.date"})),ep.createElement("div",{className:Vh},ep.createElement(e$.Tx,{id:"team_view.invoices_table.description"})),ep.createElement("div",{className:Vv},ep.createElement(e$.Tx,{id:"team_view.invoices_table.design_editor_seats.seat_rename"})),ep.createElement("div",{className:Vv},ep.createElement(e$.Tx,{id:"team_view.invoices_table.fig_jam_editor_seats.seat_rename"})),ep.createElement("div",{className:Vv},ep.createElement(e$.Tx,{id:"team_view.invoices_table.invoice_total"})),ep.createElement("div",{className:Vb},ep.createElement(e$.Tx,{id:"team_view.invoices_table.status"})))}function VT(e){let{invoice:t}=e,a=new aQ.vr(t.currency);return ep.createElement(yF.Hj,{useAdminTableStyles:!0,className:"invoices_table--row--Gy1k-",leftPadding:!0},ep.createElement("div",{className:Vf},ep.createElement("div",null,(0,pN.A)(t.date).format("MMM D, YYYY"))),ep.createElement("div",{className:Vh},"Professional team (annual)"===t.product_name?ep.createElement(e$.Tx,{id:"team_view.invoices.annual_team"}):"Professional team (monthly)"===t.product_name?ep.createElement(e$.Tx,{id:"team_view.invoices.monthly_team"}):ep.createElement(ep.Fragment,null,t.product_name)),ep.createElement("div",{className:Vv},t.design_quantity),ep.createElement("div",{className:Vv},t.whiteboard_quantity),ep.createElement("div",{className:"invoices_table--colCharges--FBt9y invoices_table--_rightAligned--9BWDS"},ep.createElement("span",null,a.formatMoney(t.total,{showCents:!0}))),ep.createElement("div",{className:Vb},ep.createElement("div",null,(()=>{var e;if((null==(e=t.payment_intent)?void 0:e.status)==="processing")return ep.createElement(e$.Tx,{id:"team_view.invoices.status.processing"});switch(t.status){case"draft":return ep.createElement(e$.Tx,{id:"team_view.invoices.status.draft"});case"open":return ep.createElement(e$.Tx,{id:"team_view.invoices.status.open"});case"paid":return ep.createElement(e$.Tx,{id:"team_view.invoices.status.paid"});case"uncollectible":return ep.createElement(e$.Tx,{id:"team_view.invoices.status.uncollectible"});case"void":return ep.createElement(e$.Tx,{id:"team_view.invoices.status.void"});default:return ep.createElement(ep.Fragment,null,t.status)}})()),ep.createElement("a",{className:"invoices_table--link--G7oWr blue_link--blueLink--9rlnd",href:t.invoice_pdf,target:"_blank",rel:"noopener"},ep.createElement(e$.Tx,{id:"team_view.invoices_table.view_invoice"}))))}let Vx=(0,eH.kp)(function(e){let{team:t,billing:a,dispatch:r}=e;return ep.createElement("div",{className:"billing_table--container--PQw1u admin_settings_page--container--qnrCG"},ep.createElement(Vs,{team:t,dispatch:r,billing:a}),ep.createElement("div",{className:"billing_table--tableTitle--NcifK billing_table_figjam--tableTitle--rftSv billing_table_figjam--header--5D9kz billing_tab--header--L83W3"},ep.createElement(e$.Tx,{id:"team_view.invoices"})),ep.createElement("div",{className:"billing_table--divider--cTk2g invoices_table--divider--tw9ff"}),ep.createElement(Vy,{invoices:a.invoices}))},"Pro Team Billing Table");var VC=((Z=VC||{})[Z.SEARCH=0]="SEARCH",Z[Z.FILTER=1]="FILTER",Z);let VN=new bn.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"email",weight:1}]});var Vk=((Q=Vk||{}).MORE_SEVEN_DAYS="more_than_seven_days",Q.MORE_THIRTY_DAYS="more_than_thirty_days",Q.MORE_THREE_MONTHS="more_than_three_months",Q);let VS=[m5.e.OWNER,m5.e.ADMIN,m5.e.EDITOR,m5.e.VIEWER,m5.e.NONE],VI={lastActiveFilter:null,permissionFilter:null,designPaidStatusFilter:null,figjamPaidStatusFilter:null,paidMemberNoRolesFilter:!1};var VA=a(345265),VL=a(19496),VR=((X=VR||{}).ROLE_UPGRADE="role_upgrade",X.INVITE_REDEEM="invite_redeem",X.INVITE_AUTOUPGRADE="invite_autoupgrade",X.CREATE_TEAM="create_team",X.FIGMA_ADMIN="figma_admin",X.DEPART_TEAM="depart_team",X.CREATE_FILE="create_file",X.RESOURCE_MOVED="resource_moved_to_team",X.RESOURCE_MOVED_FROM_DRAFTS="resource_moved_from_plan_drafts",X.RESTORED_FROM_TRASH="resource_restored_from_trash",X.JOIN_LINK_REDEEM="join_link_redeem",X.ADMIN_UPGRADE="team_admin_upgrade",X.CHECKOUT="checkout",X.EDIT_REQUEST_APPROVAL="edit_request_approval",X.EDIT_REQUEST_AUTO_APPROVAL="edit_request_auto_approval",X.EDIT_ACTION="edit_action",X.EDIT_BUTTON="edit_button",X.FIGJAM_GA_REUPGRADE="fj_ga_reupgrade",X.RUN_PLUGIN="run_plugin",X.DEV_MODE="dev_mode",X);let VO="members_table--columnMargin--Kg0mG",VF="members_table--permissionsColumn--415vv members_table--column--vBhuN admin_settings_page--membersColumn--0Pn0k table--column--974RA",VM="members_table--avatarWithHandle--QIbUT admin_settings_page--avatarWithHandle--IN67I ellipsis--ellipsis--Tjyfa",VD="members_table--link--Fy2ui admin_settings_page--link---XC61 blue_link--blueLink--9rlnd",VP="members_table--secondaryUpgradeDateText--8edD-",VB="members_table--infoIcon--WiD-W admin_settings_page--infoIcon--atMRe",VU="members_table--warningIcon--OnBS-",VW="members_table--dropdownColumn--RyviA multi_select_list--dropdownColumn--n-MKQ table--column--974RA";function VV(e){var t,a;let r;let n=(0,eg.wA)(),l=function(){let e=(0,eg.wA)();return t=>{e(uy.O2({...t}))}}(),{member:i,dropdownShown:s,team:o,paidStatusType:c}=e,d=(0,to.Ay)((0,i9.zN)(i.email??"")??"");r=c===pO.j4.WHITEBOARD?(null==(t=null==i?void 0:i.team_user)?void 0:t.whiteboard_paid_status)||pO.Zf.STARTER:(null==(a=null==i?void 0:i.team_user)?void 0:a.design_paid_status)||pO.Zf.STARTER;let m=[pO.Zf.FULL,pO.Zf.STARTER,pO.Zf.RESTRICTED].filter(e=>!r||r===pO.Zf.STARTER||e!==pO.Zf.STARTER),u=e=>({[pO.Zf.FULL]:(0,e$.t)("paid_status.editor.seat_rename"),[pO.Zf.STARTER]:(0,e$.t)("paid_status.viewer"),[pO.Zf.RESTRICTED]:(0,e$.t)("paid_status.viewer_restricted")})[e],_=m.map(e=>{let t=u(e);return{type:"option",key:e,text:t,selectedLabel:t}});return ep.createElement("div",{className:VW},ep.createElement("div",{className:c},ep.createElement(wR.H,{dispatch:n,disabled:e.member.ecc_upgrading_locked,dropdownShown:s,value:r,options:_,onChange:e=>{let t=i.team_user;if(!t){if(!i.id)return;return l({team:o,teamUsers:[],usersWithNoTeamUserIds:[i.id],members:[{...i}],paidStatus:e,paidStatusType:c,entryPoint:S9.MEMBERS_TAB})}return l({team:o,teamUsers:[t],members:[{...i}],paidStatus:e,paidStatusType:c,entryPoint:S9.MEMBERS_TAB})},id:`TEAM-USER-${c.toUpperCase()}-PAID-STATUS---${i.email}`})),e.member.ecc_upgrading_locked&&ep.createElement(eL.B,{className:VB,svg:sE.A,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("external_collaboration_restricted.members.tooltip.v2",{eccDomain:d}),"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":220}))}let VG=(0,am.Ju)(function(e){var t,a,r,n,l,i;let{team:s}=e,{id:o,name:c}=s,d=e.members.length,m=e.members.filter(e=>e.id).map(e=>e.id).join();return ep.createElement(eH.fu,{name:"Team Remove Members Modal",properties:{memberCount:d,memberIds:m,teamId:o}},ep.createElement(sn.Eo,{destructive:!0,title:(0,e$.t)("team_view.remove_members_modal.title",{member_count:d,member_identity:(null==(t=e.members[0])?void 0:t.name)||(null==(a=e.members[0])?void 0:a.email)}),confirmText:(0,e$.t)("team_view.remove_members_modal.confirmation"),onConfirm:e.onConfirm},ep.createElement("p",null,e.includesPendingTeamRole?(0,e$.t)("team_view.remove_members_modal.pending_role_removal_copy",{member_count:d,user_name_or_email:(null==(r=e.members[0])?void 0:r.name)||(null==(n=e.members[0])?void 0:n.email),team_name:c}):(0,e$.t)("team_view.remove_members_modal.confirmed_role_removal_copy",{member_count:d,user_name_or_email:(null==(l=e.members[0])?void 0:l.name)||(null==(i=e.members[0])?void 0:i.email),team_name:c}))))},"ConfirmMembersRemoveModal"),V$="member_modal--emptyModalState--oh2-0",Vj="member_modal--columnProduct--2RA0E table--column--974RA",VH="member_modal--columnFile--gVfs2 table--column--974RA",Vq="member_modal--emptyCell--HvCgX",Vz="member_modal--columnLastEdit--9nKQ2 table--column--974RA";function VY(e){let t=(0,eh.kc)().ps_benchmark;return ep.createElement("div",{key:`last-${e.editor_type}-activity-${e.userId}`,className:"member_modal--tableRow--RC2JR"},ep.createElement("div",{className:Vj},ep.createElement("span",null,(0,pD.E)((0,uP.vc)(e.editor_type)))),(()=>{if(!e.editActivity)return ep.createElement("div",{className:VH},ep.createElement("span",{className:Vq},"\u2013"));if(t)return ep.createElement("div",{className:VH},ep.createElement("div",{className:"member_modal--fileName--B0k6f"},e.editActivity.file_name));if(e.editActivity.can_view)return ep.createElement("div",{className:VH},ep.createElement(eI.N_,{className:"member_modal--columnFileAccessible--PW3lU member_modal--columnFile--gVfs2 table--column--974RA",onClick:()=>{e.editActivity&&e.editActivity.file_key&&(e.dispatch(tL.$T({view:"fullscreen",fileKey:e.editActivity.file_key,editorType:e.editor_type})),e.dispatch(e0.Ce()))},trusted:!0},e.editActivity.file_name));{let t=`file_tooltip_inaccessible_${e.editor_type}`;return ep.createElement("div",{className:VH,"data-tooltip-proxy-element-id":t},ep.createElement("div",{id:t,className:"member_modal--inaccessibleFile--vYYs8","data-tooltip-type":tM.Ib.TEXT,"data-tooltip":(0,e$.t)("team_view.pro_member_modal.file_inaccessible_tooltip_warning")},e.editActivity.file_name))}})(),ep.createElement("div",{className:Vz},e.editActivity?ep.createElement(i7.h1,{capitalize:!0,date:e.actionAt}):ep.createElement("span",{className:Vq},"\u2013")))}let VK=(0,eg.Ng)(e=>({viewingUserId:e.user.id}))(function(e){var t,a;let r=(0,eg.wA)(),[n,l]=ep.useState({}),[i,s]=ep.useState(!1);ep.useEffect(()=>{s(!0),pk.$.getUsersLastActive({teamId:e.team.id,teamMemberId:e.teamMember.id}).then(e=>{l(e.data.meta)}).catch(e=>{var t;r(e5.s.error((null==(t=e.data)?void 0:t.message)||(0,e$.t)("team_view.pro_member_modal.error_on_activity_retrieval_fallback_message"))),console.error("Unable to load latest edits",e)}).finally(()=>s(!1))},[r,e.team.id,e.teamMember.id]);let o=e.teamMember.name;(0,eC.KF)(!!o,"Expected a user object with a name");let c=o?(0,e$.t)("team_view.pro_member_modal.title_with_username",{username:o}):(0,e$.t)("team_view.pro_member_modal.title_without_username");return ep.createElement(eH.fu,{name:"Pro Member Modal",properties:{viewingUserId:e.viewingUserId}},ep.createElement(sn.XV,{maxWidth:442,minWidth:442,onClose:()=>{r(e0.Ce())},title:c},ep.createElement("div",{className:"member_modal--modalBody--htum6"},i?ep.createElement("div",{className:V$},ep.createElement(e8.kt,null)):e.lastDesignActivity||e.lastWhiteboardActivity?ep.createElement("div",{className:"member_modal--lastEditTable--Bqrpu"},ep.createElement("div",{className:"member_modal--headerRow--pSP4-"},ep.createElement("div",{className:Vj},(0,e$.t)("team_view.pro_member_modal.edit_table_product_header")),ep.createElement("div",{className:VH},(0,e$.t)("team_view.pro_member_modal.edit_table_file_header")),ep.createElement("div",{className:Vz},(0,e$.t)("team_view.pro_member_modal.edit_table_last_active_header"))),ep.createElement(VY,{userId:e.teamMember.id||"team-member-no-user",editor_type:lB._Y.DESIGN,actionAt:(null==(t=e.lastDesignActivity)?void 0:t.action_at)||"\u2013",editActivity:n.design_file,dispatch:r}),ep.createElement(VY,{userId:e.teamMember.id||"team-member-no-user",editor_type:lB._Y.WHITEBOARD,editActivity:n.whiteboard_file,actionAt:(null==(a=e.lastWhiteboardActivity)?void 0:a.action_at)||"\u2013",dispatch:r})):ep.createElement("div",{className:V$},(0,e$.t)("team_view.pro_member_modal.no_activity_found")))))});VK.displayName="ProMemberModal";let VJ=(0,am.Ju)(VK,"ProMemberModal");function VZ(e){return ep.createElement("span",{className:e.className||""},"\u2013")}class VQ extends ep.PureComponent{constructor(){super(...arguments),this.MEMBERS_SELECTED_NOUN="user",this.FILTER_LAST_ACTIVE_DROPDOWN="FILTER_LAST_ACTIVE_DROPDOWN",this.FILTER_DESIGN_ROLE_DROPDOWN="FILTER_DESIGN_ROLE_DROPDOWN",this.FILTER_DESIGN_PAID_STATUS="FILTER_DESIGN_PAID_STATUS",this.FILTER_FIGJAM_PAID_STATUS="FILTER_FIGJAM_PAID_STATUS",this.NUM_BATCH_ACTIONS_LIMIT=20,this.BATCH_CHANGE_ROLE_DROPDOWN="BATCH_CHANGE_ROLE_DROPDOWN",this.onCopyEmailsToClipboard=e=>{this.props.dispatch(rh.II({emailList:e}))},this.onViewUser=(e,t)=>{e.stopPropagation(),this.props.dispatch(tL.$T({view:"user",userId:t,userViewTab:Ns.o.INTERNAL_PROFILE}))},this.batchRemoveMembers=e=>{let t=[],a=[];e.forEach(e=>{var r;e.id&&(null==(r=e.team_role)||!r.pending)&&e.email&&(t.push(e.email),a.push(e.id))}),this.props.dispatch(m3._E({teamId:this.props.team.id,userIds:a,emails:t}))},this.onRemoveMemberOrChangeMemberPermission=e=>{let{member:t,newLevel:a}=e,r=t.team_role,n=()=>{let e=null==r?void 0:r.pending;if(t.id&&a===m5.e.NONE&&!e){this.batchRemoveMembers([t]);return}r&&this.props.dispatch((0,Ni.yN)({role:r,level:a}))};r&&a===m5.e.OWNER?this.props.dispatch(e0.to({type:No.b,data:{resourceType:r.resource_type,resourceName:this.props.team.name,newOwnerName:r.user.handle,onConfirmTransfer:()=>{n()}}})):r&&a===m5.e.VIEWER&&!r.pending?this.props.dispatch(VA.yX({team:this.props.team,memberEmails:[t.email]})):n()},this.onInviteMemberToTeam=e=>{this.props.dispatch(e0.to({type:hd.T9,data:{teamId:this.props.team.id,notifyOnSuccess:!0,prepopulateEmail:e.email}}))},this.onLeaveTeam=e=>{this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:m5.e.NONE})},this.onRemoveUsersFromTeam=e=>{let t=e.find(e=>{var t;return null==(t=null==e?void 0:e.team_role)?void 0:t.pending});this.props.dispatch(e0.to({type:VG,data:{members:e,team:this.props.team,onConfirm:()=>{this.batchRemoveMembers(e),e.forEach(e=>{var t;(null==(t=e.team_role)?void 0:t.pending)&&this.onRemoveMemberOrChangeMemberPermission({member:e,newLevel:m5.e.NONE})});let t=1===e.length?e[0].name||e[0].email:(0,e$.t)("team_view.upgrade.members_length_users",{memberLength:e.length});this.props.dispatch(t6.F.enqueue({type:"team-users-removed",message:(0,e$.t)("team_view.upgrade.members_removed_text_removed_from_this_props_team_name",{membersRemovedText:t,teamName:this.props.team.name})}))},includesPendingTeamRole:!!t}}))},this.onResendInvite=e=>{e.team_role&&this.props.dispatch((0,m8.$S)({role:e.team_role}))},this.getMemberKey=e=>e.member.email,this.tableColumns=()=>{let e=this.props.team;return[{name:(0,gg.Rq)(VL.d.NAME),className:"members_table--avatarColumn--DXLZe members_table--column--vBhuN admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>e.member.name||e.member.email,cellComponent:this.renderNameCell},{name:(0,gg.Rq)(VL.d.ACTIVE_AT),className:"members_table--lastActiveColumn--GBIBy members_table--column--vBhuN admin_settings_page--membersColumn--0Pn0k table--column--974RA",getSortValue:e=>e.member.last_active||0,sortNumerically:!0,sortReversed:!0,cellComponent:this.renderLastActiveCell},{name:(0,gg.Rq)(VL.d.PERMISSIONS),className:VF,getSortValue:e=>{var t;return(null==(t=e.member.team_role)?void 0:t.level)||0},sortNumerically:!0,sortReversed:!0,cellComponent:this.renderPermissionsCell,headerClassName:VO},...this.insertIf(e.canAdmin&&(0,pM.n0)(e),{name:(0,gg.Rq)(VL.d.DESIGN_PAID_STATUS),className:VF,onboardingKey:"onboarding-figjam-pro-billing-team-admin-role",getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.design_paid_status)?pO.TW[t.design_paid_status]:pO.TW[pO.Zf.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.design_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,pN.A)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,pO.j4.DESIGN),headerClassName:VO}),...this.insertIf(e.canAdmin&&(0,pM.n0)(e),{name:(0,gg.Rq)(VL.d.FIGJAM_PAID_STATUS),className:VF,getSortValue:e=>{let t=e.member.team_user;return(null==t?void 0:t.whiteboard_paid_status)?pO.TW[t.whiteboard_paid_status]:pO.TW[pO.Zf.STARTER]},sortNumerically:!0,sortReversed:!0,getSecondarySortValue:t=>{var a;let r=null==(a=t.member.whiteboard_editor_upgrade)?void 0:a.created_at;return e.canAdmin&&r?(0,pN.A)(r).unix():0},sortSecondaryReversed:!0,cellComponent:this.renderPaidStatusCell.bind(this,pO.j4.WHITEBOARD),headerClassName:VO,headerExtraContent:null}),{name:"",className:"members_table--menuColumn--Fc6ef admin_settings_page--iconColumn--qxUMs",cellComponent:this.renderMenuCell}]},this.tableItems=()=>this.props.filteredMembers.map(e=>{let t=this.props.currentMemberId===e.id;return{member:e,dispatch:this.props.dispatch,isCurrentMember:t,dropdownShown:this.props.dropdownShown,onRemoveMemberOrChangeMemberPermission:this.onRemoveMemberOrChangeMemberPermission}}),this.permissionsTooltip=(e,t,a,r)=>{var n,l;let i=e.team_user,s=this.paidViewerTooltipMessage(e);if(s)return ep.createElement(eL.B,{className:VB,svg:sE.A,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.TEAM_VIEWER_WITH_DESCENDED_ROLES,"data-tooltip-descended-role-text":s,"data-tooltip-descended-role-email":e.email,"data-tooltip-descended-role-user-id":e.id,"data-tooltip-member-table-team-id":this.props.team.id,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":400,"data-tooltip-interactive":!0});let o=(0,ph.qR)(i,lB._Y.DESIGN),c=(0,ph.qR)(i,lB._Y.WHITEBOARD),d=(null==(n=e.team_role)?void 0:n.level)!==m5.e.VIEWER;if((0,eh.kc)().edu_onboarding_grace_period&&!e.edu_edit_access_allowed&&!(null==(l=e.team_role)?void 0:l.pending)&&d&&r)return ep.createElement(eL.B,{className:VU,svg:NT.A,"data-tooltip-timeout-delay":50,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":tM.MW.RESTRICTED_EDU_USER,"data-tooltip-offset-y":10,"data-tooltip-max-width":250,"data-tooltip-title":(0,e$.t)("team_view.upgrade.can_only_view",{teamMember:e.name}),"data-tooltip-text":(0,e$.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply")});if(t||!((o||c)&&d))return null;let m=a?tM.MW.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_SELF:tM.MW.PERMISSIONS_MODAL_RESTRICTED_USER_PRO_OTHER,u=(0,Nc._r)(!!o,!!c);return ep.createElement(eL.B,{className:VU,svg:NT.A,"data-tooltip-type":tM.Ib.SPECIAL,"data-tooltip":m,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0,"data-tooltip-restricted-text":u})},this.getEffectiveFileCounts=e=>{let t=e.team_user,a=e.edit_roles,r=(null==a?void 0:a.whiteboard_files.length)||0,n=(null==a?void 0:a.design_files.length)||0,l=e.view_roles,i=(null==l?void 0:l.file_count)||0,s=(0,ph.qR)(t,lB._Y.DESIGN),o=(0,ph.qR)(t,lB._Y.WHITEBOARD),c=r,d=n,m=i;return s&&(d=0,m+=n),o&&(c=0,m+=r),{editableWhiteboardFileCount:c,editableDesignFileCount:d,viewableFileCount:m}},this.editorDescription=e=>{let{editableWhiteboardFileCount:t,editableDesignFileCount:a,viewableFileCount:r}=this.getEffectiveFileCounts(e),n=e.edit_roles,l=(null==n?void 0:n.folders.length)||0,i=e.view_roles,s=(null==i?void 0:i.folder_count)||0,o=e.team_user,c=(0,ph.y5)(o,lB._Y.DESIGN),d=(0,ph.y5)(o,lB._Y.WHITEBOARD);if(!c&&!d)return l>0?(0,e$.t)("team_view.upgrade.can_manage_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{numberFolderEditRoles:l}):s>0?(0,e$.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderViewRolesCount:s}):r>0?(0,e$.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0;if(l>0)return(0,e$.t)("team_view.upgrade.can_edit_files_in_folder_edit_roles_count_get_plural_or_singular_folder_edit_roles_count_project",{folderEditRolesCount:l});let m=t+a;return m>0?(0,e$.t)("team_view.upgrade.can_edit_editable_file_count_get_plural_or_singular_editable_file_count_file",{editableFileCount:m}):s>0?(0,e$.t)("team_view.upgrade.can_view_files_in_folder_view_roles_count_get_plural_or_singular_folder_view_roles_count_project",{folderViewRolesCount:s}):r>0?(0,e$.t)("team_view.upgrade.can_view_viewable_file_count_get_plural_or_singular_viewable_file_count_file",{viewableFileCount:r}):void 0},this.insertIf=(e,t)=>e?[t]:[],this.getMemberMenuItems=e=>{var t,a;let r=!e.member.team_role,n=(null==(t=e.member.team_role)?void 0:t.pending)||!1,l=(0,gg.Dj)(e.member),i=(null==(a=e.member.team_role)?void 0:a.level)===m5.e.OWNER,{canAdmin:s,canEdit:o}=this.props.team,c=e.member.canEditRole,d=e.member.canRemoveUser,m=(e,t)=>e?[t]:[],u=[...m(s&&l,{text:(0,e$.t)("team_view.settings.see_edit_access"),callback:()=>{this.showEditAccessModal(e.member)}}),{text:(0,e$.t)("team_view.settings.copy_email"),callback:()=>{this.onCopyEmailsToClipboard([e.member.email])}},...m(r&&o&&!n,{text:(0,e$.t)("team_view.settings.invite_to_team"),callback:()=>{this.onInviteMemberToTeam(e.member)}})],_=[...m(n&&c,{text:(0,e$.t)("team_view.settings.resend_invite"),callback:()=>{this.onResendInvite(e.member)}}),...m(!e.isCurrentMember&&d,{text:(0,e$.t)("team_view.settings.remove"),callback:()=>{this.onRemoveUsersFromTeam([e.member])}}),...m(e.isCurrentMember&&!i,{text:(0,e$.t)("team_view.settings.leave_team"),callback:()=>{this.onLeaveTeam(e.member)}})];return _.length>0?(u.push({isDivider:!0}),u.concat(_)):u},this.renderNameCell=e=>{var t;let{member:a,isCurrentMember:r}=e,n=a.id?{id:a.id,img_url:a.img_url,name:a.name,email:a.email}:{email:a.email,name:void 0};if(null==(t=a.team_role)?void 0:t.pending){let e={color:dd.zE.DEFAULT,subtle:!0,text:(0,e$.t)("team_view.settings.pending")};return ep.createElement(e7.az,{entity:n,size:24,showIsMe:!1,hideFallbackInitial:!1,defaultFallbackAvatarSvg:pi.A,fallbackSvg:pi.A,className:VM,onClick:e=>{e.stopPropagation(),this.onCopyEmailsToClipboard([a.email])},overrideHandle:n.email,defaultText:"-",badge:e})}{let t=a.id?e=>{this.onViewUser(e,a.id)}:void 0;return ep.createElement(yu,{onLabelClick:t,className:VM,dispatch:e.dispatch,entity:n,showIsMe:r,showTooltip:!0,size:24})}},this.renderLastActiveCell=e=>{let{member:t}=e;return(t.last_design_active||t.last_whiteboard_active)&&t.last_active?ep.createElement(eI.N_,{className:VD,onClick:e=>{e.stopPropagation(),this.props.dispatch(e0.to({type:VJ,data:{teamMember:t,team:this.props.team,lastDesignActivity:t.last_design_active,lastWhiteboardActivity:t.last_whiteboard_active}}))},trusted:!0},ep.createElement(i7.h1,{capitalize:!0,date:new Date(1e3*t.last_active)})):t.last_active?ep.createElement(i7.h1,{capitalize:!0,date:new Date(1e3*t.last_active)}):ep.createElement(VZ,null)},this.showEditAccessModal=e=>{this.props.dispatch(e0.to({type:hd.PP,data:{memberEmail:e.email,teamId:this.props.team.id}}))},this.renderDescendedPermissions=e=>{var t,a,r,n,l,i,s,o,c,d;let m=this.editorDescription(e),u=(0,gg.Dj)(e);return ep.createElement("div",{className:VO},u&&ep.createElement(eI.Ph,{onClick:t=>{t.stopPropagation(),this.showEditAccessModal(e)},className:VD,trackingProperties:{linkSource:"View Edit Roles Link",fileCount:((null==(a=null==(t=e.edit_roles)?void 0:t.design_files)?void 0:a.length)??0)+((null==(n=null==(r=e.edit_roles)?void 0:r.whiteboard_files)?void 0:n.length)??0),designFileCount:(null==(i=null==(l=e.edit_roles)?void 0:l.design_files)?void 0:i.length)??0,whiteboardFileCount:(null==(o=null==(s=e.edit_roles)?void 0:s.whiteboard_files)?void 0:o.length)??0,folderCount:(null==(d=null==(c=e.edit_roles)?void 0:c.folders)?void 0:d.length)??0},trusted:!0},m),!u&&ep.createElement(ep.Fragment,null,m),ep.createElement("div",{className:"members_table--secondaryText--xELek"},ep.createElement(e$.Tx,{id:"team_view.team_members_table.no_team_permissions_for_user"})))},this.accountTypeSelection=e=>{switch(e){case pO.Zf.FULL:return(0,e$.t)("team_view.team_members_table.menu_paid_status_filter_selection_editor.seat_rename");case pO.Zf.STARTER:return(0,e$.t)("team_view.team_members_table.menu_paid_status_filter_selection_viewer");case pO.Zf.RESTRICTED:return(0,e$.t)("general.viewer_restricted")}},this.renderEmptyContent=()=>{let e=()=>{this.props.onFilter(VI)},t=ep.createElement(e$.Tx,{id:"team_view.team_members_table.default_empty_state"}),a=ep.createElement(e$.Tx,{id:"team_view.team_members_table.member_filter_empty_state",reset_link:ep.createElement("a",{className:VD,onClick:()=>e()},(0,e$.t)("team_view.team_members_table.member_filter_empty_reset_link"))}),r=ep.createElement(e$.Tx,{id:"team_view.team_members_table.search_empty_state"}),n=Object.values(this.props.filters).some(e=>!!e);return n&&this.props.searchQuery?this.props.lastFilterAction===VC.SEARCH?r:a:n?a:this.props.searchQuery?r:t},this.renderStickyContent=()=>ep.createElement("div",{className:"members_table--menuBar--YyZ6Z multi_select_list--menuBar--8xNGR"},ep.createElement("div",{className:wO.cE},ep.createElement("div",{className:eT.cx.pr8.$},ep.createElement(bk.y2,{onChange:this.props.onSearch,focusOnMount:!1,query:this.props.searchQuery,clearSearch:()=>{this.props.onSearch("")},placeholder:(0,e$.t)("team_view.search_bar.search_members_with_ellipsis")})),ep.createElement(wT.bv,{label:(0,gg.Rq)(VL.d.ACTIVE_AT),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_LAST_ACTIVE_DROPDOWN,selectedValue:this.props.filters.lastActiveFilter,values:[Vk.MORE_SEVEN_DAYS,Vk.MORE_THIRTY_DAYS,Vk.MORE_THREE_MONTHS],getCount:e=>this.props.filterCounts.lastActive[e],getDisplayText:e=>(function(e){switch(e){case"more_than_seven_days":return(0,e$.t)("team_view.team_members_table.filters.last_active..more_than_7_days_ago");case"more_than_thirty_days":return(0,e$.t)("team_view.team_members_table.filters.last_active..more_than_30_days_ago");case"more_than_three_months":return(0,e$.t)("team_view.team_members_table.filters.last_active..more_than_3_months_ago");default:(0,eC.xb)(e)}})(e),updateFilter:e=>this.props.onFilter({lastActiveFilter:e})}),ep.createElement(wT.bv,{label:(0,gg.Rq)(VL.d.PERMISSIONS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_ROLE_DROPDOWN,values:VS,selectedValue:this.props.filters.permissionFilter,getCount:e=>this.props.filterCounts.permission[e],getDisplayText:e=>(function(e){switch(e){case m5.e.OWNER:return(0,e$.t)("team_view.team_members_table.filters.permissions.owner");case m5.e.ADMIN:return(0,e$.t)("team_view.team_members_table.filters.permissions.admin");case m5.e.EDITOR:return(0,e$.t)("team_view.team_members_table.filters.permissions.can_edit");case m5.e.VIEWER:return(0,e$.t)("team_view.team_members_table.filters.permissions.can_view");case m5.e.NONE:return(0,e$.t)("team_view.team_members_table.filters.permissions.no_team_permissions");default:(0,eC.xb)(e)}})(e),updateFilter:e=>this.props.onFilter({permissionFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&ep.createElement(wT.bv,{label:(0,gg.Rq)(VL.d.DESIGN_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_DESIGN_PAID_STATUS,values:[pO.Zf.FULL,pO.Zf.STARTER,pO.Zf.RESTRICTED],selectedValue:this.props.filters.designPaidStatusFilter,getCount:e=>this.props.filterCounts.designPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({designPaidStatusFilter:e})}),this.props.team.canAdmin&&this.props.team.pro_team&&ep.createElement(wT.bv,{label:(0,gg.Rq)(VL.d.FIGJAM_PAID_STATUS),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownType:this.FILTER_FIGJAM_PAID_STATUS,values:[pO.Zf.FULL,pO.Zf.STARTER,pO.Zf.RESTRICTED],selectedValue:this.props.filters.figjamPaidStatusFilter,getCount:e=>this.props.filterCounts.figjamPaidStatus[e],getDisplayText:e=>this.accountTypeSelection(e),updateFilter:e=>this.props.onFilter({figjamPaidStatusFilter:e})}),this.props.filters.paidMemberNoRolesFilter&&ep.createElement(dd.Ex,{className:"members_table--filterBadge--rHtHL",color:dd.zE.DEFAULT,onClose:()=>this.props.onFilter({paidMemberNoRolesFilter:!1}),size:dd.vj.LARGE,text:"Users with no roles"}))),this.renderBulkActions=e=>{var t,a;let r=e.map(e=>e.member);if(0===r.length)return ep.createElement(ep.Fragment,null);let n=r.map(e=>e.email),l=r.every(e=>e.canRemoveUser),i=r.every(e=>(0,gg.Dj)(e)),s=r.some(e=>{var t;return null==(t=e.team_role)?void 0:t.pending}),o=e.filter(e=>e.member.ecc_upgrading_locked).length>0,c=r.length>this.NUM_BATCH_ACTIONS_LIMIT,d=!!e.find(e=>e.isCurrentMember),{canAdmin:m}=this.props.team,u=r.filter(e=>e.id).map(e=>e.id),_={userCount:u.length},p=u.join();return ep.createElement(ep.Fragment,null,this.props.team.pro_team&&m&&!s&&!o&&ep.createElement(wT.Ve,{className:"members_table--batchActionsDropdownSelector--Tqhd9",dispatch:this.props.dispatch,showingDropdown:(null==(t=this.props.dropdownShown)?void 0:t.type)===this.BATCH_CHANGE_ROLE_DROPDOWN,type:this.BATCH_CHANGE_ROLE_DROPDOWN,isMultilevelDropdown:!0},(null==(a=this.props.dropdownShown)?void 0:a.type)===this.BATCH_CHANGE_ROLE_DROPDOWN&&this.renderBatchRoleDropdown(r),ep.createElement(e$.Tx,{id:"team_view.settings.change_role.seat_rename"})),m&&i&&!s&&1===r.length&&ep.createElement(wT.IU,{label:(0,e$.t)("team_view.settings.see_edit_access"),onClick:()=>{let e=r[0];this.showEditAccessModal(e)}}),ep.createElement(wT.IU,{trackingProperties:{..._,copiedUserIds:p},label:(0,e$.t)("team_view.settings.copy_get_plural_or_singular_selected_members_length_email",{numEmails:r.length}),onClick:()=>{this.onCopyEmailsToClipboard(n)}}),l&&!d&&ep.createElement(wT.IU,{label:(0,e$.t)("team_view.settings.remove"),trackingProperties:{..._,removedUserIds:p},onClick:()=>{let e=r.map(e=>e);this.onRemoveUsersFromTeam(e)},disabled:c,...c?{tooltip:(0,e$.t)("team_view.settings.you_can_only_remove_limit_users_at_a_time",{batchLimit:this.NUM_BATCH_ACTIONS_LIMIT})}:{}}))},this.renderPermissionsCell=e=>{var t;let{member:a}=e;if(!a.team_role)return this.renderDescendedPermissions(a);if(a.team_role){let r;r=this.props.teamIsOrphaned&&this.props.canAdminOrgTeam?m5.e.OWNER:e.isCurrentMember?m5.e.NONE:a.canEditRole?a.canMakeOwner&&!a.team_role.pending?m5.e.OWNER:a.canMakeAdmin?m5.e.ADMIN:m5.e.EDITOR:m5.e.NONE;let{canRead:n,canEdit:l,canAdmin:i}=this.props.team,s=this.permissionsTooltip(a,i,(null==(t=a.team_role)?void 0:t.user_id)===this.props.currentMemberId,this.props.team.student_team);if(r===m5.e.NONE)return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:VO}),ep.createElement("span",null,(0,ph.QN)(a.team_role.level)),s);let o=this.getPermissionsLevels(r),c=o.filter(e=>e.hasOwnProperty("key")).map(e=>e.key).join();return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:VW},ep.createElement("div",{className:"members_table--permissionSelector--GNfPA"},ep.createElement(wR.H,{dispatch:this.props.dispatch,dropdownShown:e.dropdownShown,value:a.team_role.level,options:o,onChange:t=>e.onRemoveMemberOrChangeMemberPermission({member:a,newLevel:t}),id:`TEAM-PERMISSIONS-DROPDOWN-${e.member.email}`,disabled:n&&!l,trackingProperties:{options:c,userIdForPermissions:a.id,linkSource:"Permissions Selector"}}))),s)}(0,eC.xb)(a)},this.renderUpgradeDate=(e,t)=>{let a=function(e,t){switch(e.reason){case"role_upgrade":if(e.actor_name)return(0,e$.t)("team_user.upgrade_reasons.role_upgrade.seat_rename",{actorName:e.actor_name,memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});return(0,e$.t)("team_user.upgrade_reasons.role_upgrade_without_actor_name.seat_rename",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"invite_redeem":return(0,e$.t)("team_user.upgrade_reasons.invite_redeem.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"invite_autoupgrade":return(0,e$.t)("team_user.upgrade_reasons.invite_autoupgrade.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"resource_moved_from_plan_drafts":case"resource_moved_to_team":return(0,e$.t)("team_user.upgrade_reasons.resource_moved",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"create_team":return(0,e$.t)("team_user.upgrade_reasons.create_team",{memberNameOrEmail:t});case"resource_restored_from_trash":return(0,e$.t)("team_user.upgrade_reasons.restored_from_trash",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"figma_admin":return(0,e$.t)("team_user.upgrade_reasons.figma_admin",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"depart_team":return(0,e$.t)("team_user.upgrade_reasons.depart_team",{memberNameOrEmail:t});case"join_link_redeem":return(0,e$.t)("team_user.upgrade_reasons.join_link_redeem",{memberNameOrEmail:t});case"create_file":return(0,e$.t)("team_user.upgrade_reasons.create_file",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"team_admin_upgrade":case"checkout":return(0,e$.t)("team_user.upgrade_reasons.checkout.seat_rename",{actorName:e.actor_name||"",memberNameOrEmail:t});case"edit_request_auto_approval":case"edit_request_approval":return(0,e$.t)("team_user.upgrade_reasons.edit_request_approval",{memberNameOrEmail:t,resourceType:e.resource_type||"",resourceName:e.resource_name||""});case"edit_action":return(0,e$.t)("team_user.upgrade_reasons.edit_action",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"edit_button":return(0,e$.t)("team_user.upgrade_reasons.edit_button",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"fj_ga_reupgrade":return(0,e$.t)("team_user.upgrade_reasons.figjam_ga_reupgrade",{memberNameOrEmail:t,resourceName:e.resource_name||""});case"run_plugin":return(0,e$.t)("team_user.upgrade_reasons.run_plugin",{memberNameOrEmail:t});default:return(0,e$.t)("team_user.upgrade_reasons.default",{memberNameOrEmail:t})}}(t,e.name||e.email),r=(0,pN.A)(t.created_at).format("MMM DD, YYYY");return a?ep.createElement("div",{className:VP,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":a,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300},r):ep.createElement("div",{className:VP},r)},this.renderPaidStatusCell=(e,t)=>{var a;if((null==(a=t.member.team_role)?void 0:a.pending)&&(0,ph.b5)(t.member.team_user,lB._Y.DESIGN)&&(0,ph.b5)(t.member.team_user,lB._Y.WHITEBOARD))return ep.createElement(VZ,{className:"members_table--emptyRoleCell--0H6he"});let r=t.member.team_user,n=t.member.design_editor_upgrade,l=(null==r?void 0:r.design_paid_status)===pO.Zf.FULL;return e===pO.j4.WHITEBOARD&&(n=t.member.whiteboard_editor_upgrade,l=(null==r?void 0:r.whiteboard_paid_status)===pO.Zf.FULL),ep.createElement("div",{"data-testid":t.member.email+"_"+e},ep.createElement(VV,{member:t.member,dropdownShown:t.dropdownShown,team:this.props.team,paidStatusType:e}),this.props.team.canAdmin&&!!(null==n?void 0:n.created_at)&&l&&this.renderUpgradeDate(t.member,n))},this.renderMenuCell=e=>{var t;let a=`MENU_DROPDOWN-${this.getMemberKey(e)}`,r=(null==(t=e.dropdownShown)?void 0:t.type)===a,n=this.getMemberMenuItems(e),l=n.filter(e=>!e.isDivider).map(e=>e.text).join();return ep.createElement("div",{"data-testid":`${e.member.email}_menu_item`},ep.createElement(wT.Ve,{className:wO.hP,dispatch:e.dispatch,showingDropdown:r,type:a,hideChevron:!0},ep.createElement(eL.B,{svg:rN.A,className:"members_table--menuIcon--ctDWH admin_settings_page--menuIcon--dMpHa"}),r&&ep.createElement(eH.fu,{name:"Member Dropdown Menu",properties:{userIdForDropdown:e.member.id,optionsShown:l,teamId:this.props.team.id}},ep.createElement(pv.W.DropdownWithScrim,{dispatch:e.dispatch,className:"members_table--dropdown--UhI0R admin_settings_page--dropdown--BuB9-",style:e.dropdownShown.data.position},n.map(e=>e.isDivider?ep.createElement(pv.W.Separator,{key:"MEMBERS-MENU-SEPARATOR"}):ep.createElement(pv.W.OptionTracked,{innerText:e.text,onClick:e.callback,key:`MEMBERS-MENU-ITEM${e.text}`},e.text))))))}}paidViewerTooltipMessage(e){let t=e.team_role;if((null==t?void 0:t.level)===m5.e.VIEWER&&!t.pending)return this.editorDescription(e)}getPermissionsLevels(e){let t=[];return Object.values(m5.e).reverse().forEach(a=>{if(a>=m5.e.VIEWER&&a<=e){let e=(0,ph.QN)(a);t.push({type:"option",key:a,text:e,selectedLabel:e})}}),t}getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(e){return[e.map(e=>e.team_user).filter(e=>!!e),e.filter(e=>!e.team_user&&!!e.id).map(e=>e.id)]}showPaidStatusUpdateModal(e,t,a){let[r,n]=this.getTeamUsersAndUsersWithNoTeamUserIdsFromMembers(a);this.props.dispatch(uy.O2({team:this.props.team,teamUsers:r,usersWithNoTeamUserIds:n,members:a.map(e=>({id:e.id,email:e.email,firstName:e.name,design_editor_upgrade:e.design_editor_upgrade,whiteboard_editor_upgrade:e.whiteboard_editor_upgrade})),paidStatusType:e,paidStatus:t,entryPoint:S9.MEMBERS_TAB}))}getTeamUserPaidStatusDisplayText(e){return({[pO.Zf.FULL]:(0,e$.t)("paid_status.editor.seat_rename"),[pO.Zf.STARTER]:(0,e$.t)("paid_status.viewer"),[pO.Zf.RESTRICTED]:(0,e$.t)("paid_status.viewer_restricted")})[e]}areAllValuesTheSame(e,t){return!(e.size>1)&&Array.from(e)[0]===t}renderBatchRoleDropdown(e){let t=new Set,a=new Set;e.forEach(e=>{var r,n;t.add((null==(r=null==e?void 0:e.team_user)?void 0:r.design_paid_status)||pO.Zf.STARTER),a.add((null==(n=null==e?void 0:e.team_user)?void 0:n.whiteboard_paid_status)||pO.Zf.STARTER)});let r={[pO.j4.DESIGN]:{[pO.Zf.STARTER]:this.areAllValuesTheSame(t,pO.Zf.STARTER)},[pO.j4.WHITEBOARD]:{[pO.Zf.STARTER]:this.areAllValuesTheSame(a,pO.Zf.STARTER)}},n=[],l=[];return n.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.FULL),callback:this.showPaidStatusUpdateModal.bind(this,pO.j4.DESIGN,pO.Zf.FULL,e)}),l.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.FULL),callback:this.showPaidStatusUpdateModal.bind(this,pO.j4.WHITEBOARD,pO.Zf.FULL,e)}),r[pO.j4.DESIGN][pO.Zf.STARTER]&&n.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.STARTER)}),r[pO.j4.WHITEBOARD][pO.Zf.STARTER]&&l.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.STARTER)}),n.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,pO.j4.DESIGN,pO.Zf.RESTRICTED,e)}),l.push({displayText:this.getTeamUserPaidStatusDisplayText(pO.Zf.RESTRICTED),callback:this.showPaidStatusUpdateModal.bind(this,pO.j4.WHITEBOARD,pO.Zf.RESTRICTED,e)}),ep.createElement(ep.Fragment,null,ep.createElement(rw.j,{showPoint:!1,items:[{displayText:"Design",children:n},{displayText:"FigJam",children:l}],onSelectItem:e=>{e.callback&&e.callback("",null,this.props.dispatch)},parentRect:this.props.dropdownShown.data.targetRect,dispatch:this.props.dispatch}))}render(){return ep.createElement("div",{className:"members_table--container--rlevN admin_settings_page--membersContainer--T59Nq"},ep.createElement(V0,{initialSortState:{columnName:(0,gg.Rq)(VL.d.NAME),isReversed:!1},items:this.tableItems(),columns:this.tableColumns(),render:(e,t,a)=>ep.createElement(bD.Cj,{items:a,columns:this.tableColumns(),getItemKey:this.getMemberKey,emptyContent:ep.createElement(ej.Y,{height:200,verticalAlignItems:"center",horizontalAlignItems:"center"},this.renderEmptyContent()),stickyContent:this.renderStickyContent(),itemTypeContext:{itemType:this.MEMBERS_SELECTED_NOUN,getSelectedCountString:e=>(0,e$.t)("multi_select_list.selected_count_user",{numSelected:e})},actionBar:this.renderBulkActions,onScroll:()=>this.props.dispatch(tL.oB()),minContentWidth:(0,ti.hG)(aE.YEj),sortState:e,onSetSortState:t})}))}}VQ.displayName="TeamMembersTable";let VX=(0,eH.kp)(VQ,"Pro Team Members Table");function V0({initialSortState:e,items:t,columns:a,render:r}){let[n,l,i]=(0,be.z)(e,t,a);return r(n,l,i)}function V1(e){let[t,a]=ep.useState(VI),[r,n]=ep.useState(""),[l,i]=ep.useState(VC.FILTER),s=(0,pN.A)().subtract(3,"days"),o=(0,pN.A)().subtract(30,"days"),c=(0,pN.A)().subtract(3,"months"),d=Object.values(e.membersList);r&&(VN.set(Object.values(e.membersList)),d=VN.search(r)),d=d.filter(e=>{var a,r,n,l,i;if(t.paidMemberNoRolesFilter&&!(0,gg.Ce)(e))return!1;if(t.permissionFilter){if(t.permissionFilter===m5.e.NONE){if(!((null==(a=e.team_role)?void 0:a.level)===m5.e.NONE||(null==(r=e.team_role)?void 0:r.level)===void 0))return!1}else if((null==(n=e.team_role)?void 0:n.level)!==t.permissionFilter)return!1}if(t.lastActiveFilter){let a=e.last_active?(0,pN.A)(1e3*e.last_active):0;if(t.lastActiveFilter===Vk.MORE_SEVEN_DAYS&&a>s||t.lastActiveFilter===Vk.MORE_THIRTY_DAYS&&a>o||t.lastActiveFilter===Vk.MORE_THREE_MONTHS&&a>c)return!1}if(t.designPaidStatusFilter){let a=(null==(l=e.team_user)?void 0:l.design_paid_status)||pO.Zf.STARTER;if(t.designPaidStatusFilter!==a)return!1}if(t.figjamPaidStatusFilter){let a=(null==(i=e.team_user)?void 0:i.whiteboard_paid_status)||pO.Zf.STARTER;if(t.figjamPaidStatusFilter!==a)return!1}return!0});let m={permission:{[m5.e.OWNER]:0,[m5.e.ADMIN]:0,[m5.e.EDITOR]:0,[m5.e.VIEWER]:0,[m5.e.NONE]:0},lastActive:{[Vk.MORE_SEVEN_DAYS]:0,[Vk.MORE_THIRTY_DAYS]:0,[Vk.MORE_THREE_MONTHS]:0},designPaidStatus:{[pO.Zf.FULL]:0,[pO.Zf.RESTRICTED]:0,[pO.Zf.STARTER]:0},figjamPaidStatus:{[pO.Zf.FULL]:0,[pO.Zf.RESTRICTED]:0,[pO.Zf.STARTER]:0}};return Object.values(d).forEach(e=>{var t,a,r,n;if(null==(t=e.team_role)?void 0:t.level){if(VS.includes(null==(a=e.team_role)?void 0:a.level)){let t=e.team_role.level;m.permission[t]+=1}}else m.permission[m5.e.NONE]+=1;let l=e.last_active?(0,pN.A)(1e3*e.last_active):0;l<c&&(m.lastActive[Vk.MORE_THREE_MONTHS]+=1),l<o&&(m.lastActive[Vk.MORE_THIRTY_DAYS]+=1),l<s&&(m.lastActive[Vk.MORE_SEVEN_DAYS]+=1);let i=(null==(r=e.team_user)?void 0:r.design_paid_status)||pO.Zf.STARTER;m.designPaidStatus[i]+=1;let d=(null==(n=e.team_user)?void 0:n.whiteboard_paid_status)||pO.Zf.STARTER;m.figjamPaidStatus[d]+=1}),ep.createElement(VX,{dispatch:e.dispatch,currentMemberId:e.currentMemberId,team:e.team,dropdownShown:e.dropdownShown,canAdminOrgTeam:e.canAdminOrgTeam,teamIsOrphaned:(Object.values(e.membersList).forEach(e=>{var t,a;if((null==(t=e.team_role)?void 0:t.level)===m5.e.OWNER||(null==(a=e.team_role)?void 0:a.level)===m5.e.ADMIN)return!1}),!0),filters:t,filteredMembers:d,allMembers:Object.values(e.membersList),filterCounts:m,onFilter:e=>{a({...t,...e}),i(VC.FILTER)},searchQuery:r,onSearch:e=>{n(e),i(VC.SEARCH)},lastFilterAction:l})}a(515333),a(77098);var V2=a(816629);let V4="add_annual_seats_modal--billingRow--RZSvE",V3="add_annual_seats_modal--leftContent--60BpG",V8="add_annual_seats_modal--rightContent--cq2sK",V5="settings_table--link--CD3-h",V6="settings_table--boldText--m0ODJ settings_table--modalText--6vlFq",V9=(0,am.Ju)(function(e){let[t,a]=(0,ep.useState)(e.monthlySub.design_quantity),[r,n]=(0,ep.useState)(e.monthlySub.whiteboard_quantity||0),l=(0,eg.wA)(),{annualSub:i,monthlySub:s,teamId:o,userId:c,currency:d}=e,m=new aQ.vr(d),u=m.getPrices(),_=(0,pN.A)(s.current_period_end),p=(0,pM.nT)(s.current_period_end,i.current_period_end),g=(0,u2.mF)(mq.tY.ANNUAL),E=(0,u2.lA)(r),f=(0,u2.PJ)({numWhiteboardEditors:r,billingPeriod:mq.tY.ANNUAL}),h=(0,u2.U8)({numWhiteboardEditors:r,billingPeriod:mq.tY.ANNUAL}),v=(0,u2.hP)(mq.tY.ANNUAL),b=g&&h<=0&&f>0,y=0===r,w=h>0||y||!g,T=()=>{a(t+1)},x=()=>{a(t-1)},C=()=>{n(r+1)},N=()=>{n(r-1)},k=()=>t>s.design_quantity?t-s.design_quantity:0,S=()=>r>(s.whiteboard_quantity||0)?r-(s.whiteboard_quantity||0):0;return ep.createElement(eH.fu,{name:"Add Annual Seats Modal",properties:{userId:c,teamId:o}},ep.createElement(sn.Eo,{title:(0,e$.t)("team_view.add_annual_seats_modal.add_seats_title"),confirmText:(0,e$.t)("team_view.add_annual_seats_modal.add_annual_seats"),disabled:!t&&!r,onConfirm:()=>{l(m2.MV({teamId:o,annualQuantity:t+i.design_quantity,annualWhiteboardQuantity:r+(i.whiteboard_quantity||0),promotionCodeId:v??void 0}))},trackedConfirmationProperties:{teamId:o,userId:c,monthly_quantity_design:s.design_quantity,monthly_quantity_figjam:s.whiteboard_quantity||0},minWidth:498,maxWidth:498},ep.createElement("div",{className:"settings_table--modalText--6vlFq"},ep.createElement(e$.Tx,{id:"team_view.add_annual_seats_modal.add_seats_explanation"}),ep.createElement("div",{className:"add_annual_seats_modal--billingSummaryContainer--jlYXE"},ep.createElement("div",{className:V4},ep.createElement("div",{className:V3},ep.createElement(u5,{editorType:uP.vu,incrementSeats:()=>T(),decrementSeats:()=>x(),numEditors:t,minSeatsCount:0,headerText:(0,e$.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:t,productName:(0,pD.E)(uP.oM.DESIGN)}),headerSubText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigma),remainingMonthsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:t})}),clarificationText:k()?(0,e$.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,pD.E)(uP.oM.DESIGN),unusedSeats:k()}):void 0,updateAdditionalSeatsText:u6(a),shouldShowJamboardOffer:!1})),ep.createElement("div",{className:V8},ep.createElement("div",null,m.formatMoney(t*p*u.annualFigma)))),ep.createElement("div",{className:V4},ep.createElement("div",{className:V3},ep.createElement(u5,{editorType:uP.tL,incrementSeats:()=>C(),decrementSeats:()=>N(),numEditors:r,minSeatsCount:0,headerText:(0,e$.t)("team_view.add_annual_seats_modal.num_monthly_editor_seats.seat_rename",{designQuantity:r,productName:(0,pD.E)(uP.oM.WHITEBOARD)}),headerFreeSubText:f>0?(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(0),remainingMonthsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:f})}):void 0,headerSubText:w?(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown",{cost:m.formatMoney(u.annualFigjam),remainingMonthsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.remaining_months",{numMonths:p}),seatsText:(0,e$.t)("team_view.add_annual_seats_modal.billing_breakdown.seats",{seats:h})}):void 0,clarificationText:S()?(0,e$.t)("team_view.add_annual_seats_modal.unused_seats_will_be_added",{productName:(0,pD.E)(uP.oM.WHITEBOARD),unusedSeats:S()}):void 0,updateAdditionalSeatsText:u6(n),shouldShowJamboardOffer:!1})),ep.createElement("div",{className:V8},b?ep.createElement(dd.Ex,{color:dd.zE.FIGJAM,text:ep.createElement(e$.Tx,{id:"pro_cart.jamboard_offer.offer_badge.n_months_free",numMonths:p})}):ep.createElement("div",null,m.formatMoney(h*p*u.annualFigjam)))),g&&ep.createElement("div",{className:V4},ep.createElement(_o,{numOfferSeatsRemaining:E}))),ep.createElement("div",{className:"add_annual_seats_modal--totalRow--JdHqF add_annual_seats_modal--billingRow--RZSvE"},ep.createElement("div",{className:V3},ep.createElement(e$.Tx,{id:"team_view.add_annual_seats_modal.total_charge_description",chargeDate:_.toDate()})),ep.createElement("div",{className:V8},ep.createElement("div",null,m.formatMoney(t*p*u.annualFigma+h*p*u.annualFigjam)))))))},"AddAnnualSeatsModal");function V7(e){return e?(0,pN.A)(e).format("MMMM D, YYYY"):""}function Ge(e){let t=(0,eg.wA)(),a=e.billing.summary.annual_subscription,r=e.billing.summary.monthly_subscription;return(0,tz.h)(()=>{e.billing.summary.show_vat_gst&&As(Ao.m,()=>{(0,pR.Hq)({team:e.team,dispatch:t})})}),ep.createElement(ep.Fragment,null,ep.createElement(eH.fu,{name:"Team Admin Console Settings Table",properties:{teamId:e.team.id}},ep.createElement("div",{className:"settings_section--adminConsoleSettingsWrapper--4YZ3T settings_section--settingsWrapper--ymG5e text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,eh.kc)().pro_team_business_names&&e.team.pro_team&&ep.createElement(Ah,{title:(0,e$.t)("settings_table.team_profile"),settings:Ga({team:e.team,teamName:e.team.name,legalName:e.team.legal_name??"",dispatch:t})}),ep.createElement(Ah,{title:(0,e$.t)("settings_table.plan"),settings:Gt({annualSub:a,dispatch:t,monthlySub:r,team:e.team,userId:e.userId,showVatGst:e.billing.summary.show_vat_gst,currency:e.billing.summary.currency})}),e.team.pro_team&&ep.createElement(Ah,{title:(0,e$.t)("settings_table.billing"),description:Gr(r,a),settings:Gn({annualSub:a,dispatch:t,monthlySub:r,team:e.team,billingContact:e.billing.summary.billing_contact})}),ep.createElement(Ah,{title:(0,e$.t)("settings_tab.section_header.login_and_provisioning"),settings:Gl({dispatch:t,team:e.team}),nullForEmptySettings:!0}))))}let Gt=({monthlySub:e,annualSub:t,dispatch:a,team:r,userId:n,currency:l,showVatGst:i})=>{let s=r.id,o=[],c=(0,pM.WQ)(r),d=(0,u2.hP)(mq.tY.ANNUAL);if(!e&&!t){let e=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_table.upgrade_to_the_professional_plan_or_to_an_organization_and_get_access_to_shared_team_libraries_advanced_security_features_and_more",more:ep.createElement("a",{className:V5,href:"/pricing",onClick:e=>{e.stopPropagation()},target:"_blank"},ep.createElement(e$.Tx,{id:"settings_table.more"}))}));if(c){let t=new Date(r.grace_period_end);e=ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_table.to_keep_using_paid_features_like_unlimited_team_figma_files_projects_and_team_libraries_after_your_free_professional_plan_expires_on_date_purchase_the_professional_plan_for_your_team",date:t}))}return o.push(ep.createElement(Ab,{label:c?(0,e$.t)("settings_table.purchase_professional_plan"):(0,e$.t)("settings_table.upgrade_your_plan"),onClick:()=>{c?Gd(a,s):Gm(a,s,pZ.b.BILLING_SETTINGS)},description:e})),o}if(o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.upgrade_your_plan"),description:ep.createElement("span",null,ep.createElement(e$.Tx,{id:"settings_table.consolidate_your_teams_access_shared_libraries_enable_advanced_security_features_and_more",more:ep.createElement("a",{className:V5,href:"/organization",target:"_blank",onClick:e=>e.stopPropagation()},ep.createElement(e$.Tx,{id:"settings_table.more"}))})),onClick:()=>{ef.Ay.redirect("/purchase-organization","_blank")}})),(null==e?void 0:e.canceled_at)||(null==t?void 0:t.canceled_at)||!e)return o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.reactivate_plan"),description:(0,e$.t)("settings_table.reactivate_your_subscription_of_professional"),onClick:()=>{(0,pR.C8)({team:r,dispatch:a,cancelling:!0,monthlySub:e,annualSub:t,currency:l})}})),o;let m=(0,pN.A)(),u=t&&m.isAfter((0,pN.A)(t.current_period_end).add(-30,"days")),_=t&&!u;t?u?o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.change_annual_plan"),description:(0,e$.t)("settings_table.you_can_change_the_number_of_seats_on_your_annual_plan_before_it_renews"),onClick:()=>{Gs(a,d)}})):_&&o.push(ep.createElement(Ab,{label:(0,e$.t)("team_view.settings_table.add_annual_seats"),description:(0,e$.t)("team_view.settings_table.add_annual_seats_description"),onClick:()=>{Go(a,r.id,n,e,t,l)}})):o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.add_annual_seats"),description:(0,e$.t)("settings_table.you_can_simplify_your_billing_by_converting_your_monthly_seats_to_annual"),onClick:()=>{Gi(a,r.id)}}));let p=V7((null==t?void 0:t.current_period_end)||(null==e?void 0:e.current_period_end)),g=()=>a((0,e0.to)({type:hd.lb,data:{teamId:s,billingEndDate:p||void 0}}));return o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.cancel_plan"),description:(0,e$.t)("settings_table.cancel_your_subscription_of_professional"),onClick:()=>{a((0,e0.to)({type:V2.v,data:{teamId:s,onContinue:g}}))}})),o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.change_payment_method"),description:(0,e$.t)("settings_table.change_and_update_the_payment_method_on_file"),onClick:()=>(0,pR.C8)({team:r,dispatch:a,cancelling:!1,monthlySub:e,annualSub:t,currency:l})})),i&&o.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.vat_gst"),description:(0,e$.t)("settings_table.change_vat_gst_id"),onClick:()=>(0,pR.Hq)({team:r,dispatch:a})})),o},Ga=({team:e,teamName:t,legalName:a,dispatch:r})=>{let n=[];return n.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.names"),description:(0,e$.t)("settings_table.change_names"),onClick:()=>(0,pR.ot)({team:e,updatedDisplayName:t,updatedLegalName:a,dispatch:r})})),n},Gr=(e,t)=>{let a=null!=e&&null!=e.current_period_end&&null==e.canceled_at,r=null!=t&&null!=t.current_period_end&&null==t.canceled_at,n=null!=e&&e.canceled_at,l=null!=t&&t.canceled_at,i=null;if(r&&a){let a=V7(null==e?void 0:e.current_period_end),r=V7(null==t?void 0:t.current_period_end);i=ep.createElement(e$.Tx,{id:"team_view.settings_table.multiple_subscription_renewal",monthly_billing_date:ep.createElement("span",{className:V6},ep.createElement(e$.Tx,{id:"team_view.settings_table.billing_date",billing_date:a})),annual_billing_date:ep.createElement("span",{className:V6},ep.createElement(e$.Tx,{id:"team_view.settings_table.billing_date",billing_date:r}))})}else if(r){let e=V7(t.current_period_end);i=ep.createElement(e$.Tx,{id:"team_view.settings_table.single_subscription_renewal_annual",billing_date:ep.createElement("span",{className:V6},ep.createElement(e$.Tx,{id:"team_view.settings_table.billing_date",billing_date:e}))})}else if(a){let t=V7(e.current_period_end);i=ep.createElement(e$.Tx,{id:"team_view.settings_table.single_subscription_renewal_monthly",billing_date:ep.createElement("span",{className:V6},ep.createElement(e$.Tx,{id:"team_view.settings_table.billing_date",billing_date:t}))})}else if(l&&n)i=ep.createElement(e$.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual_and_monthly"});else if(l)i=ep.createElement(e$.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_annual"});else if(n)i=ep.createElement(e$.Tx,{id:"team_view.settings_table.renewal_information_canceled_team_monthly"});else if(null!=e||null!=t)return(0,lL.x1)("billing","Ambiguous pro team renewal status",{monthly_period_end:null==e?void 0:e.current_period_end,monthly_canceled_at:null==e?void 0:e.canceled_at,annual_period_end:null==t?void 0:t.current_period_end,annual_canceled_at:null==t?void 0:t.canceled_at}),ep.createElement(ep.Fragment,null);return ep.createElement("div",{className:"settings_table--sectionDescription--rFneV"},ep.createElement("span",null,i))},Gn=({monthlySub:e,annualSub:t,dispatch:a,team:r,billingContact:n})=>{let l=[];return l.push(ep.createElement(Ab,{label:(0,e$.t)("team_view.settings_table.new_editor_notifications.seat_rename"),description:(0,e$.t)("team_view.settings_table.new_editor_notifications_description.seat_rename"),onClick:()=>{a((0,e0.to)({type:LV,data:{planType:Am.TEAM,planId:r.id}}))}})),l.push(ep.createElement(Ab,{label:(0,e$.t)("settings_table.billing_contacts"),description:(0,e$.t)("settings_table.billing_contacts_description"),onClick:()=>{Gc(a,r,n||"")}})),l},Gl=({team:e,dispatch:t})=>{let a=[];return e.pro_team&&a.push(ep.createElement(Ab,{label:(0,e$.t)("settings_tab.default_role_label.seat_rename"),description:ep.createElement(e$.Tx,{id:"settings_table.default_role_entrypoint_description.seat_rename",plan_type:(0,e$.t)("settings_table.team")}),onClick:()=>{t((0,e0.to)({type:LS,data:{planType:Am.TEAM,planId:e.id}}))}})),a},Gi=(e,t)=>{e(tL.$T({view:"addAnnualPlan",teamId:t}))},Gs=(e,t)=>{e((0,e0.to)({type:WQ,data:{promotionCodeId:t}}))},Go=(e,t,a,r,n,l)=>{e((0,e0.to)({type:V9,data:{currency:l,teamId:t,monthlySub:r,annualSub:n,userId:a}}))},Gc=(e,t,a)=>{let r=async a=>await pR.BO({email:a,dispatch:e,teamId:t.id});e((0,e0.to)({type:LF,data:{currentContacts:a,onSubmit:r,isOrg:!1}}))},Gd=(e,t)=>{e(m2.WX({teamId:t,openInNewTab:!1,selectedView:{view:"team",teamId:t}}))},Gm=(e,t,a)=>{e((0,e0.to)({type:hc.V,data:{teamId:t,upsellSource:a,openCheckoutInNewTab:!0}}))};var Gu=a(938864);function G_({selectedTab:e,teamId:t}){let a=(0,eg.wA)();return ep.createElement("div",{className:eT.cx.mt24.mb24.$},ep.createElement(ej.Y,null,ep.createElement(du.E,{fontSize:20},(0,gg.pe)(e)),ep.createElement(ej.M,null),e===pF.I.MEMBERS&&(0,yI.D)(t,null)&&ep.createElement(Gu.V,{icon:"plus-32",variant:"secondary",onClick:()=>{a((0,e0.to)({type:hd.T9,data:{teamId:t,notifyOnSuccess:!0,initialView:0}}))},trackingProperties:{action:"Add members to team"}},ep.createElement(du.E,{i18nId:"team_admin.members_tab.invite_users"}))))}let Gp=(0,xc.rw)();function Gg(e){let t=(0,eg.wA)(),a=ep.useCallback(a=>{a===pF.I.MEMBERS&&t(m3.m$({teamId:e.teamId})),a===pF.I.BILLING&&t(pR.Q({teamId:e.teamId,shouldForceFetch:!0})),a===pF.I.SETTINGS&&t(pR.Be({teamId:e.teamId})),t(tL.$T({view:"teamAdminConsole",teamId:e.teamId,teamAdminConsoleViewTab:a}))},[t,e.teamId]),r=Object.values(pF.I).filter(t=>t!==pF.I.DASHBOARD&&t!==pF.I.BILLING||e.isProTeam).map(t=>ep.createElement(Gp,{tab:t,selectedTab:e.selectedTab,key:t,onClick:a,mobileNavTabTitle:(0,gg.pe)(t)},(0,gg.pe)(t))),n=ep.createElement("button",{className:eS()(eT.cx.flex.mr32.bRadius4.pt4.pb4.pr8.pl8.maxW150.$,"team_admin_console_view--teamNameHeaderHoverState--UPIlM"),onClick:()=>{t(tL.$T({view:"team",teamId:e.teamId,teamViewTab:pF.A.HOME}))}},ep.createElement(du.E,{truncate:!0},e.teamName));return ep.createElement(xo.W,{hideToolBarOnDesktop:!1,tabs:r,left:n})}var GE=a(451480),Gf=a(382298);let Gh="professional_badge_onboarding_key",Gv="seen_professional_badge_overlay";function Gb({teamId:e}){var t,a;let r=(0,eg.d4)(e=>e.userTeamFlags),n=null==(t=r[e])?void 0:t[Gv],l=null==(a=r[e])?void 0:a[Bg.UA],i=(0,uF.kO)(),s=(0,tJ.e)({overlay:t4.zMZ,priority:tQ.N.DEFAULT_MODAL,experiment:{check:i,predicate:e=>e,postCheck:()=>!0}}),o=(0,eg.wA)();return((0,ep.useEffect)(()=>{l&&!n&&s.show()},[s,l,n]),s.isShowing)?ep.createElement(vI.rq,{isShowing:s.isShowing,title:ep.createElement(e$.Tx,{id:"pro_onboarding.see_whats_included"}),description:ep.createElement(e$.Tx,{id:"pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"}),targetKey:Gh,onClose:()=>{o(Fg.bE({all_team_flags:[{team_id:e,flags:{[Gv]:!0}}]})),s.complete()},trackingContextName:e4.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:B_.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:t1.EL.FALLBACK,clickOutsideToHide:!0}):null}var Gy=a(497086),Gw=a(537879),GT=a(88491);let Gx=(0,am.Ju)(function({teamId:e}){let t=(0,ep.useMemo)(()=>(0,Gw.To)(),[]),a=(0,eg.wA)(),r=()=>{a(e0.Ce())};return ep.createElement(eH.fu,{name:"Pro Features Modal",properties:B_.S.getTrackingProperties(e)},ep.createElement(GT.n,{...t,dismissModal:r,clickSecondaryBtn:()=>{ef.Ay.redirect("/pricing","_blank")},clickPrimaryBtn:r,showPricing:!1,panelTitleSize:GT.I.LARGE,cardsClickable:!0}))},"ProFeaturesModal");var GC=a(48620),GN=a(156151);let Gk="seen_pro_onboarding_unlimited_projects_overlay",GS=(0,tZ.r1)(Gk);function GI({teamId:e}){var t,a;let r=(0,tY.md)(GS),n=(0,tY.md)(Bu.e),l=(0,eg.d4)(e=>e.userTeamFlags),i=null==(t=l[e])?void 0:t[Bg.UA],s=null==(a=l[e])?void 0:a[Gv],o=(0,uF.kO)(),{show:c,isShowing:d,complete:m}=(0,tJ.e)({overlay:t4._9u,priority:tQ.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[r,n]);return((0,tz.h)(()=>{i&&s&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?ep.createElement(t0.M,{isShowing:d,userFlagOnShow:Gk},ep.createElement(eH.fu,{name:B_.S.getTooltipTrackingContext("Unlimited Projects"),properties:B_.S.getTrackingProperties(e)},ep.createElement(Bp.jA,{dismissModal:m}))):null}function GA(e){var t,a,r,n;let l=(0,eg.wA)(),i=ep.useRef(null),s=(0,eg.d4)(({dropdownShown:e})=>e),o=e.team.org_id??null,c=(0,p8.Q)({currentOrgId:o,currentTeamId:null}),d=(0,eg.d4)(e=>e.favorites.collapsedCustomSections),m=(0,Ew.S)(),u=ep.useMemo(()=>{if("loaded"===c.status)return(0,gO.T0)(c.data,e.team.id)},[c,e.team.id]);if("loaded"!==c.status)return ep.createElement("div",{className:eT.cx.flex.itemsCenter.colorIcon.$},ep.createElement(eL.B,{svg:rN.A}));let _=(0,gO.gV)(c.data,o),p=e.dropdownKey&&s&&s.type===e.dropdownKey&&s.data&&s.data.targetRect,g=i.current&&(null==(t=null==s?void 0:s.data)?void 0:t.targetRef)===i.current&&(null==s?void 0:s.type)===fg.Ne,E=i.current,f=[];return e.showInvite&&f.push(ep.createElement(pv.W.Option,{key:"import",children:ep.createElement(e$.Tx,{id:"file_browser.team.invite"}),onClick:e.onInviteClick})),f.push(ep.createElement(pv.W.Option,{key:"share",children:ep.createElement(e$.Tx,{id:"file_browser.team.view_members"}),onClick:t=>e.onMembersClick(t)})),m&&f.push(ep.createElement(pv.W.Option,{key:"add-to-favorites-section",children:ep.createElement("div",{className:eT.cx.flex.justifyBetween.itemsCenter.w150.$},ep.createElement(e$.Tx,{id:"favorited_resources.add_to_sidebar"}),ep.createElement(eL.B,{svg:Ud.A})),onClick:t=>{t.stopPropagation(),i.current&&l(tL.j7({type:fg.Ne,data:{targetRect:E.getBoundingClientRect(),targetRef:E,resourceId:e.team.id}}))}})),ep.createElement("button",{className:eT.cx.flex.itemsCenter.colorIcon.$,ref:i,onClick:t=>{e.dropdownKey&&E&&l(tL.j7({type:e.dropdownKey,data:{targetRect:null==E?void 0:E.getBoundingClientRect()}}))}},ep.createElement(eL.B,{svg:rN.A}),p&&ep.createElement(Uo.Cf,{targetRect:s.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},f),g&&ep.createElement(fg.tZ,{updateFavorite:(t,a)=>{(!_||t)&&(e.setFavorite(t,null==u?void 0:u.resource.id,a),t&&a&&(d.delete(a),l(gJ.U6({collapsedCustomSections:d})),Eq.Fp({type:"topLevel",id:"custom",orgId:o,sectionId:a},!0)))},resourceId:e.team.id,resourceType:lB.bk.TEAM,isFavorited:void 0!==u,currentSectionId:(null==u?void 0:u.resource.sidebarSectionId)??void 0,sections:c.data.currentUser.userSidebarSections??[],customSectionOrdering:(null==(n=null==(r=null==(a=c.data.currentUser)?void 0:a.baseOrgUser)?void 0:r.fileBrowserPreferences)?void 0:n.orderedSidebarSections)??[],showPoint:!0}))}function GL(){return ep.createElement("div",{className:eT.cx.flex.p12.colorBgSelected.bRadius6.$},ep.createElement("div",{className:eT.cx.mr12.colorIcon.itemSelfCenter.$},ep.createElement(eL.B,{svg:sE.A})),ep.createElement(e$.Tx,{id:"sidebar.meta.this_team_is_for_education_users_only"}),"\xa0",ep.createElement(eI.Us,{target:"_blank",trusted:!0,href:"/education/"},ep.createElement(e$.Tx,{id:"org_home_view_meta.learn_more"})))}function GR({team:e}){let t=(0,eg.wA)(),a=(0,eg.d4)(t=>(0,mG.canEditTeam)(e.id,t)),[{data:r}]=(0,r2.IT)((0,gR.Xg)({teamId:e.id})),n=(r||[]).filter(e=>""!==e.name).length,l=(0,ey.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&a&&n>=pM.Wf)||l.getConfig().getValue("show_upsell",!1))return null;let i=ep.createElement(eI.Us,{onClick:()=>{t((0,e0.to)({type:hc.V,data:{teamId:e.id,upsellSource:pZ.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:o3.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},ep.createElement(e$.Tx,{id:"file_browser.starter_team.upgrade_link"}));return ep.createElement(eH.fu,{name:"Starter Team Upsell Footer"},ep.createElement("div",{className:eS()(eT.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--zaJ4n"),"data-testid":"starterTeamUpsellFooter"},ep.createElement("div",{className:eS()(eT.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper---iD0R")},ep.createElement("strong",null,n===pM.Wf?ep.createElement(e$.Tx,{id:"file_browser.starter_team.project_limit_warning",maxProjects:pM.Wf}):ep.createElement(e$.Tx,{id:"file_browser.starter_team.project_limit_warning_over_max_projects"})),ep.createElement("p",{className:eT.cx.alignCenter.$},ep.createElement(e$.Tx,{id:"file_browser.starter_team.project_limit_info",upgradeLink:i})))))}function GO(e){let{team:t,orgTeamActionType:a}=e;switch(a){case CQ.gO.CLICK_JOIN:case CQ.gO.BYPASS_REQUEST:return ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"file_browser.team.please_join_team"}));case CQ.gO.CLICK_REQUEST:return ep.createElement(ep.Fragment,null,ep.createElement(e$.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name}),ep.createElement("br",null),ep.createElement(e$.Tx,{id:"file_browser.team.please_request_to_join_team"}));case CQ.gO.CLICK_WITHDRAW:return ep.createElement(e$.Tx,{id:"file_browser.team.request_to_join_team_is_pending",teamName:t.name});default:return ep.createElement(e$.Tx,{id:"file_browser.team.no_permissions_message",teamName:t.name})}}let GF=(0,eg.Ng)((e,t)=>({orgTeamActionType:(0,CQ.YP)(t.team,e.teamRoleRequests[t.team.id],(0,mG.getPermissionsState)(e),e.currentUserOrgId),team:t.team,teamRoleRequest:e.teamRoleRequests[t.team.id]}))(function(e){let{team:t,orgTeamActionType:a}=e,r=(0,eg.wA)(),n=ep.createElement("div",{className:"team_page_view--nonMemberViewContainer--YGW4u"},ep.createElement("div",{className:"team_page_view--header--uI3b0"},ep.createElement(dm.nl,{team:t,size:dm.Pf.LARGE}),ep.createElement("span",{className:"team_page_view--teamName--gBwlm text--fontPos18--rYXJb text--_fontBase--QdLsd"},t.name)),ep.createElement("div",{className:"team_page_view--joinOptionText--Bs2e9 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},ep.createElement(GO,{team:t,orgTeamActionType:a})),ep.createElement("div",{className:"team_page_view--joinButton--LKnWo"},ep.createElement(F1.m,{team:t,onJoin:(0,xb.GR)(r,t.id),onLeave:()=>{r(e0.to({type:CX.p,data:{teamId:t.id}}))},onJoinRequest:()=>{r(e0.to({type:C1.$S,data:{team:t}}))},onBypassRequest:(0,xb.GR)(r,t.id,m5.e.OWNER),onWithdrawRequestForTeam:()=>{var t;let a=null==(t=e.teamRoleRequest)?void 0:t.id;a&&r(C0.lT({requestId:a}))},isCardActive:!1})));return ep.createElement(v6.r,{content:n})});function GM(e){let t=(0,t5.Rs)(ai.Bl3,{id:e??""},{enabled:!!e}),a=(0,eg.wA)();ep.useLayoutEffect(()=>{var e;"loaded"!==t.status||(null==(e=t.data.team)?void 0:e.hasPermission)||a(tL.$T({view:"recentFiles"}))},[t,a])}let GD=(0,eg.Ng)((e,t)=>{let a=e.teams[t.teamId],r=e.currentUserOrgId,n=(0,mG.canAdminTeam)(t.teamId,e),l=(0,mG.canEditTeam)(t.teamId,e),i=(0,mG.canViewTeam)(t.teamId,e),s=a&&a.org_id&&e.orgById[a.org_id]||null,o=!!s&&(0,mG.canAdminOrg)(s.id,e),c=(0,mG.canMakeAdmin)(lB.vt.TEAM,t.teamId,e),d=(0,mG.hasAdminRoleAccessOnTeam)(t.teamId,e),m=(0,mG.hasEditorRoleAccessOnTeam)(t.teamId,e),u={};e.teamMembersByTeamId[t.teamId]&&Object.entries(e.teamMembersByTeamId[t.teamId]).map(([a,r])=>{var l;let i=!!r.team_role&&(0,mG.canEditRole)(r.team_role,e),s=!!r.team_role&&(0,mG.isResourceOwner)(e.user.id,t.teamId,lB.vt.TEAM,e.roles),o=!!r.team_role&&c,d=(null==(l=r.team_role)?void 0:l.level)||-1;u[a]={...r,canEditRole:i,canMakeOwner:s,canMakeAdmin:o,canRemoveUser:n&&d<m5.e.OWNER}});let _=(0,mG.hasViewerRoleAccessOnTeam)(t.teamId,e);return{team:a&&{...a,canAdmin:n,canEdit:l,canRead:i,isCurrentUserInTeam:_,canEditTeamContents:m},org:s,currentOrgId:r,teamRoleRequest:e.teamRoleRequests[t.teamId],avatarEditorState:e.avatarEditorState,canAdminOrgTeam:o,loadingState:e.loadingState,billing:e.teamBilling,membersList:u,user:e.user,canDeleteTeam:d,dropdownShown:e.dropdownShown}})(function(e){var t,a,r,n,l;let i;let{selectedTab:s,loadingState:o,team:c,teamId:d,org:m,currentOrgId:u,upgradeModalType:_}=e,p=(0,eg.wA)(),g=(0,d2._6)(),[E,f]=ep.useState(!1),[{status:h,data:v}]=(0,r2.IT)((0,gR.Xg)({teamId:null==(t=e.team)?void 0:t.id}),{revalidateOnMount:!0});GM(e.teamId);let b=(0,eg.d4)(e=>e.teamRoleRequests),y=(0,eg.d4)(e=>c&&e.teamUserByTeamId[c.id]),w=!!(0,eg.d4)(e=>{var t;return c&&(0,mG.canManageOrgTeam)(c.id,e,null==(t=e.user)?void 0:t.id)}),[T,x]=ep.useState(),C=(0,pM.w5)(c)&&!(null==c?void 0:c.org_id),N=(0,yI.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null),k=(0,t5.Rs)(ai.GyZ,{teamId:d}),S="loaded"===k.status,I=ep.useMemo(()=>(0,GE.X)(k),[k]),A=N?!!(I&&I.canAdmin):!!(c&&c.canAdmin),L=N?!!(I&&I.canEdit):!!(c&&c.canEdit),R=N?!!(I&&I.canRead):!!(c&&c.canRead),O=ep.useCallback(()=>{CW.S.getTeamTransfer({teamId:d}).then(({data:e})=>{x(e.meta)},e=>{x(void 0)})},[d]);(0,tz.h)(()=>{let e=(0,mK.QL)("team_role_redemption");if(e&&parseInt(e) in m5.e){let e=(0,Gf.VE)();e&&p(t6.F.enqueue({message:e})),(0,mK.EM)("team_role_redemption")}}),ep.useEffect(()=>{O()},[null==T?void 0:T.id,O]),ep.useEffect(()=>{let e=Nr.um.loadingKeyForPayload();(0,e1.VP)(o,e)||(0,e1.D2)(o,e)||p(Nr.um())},[p,o]),ep.useEffect(()=>{u&&p((0,pE.Rw)())},[p,u]),ep.useEffect(()=>{if(c)f(!1);else{let e=xb.HD.loadingKeyForPayload({teamId:d}),t=`TEAM_GET_ACTION_${d}`;u&&!o[e]?p(xb.HD({teamId:d,disableFlashError:!0})):(0,e1.VP)(o,e)||(0,e1.VP)(o,t)||f(!0)}},[p,o,c,d,u]),ep.useEffect(()=>{if(c&&!c.org_id){if(s===pF.A.BILLING){let e=pR.Be.loadingKeyForPayload({teamId:c.id}),t=pR.NP.loadingKeyForPayload({teamId:c.id}),a=!(0,e1.D2)(o,e)&&!(0,e1.VP)(o,e),r=!(0,e1.D2)(o,t)&&!(0,e1.VP)(o,t);(a||r)&&p(pR.Q({teamId:c.id}))}else if(s===pF.A.MEMBERS){let e=m3.m$.loadingKeyForPayload({teamId:c.id});(0,e1.VP)(o,e)||(0,e1.D2)(o,e)||p(m3.m$({teamId:c.id}))}else if(s===pF.A.SETTINGS){let e=pR.Be.loadingKeyForPayload({teamId:c.id});A&&C&&!(0,e1.VP)(o,e)&&!(0,e1.D2)(o,e)&&p(pR.Q({teamId:c.id}))}}},[p,s,o,c,m,C,A]);let F=(0,tR.iZ)(),M=F&&y&&y[F.id],D=null==(r=null==(a=(0,t5.Rs)(ai.Cit,{teamId:d}).data)?void 0:a.team)?void 0:r.currentTeamUser,P=(0,eg.d4)(e=>e.roles);ep.useEffect(()=>{var e,t;let a;if(!(c&&F&&M&&D&&_)||!C)return;let r=_===lB.G_.DEV_MODE,n=_===lB.G_.WHITEBOARD?lB._Y.WHITEBOARD:lB._Y.DESIGN;if(n===lB._Y.DESIGN?a=(null==(e=D.designAccountTypeRequest)?void 0:e.status)==="pending":n===lB._Y.WHITEBOARD&&(a=(null==(t=D.whiteboardAccountTypeRequest)?void 0:t.status)==="pending"),!0===a&&p(e5.s.flash((0,e$.t)("team_view.request_upgrade.request_already_sent"))),!1===a&&(0,dN.dk)(!!(0,ph.qR)(M,n)||r&&!(0,ph.y5)(M,n),a,c,F)){let e=(0,mK.QL)("entry_point")||(r?UK.i.DowngradeEmail:GN.Df.DOWNGRADE_EMAIL);p(e0.to({type:GN.PK,data:{editorType:n,teamUser:M,entryPoint:e}}))}p(tL.$T({view:"team",teamId:c.id,teamViewTab:s}))},[p,c,F,M,D,_,C,s]),(0,tz.h)(()=>{e.showProOnboardingModal&&p(e0.to({type:GC.C,data:{teamId:d}}))});let B=ep.useCallback((t,a,r)=>{if(e.team){let n={team:e.team,entrypoint:"team_page_view",sectionId:r,favoriteId:a};t?p(gJ.DN(n)):p(gJ.ox(n))}},[p,e.team]),U=ep.useCallback(()=>{ae.Ay.del(`/api/asset_transfer/${null==T?void 0:T.id}`).then(()=>{x(void 0),p(t6.F.enqueue({message:(0,e$.t)("asset_transfers.revoke.transfer_revoked")}))},e=>{p(t6.F.enqueue({message:(0,e$.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[null==T?void 0:T.id,p]),W=ep.useMemo(()=>{if(c)return{team:c,pending:T,onRevokeTransfer:U,updatePending:O,billing:e.billing}},[O,U,T,c,e.billing]),V={view:"team",teamId:d,teamViewTab:pF.A.HOME},G=N7(N4.MEMBERS,W,!!(null==c?void 0:c.canAdmin),V),$=N7(N4.SETTINGS,W,!!(null==c?void 0:c.canAdmin),V);ep.useEffect(()=>{e.selectedTab===pF.A.MEMBERS?G():e.selectedTab===pF.A.SETTINGS&&$()},[]);let j=ep.useCallback(e=>{let t={view:"team",teamId:c?c.id:"",teamViewTab:e};p(tL.$T(t))},[p,c]),H=ep.useMemo(()=>{if(c){if((0,yI.D)(c.id,c.org_id)){if(R)switch(c.org_access){case lB.bU.PRIVATE:return(0,e$.t)("file_browser.team_header.closed_team_header");case lB.bU.SECRET:return(0,e$.t)("file_browser.team_header.secret_team_header")}}else switch(c.org_access){case lB.bU.PRIVATE:if(L)return(0,e$.t)("file_browser.team_header.private_team_can_edit");if(R)return(0,e$.t)("file_browser.team_header.private_team_can_view");break;case lB.bU.SECRET:if(L)return(0,e$.t)("file_browser.team_header.secret_team_can_edit");if(R)return(0,e$.t)("file_browser.team_header.secret_team_can_view")}}},[c,R,L]),q=ep.useMemo(()=>{if(c&&R){if(c.org_access===lB.bU.PRIVATE)return(0,e$.t)("file_browser.team_header.closed_team_subtitle");if(c.org_access===lB.bU.SECRET)return(0,e$.t)("file_browser.team_header.secret_team_subtitle")}},[c,R]),z=(0,Gy.N)();if(!S)return ep.createElement(e8.qc,null);if(E||!R&&!u)return ep.createElement(Mf,{resourceType:e2.Ft.TEAM});if(!c)return null;if(!R)return ep.createElement(GF,{team:c});let Y=()=>{p((0,gR.SX)({where:E5.Ah.FolderListView,team:c}))},K=()=>{p(tL.oB()),$(),j(pF.A.SETTINGS)},J=()=>{p(tL.oB()),p(tL.$T({view:"teamAdminConsole",teamId:c.id,isProTeam:c.pro_team})),(0,tn.sx)("Admin Console Opened",{trackingContext:e4.e0.FILE_BROWSER,entryPoint:"team_page_view"})},Z="loaded"===h;i=c.org_id?Z?ep.createElement(ep.Fragment,null,ep.createElement(WO,{viewId:`team-${e.teamId}`,folderList:v||[],showTeamNameOrAuthor:!1,onCreateNewFolder:N?L?Y:void 0:c.isCurrentUserInTeam?Y:void 0,canEditTeamContents:N?L:c.canEditTeamContents,isCurrentUserInTeam:c.isCurrentUserInTeam,selectedView:g}),ep.createElement(DW.cx,null)):ep.createElement(e8.qc,null):ep.createElement(ep.Fragment,null,Z?ep.createElement(ep.Fragment,null,ep.createElement(BC,{teamId:c.id}),ep.createElement(WO,{viewId:`team-${e.teamId}`,folderList:v||[],showTeamNameOrAuthor:!1,onCreateNewFolder:c.isCurrentUserInTeam?Y:void 0,canEditTeamContents:N?L:c.canEditTeamContents,isCurrentUserInTeam:c.isCurrentUserInTeam,selectedView:g}),ep.createElement(DW.cx,null)):ep.createElement(e8.qc,null));let Q=[pF.A.MEMBERS,pF.A.BILLING,pF.A.SETTINGS].includes(e.selectedTab),X=c.canAdmin?ep.createElement(fp.FL,{entity:c,entityType:f_.ck.TEAM,avatarEditorState:e.avatarEditorState,size:40,dispatch:p,avatarSvg:fE.A,svgSizeRatio:.6}):ep.createElement(dm.nl,{team:c,size:40,avatarSvg:fE.A,svgSizeRatio:.6}),ee=!R&&!w,et=(()=>{if(ee)return;let e=z({team:c,onChangeTeamIconClick:()=>{p((0,MO.o)({team:c}))},onRenameClick:()=>{p(e0.to({type:hd.hc,data:{team:c}}))},teamRoleRequests:b});if(!L&&!(0,yI.D)(c.id,c.org_id))return e;let t=[];return W&&(L&&t.push({displayText:(0,e$.t)("team_view.settings.view_settings"),callback:K}),(0,yI.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null)&&m&&t.push({displayText:(0,e$.t)("teams_table.view_team_members"),callback:G}),C||t.push({displayText:"",separator:!0})),C&&c.canAdmin&&t.push({displayText:(0,e$.t)("team_view.settings.view_admin_console"),callback:J},{displayText:"",separator:!0}),t.push(...e),t})(),ea=et?{kind:OQ.A.CUSTOM,key:OQ.D.DROPDOWN,element:ep.createElement(Mw,{buttonAriaLabel:(0,e$.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${c.id}`,dropdownOptions:et})}:void 0,er=c.pro_team&&(0,eh.kc)().pro_onboarding_launch,en=c.student_team?ep.createElement(GL,null):(0,pM.w5)(c)?void 0:ep.createElement(GR,{team:c}),el=(0,yI.D)((null==c?void 0:c.id)||null,(null==c?void 0:c.org_id)||null);return ep.createElement(v6.Z,{containerClass:eS()({"team_page_view--xOverflowFileBrowserContainer--ZNwlr":Q}),contentContainerClass:eS()({"team_page_view--xOverflowFileBrowserContentContainer--QCjlt":Q}),content:i,footer:en,banner:ep.createElement(Bv,{teamId:e.teamId,selectedTab:e.selectedTab}),header:ep.createElement(Mb,{avatar:X,title:c.name,rightSideActions:function(e,t,a,r,n,l,i,s,o,c,d,m,u,_){var p;let g=(0,gg.pG)(s,i).length,E=(0,yI.D)((null==e?void 0:e.id)||null,(null==e?void 0:e.org_id)||null),f=E?d:e.canRead,h=E?c:e.canEditTeamContents,v=[],b=!!(m&&Object.keys(m).includes(e.id))&&(null==(p=m[e.id])?void 0:p.status)===Un.c.PENDING,y=e.isCurrentUserInTeam??!0,w=e.canAdmin&&!e.isCurrentUserInTeam,T=!E&&e.org_access===lB.bU.PUBLIC&&f&&!y,x={kind:OZ.A.CUSTOM_BUTTON,key:OQ.D.FAVORITE,element:ep.createElement(fy.r,{setFavorite:o,favoriteType:lB.bk.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id})},C={kind:OZ.A.ICON_TEXT_BUTTON,key:OQ.D.VIEW_MEMBERS,displayText:g.toString(),onClick:e=>{_&&_(e)},icon:MV.A,svgStyleClass:"team_page_view--iconTextButtonSvg--De4li",showOnMobile:!1};if(w)v.push({kind:OZ.A.BUTTON,key:OQ.D.JOIN_TEAM,displayText:(0,e$.t)("file_browser.team.join_team"),onClick:(0,xb.GR)(r,e.id,m5.e.ADMIN)});else if(T)return v.push({kind:OZ.A.BUTTON,key:OQ.D.JOIN_TEAM,displayText:(0,e$.t)("file_browser.team.join_team"),onClick:(0,xb.GR)(r,e.id)}),E||v.push(C),v.push(x),v;(a===pF.A.HOME||n)&&(h&&!(0,ph.R$)(l,e.org_id)?v.push({kind:OZ.A.CUSTOM,key:OQ.D.NEW_PROJECT,element:ep.createElement(ep.Fragment,null,ep.createElement(O4,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:"inverse",onClick:()=>{r((0,gR.SX)({team:{...e,canEdit:h,canAdmin:e.canAdmin,canEditTeamContents:E?c:e.canEditTeamContents},where:E5.Ah.FolderListView}))},text:(0,e$.t)("file_browser.team.add_project")}),ep.createElement(GI,{teamId:e.id})),showOnMobile:!0}):!e.org_id||!m||e.org_access===lB.bU.SECRET||w||T||e.canAdmin||v.push({kind:OZ.A.BUTTON,key:OQ.D.REQUEST_TO_EDIT,displayText:b?(0,e$.t)("file_browser.team.cancel_request"):(0,e$.t)("file_browser.team.request_to_edit"),onClick:()=>{var t;b?r(C0.lT({requestId:null==(t=m[e.id])?void 0:t.id})):r(e0.to({type:C1.$S,data:{team:e,requesterCurrentLevel:m5.e.VIEWER}}))}})),(a===pF.A.MEMBERS||n)&&t&&v.push({kind:OZ.A.BUTTON,key:OQ.D.INVITE,displayText:E?(0,e$.t)("file_browser.team.share"):(0,e$.t)("file_browser.team.invite"),onClick:()=>{r(e0.to({type:hd.T9,data:{teamId:e.id,notifyOnSuccess:!0}}))}}),E||v.push(C),e.org_id&&v.push(x);let N=ep.createElement(GA,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:t,onInviteClick:()=>{r(e0.to({type:hd.T9,data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:e=>{_&&_(e)},setFavorite:o});return v.push({kind:OZ.A.CUSTOM_BUTTON,key:OQ.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:N}),v}(c,!0,s,p,!0,e.user,e.teamId,P,B,L,R,b,null==(l=null==(n=P.byTeamId)?void 0:n[e.teamId])||l[e.user.id],e=>{e.stopPropagation(),p(tL.oB()),G(),j(pF.A.MEMBERS)}),rightSideOfTitleAction:ea,pageHeaderIcon:!el&&H?ep.createElement("div",{className:eT.cx.ml8.mr4.$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":H,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200},ep.createElement(le.In,{icon:"lock-16"})):void 0,badge:ep.createElement(ej.Y,{direction:"horizontal"},el&&H?ep.createElement("div",{className:eT.cx.ml4.mr4.$,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":H,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":(0,yI.D)(c.id,c.org_id)?q:""},ep.createElement(le.In,{icon:"lock-16"})):void 0,er?ep.createElement(ep.Fragment,null,ep.createElement(eH.fu,{name:dd._Y.PROFESSIONAL,properties:B_.S.getTrackingProperties(d)},ep.createElement(eH.$z,{type:"button",onClick:()=>{p(e0.to({type:Gx,data:{teamId:c.id}}))},"data-onboarding-key":Gh,className:"team_page_view--pointerOnHover--GKhRb"},ep.createElement(dd.Ex,{color:dd.zE.INFORMATIONAL,text:(0,e$.t)("pro_onboarding.professional"),size:dd.vj.EXTRA_LARGE}))),ep.createElement(Gb,{teamId:e.teamId})):void 0)})})});function GP(e){let t;let a=(0,eg.wA)(),r=(0,eg.d4)(t=>t.teams[e.teamId]);GM(null==r?void 0:r.id);let n=(0,eg.d4)(t=>(0,mG.canAdminTeam)(e.teamId,t)),l=(0,eg.d4)(t=>(0,mG.canEditTeam)(e.teamId,t)),i=(0,eg.d4)(t=>(0,mG.canViewTeam)(e.teamId,t)),s=(0,eg.d4)(e=>e.loadingState),o=(0,eg.d4)(e=>e.teamBilling),c=(0,eg.d4)(e=>e.dropdownShown),d=(0,eg.d4)(e=>(0,mG.getPermissionsState)(e)),m=(0,eg.d4)(t=>(0,mG.canMakeAdmin)(lB.vt.TEAM,e.teamId,t)),u=(0,eg.d4)(e=>e.roles),_=(0,tR.iZ)(),p=(0,eg.d4)(t=>t.teamMembersByTeamId[e.teamId]),g={};if(p&&_&&r&&Object.entries(p).map(([e,t])=>{var a;let n=!!t.team_role&&(0,mG.canEditRole)(t.team_role,d),l=!!t.team_role&&(0,mG.isResourceOwner)(_.id,r.id,lB.vt.TEAM,u),i=!!t.team_role&&m,s=(null==(a=t.team_role)?void 0:a.level)||-1;g[e]={...t,canEditRole:n,canMakeOwner:l,canMakeAdmin:i,canRemoveUser:s<m5.e.OWNER}}),ep.useEffect(()=>{if(r){if(e.selectedTab===pF.I.BILLING){let e=pR.Be.loadingKeyForPayload({teamId:r.id});(0,e1.D2)(s,e)||(0,e1.VP)(s,e)||a(pR.Q({teamId:r.id}))}else if(e.selectedTab===pF.I.MEMBERS){let e=m3.m$.loadingKeyForPayload({teamId:r.id});(0,e1.VP)(s,e)||(0,e1.D2)(s,e)||a(m3.m$({teamId:r.id}))}else if(e.selectedTab===pF.I.SETTINGS){let e=pR.Be.loadingKeyForPayload({teamId:r.id});(0,e1.VP)(s,e)||(0,e1.D2)(s,e)||a(pR.Be({teamId:r.id}))}}},[a,e.selectedTab,s,r]),!_||!n||!r)return ep.createElement(Mf,{resourceType:e2.Ft.TEAM});let E=!1,f=!0,h=e.selectedTab;switch(e.selectedTab!==pF.I.DASHBOARD||r.pro_team&&n||(h=pF.I.MEMBERS),h){case pF.I.DASHBOARD:t=ep.createElement(WJ,{team:r,shouldShowDevModeSuggestedUpgradesModal:e.shouldShowDevModeSuggestedUpgradesModal}),f=!1;break;case pF.I.MEMBERS:E=(0,e1.VP)(s,m3.m$.loadingKeyForPayload({teamId:r.id}));let v={...r,canAdmin:n,canRead:i,canEdit:l};t=ep.createElement(V1,{key:`admin-team-members-${r.id}`,team:v,dispatch:a,membersList:g,currentMemberId:_.id,dropdownShown:c,canAdminOrgTeam:!1});break;case pF.I.BILLING:let b=pR.Be.loadingKeyForPayload({teamId:r.id}),y=pR.NP.loadingKeyForPayload({teamId:r.id});E=(0,e1.VP)(s,b)||!(0,e1.D2)(s,b)||(0,e1.VP)(s,y)||!(0,e1.D2)(s,y),t=ep.createElement(Vx,{team:r,billing:o,dispatch:a});break;case pF.I.SETTINGS:E=(0,e1.VP)(s,pR.Be.loadingKeyForPayload({teamId:r.id})),t=ep.createElement(Ge,{team:r,userId:_.id,billing:o});break;default:return(0,eC.xb)(h)}return ep.createElement(v6.r,{containerClass:"team_admin_console_view--fileBrowserContentContainer--Yl1zE",scrollableContainerClass:"team_admin_console_view--fileBrowserScrollableContainer--D5mrZ",toolbar:ep.createElement(Gg,{teamName:r.name,teamId:e.teamId,isProTeam:r.pro_team,selectedTab:h}),content:E?ep.createElement("div",{className:"admin_settings_page--container--qnrCG"},ep.createElement(e8.kt,{className:pz})):ep.createElement(ep.Fragment,null,f&&ep.createElement("div",{className:eT.cx.ml36.mr36.$},ep.createElement(G_,{selectedTab:h,teamId:e.teamId})),t)})}let GB={ctrlKey:"metaKey"};function GU(e,t={}){let a=(0,eg.wA)(),r=(0,eg.d4)(e=>e),n=ep.useMemo(()=>({metaKey:e=>{let t=(0,p3.xS)(r,e);a(mB.V3({url:t}))},...t}),[t,a,r]);return ep.useCallback((t,r)=>{let l=e(r),i=Object.keys(n).find(e=>t[e]);if(i){let e=n[eb.Ay.mac?i:GB[i]||i];if(e){t.preventDefault(),e(l);return}}a(tL.$T(l))},[n,a,e])}var GW=a(534974),GV=a(797399),GG=a(679166),G$=a(718928);let Gj="org_user_meta_content--teamsHeader--pWfKo org_user_meta_content--sectionHeader--ukacB text--fontPos13--xW8hS text--_fontBase--QdLsd";function GH(e){let t=(0,eg.wA)(),a=(0,tR.iZ)(),r=(0,GG.w)(e.user),n=(0,eg.d4)(t=>t.currentUserOrgId===e.orgId),l=()=>{t((0,e0.to)({type:G$.u}))};return ep.createElement("div",{className:eT.cx.flex.flexColumn.ml16.hFull.$},ep.createElement(eV.x,{isLoading:e.isLoading},()=>{var t,i,s;return ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"org_user_meta_content--userData--bc-ey"},ep.createElement(dm.H8,{user:e.user,size:dm.Pf.LARGE}),ep.createElement("div",{className:"org_user_meta_content--userName--sh6JB text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),(null==(t=e.user.profile)?void 0:t.job_title)&&ep.createElement("div",{className:"org_user_meta_content--jobTitle--psim4 text--fontPos11--2LvXf text--_fontBase--QdLsd"},ep.createElement(dd.Ex,{color:dd.zE.INVERT,text:(0,S6.lb)(null==(i=e.user.profile)?void 0:i.job_title)}),e.userId===(null==a?void 0:a.id)&&ep.createElement("span",{className:"org_user_meta_content--blueLink--QP8wm blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:l},ep.createElement(e$.Tx,{id:"internal_profile.change_job_title"}))),e.user.email&&ep.createElement("div",{className:"org_user_meta_content--email--EBrcv text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),ep.createElement(tp,{value:e.description??"",placeholder:(0,e$.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:t_,readOnly:e.isReadOnly,className:"org_user_meta_content--description--d6GIh text--fontPos13--xW8hS text--_fontBase--QdLsd"})),r&&(null==(s=e.user)?void 0:s.id)===(null==a?void 0:a.id)&&ep.createElement(GJ,{user:e.user}),n&&ep.createElement(ac.P,{className:eT.cx.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:eT.cx.p16.borderBox.flex.flexColumn.$},ep.createElement("div",{className:Gj},ep.createElement(e$.Tx,{id:"internal_profile.teams"})),ep.createElement(GZ,{userId:e.userId,orgId:e.orgId}),ep.createElement("div",{className:Gj},ep.createElement(e$.Tx,{id:"internal_profile.recent_projects"})),ep.createElement(GY,{files:e.recents,isYourProfile:!e.isReadOnly})))}))}function Gq(e){let t=(0,tR.iZ)(),a=(0,eg.wA)();return ep.createElement(GH,{submitDescription:t=>{a(GV.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function Gz(e){let t=(0,eg.wA)(),a=(0,tR.iZ)();return ep.createElement(GH,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!a||a.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,e$.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:a=>{e.orgId&&e.orgUser&&t(bl.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:a},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function GY(e){let t=(0,eg.d4)(e=>e),a=GU(e=>({view:"folder",folderId:e})),r=ep.useMemo(()=>{if(e.files.status!==ub.r.SUCCESS)return[];let a=[],r=[];if(!e.files)return a;let n=new Set;for(let l of e.files.value){if(n.has(l.folder_id)||(n.add(l.folder_id),""===l.folder_name||null==l.folder_name))continue;let e={id:l.folder_id,name:l.folder_name,teamName:l.team_name,hasAccess:(0,mG.canViewFolder_DEPRECATED)(l.folder_id,t)};if(e.hasAccess?a.push(e):r.push(e),a.length+r.length>=5)break}return a.concat(r)},[e.files,t]);return ep.createElement(eV.x,{state:e.files},()=>ep.createElement("div",null,0===r.length&&ep.createElement("div",{className:"org_user_meta_content--projectEmptyState--IbIBj text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,e$.t)("internal_profile.your_recent_projects_will_appear_here"):(0,e$.t)("internal_profile.their_recent_projects_will_appear_here")),r.map(e=>ep.createElement("div",{key:e.id,onClick:e.hasAccess?t=>a(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project---8Hf0 org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--W-qx7 org_user_meta_content--dim--ebFTp org_user_meta_content--projectBase--TuABJ text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},ep.createElement("span",{"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,e$.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function GK(e){return ep.createElement("div",{className:"org_user_meta_content--userProfileNotification--2Pst6"},ep.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--Ui3fK text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),ep.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--W6AG- text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),ep.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--SOHUb"},e.action))}function GJ(e){let{profile:t}=e.user,a=(0,eg.wA)(),[r,n]=ep.useState(!1),l=r=>{n(!0),setTimeout(()=>{a(GV.yJ({user:{id:e.user.id,job_title:r,profile:{...t,job_title:r}},userInitiated:!0}))},600),(0,al.Cu)({trackingContext:e4.e0.FILE_BROWSER,context:"job_title",text:"Set Job Title",jobTitle:r})};return ep.createElement(ep.Fragment,null,(null==t?void 0:t.images)?null:ep.createElement(GK,{title:(0,e$.t)("internal_profile.profile_image_nudge.title"),text:(0,e$.t)("internal_profile.profile_image_nudge.text"),action:ep.createElement(eI.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--REOcA",onClick:()=>{a((0,MO.X)({entity:e.user,entityType:f_.ck.CURRENT_USER,shape:"CIRCLE"})),(0,al.Cu)({trackingContext:e4.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},ep.createElement(e$.Tx,{id:"internal_profile.profile_image_nudge.action"}))}),(null==t?void 0:t.job_title)?null:ep.createElement(GK,{title:(0,e$.t)("internal_profile.job_title_nudge.title"),text:(0,e$.t)("internal_profile.job_title_nudge.text"),action:r?ep.createElement(e8.kt,null):ep.createElement(ep.Fragment,null,S6.s_.map(e=>ep.createElement(dd.Ex,{key:e,color:dd.zE.INVERT,subtle:!0,text:(0,S6.lb)(e),className:"org_user_meta_content--userProfileNotificationBadge--kgYsv",onClick:()=>l(e)})))}))}let GZ=(0,eg.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,a]=ep.useState(null);ep.useEffect(()=>{PJ.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{a(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let r=GU(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,a)=>{let r=(0,mG.canViewTeam)(t.id,e.permissionState),n=(0,mG.canViewTeam)(a.id,e.permissionState);return r&&!n?-1:!r&&n?1:0});return ep.createElement(eV.x,{isLoading:!t},()=>ep.createElement("div",{className:eT.cx.flex.flexColumn.gap8.$},n.map(t=>{let a=(0,mG.canViewTeam)(t.id,e.permissionState);return ep.createElement(e7.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:a?r:void 0,className:`org_user_meta_content--teamListItem--v7nwo text--fontPos13--xW8hS text--_fontBase--QdLsd ${a?"":"org_user_meta_content--dim--ebFTp"}`,"data-tooltip-type":tM.Ib.TEXT,"data-tooltip":a?void 0:(0,e$.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&ep.createElement(e$.Tx,{id:"internal_profile.no_teams_in_common"})))});function GQ(e){let t=(0,tF.i8)(e.publishedPlugins),a=(0,tF.LH)((0,tF.ky)(t,e.userId),e.org),r=Object.keys(a).map(e=>a[e]),n=(0,tl.LN)(r);return 0===n.length?null:ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"user_org_resources--sectionHeader--FlyJy internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"file_browser.settings.plugins_published",orgName:e.org.name})),ep.createElement("div",{className:"user_org_resources--container--XBt6w profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},n.map(e=>ep.createElement(rW.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,isPublic:!!e.roles.is_public,viewContext:"UserOrgResources"})),ep.createElement(rW.hT,{numResources:n.length})))}function GX(e){let{org:t}=e;return ep.createElement(eV.x,{state:e.plugins},a=>ep.createElement(GQ,{...e,org:t,publishedPlugins:a}))}var G0=a(204545);function G1(e){let{org:t}=e,a=(0,eg.d4)(a=>(t&&t.id&&a.orgUsersByOrgId.orgUsers[t.id]||{})[e.user.id]);return t?ep.createElement(Gz,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:a}):ep.createElement(Gq,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let G2=e=>{let t=e.user.id,a=(0,eg.wA)(),r=(0,eg.d4)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,l=(0,eg.d4)(e=>e.currentUserOrgId),i=void 0===n?l:n,s=(0,eg.d4)(e=>i&&e.orgById[i]||null),o=(0,eh.kc)().xr_debounce_threshold&&s,c="user"===r.view?r.userViewTab:void 0;ep.useEffect(()=>{a((0,e0.ES)({type:GW.E}))},[a,c]);let d=(0,eg.d4)(e=>e.userFlags);ep.useEffect(()=>{d.seen_profile||a(rc.b({seen_profile:!0}))},[a,d.seen_profile]);let m=(0,eg.d4)(e=>e.tileSortFilterStateByView.user),u=ep.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:Mz.rJ.ANY,fileType:Mz.t2.ANY},sort:{key:Mz.C0.ACCESSED_AT,dir:Mz.ue.DESC}},tileSortFilterConfig:m,sortKeys:[Mz.C0.NAME,Mz.C0.CREATED_AT,Mz.C0.ACCESSED_AT]}),[m]),_=ep.useMemo(()=>{let e=new URLSearchParams;return i&&e.append("org_id",i),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,i]),[p,g]=ep.useState([]),[E,f]=ep.useState(!0),[h,v]=ep.useState(null),[b,y]=ep.useState(0),w=ep.useCallback(e=>{v(e),a(t6.F.enqueue({message:(0,e$.t)("internal_profile.an_error_occurred"),error:!0}))},[a]),{fetchNext:T,hasMore:x}=(0,ts.WQ)(_,w,55),C=ep.useCallback(async()=>{if(!x)return;let e=async()=>{try{let e=await T();if(!Array.isArray(e))return;g(t=>[...t,...e])}catch(e){w(e)}};await e()},[T,w,x]);ep.useEffect(()=>{(async()=>{p.length<55&&b<3&&(await C(),y(e=>e+1),f(!1))})()},[b]);let N=ep.useMemo(()=>p.filter(e=>{switch(m.filters.fileType){case Mz.t2.ANY:return!0;case Mz.t2.DESIGN:return"design"===e.editor_type;case Mz.t2.FIGJAM:return"whiteboard"===e.editor_type;case Mz.t2.PROTOTYPE:return!1;case Mz.t2.SLIDES:return"slides"===e.editor_type;default:(0,eC.xb)(m.filters.fileType)}}),[p,m]),k=ep.useMemo(()=>h?{status:ub.r.FAILURE,error:h}:E?{status:ub.r.LOADING}:{status:ub.r.SUCCESS,value:N},[E,h,N]),S=(0,Ss.J)(()=>s&&s.community_profile_id?a(tA.pZ({profileId:s.community_profile_id})):Promise.resolve([]),[a,s]),I=e=>{a(tL.$T({view:"user",userId:t,userViewTab:e}))},A=c===Ns.o.INTERNAL_PROFILE?[ep.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--xhqRO"},ep.createElement(dc.$4,{options:u,hideSortMenu:!0,selectedView:r,dispatch:a}))]:[],L=ep.createElement(dc.g2,{leftSide:o?ep.createElement(CJ.f,{tabs:[ep.createElement(CJ.r,{key:Ns.o.INTERNAL_PROFILE,tab:Ns.o.INTERNAL_PROFILE,isSelected:c===Ns.o.INTERNAL_PROFILE,onClick:()=>I(Ns.o.INTERNAL_PROFILE),tabName:(0,e$.t)("internal_profile.file_contributions")}),ep.createElement(CJ.r,{key:Ns.o.INTERNAL_PROFILE_POSTS,tab:Ns.o.INTERNAL_PROFILE_POSTS,isSelected:c===Ns.o.INTERNAL_PROFILE_POSTS,onClick:()=>I(Ns.o.INTERNAL_PROFILE_POSTS),tabName:(0,e$.t)("internal_profile.posts")})]}):A,rightSide:o?A:[]});return(0,eH.T8)(ep.createElement(v6.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--vtgjx",containerClass:"internal_user_profile_page_view--pageContainerInner--2wHIo",content:ep.createElement("div",{className:"internal_user_profile_page_view--content--VaPM-"},ep.createElement("div",{className:"internal_user_profile_page_view--viewbar--Xnlyi"},L),c===Ns.o.INTERNAL_PROFILE&&ep.createElement(ep.Fragment,null,s&&ep.createElement(GX,{plugins:S,userId:e.user.id,org:s}),!o&&ep.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--wtWNa text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(e$.Tx,{id:"internal_profile.file_contributions"})),ep.createElement(G3,{files:k,fetchNext:C})),c===Ns.o.INTERNAL_PROFILE_POSTS&&s&&ep.createElement(DM,{currentOrgId:s.id,selectedUser:e.user})),metaContent:ep.createElement(G1,{user:e.user,recents:k,org:s,orgUser:e.orgUser})}),e4.e0.USER_DETAILS,{view:"org_user",userId:t})};function G4(e){return ep.createElement(G2,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let G3=(0,eg.Ng)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,a=GU(e=>({view:"fullscreen",fileKey:e.key,editorType:e.editorType||"design"})),r=ep.useCallback((e,a)=>{e+a.trackHeight>=a.scrollHeight&&t()},[t]);return ep.createElement(eV.x,{className:"internal_user_profile_page_view--loading--Z6KIE",state:e.files},t=>ep.createElement(ep.Fragment,null,ep.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--nN9yE internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement("div",null,ep.createElement(e$.Tx,{id:"internal_profile.file_name"})),ep.createElement("div",null),ep.createElement("div",{className:"internal_user_profile_page_view--projectHeader--6fnlB"},ep.createElement(e$.Tx,{id:"internal_profile.project"})),ep.createElement("div",{className:"internal_user_profile_page_view--activityHeader--Iw7TC"},ep.createElement(e$.Tx,{id:"internal_profile.last_activity"}))),ep.createElement(ac.P,{onScroll:r,className:"internal_user_profile_page_view--scrollContainer--WZUyt",innerClassName:"internal_user_profile_page_view--scrollContainerInner--YyCpD"},t.map(t=>{let r=(0,mG.canViewFile)(t.key,e.permissionState)?r=>{e.dispatch(mB.UN({fileKey:t.key,entrypoint:"internal user profile page view"})),a(r,{key:t.key,editorType:t.editor_type})}:void 0;return ep.createElement("a",{onClick:r,href:(0,uu.rl)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--XUSFM internal_user_profile_page_view--grid--2kLiL text--fontPos13--xW8hS text--_fontBase--QdLsd"},ep.createElement(fw.H,{listView:!0,file:{touched_at:null,updated_at:null,...t}}),ep.createElement("div",{className:"internal_user_profile_page_view--filename--dPz4X ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&ep.createElement(ep.Fragment,null,t.source_file_name,ep.createElement(eL.B,{svg:G0.A,className:"internal_user_profile_page_view--branchIcon--Kr8Fu"})),t.name),ep.createElement("div",{className:"internal_user_profile_page_view--projectName--UiqlR ellipsis--ellipsis--Tjyfa"},t.folder_name),ep.createElement("div",{className:"internal_user_profile_page_view--activity--olr1C"},ep.createElement(i7.h1,{date:new Date(1e3*t.timestamp)})))}))))}),G8=(e,t,a)=>a?Promise.resolve([]):PJ.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),G5=(e,t,a)=>e&&e.id===a?Promise.resolve(e):PJ.k.getUser({userId:a}).then(e=>e.data.meta).catch(e=>{throw t(e5.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),G6=(e,t,a)=>a?e(bl.I1({orgId:a,userId:t})):Promise.resolve(null),G9={[Ns.o.INTERNAL_PROFILE]:{Component:G4},[Ns.o.INTERNAL_PROFILE_POSTS]:{Component:G4},[Ns.o.PLUGINS]:{Component:ep.Fragment}};function G7(e){return ep.createElement(e.component,{...e.context})}function $e(e){let t=(0,eg.wA)(),a=(0,tR.iZ)(),r=e.orgId,n=(0,eg.d4)(e=>e.currentUserOrgId),l=void 0===r?n:r,i=(0,Ss.J)(()=>{let r=G5(a,t,e.userId),n=G6(t,e.userId,l);return Promise.all([r,G8(t,e.userId,l),n]).then(([a,r,n])=>((0,EX.hL)(a.handle),{userId:e.userId,user:a,teams:r,orgUser:n,profileHandle:a.community_profile_handle||null,on404Redirect:r.length>0||n?()=>{t(tL.$T({view:"user",userId:e.userId,orgId:l,userViewTab:Ns.o.INTERNAL_PROFILE}))}:()=>{ef.Ay.redirect("/404")}}))},[t,a,l,e.userId]),{tab:s}=e;if(!s)return null;let{Component:o}=G9[s];return ep.createElement(eV.x,{className:"user_page_view--loadingContainer--6lglF",state:i,failure:void 0},t=>ep.createElement(G7,{component:o,tab:s,userId:e.userId,context:t}))}function $t(e){let t=(0,tY.md)(dM.b),a=(0,tY.md)(dp.t),r=(0,tY.md)(dp.d2),n=(0,mV.sZ)(),l=function(e,t,a,r){var n;let{selectedView:l}=e;if(t)return{pageContent:ep.createElement(UD,null),pageHeaderContent:(0,e$.t)("file_browser.tool_bar.offline_files")};switch(l.view){case"communityHub":{let{content:e,key:t}=mM(l);return{pageContent:ep.createElement(v6.r,{toolbar:void 0,content:e,collapseSidebarOnTabletView:!0,key:t}),CustomPageLayout:gp}}case"deletedFiles":return{pageHeaderContent:(0,e$.t)("file_browser.tool_bar.deleted"),pageContent:(0,eH.T8)(ep.createElement(PG,{key:"deleted"}),e4.e0.FILE_BROWSER,{view:"deleted"})};case"draftsToMove":return{pageHeaderContent:(0,e$.t)("file_browser.tool_bar.drafts_to_move"),pageContent:ep.createElement(Bm,{key:"draftsToMove"})};case"folder":if(l.folderId===(null==(n=e.user)?void 0:n.drafts_folder_id))return{pageHeaderContent:(0,e$.t)("file_browser.tool_bar.drafts"),pageHeaderActions:$r({from:up.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:e.user,currentOrgId:e.currentUserOrgId}),pageContent:(0,eH.T8)(ep.createElement(PY,{folderId:l.folderId,key:"drafts",userId:e.user.id}),e4.e0.FILE_BROWSER_DRAFTS,{orgId:e.currentUserOrgId,teamId:e.currentTeamId})};{let e=l.folderViewTab||gf.h.HOME,t=l.shouldShowRenameModal||!1;return{pageContent:ep.createElement(Uf,{folderId:l.folderId,selectedTab:e,key:`folder-${l.folderId}`,shouldShowRenameModal:t})}}case"workspace":switch(l.subView){case gw.V0.ADMIN:return{pageContent:(0,eH.T8)(ep.createElement(Mg,{workspaceId:l.workspaceId,selectedTab:l.selectedTab}),e4.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:l.workspaceId,workspaceViewTab:l.selectedTab})};case gw.V0.DIRECTORY:return{pageContent:(0,eH.T8)(ep.createElement(M8,null),e4.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:l.workspaceId,workspaceGroupViewTab:l.selectedTab})};default:(0,eC.xb)(l)}case"licenseGroup":if(l.subView===gh.GN.ADMIN)return{pageContent:(0,eH.T8)(ep.createElement(xf,null),e4.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:l.licenseGroupId,licenseGroupViewTab:l.selectedTab})};(0,eC.xb)(l);case"org":return{pageHeaderContent:e.currentOrg?ep.createElement(hl,null):void 0,pageHeaderActions:[ep.createElement(O8,{orgId:l.orgId,key:"org-page-header-actions"})],pageContent:(0,eH.T8)(ep.createElement(Mo,{orgId:l.orgId,selectedTab:l.orgViewTab}),e4.e0.ORG_PAGE,{orgId:l.orgId,orgViewTab:(l.orgViewTab===gv.X.HOME?"HOME":l.orgViewTab)||""})};case"orgAdminSettings":return{pageContent:(0,eH.T8)(ep.createElement(OJ,{selectedTab:l.orgAdminSettingsViewTab,selectedSecondaryTab:l.orgAdminSettingsViewSecondaryTab,selectedExtensionId:l.selectedExtensionId,selectedWorkspaceId:l.selectedWorkspaceId}),e4.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:e.currentUserOrgId,orgViewTab:l.orgAdminSettingsViewTab,source:l.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:l.orgAdminSettingsViewSecondaryTab})};case"recentFiles":return e.dispatch(tL.$T({view:"recentsAndSharing",tab:gb.G.RECENTLY_VIEWED})),{pageHeaderContent:(0,e$.t)("file_browser.tool_bar.recents"),pageHeaderActions:[ep.createElement(UV,{key:"newDesignAction",from:up.f6.FILE_BROWSER_TOPBAR_RECENTS}),ep.createElement(U$,{key:"newFigjamAction",from:up.f6.FILE_BROWSER_TOPBAR_RECENTS}),ep.createElement(gx,{key:"newSlidesAction",from:up.f6.FILE_BROWSER_TOPBAR_RECENTS,currentOrgId:e.currentUserOrgId}),ep.createElement(gT.kD,{key:`${gE.fy}ToolbarAction`,from:up.f6.FILE_BROWSER_TOPBAR_RECENTS}),ep.createElement(DY.E,{key:"importAction"})],pageContent:(0,eH.T8)(ep.createElement(U3,{accountModalTab:l.accountModalTab,universalPublishingModal:l.universalPublishingModal,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),e4.e0.FILE_BROWSER,{view:"recent",userSpace:e.currentUserOrgId?e4.qo.ORG:e4.qo.PERSONAL})};case"recentsAndSharing":let i=l.tab||gb.G.RECENTLY_VIEWED,s=r===e4.qo.ORG,o=$r({from:up.f6.FILE_BROWSER_TOPBAR_RECENTS,isFreeUser:a,isInOrgSpace:s,user:e.user,currentOrgId:e.currentUserOrgId});return{pageHeaderContent:(0,e$.t)("file_browser.tool_bar.recents"),pageHeaderActions:o,pageContent:(0,eH.T8)(ep.createElement(Wj,{selectedTab:i,userId:e.user.id,accountModalTab:l.accountModalTab,emailPolicyToUnsubscribeFrom:l.emailPolicyToUnsubscribeFrom}),e4.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:e.currentUserOrgId?e4.qo.ORG:e4.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:ep.createElement(Mf,{resourceType:l.resourceType})};case"search":{let{searchScope:t,query:a}=e.search.parameters,r=!eb.Ay.mobile;return{pageHeaderContent:ep.createElement($a,{query:a}),pageContent:(0,eH.T8)(ep.createElement(dc.bS,null),e4.e0.UNIFIED_SEARCH,{showInternalModal:r&&t!==gy.Rx.COMMUNITY,showCommunityModal:r&&t===gy.Rx.COMMUNITY})}}case"sharedWithYou":return{pageContent:ep.createElement(WY,{tab:l.tab})};case"team":{let t=e.teams[l.teamId],a=l.teamViewTab??(0,gg.ZP)(t,e.permissionState);return{pageContent:(0,eH.T8)(ep.createElement(GD,{teamId:l.teamId,selectedTab:a,upgradeModalType:l.upgradeModalType,showProOnboardingModal:l.isProUpgrade,key:`team-${l.teamId}`}),e4.e0.TEAM_PAGE,{teamId:l.teamId,canUpgradeToPro:(0,pM.hp)(t,e.permissionState),userSpace:e.currentUserOrgId?e4.qo.ORG:e4.qo.PERSONAL,canEdit:(0,mG.canEditTeam)(l.teamId,e.permissionState)})}}case"teamAdminConsole":{let e=l.teamAdminConsoleViewTab??(l.isProTeam?pF.I.DASHBOARD:pF.I.MEMBERS);return{pageContent:(0,eH.T8)(ep.createElement(GP,{teamId:l.teamId,selectedTab:e,shouldShowDevModeSuggestedUpgradesModal:!!l.shouldShowDevModeSuggestedUpgradesModal}),e4.e0.TEAM_ADMIN_PAGE,{teamId:l.teamId,teamAdminConsoleViewTab:e})}}case"teamFeed":let c=[{text:(0,e$.t)("fig_feed.feed"),onClick:()=>{e.dispatch(tL.$T({view:"teamFeed"}))}}],d=[];return l.hashtag?(c.push({text:`#${l.hashtag}`,onClick:()=>{}}),d.push(ep.createElement(Dc,{key:"feed-hashtag-actions",hashtag:l.hashtag}))):d.push(ep.createElement(DB,{key:"create-feed-post-button"})),{pageHeaderContent:ep.createElement(gN,{items:c}),pageHeaderActions:d,pageContent:ep.createElement(Dq,{postUuid:l.postUuid,creatorId:l.creatorId,feedTab:l.feedTab,hashtag:l.hashtag})};case"user":return{pageHeaderContent:(0,e$.t)("internal_profile.profile"),pageHeaderActions:e.user.community_profile_handle&&e.user.id===l.userId?[ep.createElement(UH,{key:"viewCommunityProfileAction"})]:void 0,pageContent:ep.createElement($e,{userId:l.userId,tab:l.userViewTab,orgId:l.orgId})};default:return null}}({...e,currentOrg:n},t,!!a.data,r.data?r.data:e4.qo.ORG),i=e.showingFileBrowserLoader;if(!l)return null;let{CustomPageLayout:s,pageContent:o}=l;return s?ep.createElement(s,null,!i&&o):ep.createElement(vT,{...e,showingFileBrowserLoader:i,pageHeaderContent:l.pageHeaderContent,pageHeaderActions:l.pageHeaderActions},o)}function $a(e){return e.query?ep.createElement("div",{className:eT.cx.flex.columnGap8.$},ep.createElement("span",{className:eT.cx.flexShrink0.$},ep.createElement(du.E,{color:"secondary",i18nId:"search.search_results_for"})),ep.createElement("div",{className:eT.cx.flex.fontMedium.minW0.$},"\u201C",ep.createElement(du.E,{truncate:!0},e.query),"\u201D")):ep.createElement("div",{className:eT.cx.flex.columnGap8.$},ep.createElement("span",{className:eT.cx.flexShrink0.$},ep.createElement(du.E,{color:"secondary",i18nId:"search.search_results"})))}function $r({from:e,user:t,isFreeUser:a,isInOrgSpace:r,currentOrgId:n}){if((0,eh.kc)().ps_benchmark&&t&&(0,ph.R$)(t,n))return[];let l=e===up.f6.FILE_BROWSER_TOPBAR_RECENTS&&(0,uF.mw)(!!a,!!r)?[ep.createElement(Uj,{key:"newDesignActionDropdown",from:e,dropdownType:UG.$c.DESIGN,dataTestId:"new-design-file-button-dropdown"}),ep.createElement(Uj,{key:"newFigjamActionDropdown",from:e,dropdownType:UG.$c.WHITEBOARD,dataTestId:"new-whiteboard-file-button-dropdown"})]:[ep.createElement(UV,{key:"newDesignAction",from:e}),ep.createElement(U$,{key:"newFigjamAction",from:e})];return[ep.createElement(UW,{key:"getDesktopApp"}),...l,ep.createElement(gx,{key:"newSlidesAction",from:e,currentOrgId:n}),ep.createElement(gT.kD,{key:`${gE.fy}ToolbarAction`,from:e}),ep.createElement(ep.Fragment,{key:"importAction"},ep.createElement(DY.E,null),ep.createElement(tq.p,null,ep.createElement(DQ,null)))]}var $n=a(971094),$l=a(701283);function $i(){return(0,ul.wK)()||!(0,eh.kc)().fb_offline_notification?null:ep.createElement($s,null)}function $s(){let[e,t]=ep.useState(!0);return ep.createElement("div",{className:"offline_notification--notification--3p0EP notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},ep.createElement(eL.B,{className:$l.Kk,svg:fZ.A,width:"24",height:"24"}),ep.createElement("div",{className:$l.iU},ep.createElement(e$.Tx,{id:e?"file_browser.offline_notification.youre_offline_message_body":"file_browser.offline_notification.youre_offline_message_body_no_create",youreOfflineMessagePrefix:ep.createElement("span",{className:"offline_notification--messageBold--y8Jg9"},ep.createElement(e$.Tx,{id:"file_browser.offline_notification.youre_offline_message_prefix"}))})),e&&ep.createElement("div",{className:$l.o1},ep.createElement($o,{onClick:()=>t(!1)})))}function $o({onClick:e}){let t=(0,eg.wA)(),a=(0,Ut.Bq)();return ep.createElement("div",{className:"offline_notification--createFileButton--MT2kG notification--action--v-pvn",role:"button",tabIndex:0,onClick:()=>{e(),t(us.zE({state:a,editorType:lB._Y.DESIGN,team:void 0,from:up.f6.OFFLINE_NOTIFICATION,openNewFileIn:up.ai.SAME_TAB}))}},ep.createElement(e$.Tx,{id:"file_browser.offline_notification.create_file"}))}function $c(e){return ep.createElement("div",null,e.topbar,ep.createElement("div",{className:"signed_out_view--content--Fm79J"},e.content))}let $d="file_browser_view--filebrowserHtml--o5jk-",$m="file_browser_view--filebrowserBody--kfBDY",$u="file_browser_view--desktop--P76jd";class $_ extends ep.Component{constructor(){super(...arguments),this.state={checkedForAutosave:!1,viewHistoryStackSize:0,viewHistoryStackPosition:0,screenChangedFromNavigationButtons:!1},this.getShouldAllowImport=()=>{let e="folder"===this.props.selectedView.view?this.props.folders[this.props.selectedView.folderId]:null;return(0,mW.dh)({selectedView:this.props.selectedView,selectedFolder:e,permissionsState:this.props.permissionState})},this.onDragEnter=e=>{this.getShouldAllowImport()&&this.props.dispatch(mU.v7())},this.onDragLeave=e=>{this.getShouldAllowImport()&&this.props.dispatch(mU.TQ())},this.onDrop=e=>{this.props.dispatch(mU.TQ()),this.getShouldAllowImport()&&this.props.dispatch((0,mW.b6)({dataTransfer:e}))},this.goBack=()=>{this.state.viewHistoryStackPosition>0&&(history.back(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition-1,screenChangedFromNavigationButtons:!0}))},this.goForward=()=>{this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize&&(history.forward(),this.setState({viewHistoryStackPosition:this.state.viewHistoryStackPosition+1,screenChangedFromNavigationButtons:!0}))}}componentDidMount(){document.body.classList.add($m),document.documentElement.classList.add($d),(0,ex.OS)(this.props.dispatch),(0,al.I0)(this.props.selectedView),eE.eD&&(this.desktopBackgroundElement=document.createElement("div"),this.desktopBackgroundElement.classList.add("file_browser_view--desktopBackground--PpISK"),document.body.appendChild(this.desktopBackgroundElement),document.body.classList.add($u)),(0,ey.hW)("exp_aa_test_file_browser_view").catch(ev.lQ),"communityHub"===this.props.selectedView.view&&function(e,t){let a=t.figjam_editor_onboarded||(0,mJ._q)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,r=(0,mK.QL)("after-auth-duplicate-file-id"),n=(0,mK.QL)("show_eula");r&&(n?e((0,e0.to)({type:mZ.pN,data:{hubFileId:r}})):a||e((0,e0.to)({type:m0,data:{hubFileId:r}})))}(this.props.dispatch,this.props.userFlags)}componentDidUpdate(e){this.shouldScrollToTop(e)&&window.scrollTo(0,0),e.selectedView!==this.props.selectedView&&(this.state.screenChangedFromNavigationButtons?this.setState({screenChangedFromNavigationButtons:!1}):this.setState({viewHistoryStackSize:this.state.viewHistoryStackPosition+1,viewHistoryStackPosition:this.state.viewHistoryStackPosition+1})),e.fileByKey!==this.props.fileByKey&&this.checkAutosaveIfNeeded()}componentWillUnmount(){document.body.classList.remove($m),document.documentElement.classList.remove($d),this.desktopBackgroundElement&&(document.body.classList.remove($u),document.body.removeChild(this.desktopBackgroundElement)),this.props.dispatch(e0.AS())}shouldScrollToTop(e){return!((0,e6.Gk)(e.selectedView)&&(0,e6.Gk)(this.props.selectedView))&&(0,m$.SW)(e.selectedView,this.props.selectedView)}checkAutosaveIfNeeded(){!this.state.checkedForAutosave&&this.props.user&&(this.props.dispatch(mP.Jw()),this.setState({checkedForAutosave:!0}))}render(){var e,t,a;let r=this.props.selectedView,n=(0,e6.d9)(this.props.selectedView),l=eb.g3&&!(0,eh.kc)().file_browser_enable_mweb&&!n,i=(eb.uG&&(0,eh.kc)().file_browser_enable_mweb||eb.mZ)&&!n;if("teamUpgrade"===r.view)return r.paymentStep===mq.tn.UPGRADE_NEW_TEAM?ep.createElement(pX,{...this.props,selectedView:r}):ep.createElement(gd,{selectedView:r});if("addAnnualPlan"===r.view)return ep.createElement(pK,{...this.props,selectedView:r});if("teamCreation"===r.view)return r.fromNewTab?void this.props.dispatch(mB.Dw({previousView:r.previousView,onSubmitReturnToPrevView:r.onSubmitReturnToPrevView,isEduTeam:r.isEduTeam})):ep.createElement(pC,{...this.props,selectedView:r});if("addCollaborators"===r.view)return ep.createElement(ur,{...this.props,selectedView:r});if("orgSelfServe"===r.view)return ep.createElement(pp,{step:r.step||mH.X1.Initial,initialDesignSeats:r.initialDesignEditors||0,orgMigrated:!!r.orgMigrated,dropdownShown:this.props.dropdownShown,newTeamProps:r.newTeamProps,upsellSource:r.upsellSource});if("teamRestore"===r.view)return ep.createElement(pL,{...this.props,selectedView:r});if("promoReview"===r.view)return ep.createElement(pg.z,{promo:null==(e=this.props.payment)?void 0:e.promo,selectedView:r});else if("eduReview"===r.view)return ep.createElement(ux,{selectedView:r});if(!this.props.user){let{content:e,key:t}=mM(r);return e?ep.createElement($c,{content:ep.createElement("div",null,(0,eH.T8)(e,e4.e0.COMMUNITY_HUB)),topbar:ep.createElement(mA,null),key:t}):(console.error(`Signed out page: unrecognized route ${ef.Ay.location.pathname}, redirecting to /`),ef.Ay.redirect("/"),null)}if((0,eh.kc)().ps_benchmark&&!this.props.currentUserOrgId&&!this.props.currentTeamId)return console.error("No current organization or team plan set for user. Redirecting to /files"),ef.Ay.redirect("/files"),null;let s=!l||(null==(t=this.props.user)?void 0:t.job_title)?()=>{var e;return ep.createElement(uC.Ru,{userIdForTracking:null==(e=this.props.user)?void 0:e.id,renderBlockingPrompt:!0})}:()=>ep.createElement(ep.Fragment,null,ep.createElement(tq.p,{featureFlag:"exp_mobile_web_nux_ff"},ep.createElement(m1.s,null)),ep.createElement(uL,null));return ep.createElement(dG.Provider,{value:{goBack:this.goBack,goForward:this.goForward,canGoBack:this.state.viewHistoryStackPosition>0,canGoForward:this.state.viewHistoryStackPosition<this.state.viewHistoryStackSize}},l?s():ep.createElement(ep.Fragment,null,i&&ep.createElement(uC.Ru,{userIdForTracking:null==(a=this.props.user)?void 0:a.id}),ep.createElement(ew.Y,{className:eT.cx.flex.flexColumn.$,isDragTarget:mW.al,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop},ep.createElement(uf,null),ep.createElement($i,null),ep.createElement($t,{...this.props,user:this.props.user,showingFileBrowserLoader:this.props.showingFileBrowserLoader}),this.getShouldAllowImport()&&ep.createElement($g,null))))}}function $p(){let e=(0,eg.wA)(),t=(0,mV.dq)(),a=(0,rE.U)(),r=(0,eg.d4)(e=>e.teams),n=(0,tR.iZ)(),l=(0,eg.d4)(e=>e.userFlags),i=(0,eg.d4)(e=>e.fileByKey),s=(0,eg.d4)(e=>e.folders),o=(0,d2._6)(),c=$n.q.useIsLoading(),d=(0,eg.d4)(e=>e.autosave),m=(0,eg.d4)(e=>e.payment),u=(0,eg.d4)(e=>e.teamUserByTeamId),_=(0,eg.d4)(e=>e.teamBilling),p=(0,eg.d4)(e=>e.teamCreation),g=(0,eg.d4)(e=>e.loadingState),E=(0,mG.usePermissionsState)(),f=(0,eg.d4)(e=>e.orgById),h=(0,eg.d4)(e=>e.orgUsersByOrgId),v=(0,eg.d4)(e=>e.favorites),b=(0,eg.d4)(e=>e.currentTeamId),y=(0,eg.d4)(e=>e.mobileNavShown),w=(0,eg.d4)(e=>e.userTeamFlags),T=(0,eg.d4)(e=>e.search),x=(0,eg.d4)(e=>e.dragState),C=(0,eg.d4)(e=>e.userStateLoaded);return ep.createElement($_,{showingFileBrowserLoader:c,dispatch:e,currentUserOrgId:t,dropdownShown:a,teams:r,user:n,userFlags:l,fileByKey:i,folders:s,selectedView:o,autosave:d,payment:m,teamUserByTeamId:u,teamBilling:_,teamCreation:p,loadingState:g,permissionState:E,orgById:f,orgUsersByOrgId:h,favorites:v,currentTeamId:b,mobileNavShown:y,userTeamFlags:w,search:T,dragState:x,userStateLoaded:C})}function $g(){let e=(0,eg.d4)(e=>e.fileImport),t=e.isDraggingImport?"file_browser_view--dragTargetDragging--1cfWv file_browser_view--dragTargetNormal--VEem6":"file_browser_view--dragTargetNormal--VEem6";switch(e.step){case mj.Y5.CONFIRM_PDF_IMPORT:return null;case mj.Y5.START:case mj.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case mj.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return ep.createElement("div",{className:t})}}$_.displayName="FileBrowserView"},600615:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmDowngradeEditorsModal:()=>o});var r=a(411855),n=a(935360),l=a(932271),i=a(298941),s=a(924670);function o(e){let{team:t,editors:a}=e,{id:o}=t,c=a.length,d=a.filter(e=>e.id).map(e=>e.id).join(),m=(0,l.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,l.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return r.createElement(i.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:o}},r.createElement(s.Eo,{title:c>1?u:m,confirmText:(0,l.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},r.createElement("p",null,c>1&&(0,l.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),r.createElement(l.Tx,{id:"team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"}))))}},115593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>c});var r=a(411855),n=a(434329),l=a(932271),i=a(298941),s=a(179320),o=a(924670);function c(e){let{team:t,members:a,paidStatus:c}=e,{id:d}=t;if(![s.Zf.FULL,s.Zf.RESTRICTED].includes(c))return r.createElement(r.Fragment,null);let m=a.length,u=a.filter(e=>e.id).map(e=>e.id).join(),_=c===s.Zf.RESTRICTED,p=e.paidStatusType===s.j4.WHITEBOARD,g=p?a.every(e=>!e.whiteboard_editor_upgrade):a.every(e=>!e.design_editor_upgrade),E=c===s.Zf.RESTRICTED&&g,f=a[0].name||a[0].email;return r.createElement(i.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:m,memberIds:u,teamId:d}},r.createElement(o.Eo,{title:_?E?p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"}):r.createElement(l.Tx,{id:"team_view.downgrade_design_access_from_viewer_to_viewer_restricted"}):p?r.createElement(l.Tx,{id:"team_view.remove_figjam_edit_status.seat_rename"}):r.createElement(l.Tx,{id:"team_view.remove_design_edit_status.seat_rename"}):p?r.createElement(l.Tx,{id:"team_view.grant_figjam_edit_status.seat_rename"}):r.createElement(l.Tx,{id:"team_view.grant_design_edit_status.seat_rename"}),confirmText:_?E?(0,l.t)("team_view.change"):(0,l.t)("team_view.remove.seat_rename"):(0,l.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},c===s.Zf.RESTRICTED&&(E?p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",memberNameOrEmail:f,numMembers:m}):r.createElement(l.Tx,{id:"team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",memberNameOrEmail:f,numMembers:m}):p?r.createElement(l.Tx,{id:"team_view.downgrade_figjam_description.seat_rename",memberNameOrEmail:f,numMembers:m}):r.createElement(l.Tx,{id:"team_view.downgrade_design_description.seat_rename",memberNameOrEmail:f,numMembers:m})),c===s.Zf.FULL&&r.createElement(r.Fragment,null,p?r.createElement(l.Tx,{id:"team_view.change_to_editor_figjam_description.seat_rename",numMembers:m,memberNameOrEmail:f}):r.createElement(l.Tx,{id:"team_view.change_to_editor_design_description.seat_rename",numMembers:m,memberNameOrEmail:f}),r.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--8tVX8"},r.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--di1lh",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},r.createElement(l.Tx,{id:"team_view.learn_more.seat_rename"}))))))}},36819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MemberEditAccessModal:()=>N});var r=a(411855),n=a(188507),l=a(919684),i=a(456437),s=a(817660),o=a(932271),c=a(297195),d=a(298941),m=a(66202),u=a(137470),_=a(407492),p=a(179320),g=a(924670);let E="edit_access_modal--column--Ju-WW",f="edit_access_modal--resource--K-YK6",h="edit_access_modal--resourceTitle--lek8O edit_access_modal--resource--K-YK6",v="edit_access_modal--greyResource--bmXfA edit_access_modal--resource--K-YK6",b=e=>"file"===e?r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.none_files"}):r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.none_projects"});function y(e){let t;let{hasTeamEditPermissions:a,isDesignEditor:n,isWhiteboardEditor:l,resourceType:i}=e;if(a)return"project"===i?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_projects"})):n&&l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_files"})):n&&!l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_design_files"})):!n&&l?r.createElement("div",{className:v},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.all_figjam_files"})):r.createElement("div",{className:v},b(i));let s=e.resources;if(0===s.privateResourceCount&&0===s.editableResources.length)return r.createElement("div",{className:v},b(i));if(s.privateResourceCount>0){let e=r.createElement("span",null);0===s.editableResources.length&&"project"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_projects",numProjects:s.privateResourceCount}):0===s.editableResources.length&&"file"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_files",numFiles:s.privateResourceCount}):s.editableResources.length>0&&"project"===i?e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_projects_list_end",numProjects:s.privateResourceCount}):s.editableResources.length>0&&"file"===i&&(e=r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.invite_only_files_list_end",numFiles:s.privateResourceCount})),t=r.createElement("div",{className:f},e)}return r.createElement(r.Fragment,null,s.editableResources.map(e=>r.createElement("div",{key:e.id_or_key,className:f},e.name)),t)}let w=(e,t)=>{if("file"===e.resource_type){let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.key}}else{let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.id}}},T=(0,i.xx)((e,t)=>{let a={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let r=w(e,t);r?a.editableResources.push(r):a.privateResourceCount++}),(0,l.v7)(a.editableResources,e=>e.name)),a}),x=e=>{let t=e.team_user,a=e.edit_roles,r=(null==a?void 0:a.whiteboard_files)||[],n=(null==a?void 0:a.design_files)||[],l=(0,u.qR)(t,m._Y.DESIGN);return{whiteboardRoles:(0,u.qR)(t,m._Y.WHITEBOARD)?[]:r,designRoles:l?[]:n}},C=(e,t)=>{let{whiteboardRoles:a,designRoles:r}=x(e);return T(a.concat(r),t)},N=(0,n.Ng)((e,t)=>{var a,r;let n=e.teamMembersByTeamId[t.teamId][t.memberEmail];return{folders:T(null==(a=n.edit_roles)?void 0:a.folders,e.folders),files:C(n,e.fileByKey),isCurrentEditor:n.id===(null==(r=e.user)?void 0:r.id),team:e.teams[t.teamId],member:n}})(function(e){var t,a,l,i,m;let u=(0,n.wA)(),{files:f,folders:v,member:b,team:w}=e,T=!!b.team_role&&(null==(t=b.team_role)?void 0:t.level)>=_.e.EDITOR,x=v.editableResources.length+v.privateResourceCount,C=f.editableResources.length+f.privateResourceCount;return r.createElement(d.fu,{name:"Member Edit Access Modal",properties:{teamId:w.id,userId:b.id,folderCount:x,fileCount:C}},r.createElement(g.XV,{title:(0,o.t)("team_view.member_edit_access_modal.title",{memberName:b.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--8np0a",onClose:()=>{u(c.Ce())}},r.createElement("div",{className:"edit_access_modal--headerContainer--gRRBn edit_access_modal--resourceContainer--mv77E"},r.createElement("div",{className:E},r.createElement("div",{className:h},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.projects_title"}))),r.createElement("div",{className:E},r.createElement("div",{className:h},r.createElement(o.Tx,{id:"team_view.member_edit_access_modal.files_title"})))),r.createElement(s.P,{className:"edit_access_modal--scrollContainer---Ejhb",hideScrollbar:!0},r.createElement("div",{className:"edit_access_modal--resourceContainer--mv77E"},r.createElement("div",{className:E},r.createElement(y,{hasTeamEditPermissions:T,isWhiteboardEditor:(null==(a=b.team_user)?void 0:a.whiteboard_paid_status)===p.Zf.FULL,isDesignEditor:(null==(l=b.team_user)?void 0:l.design_paid_status)===p.Zf.FULL,resources:v,resourceType:"project"})),r.createElement("div",{className:E},r.createElement(y,{hasTeamEditPermissions:T,isWhiteboardEditor:(null==(i=b.team_user)?void 0:i.whiteboard_paid_status)===p.Zf.FULL,isDesignEditor:(null==(m=b.team_user)?void 0:m.design_paid_status)===p.Zf.FULL,resources:f,resourceType:"file"}))))))})},464392:(e,t,a)=>{"use strict";a.d(t,{w:()=>o});var r=a(411855),n=a(969062),l=a(665430),i=a(888424);let s=n.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return r.createElement("div",{className:"post_avatars_pile--viewersList--EKMBm"},e.totalNum-t.length>0&&r.createElement("div",{className:"post_avatars_pile--horizontalPileNumber--abjeM post_avatars_pile--baseNumber--CIrRm","data-tooltip-type":l.Ib.TEXT,"data-tooltip":o},e.totalNum-t.length),t.reverse().map(t=>r.createElement("div",{className:"post_avatars_pile--avatar--Ub2cz",key:t.id},r.createElement(i.W,{user:t},r.createElement(n.H8,{user:t,size:e.avatarSize?e.avatarSize:s})))))}},57440:(e,t,a)=>{var r=a(450310),n=a(859851);e.exports=function(e){return n(r(e))}},48464:e=>{var t=Math.floor,a=Math.random;e.exports=function(e,r){return e+t(a()*(r-e+1))}},585726:(e,t,a)=>{var r=a(859851),n=a(903005);e.exports=function(e){return r(n(e))}},700989:(e,t,a)=>{var r=a(402275);e.exports=function(e,t){return r(t,function(t){return e[t]})}},859851:(e,t,a)=>{var r=a(48464);e.exports=function(e,t){var a=-1,n=e.length,l=n-1;for(t=void 0===t?n:t;++a<t;){var i=r(a,l),s=e[i];e[i]=e[a],e[a]=s}return e.length=t,e}},3794:e=>{e.exports=function(e){for(var t=-1,a=null==e?0:e.length,r=0,n=[];++t<a;){var l=e[t];l&&(n[r++]=l)}return n}},169566:(e,t,a)=>{var r=a(57440),n=a(585726),l=a(525874);e.exports=function(e){return(l(e)?r:n)(e)}},903005:(e,t,a)=>{var r=a(700989),n=a(3511);e.exports=function(e){return null==e?[]:r(e,n(e))}},460845:(e,t,a)=>{"use strict";a.d(t,{N_:()=>p});var r=a(753178),n=(a(930864),a(411855)),l=a(908376),i=a(861396),s=a(955207),o=a(801760);n.Component,n.Component;var c=function(e,t){return"function"==typeof e?e(t):e},d=function(e,t){return"string"==typeof e?(0,l.yJ)(e,null,null,t):e},m=function(e){return e},u=n.forwardRef;void 0===u&&(u=m);var _=u(function(e,t){var a=e.innerRef,r=e.navigate,l=e.onClick,o=(0,s.A)(e,["innerRef","navigate","onClick"]),c=o.target,d=(0,i.A)({},o,{onClick:function(e){try{l&&l(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),r())}});return m!==u?d.ref=t||a:d.ref=a,n.createElement("a",d)}),p=u(function(e,t){var a=e.component,p=void 0===a?_:a,g=e.replace,E=e.to,f=e.innerRef,h=(0,s.A)(e,["component","replace","to","innerRef"]);return n.createElement(r.XZ.Consumer,null,function(e){e||(0,o.A)(!1);var a=e.history,r=d(c(E,e.location),e.location),s=r?a.createHref(r):"",_=(0,i.A)({},h,{href:s,navigate:function(){var t=c(E,e.location),r=(0,l.AO)(e.location)===(0,l.AO)(d(t));(g||r?a.replace:a.push)(t)}});return m!==u?_.ref=t||f:_.innerRef=f,n.createElement(p,_)})}),g=function(e){return e},E=n.forwardRef;void 0===E&&(E=g),E(function(e,t){var a=e["aria-current"],l=void 0===a?"page":a,m=e.activeClassName,u=void 0===m?"active":m,_=e.activeStyle,f=e.className,h=e.exact,v=e.isActive,b=e.location,y=e.sensitive,w=e.strict,T=e.style,x=e.to,C=e.innerRef,N=(0,s.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return n.createElement(r.XZ.Consumer,null,function(e){e||(0,o.A)(!1);var a=b||e.location,s=d(c(x,a),a),m=s.pathname,k=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=k?(0,r.B6)(a.pathname,{path:k,exact:h,sensitive:y,strict:w}):null,I=!!(v?v(S,a):S),A="function"==typeof f?f(I):f,L="function"==typeof T?T(I):T;I&&(A=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(A,u),L=(0,i.A)({},L,_));var R=(0,i.A)({"aria-current":I&&l||null,className:A,style:L,to:s},N);return g!==E?R.ref=t||C:R.innerRef=C,n.createElement(p,R)})})}}]);

//# debugId=4affa87d-d6f9-5dcd-a3fd-642ff8c32dc8

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3735de2411430eafe4e86d7e71f00e3835c2cbe4/file_browser-62c7b5bdb59cea54.min.js.map